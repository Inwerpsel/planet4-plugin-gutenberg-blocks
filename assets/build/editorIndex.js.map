<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/src/BlockFilters.js","webpack:///./assets/src/ImageBlockExtension.js","webpack:///./assets/src/RichTextEnhancements.js","webpack:///./assets/src/blocks/Articles/Articles.js","webpack:///./assets/src/blocks/Articles/ArticlesBlock.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeader.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderBlock.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderFront.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderImage.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderSlide.js","webpack:///./assets/src/blocks/Carouselheader/ImagePlaceholder.js","webpack:///./assets/src/blocks/Columns/Columns.js","webpack:///./assets/src/blocks/Columns/ColumnsBlock.js","webpack:///./assets/src/blocks/Cookies/Cookies.js","webpack:///./assets/src/blocks/Cookies/CookiesBlock.js","webpack:///./assets/src/blocks/Counter/Counter.js","webpack:///./assets/src/blocks/Counter/CounterBlock.js","webpack:///./assets/src/blocks/Covers/Covers.js","webpack:///./assets/src/blocks/Covers/CoversBlock.js","webpack:///./assets/src/blocks/Covers/CoversIcon.js","webpack:///./assets/src/blocks/Gallery/Gallery.js","webpack:///./assets/src/blocks/Gallery/GalleryBlock.js","webpack:///./assets/src/blocks/Happypoint/Happypoint.js","webpack:///./assets/src/blocks/Happypoint/HappypointBlock.js","webpack:///./assets/src/blocks/Media/Media.js","webpack:///./assets/src/blocks/Media/MediaBlock.js","webpack:///./assets/src/blocks/Socialmedia/Socialmedia.js","webpack:///./assets/src/blocks/Socialmedia/SocialmediaBlock.js","webpack:///./assets/src/blocks/Splittwocolumns/Splittwocolumns.js","webpack:///./assets/src/blocks/Splittwocolumns/SplittwocolumnsBlock.js","webpack:///./assets/src/blocks/Submenu/MenuLevel.js","webpack:///./assets/src/blocks/Submenu/Submenu.js","webpack:///./assets/src/blocks/Submenu/SubmenuBlock.js","webpack:///./assets/src/blocks/Takeactionboxout/Takeactionboxout.js","webpack:///./assets/src/blocks/Takeactionboxout/TakeactionboxoutBlock.js","webpack:///./assets/src/blocks/Timeline/Timeline.js","webpack:///./assets/src/blocks/Timeline/TimelineBlock.js","webpack:///./assets/src/components/AssignOnlyFlatTermSelector/AssignOnlyFlatTermSelector.js","webpack:///./assets/src/components/ImageOrButton/ImageOrButton.js","webpack:///./assets/src/components/LayoutSelector/LayoutSelector.js","webpack:///./assets/src/components/Preview.js","webpack:///./assets/src/editorIndex.js","webpack:///./assets/src/replaceTaxonomyTermSelectors.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/objectSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/lodash.assign/index.js","webpack:///external {\"this\":[\"wp\",\"apiFetch\"]}","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"compose\"]}","webpack:///external {\"this\":[\"wp\",\"data\"]}","webpack:///external {\"this\":[\"wp\",\"editor\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":[\"wp\",\"url\"]}","webpack:///external {\"this\":\"lodash\"}","webpack:///external {\"this\":\"React\"}"],"names":["addFilter","wp","hooks","addBlockFilters","addFileBlockFilter","setDownloadButtonToggleDefualtFalse","settings","name","attributes","__","i18n","targetBlocks","captionStyleOptions","label","value","captionAlignmentOptions","setupImageBlockExtension","addExtraAttributes","addExtraControls","addCaptionStyleAttributes","includes","assign","captionStyle","type","default","captionAlignment","createHigherOrderComponent","compose","Fragment","element","InspectorControls","editor","withCaptionStyle","BlockEdit","props","className","selectedCaptionStyle","setAttributes","map","option","key","addSubAndSuperscript","el","createElement","superscriptIcon","width","height","d","subscriptIcon","SubscriptButton","RichTextToolbarButton","icon","title","isActive","onClick","onChange","richText","toggleFormat","registerFormatType","tagName","edit","SuperscriptButton","apiFetch","addQueryArgs","url","Articles","tagTokens","tagsList","filter","tag","tags","id","postTypeTokens","postTypesList","post_type","post_types","state","selectedPosts","populatePostsToken","posts","length","path","per_page","page","include","then","postsTokens","post","rendered","postsSuggestions","setState","postsList","tokens","search","orderby","post_status","tagIds","token","onSelectedTagsChange","postTypeIds","postType","onSelectedPostTypesChange","currentSelectedPosts","forEach","f","push","postIds","onSelectedPostsChange","tagSuggestions","postTypeSuggestions","article_heading","onTitleChange","articles_description","onDescriptionChange","read_more_text","onReadmoretextChange","read_more_link","onReadmorelinkChange","button_link_new_tab","e","onButtonLinkTabChange","article_count","onCountChange","ignore_categories","onIgnoreCategoriesChange","onPostsSearch","isSelected","renderEdit","Component","ArticlesBlock","registerBlockType","blocks","withSelect","data","category","transforms","from","shortcode","named","split","exclude_post_id","Number","select","tagsTaxonomy","postTypesTaxonomy","args","hide_empty","getEntityRecords","save","CarouselHeader","refs","firstRender","carouselInterval","window","setInterval","document","getElementById","clearInterval","initializeCarouselHeader","collapseSlides","setDOMListener","prevProps","prevState","Object","keys","index","collapseSlide","bind","addSlide","removeSlide","block_style","onBlockStyleChange","image","p4ge_vars","home","help","carousel_autoplay","onCarouselAutoplayChange","slides","slide","i","onImageChange","onHeaderChange","onHeaderSizeChange","onSubheaderChange","onLinkTextChange","onLinkUrlChange","onLinkNewTabChange","onStyleChange","onFocalPointsChange","instance","addNewSlide","CarouselHeaderBlock","supports","multiple","convert_position","position","x","y","image_1","header","header_1","header_size","header_size_1","subheader","subheader_1","description","description_1","link_text","link_text_1","link_url","link_url_1","focal_points","focus_image_1","image_2","header_2","header_size_2","subheader_2","description_2","link_text_2","link_url_2","focus_image_2","image_3","header_3","header_size_3","subheader_3","description_3","link_text_3","link_url_3","focus_image_3","image_4","header_4","header_size_4","subheader_4","description_4","link_text_4","link_url_4","focus_image_4","link_url_new_tab","concat","JSON","parse","stringify","fo","slice","ZoomAndSlideToGrayCarouselHeader","SLIDE_TRANSITION_SPEED","activeTransition","nextSlide","$el","$","$nextSlide","next","prevAll","last","previousSlide","$previousSlide","prev","nextAll","switchIndicator","$CarouselIndicators","children","each","toggleClass","setup","me","$CarouselHeaderWrapper","find","$Slides","on","current_img_src","get","currentSrc","current_bg_img","parent","css","replace","remove","$slide","attr","appendTo","$img","img_src","clickTargets","evt","preventDefault","advanceCarousel","activate","target","carousel_element","carousel_head_hammer","Hammer","recognizers","hammer","Manager","swipe","Swipe","add","backwardsCarousel","event","scrollTop","animate","$nextImg","$preview","addClass","prependTo","next_img_src","$active","$previous","slideIndex","eq","hasClass","clearTimeout","removeClass","$next","setTimeout","beginTransition","completeTransition","FullWidthClassicCarouselHeader","getCurrentSlideIndex","reverse","cancelAutoplayInterval","positionIndicators","setCarouselHeight","first","$currentSlide","autoplayPaused","autoplayEnabled","startAutoplayInterval","off","autoplayInterval","currentIndex","$indicators","$header","isRTL","rightSide","matchMedia","matches","leftOffset","offset","left","rightOffset","indicatorsRight","getSlideHeight","outerHeight","$activeSlide","unsetTransitionClasses","fadeIn","CarouselHeaderImage","onRemove","image_id","image_url","hasRemove","imageClass","join","obj","ev","stopPropagation","focalPoints","open","keyCode","CarouselHeaderSlide","isHidden","getMedia","media","source_url","toggleSlide","onImageRemove","hasSubheader","ImagePlaceholder","Columns","columns_title","columns_description","columns_block_style","columns","column_img","onDeleteImage","getImageOrButton","openEvent","padding","onSelectedLayoutChange","item","onColumnHeaderChange","onColumnDescriptionChange","onSelectImage","attachment","endsWith","cta_link","onCTALinkChange","link_new_tab","cta_text","onCTAButtonTextChange","addColumn","removeColumn","ColumnsBlock","title_1","column","attachment_1","link_1","link_new_tab_1","cta_text_1","title_2","attachment_2","link_2","link_new_tab_2","cta_text_2","title_3","attachment_3","link_3","link_new_tab_3","cta_text_3","title_4","attachment_4","link_4","link_new_tab_4","cta_text_4","media_details","new_columns","Cookies","necessary_cookies_name","onNecessaryCookiesNameChange","necessary_cookies_description","onNecessaryCookiesDescriptionChange","all_cookies_name","onAllCookiesNameChange","all_cookies_description","onAllCookiesDescriptionChange","post_id","querySelector","CookiesBlock","Counter","style","completed","onCompletedChange","completed_api","onCompletedAPIChange","onTargetChange","text","onTextChange","CounterBlock","Covers","searchTimeout","cover_type","queryArgs","post_parent","planet4_options","act_page","searchPosts","covers_view","onRowsChange","CoversBlock","CoversIcon","Gallery","image_data","gallery_block_style","gallery_block_title","gallery_block_description","multiple_image","dimensions","multiple_image_array","onRemoveImages","focalPoint","onFocalPointChange","gallery_block_focus_points","GalleryBlock","image_urls_array","image_id_array","img_id","img_details","new_image_data","focal_points_json","isEmptyObject","parseInt","image_ids","updated_image_data","object","parseFloat","toFixed","Happypoint","focus_image","opacity","mailing_list_iframe","iframe_url","focal_point_params","focus_image_str","onOpacityChange","onMailingListIframeChange","onIframeUrlChange","load_iframe","HappypointBlock","background","img_url","onBackgroundChange","Media","video_title","youtube_id","onMediaUrlChange","instructions","onSelectURL","onUploadError","video_poster_img","MediaBlock","message","console","log","Socialmedia","checkTwitterScript","checkInstagramScript","social_media_url","twitterScript","scriptLoaded","loadScriptAsync","initializeTwitterEmbeds","instaScript","initializeInstagramEmbeds","twttr","widgets","load","instgrm","Embeds","process","uri","Promise","resolve","reject","src","async","onload","body","getElementsByTagName","appendChild","embed_type_help","embed_type","onEmbedTypeChange","facebook_page_tab","onFacebookPageTabChange","onSocialMediaUrlChange","alignment_class","onAlignmentChange","SocialmediaBlock","Splittwocolumns","tag_list","unshift","issuepage_list","issuepageList","issue","raw","select_issue","issue_description","issue_link_text","issue_link_path","issue_image","focus_issue_image","select_tag","tag_description","button_text","button_link","tag_image","focus_tag_image","issue_image_url","tag_image_url","focus_issue_image_obj","focus_tag_image_obj","onSelectIssue","onIssueTitleChange","onIssueDescriptionChange","onIssueLinkTextChange","onIssueLinkPathChange","onSelectIssueImage","onIssueImageFocalPointChange","onSelectTag","onTagDescriptionChange","onButtonTextChange","onButtonLinkChange","onSelectCampaignImage","onCampaignImageFocalPointChange","SplittwocolumnsBlock","issuePage","taxonomy_args","issue_page_args","sort_order","sort_column","explore_page","MenuLevel","heading","onHeadingChange","link","onLinkChange","Submenu","submenu_style","levels","addLevel","removeLevel","SubmenuBlock","heading1","level","Boolean","link1","style1","heading2","link2","style2","heading3","link3","style3","onLayoutChange","Takeactionboxout","tag_ids","custom_title","custom_excerpt","custom_link","custom_link_text","custom_link_new_tab","background_image","take_action_page","actpage_list","actPageList","actPage","background_image_url","takeActionPageSelected","onSelectTakeActoinPage","isCustomised","onCustomTitleChange","onCustomExcerptChange","onCustomLinkChange","onCustomLinkTextChange","onCustomLinkNewTabChange","onSelectBackGroundImage","onRemoveBackGroundImage","TakeactionboxoutBlock","act_page_args","Timeline","loadTimeline","timelinejs_version","js","TL","google_sheets_url","timenav_position","start_at_end","language","languages","url_desc","timeline_title","onTimelineTitleChange","onGoogleSheetsUrlChange","onLanguageChange","onTimenavPositionChange","onStartAtEndChange","TimelineBlock","DEFAULT_QUERY","order","_fields","MAX_TERMS_SUGGESTIONS","isSameTermName","termA","termB","toLowerCase","unescapeTerm","term","unescapeString","unescapeTerms","terms","AssignOnlyFlatTermSelector","arguments","searchTerms","throttle","loading","isEmpty","availableTerms","selectedTerms","initRequest","fetchTerms","xhr","statusText","invoke","searchRequest","updateSelectedTerms","params","taxonomy","query","request","rest_base","availableTerm","reduce","accumulator","termId","termObject","termNames","uniqueTerms","uniqBy","allowedTerms","termName","termNamesToIds","names","onUpdateTerms","slug","hasAssignAction","newTermLabel","singularName","termAddedLabel","sprintf","_x","termRemovedLabel","removeTermLabel","added","removed","getCurrentPost","getTaxonomy","hasCreateAction","getEditedPostAttribute","withDispatch","dispatch","restBase","editPost","ImageOrButton","disabled","imageId","imageUrl","imgClass","buttonLabel","LayoutSelector","selectedOption","setSelected","options","layoutOption","display","__html","Preview","showBar","articlesBlock","carouselHeaderBlock","columnsBlock","cookiesBlock","counterBlock","coversBlock","galleryBlock","happypointBlock","mediaBlock","socialmediaBlock","splittwocolumnsBlock","submenuBlock","takeActionBoxoutBlock","timelineBlock","replaceTaxonomyTermSelectors","customizeTaxonomySelectors","OriginalComponent","isAssignOnlyTaxonomy"],"mappings":"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B;;AAEjD;AACA;AACA;;AAEA,gC;;;;;;;;;;;ACVA,wBAAwB,mBAAO,CAAC,uFAAqB;;AAErD,sBAAsB,mBAAO,CAAC,mFAAmB;;AAEjD,wBAAwB,mBAAO,CAAC,uFAAqB;;AAErD;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA,wBAAwB,2EAA2E,oCAAoC,mBAAmB,GAAG,EAAE,OAAO,oCAAoC,8HAA8H,GAAG,EAAE,sBAAsB;;AAEnW;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yB;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,MAAM;AACjB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iDAAiD,eAAe;;AAEhE;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,OAAO,WAAW;AAC7B,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5nBA,aAAa,yCAAyC,EAAE,I;;;;;;;;;;;ACAxD,aAAa,4CAA4C,EAAE,I;;;;;;;;;;;ACA3D,aAAa,2CAA2C,EAAE,I;;;;;;;;;;;ACA1D,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,uCAAuC,EAAE,I;;;;;;;;;;;ACAtD,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,oCAAoC,EAAE,I;;;;;;;;;;;ACAnD,aAAa,iCAAiC,EAAE,I;;;;;;;;;;;ACAhD,aAAa,gCAAgC,EAAE,I","file":"editorIndex.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/src/editorIndex.js\");\n","const { addFilter } = wp.hooks;\n\n\nexport const addBlockFilters = () => {\n  addFileBlockFilter();\n};\n\n\nconst addFileBlockFilter = () => {\n  const setDownloadButtonToggleDefualtFalse = (settings, name) => {\n\n    if ('core/file' !== name) {\n      return settings;\n    }\n\n    settings.attributes['showDownloadButton']['default'] = false;\n\n    return settings;\n  };\n\n  addFilter('blocks.registerBlockType', 'planet4-blocks/filters/file', setDownloadButtonToggleDefualtFalse);\n};\n","import { Button, ButtonGroup, PanelBody, SelectControl } from '@wordpress/components';\nimport assign from 'lodash.assign';\n\nconst { addFilter } = wp.hooks;\nconst { __ } = wp.i18n;\n\n// Enable spacing control on the following blocks\nconst targetBlocks = [\n  'core/image',\n];\n\nconst captionStyleOptions = [\n  {\n  label: __( 'Blue Overlay (default)' ),\n  value: 'blue-overlay',\n  },\n  {\n  label: __( 'Medium' ),\n  value: 'medium',\n  },\n];\n\nconst captionAlignmentOptions = [\n  {\n  label: __( 'Left' ),\n  value: 'left',\n  },\n  {\n  label: __( 'Center' ),\n  value: 'center',\n  },\n  {\n  label: __( 'Right' ),\n  value: 'right',\n  },\n];\n\nexport const setupImageBlockExtension = function() {\n  addExtraAttributes();\n  addExtraControls();\n}\n\nconst addExtraAttributes = function() {\n  const addCaptionStyleAttributes = ( settings, name ) => {\n  // Do nothing if it's another block than our defined ones.\n  if ( ! targetBlocks.includes( name ) ) {\n    return settings;\n  }\n\n  // Use Lodash's assign to gracefully handle if attributes are undefined\n  settings.attributes = assign( settings.attributes, {\n    captionStyle: {\n    type: 'string',\n    default: captionStyleOptions[ 0 ].value,\n    },\n    captionAlignment: {\n    type: 'string',\n    default: captionAlignmentOptions[ 1 ].value,\n    }\n  } );\n\n  return settings;\n  };\n\n  addFilter( 'blocks.registerBlockType', 'planet4-blocks/overrides/image', addCaptionStyleAttributes );\n}\n\nconst addExtraControls = function() {\n  const { createHigherOrderComponent } = wp.compose;\n  const { Fragment } = wp.element;\n  const { InspectorControls } = wp.editor;\n\n  const withCaptionStyle = createHigherOrderComponent( ( BlockEdit ) => {\n    return ( props ) => {\n      // Do nothing if it's another block than our defined ones.\n      if ( ! targetBlocks.includes( props.name ) ) {\n        return (\n          <BlockEdit { ...props } />\n        );\n      }\n\n      const { captionStyle, captionAlignment } = props.attributes;\n\n\t\t\tprops.attributes.className = '';\n\n      if ( captionStyle ) {\n      \tprops.attributes.className += ` caption-style-${ captionStyle }`;\n      }\n\n      if ( captionAlignment ) {\n      \tprops.attributes.className += ` caption-alignment-${ captionAlignment }`;\n      }\n\n      return (\n        <Fragment>\n          <BlockEdit { ...props } />\n          <InspectorControls>\n            <PanelBody\n              title={ __( 'Planet4 Image Options' ) }\n              initialOpen={ true }\n            >\n              <SelectControl\n                label={ __( 'Caption Style' ) }\n                value={ captionStyle }\n                options={ captionStyleOptions }\n                onChange={ ( selectedCaptionStyle ) => {\n                  props.setAttributes( {\n                    captionStyle: selectedCaptionStyle,\n                  } );\n                } }\n              />\n\n              <label>Caption alignment</label>\n              <ButtonGroup>\n              {\n                captionAlignmentOptions.map((option, key) => {\n\t\t\t\t\t\t\t\t\treturn <Button\n\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tprops.setAttributes({\n\t\t\t\t\t\t\t\t\t\t\t\tcaptionAlignment: option.value,\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tisPrimary={ captionAlignment == option.value }\n\t\t\t\t\t\t\t\t\t\tisLarge isDefault>\n\t\t\t\t\t\t\t\t\t\t\t{ option.label }\n\t\t\t\t\t\t\t\t\t</Button>;\n                })\n              }\n              </ButtonGroup>\n            </PanelBody>\n          </InspectorControls>\n        </Fragment>\n      );\n    };\n  }, 'withCaptionStyle' );\n\n  addFilter( 'editor.BlockEdit', 'planet4-blocks/overrides/image-controls', withCaptionStyle );\n}\n","export const addSubAndSuperscript = function (wp){\n\tconst el = wp.element.createElement\n\n\t/* Superscript icon */\n\tconst superscriptIcon = wp.element.createElement( 'svg',\n\t  {\n\t\t  width: 20,\n\t\t  height: 20,\n\t  },\n\t  wp.element.createElement( 'path',\n\t\t{\n\t\t\td: 'm 11.451024,15.991879 v 1.900559 H 8.6286372 L 6.8191261,15.024528 6.5459915,14.546546 Q 6.4549468,14.444115 6.4208029,14.307552 h -0.03414 l -0.1024233,0.238994 q -0.113806,0.227613 -0.284517,0.500744 L 4.2357343,17.892438 H 1.2995409 V 15.991879 H 2.7562552 L 4.9982324,12.68013 2.8928217,9.5846081 H 1.3336801 V 7.6726705 h 3.1410444 l 1.5819027,2.5947735 q 0.022772,0.04552 0.2617521,0.477987 0.091045,0.102421 0.1251849,0.23899 h 0.03414 q 0.034139,-0.102432 0.1251845,-0.23899 L 6.8874061,10.267444 8.4806875,7.6726705 H 11.405498 V 9.5846081 H 9.982924 l -2.0940281,3.0386179 2.3216401,3.368653 z m 7.249435,-7.7274175 v 2.3444015 h -5.849622 l -0.03415,-0.307279 q -0.04552,-0.318656 -0.04552,-0.5235031 0,-0.7283595 0.295896,-1.3315288 0.295896,-0.6031748 0.739738,-0.9844236 0.443844,-0.3812499 0.95597,-0.7397383 0.512126,-0.3584877 0.955968,-0.6202403 0.443845,-0.2617558 0.739742,-0.6145521 0.295891,-0.3527973 0.295891,-0.7283591 0,-0.4324593 -0.335727,-0.711285 -0.335727,-0.2788267 -0.80233,-0.2788267 -0.580409,0 -1.103918,0.4438464 Q 14.35307,4.3381578 14.102696,4.645436 L 12.907742,3.5984202 q 0.295895,-0.4210809 0.716976,-0.7511204 0.944588,-0.7397375 2.139551,-0.7397375 1.251867,0 2.025745,0.6771454 0.773881,0.6771454 0.773881,1.8038232 0,0.6373144 -0.278825,1.1722012 -0.278822,0.5348868 -0.705595,0.8706133 -0.426771,0.3357272 -0.927519,0.6657667 -0.500747,0.3300361 -0.933209,0.5747178 -0.43246,0.2446817 -0.74543,0.5861006 -0.312966,0.3414178 -0.347105,0.7169762 H 17.26651 V 8.2644615 Z',\n\t\t},\n\t  ),\n\t)\n\n\t/* Subscript icon */\n\tconst subscriptIcon = wp.element.createElement( 'svg',\n\t  {\n\t\t  width: 20,\n\t\t  height: 20,\n\t  },\n\t  wp.element.createElement( 'path',\n\t\t{\n\t\t\td: 'M 11.415572,11.723303 V 13.59208 H 8.6403806 L 6.8611266,10.772129 6.5925593,10.302137 Q 6.5030369,10.201425 6.4694659,10.067141 H 6.4358949 L 6.3351822,10.302137 Q 6.2232813,10.525943 6.0554268,10.79451 L 4.3209317,13.59208 H 1.4338398 V 11.723303 H 2.8661965 L 5.0706822,8.4669311 3.0004802,5.4231745 H 1.4674107 V 3.5432079 h 3.0885176 l 1.5554501,2.5513836 q 0.022381,0.044757 0.2573749,0.4699921 0.089522,0.1007124 0.1230932,0.2349956 h 0.033571 Q 6.5589882,6.6988668 6.6485107,6.5645836 L 6.9282683,6.0945915 8.4949066,3.5432079 H 11.370811 V 5.4231745 H 9.9720247 L 7.9130129,8.4109791 10.195831,11.723303 Z m 7.150588,2.428291 v 2.305198 h -5.751805 l -0.04476,-0.302137 q -0.03357,-0.503563 -0.03357,-0.514753 0,-0.716178 0.290947,-1.309263 0.290948,-0.593086 0.727368,-0.96796 0.436422,-0.374874 0.939986,-0.727368 0.503561,-0.352494 0.939983,-0.60987 0.43642,-0.257377 0.727368,-0.604275 0.290947,-0.3469 0.290947,-0.716178 0,-0.425232 -0.330112,-0.699394 -0.330115,-0.2741619 -0.788916,-0.2741619 -0.570706,0 -1.085457,0.4364219 -0.156665,0.123093 -0.402851,0.425231 L 12.870301,9.5635781 q 0.290948,-0.414039 0.70499,-0.738558 0.895222,-0.727368 2.103773,-0.727368 1.230931,0 1.991869,0.665822 0.760939,0.665821 0.760939,1.7736599 0,0.738558 -0.386064,1.326048 -0.386065,0.587489 -0.939984,0.962363 -0.553918,0.374875 -1.113434,0.699393 -0.559513,0.324518 -0.973554,0.704988 -0.41404,0.380469 -0.458801,0.816891 h 2.596145 v -0.895223 z',\n\t\t},\n\t  ),\n\t)\n\n\t/**\n\t * Add a button for subscript (<sub>) in Gutenberg rich text\n\t */\n\tvar SubscriptButton = function( props ) {\n\t\treturn wp.element.createElement(\n\t\t  wp.editor.RichTextToolbarButton, {\n\t\t\t  icon: subscriptIcon,\n\t\t\t  title: 'Subscript',\n\t\t\t  isActive: props.isActive,\n\t\t\t  onClick: function() {\n\t\t\t\t  props.onChange( wp.richText.toggleFormat(\n\t\t\t\t\tprops.value,\n\t\t\t\t\t{ type: 'planet4-blocks/subscript' },\n\t\t\t\t  ) )\n\t\t\t  },\n\t\t\t  className: 'toolbar-button-planet4-subscript',\n\t\t  },\n\t\t)\n\t}\n\n\twp.richText.registerFormatType(\n\t  'planet4-blocks/subscript', {\n\t\t  title: 'Subscript',\n\t\t  tagName: 'sub',\n\t\t  className: null,\n\t\t  edit: SubscriptButton,\n\t  },\n\t)\n\n\t/**\n\t * Add a button for superscript (<sup>) in Gutenberg rich text\n\t */\n\tvar SuperscriptButton = function( props ) {\n\t\treturn wp.element.createElement(\n\t\t  wp.editor.RichTextToolbarButton, {\n\t\t\t  icon: superscriptIcon,\n\t\t\t  title: 'Superscript',\n\t\t\t  isActive: props.isActive,\n\t\t\t  onClick: function() {\n\t\t\t\t  props.onChange( wp.richText.toggleFormat(\n\t\t\t\t\tprops.value,\n\t\t\t\t\t{ type: 'planet4-blocks/superscript' },\n\t\t\t\t  ) )\n\t\t\t  },\n\t\t  },\n\t\t)\n\t}\n\n\twp.richText.registerFormatType(\n\t  'planet4-blocks/superscript', {\n\t\t  title: 'Superscript',\n\t\t  tagName: 'sup',\n\t\t  className: null,\n\t\t  edit: SuperscriptButton,\n\t  },\n\t)\n};\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  FormTokenField,\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Articles extends Component {\n  constructor(props) {\n    super(props);\n\n    // Populate tag tokens for saved tags.\n    let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n    // Populate post types tokens for saved post types.\n    let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n    this.state = {\n      tagTokens: tagTokens,\n      postTypeTokens: postTypeTokens,\n      selectedPosts: [],\n    };\n\n    this.populatePostsToken();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  populatePostsToken() {\n\n    if (this.props.posts.length > 0) {\n\n      apiFetch(\n        {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            include: this.props.posts\n          })\n        }\n      ).then(posts => {\n        const postsTokens = posts.map(post => post.title.rendered);\n        const postsSuggestions = posts.map(post => post.title.rendered);\n        this.setState({\n            postsTokens: postsTokens,\n            postsList: posts,\n            postsSuggestions: postsSuggestions,\n            selectedPosts: posts,\n          }\n        );\n      });\n    } else {\n      this.setState(\n        {\n          postsTokens: [],\n          postsList: [],\n          postsSuggestions: [],\n          selectedPosts: [],\n        }\n      );\n    }\n  }\n\n  /**\n   * Search posts using wp api.\n   *\n   * @param tokens\n   */\n  onPostsSearch(tokens) {\n\n    apiFetch(\n      {\n        path: addQueryArgs('/wp/v2/posts', {\n          per_page: 50,\n          page: 1,\n          search: tokens,\n          orderby: 'title',\n          post_status: 'publish',\n\n        })\n      }\n    ).then(posts => {\n      let postsSuggestions = posts.map(post => post.title.rendered);\n      this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n    });\n  }\n\n  onSelectedTagsChange(tokens) {\n    const tagIds = tokens.map(token => {\n      return this.props.tagsList.filter(tag => tag.name === token)[0].id;\n    });\n    this.props.onSelectedTagsChange(tagIds);\n    this.setState({tagTokens: tokens})\n  }\n\n  onSelectedPostTypesChange(tokens) {\n    const postTypeIds = tokens.map(token => {\n      return this.props.postTypesList.filter(postType => postType.name === token)[0].id;\n    });\n    this.props.onSelectedPostTypesChange(postTypeIds);\n    this.setState({postTypeTokens: tokens})\n  }\n\n  onSelectedPostsChange(tokens) {\n    // Array to hold references to selected posts objects.\n    let currentSelectedPosts = [];\n    tokens.forEach(token => {\n      let f = this.state.postsList.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n      f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n    });\n\n    const postIds = currentSelectedPosts.map(post => post.id);\n    this.props.onSelectedPostsChange(postIds);\n    this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const tagSuggestions = this.props.tagsList.map(tag => tag.name);\n    const postTypeSuggestions = this.props.postTypesList.map(postType => postType.name);\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'p4ge')}\n            placeholder={__('Enter title', 'p4ge')}\n            help={__('Your default is set to [ Latest Articles ]', 'p4ge')}\n            value={this.props.article_heading}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'p4ge')}\n            placeholder={__('Enter description', 'p4ge')}\n            value={this.props.articles_description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label={__('Button Text', 'p4ge')}\n            placeholder={__('Override button text', 'p4ge')}\n            help={__('Your default is set to [ Load More ]', 'p4ge')}\n            value={this.props.read_more_text}\n            onChange={this.props.onReadmoretextChange}\n          />\n        </div>\n\n\n        <div>\n          <TextControl\n            label={__('Button Link', 'p4ge')}\n            placeholder={__('Add read more button link', 'p4ge')}\n            value={this.props.read_more_link}\n            onChange={this.props.onReadmorelinkChange}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Open in a new Tab', 'p4ge')}\n            help={__('Open button link in new tab', 'p4ge')}\n            value={this.props.button_link_new_tab}\n            checked={this.props.button_link_new_tab}\n            onChange={(e) => this.props.onButtonLinkTabChange(e)}\n          />\n        </div>\n\n        {\n          this.props.posts !== 'undefined' && this.props.posts.length === 0\n            ?\n            <Fragment>\n              <div>\n                <TextControl\n                  label={__('Articles count', 'p4ge')}\n                  help={__('Number of articles', 'p4ge')}\n                  type=\"number\"\n                  value={this.props.article_count}\n                  onChange={this.props.onCountChange}\n                />\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label={__('Select Tags', 'p4ge')}\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                />\n                <p className='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.postTypeTokens}\n                  suggestions={postTypeSuggestions}\n                  label={__('Post Types', 'p4ge')}\n                  onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                />\n              </div>\n              <div className=\"ignore-categories-wrapper\">\n                <CheckboxControl\n                  label={__('Ignore categories', 'p4ge')}\n                  help={__('Ignore categories when filtering posts to populate the content of this block', 'p4ge')}\n                  value={this.props.ignore_categories}\n                  checked={this.props.ignore_categories}\n                  onChange={(e) => this.props.onIgnoreCategoriesChange(e)}\n                />\n              </div>\n            </Fragment>\n            : null\n        }\n\n        {\n          (this.props.tags.length === 0 && this.props.post_types.length === 0)\n            ? <div>\n              <hr/>\n              <label>{__('Manual override', 'p4ge')}</label>\n              <FormTokenField\n                value={this.state.postsTokens}\n                suggestions={this.state.postsSuggestions}\n                label={__('CAUTION: Adding articles individually will override the automatic functionality of this block. For good user experience, please include at least three articles so that spacing and alignment of the design remains in tact.', 'p4ge')}\n                onChange={tokens => this.onSelectedPostsChange(tokens)}\n                onInputChange={tokens => this.onPostsSearch(tokens)}\n                placeholder=\"Select Posts\"\n                maxLength=\"10\"\n                maxSuggestions=\"20\"\n              />\n            </div>\n            : null\n        }\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/articles'}\n            attributes={{\n              read_more_text: this.props.read_more_text,\n              read_more_link: this.props.read_more_link,\n              tags: this.props.tags,\n              post_types: this.props.post_types,\n              posts: this.props.posts,\n              article_heading: this.props.article_heading,\n              articles_description: this.props.articles_description,\n              article_count: this.props.article_count,\n              ignore_categories: this.props.ignore_categories,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Articles} from './Articles.js';\n\nexport class ArticlesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/articles', {\n      title: 'Articles',\n      icon: 'excerpt-view',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_articles',\n            attributes: {\n              article_heading: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_heading;\n                }\n              },\n              articles_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.articles_description;\n                }\n              },\n              article_count: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_count;\n                }\n              },\n              read_more_text: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_text;\n                }\n              },\n              read_more_link: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_link;\n                }\n              },\n              button_link_new_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.button_link_new_tab;\n                }\n              },\n              ignore_categories: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.ignore_categories;\n                }\n              },\n              tags: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.tags.split(',') : [];\n                }\n              },\n              post_types: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.post_types.split(',') : [];\n                }\n              },\n              posts: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.posts.split(',') : [];\n                }\n              },\n              exclude_post_id: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.exclude_post_id);\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        article_heading: {\n          type: 'string',\n        },\n        articles_description: {\n          type: 'string',\n        },\n        article_count: {\n          type: 'integer',\n          default: 3\n        },\n        tags: {\n          type: 'array',\n          default: []\n        },\n        posts: {\n          type: 'array',\n          default: []\n        },\n        post_types: {\n          type: 'array',\n          default: []\n        },\n        read_more_text: {\n          type: 'string'\n        },\n        read_more_link: {\n          type: 'string',\n          default: ''\n        },\n        button_link_new_tab: {\n          type: 'boolean',\n          default: false\n        },\n        ignore_categories: {\n          type: 'boolean',\n          default: false\n        },\n        exclude_post_id: {\n          type: 'integer',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: withSelect((select) => {\n        const tagsTaxonomy = 'post_tag';\n        const postTypesTaxonomy = 'p4-page-type';\n        const args = {\n          hide_empty: false,\n          per_page: 50,\n        };\n        const {getEntityRecords} = select('core');\n\n        // We should probably wrap all these in a single call,\n        // or maybe use our own way of retrieving data from the\n        // API, I don't know how this scales.\n        const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n        const postTypesList = getEntityRecords('taxonomy', postTypesTaxonomy, args);\n\n        return {\n          postTypesList,\n          tagsList,\n        };\n      })(({\n            postTypesList,\n            tagsList,\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        if (!tagsList || !postTypesList) {\n          return \"Populating block's fields...\";\n        }\n\n        // TO-DO: Check for posts types and posts too...\n        if ((tagsList && tagsList.length === 0) || (postTypesList && postTypesList.length === 0)) {\n          return \"Populating block's fields...\";\n        }\n\n        // These methods are passed down to the\n        // Articles component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({article_heading: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({articles_description: value});\n        }\n\n        function onReadmoretextChange(value) {\n          setAttributes({read_more_text: value});\n        }\n\n        function onCountChange(value) {\n          setAttributes({article_count: Number(value)});\n        }\n\n        function onReadmorelinkChange(value) {\n          setAttributes({read_more_link: value});\n        }\n\n        function onButtonLinkTabChange(value) {\n          setAttributes({button_link_new_tab: value});\n        }\n\n        function onSelectedTagsChange(tagIds) {\n          setAttributes({tags: tagIds});\n        }\n\n        function onSelectedPostsChange(value) {\n          setAttributes({posts: value});\n        }\n\n        function onSelectedPostTypesChange(postTypeIds) {\n          setAttributes({post_types: postTypeIds});\n        }\n\n        function onIgnoreCategoriesChange(value) {\n          setAttributes({ignore_categories: value});\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Articles\n          {...attributes}\n          isSelected={isSelected}\n          tagsList={tagsList}\n          postTypesList={postTypesList}\n          onSelectedTagsChange={onSelectedTagsChange}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onCountChange={onCountChange}\n          onSelectedPostsChange={onSelectedPostsChange}\n          onSelectedPostTypesChange={onSelectedPostTypesChange}\n          onReadmoretextChange={onReadmoretextChange}\n          onReadmorelinkChange={onReadmorelinkChange}\n          onButtonLinkTabChange={onButtonLinkTabChange}\n          onIgnoreCategoriesChange={onIgnoreCategoriesChange}/>\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import React, {Component, Fragment} from 'react';\nimport {\n  Button,\n  CheckboxControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {CarouselHeaderSlide} from \"./CarouselHeaderSlide\";\nimport {initializeCarouselHeader} from \"./CarouselHeaderFront\";\n\nexport class CarouselHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.refs = [];\n    this.firstRender = true;\n  }\n\n  setDOMListener() {\n    const carouselInterval = window.setInterval(\n      () => {\n        if (document.getElementById('carousel-wrapper-header')) {\n          window.clearInterval(carouselInterval);\n          initializeCarouselHeader();\n        }\n      },\n      500\n    );\n  }\n\n  componentDidMount() {\n    this.collapseSlides();\n    this.setDOMListener();\n  }\n\n  componentDidUpdate() {\n    if (this.firstRender) {\n      this.collapseSlides();\n      this.firstRender = false;\n    }\n    this.setDOMListener();\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    this.setDOMListener();\n  }\n\n  /**\n   * Collapse all active slides.\n   */\n  collapseSlides() {\n    let refs = this.refs;\n    Object.keys(this.refs).forEach(function (index) {\n      if (null !== refs[index]) {\n        refs[index].collapseSlide();\n      }\n    }.bind(refs));\n  }\n\n  /**\n   * Add new slide to carousel header.\n   */\n  addNewSlide() {\n    this.collapseSlides();\n    this.props.addSlide();\n  }\n\n  /**\n   * Remove slide to carousel header.\n   */\n  removeSlide() {\n    this.props.removeSlide();\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h3>{__('What style of carousel do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.block_style}\n            onSelectedLayoutChange={this.props.onBlockStyleChange}\n            options={[\n              {\n                label: __('Zoom and slide to gray', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/carousel-with-preview.png',\n                value: 'zoom-and-slide-to-gray',\n                help: __('This carousel provides a fancy transition, and a preview for the next slide in an oblique shape.')\n              }, {\n                label: __('Full width classic', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/carousel-classic.png',\n                value: 'full-width-classic',\n                help: __('This is a full width slider with a classic look: big slides, fade transition, and no subheaders.'),\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Carousel Autoplay', 'p4ge')}\n            help={__('Select to trigger images autoslide', 'p4ge')}\n            value={this.props.carousel_autoplay}\n            checked={this.props.carousel_autoplay}\n            onChange={(e) => this.props.onCarouselAutoplayChange(e)}\n          />\n        </div>\n\n        {this.props.slides.map((slide, i) => {\n          return (\n            <Fragment>\n              <CarouselHeaderSlide\n                {...slide}\n                onImageChange={this.props.onImageChange}\n                onHeaderChange={this.props.onHeaderChange}\n                onHeaderSizeChange={this.props.onHeaderSizeChange}\n                onSubheaderChange={this.props.onSubheaderChange}\n                onDescriptionChange={this.props.onDescriptionChange}\n                onLinkTextChange={this.props.onLinkTextChange}\n                onLinkUrlChange={this.props.onLinkUrlChange}\n                onLinkNewTabChange={this.props.onLinkNewTabChange}\n                onStyleChange={this.props.onStyleChange}\n                onFocalPointsChange={this.props.onFocalPointsChange}\n                hasSubheader={this.props.block_style !== 'full-width-classic'}\n                index={i}\n                key={i}\n                ref={(instance) => {\n                  this.refs[i] = instance\n                }}\n              />\n            </Fragment>\n          );\n        })}\n\n        <div className='carousel-header-add-remove-slide'>\n          <Button isPrimary\n                  onClick={this.addNewSlide.bind(this)}\n                  disabled={this.props.slides.length >= 4}\n          >\n            Add Slide\n          </Button>\n          <Button isDefault\n                  onClick={this.removeSlide.bind(this)} disabled={this.props.slides.length <= 1}\n          >\n            Remove Slide\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          {\n            this.props.slides.length && this.props.slides[0].image > 0\n            ? <ServerSideRender\n                block={'planet4-blocks/carousel-header'}\n                attributes={{\n                  block_style: this.props.block_style,\n                  carousel_autoplay: this.props.carousel_autoplay,\n                  slides: this.props.slides,\n                }}\n              >\n              </ServerSideRender>\n            : <div>Not enough data available to render the block yet.</div>\n          }\n\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {CarouselHeader} from './CarouselHeader.js';\n\nexport class CarouselHeaderBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/carousel-header', {\n      title: 'Carousel Header',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_carousel_header block_style=\"full-width-classic\" carousel_autoplay=\"true\" image_1=\"16\" focus_image_1=\"center center\"\n       *     header_1=\"Carousel header - full width  1\" description_1=\"Lorem ipsum \" link_text_1=\"Curabitur rutrum viverra\" image_2=\"348\"\n       *     focus_image_2=\"center center\"\n       *     header_2=\"Carousel header - full width  2\"\n       *     description_2=\"Pellentesque cursus\" link_text_2=\"Pellentesque cursus\"\n       *     image_3=\"357\" focus_image_3=\"left top\" header_3=\"Carousel header - full width  3\"\n       *     description_3=\"Nam condimentum\" focus_image_4=\"left top\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/carousel-header {\"carousel_autoplay\":\"true\",\"slides\":[{\"image\":16,\"header\":\"Carousel header - full width  1\",\"description\":\"Lorem ipsum\",\"link_text\":\"Curabitur rutrum viverra\",\"focal_points\":{\"x\":0.5,\"y\":0.5}},{\"image\":348,\"header\":\"Carousel header - full width  2\",\"description\":\"Pellentesque cursus\",\"link_text\":\"Pellentesque cursus\",\"focal_points\":{\"x\":0.5,\"y\":0.5}},{\"image\":357,\"header\":\"Carousel header - full width  3\",\"description\":\"Nam condimentum\",\"focal_points\":{\"x\":0,\"y\":0}}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_carousel_header',\n            attributes: {\n              block_style: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.block_style);\n                }\n              },\n              carousel_autoplay: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.carousel_autoplay;\n                }\n              },\n              slides: {\n                type: 'array',\n                shortcode: function (attributes) {\n\n                  const convert_position = function(position) {\n                    switch (position) {\n                    case 'left top':\n                      return {x: 0, y: 0};\n                    case 'center top':\n                      return {x: 0.5, y: 0};\n                    case 'right top':\n                      return {x: 1, y: 0};\n                    case 'left center':\n                      return {x: 0, y: 0.5};\n                    case 'center center':\n                      return {x: 0.5, y: 0.5};\n                    case 'right center':\n                      return {x: 1, y: 0.5};\n                    case 'left bottom':\n                      return {x: 0, y: 1};\n                    case 'center bottom':\n                      return {x: 0.5, y: 1};\n                    case 'right bottom':\n                      return {x: 1, y: 1};\n                    }\n                  };\n\n\n                  let slides = [];\n                  if (attributes.named.image_1) {\n                    let slide = {\n                      image: Number(attributes.named.image_1),\n                      header: attributes.named.header_1,\n                      header_size: attributes.named.header_size_1,\n                      subheader: attributes.named.subheader_1,\n                      description: attributes.named.description_1,\n                      link_text: attributes.named.link_text_1,\n                      link_url: attributes.named.link_url_1,\n                      focal_points: convert_position(attributes.named.focus_image_1)\n                    };\n                    slides.push(Object.assign({}, slide));\n\n                    if (attributes.named.image_2) {\n                      let slide = {\n                        image: Number(attributes.named.image_2),\n                        header: attributes.named.header_2,\n                        header_size: attributes.named.header_size_2,\n                        subheader: attributes.named.subheader_2,\n                        description: attributes.named.description_2,\n                        link_text: attributes.named.link_text_2,\n                        link_url: attributes.named.link_url_2,\n                        focal_points: convert_position(attributes.named.focus_image_2)\n                      };\n                      slides.push(Object.assign({}, slide));\n\n                      if (attributes.named.image_3) {\n                        let slide = {\n                          image: Number(attributes.named.image_3),\n                          header: attributes.named.header_3,\n                          header_size: attributes.named.header_size_3,\n                          subheader: attributes.named.subheader_3,\n                          description: attributes.named.description_3,\n                          link_text: attributes.named.link_text_3,\n                          link_url: attributes.named.link_url_3,\n                          focal_points: convert_position(attributes.named.focus_image_3)\n                        };\n                        slides.push(Object.assign({}, slide));\n\n                        if (attributes.named.image_4) {\n                          let slide = {\n                            image: Number(attributes.named.image_4),\n                            header: attributes.named.header_4,\n                            header_size: attributes.named.header_size_4,\n                            subheader: attributes.named.subheader_4,\n                            description: attributes.named.description_4,\n                            link_text: attributes.named.link_text_4,\n                            link_url: attributes.named.link_url_4,\n                            focal_points: convert_position(attributes.named.focus_image_4)\n                          };\n                          slides.push(Object.assign({}, slide));\n\n                        }\n                      }\n                    }\n                  }\n                  return slides;\n                }\n              }\n            }\n          }\n        ]\n      },\n      attributes: {\n        block_style: {\n          type: 'string',\n        },\n        carousel_autoplay: {\n          type: 'boolean',\n        },\n        slides: {\n          type: 'array',\n          default: [\n            {\n              image: null,\n              focal_points: {},\n              header: '',\n              header_size: 'h1',\n              subheader: '',\n              description: '',\n              link_text: '',\n              link_url: '',\n              link_url_new_tab: false,\n            }\n          ]\n        },\n      },\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        function addSlide() {\n          setAttributes({\n            slides: attributes.slides.concat({\n              image: null,\n              focal_points: {},\n              header: '',\n              header_size: 'h1',\n              subheader: '',\n              description: '',\n              link_text: '',\n              link_url: '',\n              link_url_new_tab: false,\n            })\n          });\n        }\n\n        function onCarouselAutoplayChange(value) {\n          setAttributes({carousel_autoplay: value});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onImageChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          if (null !== value) {\n            slides[index].image = value;\n          } else {\n            slides[index].image = null;\n          }\n          setAttributes({slides: slides});\n        }\n\n        function onFocalPointsChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          if (null !== value) {\n            const fo = JSON.parse(JSON.stringify(value));\n            slides[index].focal_points = fo;\n          } else {\n            slides[index].focal_points = null;\n          }\n          setAttributes({slides: slides});\n        }\n\n        function onHeaderChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].header = value;\n          setAttributes({slides: slides});\n        }\n\n        function onHeaderSizeChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].header_size = value;\n          setAttributes({slides: slides});\n        }\n\n        function onSubheaderChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].subheader = value;\n          setAttributes({slides: slides});\n        }\n\n        function onDescriptionChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].description = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkUrlChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_url = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkTextChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_text = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkNewTabChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_url_new_tab = value;\n          setAttributes({slides: slides});\n        }\n\n        function onBlockStyleChange(value) {\n          setAttributes({block_style: value});\n        }\n\n        function removeSlide() {\n          setAttributes({slides: attributes.slides.slice(0, -1)});\n        }\n\n        return <CarouselHeader\n          {...attributes}\n          isSelected={isSelected}\n          onBlockStyleChange={onBlockStyleChange}\n          onCarouselAutoplayChange={onCarouselAutoplayChange}\n          onTitleChange={onTitleChange}\n          onImageChange={onImageChange}\n          onHeaderChange={onHeaderChange}\n          onSubheaderChange={onSubheaderChange}\n          onHeaderSizeChange={onHeaderSizeChange}\n          onDescriptionChange={onDescriptionChange}\n          onLinkTextChange={onLinkTextChange}\n          onLinkUrlChange={onLinkUrlChange}\n          onLinkNewTabChange={onLinkNewTabChange}\n          onFocalPointsChange={onFocalPointsChange}\n          addSlide={addSlide}\n          removeSlide={removeSlide}\n        />;\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","/* global Hammer */\nconst ZoomAndSlideToGrayCarouselHeader = {\n  /**\n   * This module provides a custom slideshow mechanism for use with the header carousel.\n   * The transition behavior in this block is too complex to be easily layered upon the\n   * default bootstrap carousel.\n   */\n\n  // SLIDE_TRANSITION_SPEED should match $slide-transition-speed in _carousel_header.scss.\n  SLIDE_TRANSITION_SPEED: 500,\n  activeTransition: null,\n\n\n  /**\n   * Given an active slide return the next slide, wrapping around the end of the carousel.\n   *\n   * @param {HTMLElement|jQuery} slide A slide in the carousel.\n   * @returns {jQuery} A jQuery selection of the next slide.\n   */\n  nextSlide: function (el) {\n    const $el = $(el);\n    const $nextSlide = $el.next('.carousel-item');\n    // prevAll returns items in reverse DOM order: the first slide is the last element.\n    return $nextSlide.length ? $nextSlide : $el.prevAll('.carousel-item').last();\n  },\n\n  previousSlide: function (el) {\n    const $el = $(el);\n    const $previousSlide = $el.prev('.carousel-item');\n    return $previousSlide.length ? $previousSlide : $el.nextAll('.carousel-item').last();\n  },\n\n  // Update active slide indicators\n  switchIndicator: function (index) {\n    this.$CarouselIndicators.children().each(function (i, el) {\n      $(el).toggleClass('active', i === index);\n    });\n  },\n\n  setup: function () {\n    const me = this;\n\n    me.$CarouselHeaderWrapper = $('#carousel-wrapper-header');\n\n    me.$CarouselIndicators = me.$CarouselHeaderWrapper.find('.carousel-indicators');\n    me.$Slides = me.$CarouselHeaderWrapper.find('.carousel-item');\n\n    me.$CarouselHeaderWrapper.find('img').on('load', function () {\n      const current_img_src = $(this).get(0).currentSrc;\n      const current_bg_img = $(this).parent().css('background-image').replace(/.*\\s?url\\(['\"]?/, '').replace(/['\"]?\\).*/, '');\n      if (current_img_src !== current_bg_img) {\n        $(this).parent().css('background-image', 'url(' + $(this).get(0).currentSrc + ')');\n      }\n    });\n\n    me.$CarouselIndicators.find('li').remove(); // Empty the indicators list\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n\n      // Populate carousel indicators list\n      $('<li>')\n        .attr('data-target', '#carousel-wrapper-header')\n        .attr('data-slide-to', i)\n        .toggleClass('active', i === 0)\n        .appendTo(me.$CarouselIndicators);\n\n      // Convert the provided image tag into background image styles.\n      const $img = $slide.find('img');\n      const img_src = $img.get(0).currentSrc || $img.attr('src');\n      $slide\n        .css('background-image', 'url(' + img_src + ')')\n        .css('background-position', $img.data('background-position'));\n\n      // Populate carousel slide index\n      $slide.attr('data-slide', i);\n    });\n\n    // Bind mouse interaction events\n    let clickTargets = '.carousel-control-next';\n    if ($('html').attr('dir') == 'rtl') {\n      clickTargets += ', .carousel-control-prev';\n    }\n    me.$CarouselHeaderWrapper.on('click', clickTargets, function (evt) {\n      evt.preventDefault();\n      me.advanceCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', '.carousel-indicators li', function (evt) {\n      evt.preventDefault();\n      me.activate($(evt.target).data('slide-to'));\n    });\n\n    /* Carousel header swipe on mobile */\n    if ($('.carousel-header').length > 0 && me.$Slides.length > 1) {\n      const carousel_element = $('.carousel-header')[0];\n      const carousel_head_hammer = new Hammer(carousel_element, {recognizers: []});\n      const hammer = new Hammer.Manager(carousel_head_hammer.element);\n      const swipe = new Hammer.Swipe();\n      hammer.add(swipe);\n\n      hammer.on('swipeleft', function () {\n        me.advanceCarousel();\n      });\n\n      hammer.on('swiperight', function () {\n        me.backwardsCarousel();\n      });\n\n      // Vertical swiping on carousel should scroll the page\n      hammer.on('swipeup', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y + 200});\n      });\n      hammer.on('swipedown', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y - 200});\n      });\n    }\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n      const $nextImg = me.nextSlide($slide).find('img');\n\n      if ($nextImg.length > 0) {\n        // Add an element within the slide to hold the next slide preview.\n        const $preview = $('<div>')\n          .addClass('carousel-preview-wrap')\n          .prependTo($slide);\n\n        const next_img_src = $nextImg.get(0).currentSrc || $nextImg.attr('src');\n        $('<div>')\n          .addClass('carousel-preview')\n          .css('background-image', 'url(' + next_img_src + ')')\n          .css('background-position', $nextImg.data('background-position'))\n          .appendTo($preview);\n      }\n    });\n  },\n\n  backwardsCarousel: function () {\n    const $active = this.$Slides.filter('.active');\n    const $previous = this.previousSlide($active);\n    this.activate($previous.data('slide'));\n  },\n\n  /**\n   * Switch to a specific slide.\n   *\n   * @param {Number} slideIndex The index of a slide in the carousel.\n   */\n  activate: function (slideIndex) {\n    const me = this;\n    const $slide = me.$Slides.eq(slideIndex);\n\n    if ($slide.hasClass('active') && !$slide.hasClass('slide-over')) {\n      // If the requested slide is active and not transitioning, do nothing.\n      return;\n    }\n\n    if (me.$CarouselHeaderWrapper.data('block-style') != 'full-width-classic') {\n      if ($slide.hasClass('next')) {\n        // If the slide being requested is next, transition normally.\n        me.advanceCarousel();\n        return;\n      }\n    }\n\n    if (me.activeTransition) {\n      clearTimeout(me.activeTransition);\n    }\n\n    me.switchIndicator(slideIndex);\n\n    me.$Slides.removeClass('active next slide-over fade-out');\n    $slide.addClass('active');\n    me.nextSlide($slide).addClass('next');\n  },\n\n  /**\n   * Advance to the next slide in the carousel.\n   */\n  advanceCarousel: function () {\n    const me = this;\n    const $active = me.$Slides.filter('.active');\n\n    me.$Slides.removeClass('next');\n    const $next = me.nextSlide($active).addClass('next');\n\n    if (me.activeTransition) {\n      // A transition is in progress, so proceed to the next pair of slides\n      clearTimeout(me.activeTransition);\n      me.activeTransition = null;\n      me.$Slides.removeClass('fade-out slide-over active');\n      $next.addClass('active');\n      me.nextSlide($next).addClass('next');\n      me.advanceCarousel();\n      return;\n    }\n\n    // Transition out the active slide\n    $active.addClass('slide-over');\n\n    me.switchIndicator(me.$Slides.index($next));\n\n    // When transition is done, swap out the slides\n    me.activeTransition = setTimeout(function beginTransition() {\n      $active.addClass('fade-out');\n      me.activeTransition = setTimeout(function completeTransition() {\n        $active.removeClass('active');\n        me.$Slides.removeClass('slide-over fade-out');\n        $next.removeClass('next').addClass('active');\n        // Ensure the new upcoming slide has .next\n        me.nextSlide($next).addClass('next');\n        me.activeTransition = null;\n      }, me.SLIDE_TRANSITION_SPEED / 2);\n    }, me.SLIDE_TRANSITION_SPEED);\n  },\n};\n\nconst FullWidthClassicCarouselHeader = {\n  /**\n   * Given an active slide return the next slide, wrapping around the end of the carousel.\n   *\n   * @param {HTMLElement|jQuery} slide A slide in the carousel.\n   * @returns {jQuery} A jQuery selection of the next slide.\n   */\n  nextSlide: function (el) {\n    const $el = $(el);\n    const $nextSlide = $el.next('.carousel-item');\n    // prevAll returns items in reverse DOM order: the first slide is the last element.\n    return $nextSlide.length ? $nextSlide : $el.prevAll('.carousel-item').last();\n  },\n\n  previousSlide: function (el) {\n    const $el = $(el);\n    const $previousSlide = $el.prev('.carousel-item');\n    return $previousSlide.length ? $previousSlide : $el.nextAll('.carousel-item').last();\n  },\n\n  // Update active slide indicators\n  switchIndicator: function (index) {\n    this.$CarouselIndicators.children().each(function (i, el) {\n      $(el).toggleClass('active', i === index);\n    });\n  },\n\n  getCurrentSlideIndex: function () {\n    return this.$CarouselHeaderWrapper.find('.carousel-item.active').index();\n  },\n\n  setup: function () {\n    const me = this;\n\n    me.$CarouselHeaderWrapper = $('#carousel-wrapper-header');\n    me.$Slides = me.$CarouselHeaderWrapper.find('.carousel-item');\n\n    me.$CarouselHeaderWrapper.find('img').on('load', function () {\n      const current_img_src = $(this).get(0).currentSrc;\n      const current_bg_img = $(this).parent().css('background-image').replace(/.*\\s?url\\(['\"]?/, '').replace(/['\"]?\\).*/, '');\n      if (current_img_src !== current_bg_img) {\n        $(this).parent().css('background-image', 'url(' + $(this).get(0).currentSrc + ')');\n      }\n    });\n\n    me.$CarouselIndicators = me.$CarouselHeaderWrapper.find('.carousel-indicators');\n\n    me.$CarouselIndicators.find('li').remove(); // Empty the indicators list\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n\n      // Populate carousel indicators list\n      $('<li>')\n        .attr('data-target', '#carousel-wrapper-header')\n        .attr('data-slide-to', i)\n        .toggleClass('active', i === 0)\n        .appendTo(me.$CarouselIndicators);\n\n      // Convert the provided image tag into background image styles.\n      const $img = $slide.find('img');\n      const img_src = $img.get(0).currentSrc || $img.attr('src');\n      $slide.find('.background-holder')\n        .css('background-image', 'url(' + img_src + ')')\n        .css('background-position', $img.data('background-position'));\n\n      // Populate carousel slide index\n      $slide.attr('data-slide', i);\n    });\n\n    // Bind mouse interaction events\n    const clickTargets = ['.carousel-control-next', '.carousel-control-prev'];\n    if ($('html').attr('dir') == 'rtl') {\n      clickTargets.reverse();\n    }\n    me.$CarouselHeaderWrapper.on('click', clickTargets[0], function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.advanceCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', clickTargets[1], function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.backwardsCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', '.carousel-indicators li', function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.activate($(evt.target).data('slide-to'));\n    });\n\n    /* Carousel header swipe on mobile */\n    if ($('.carousel-header_full-width-classic').length > 0 && me.$Slides.length > 1) {\n      const carousel_element = $('.carousel-header_full-width-classic')[0];\n      const carousel_head_hammer = new Hammer(carousel_element, {recognizers: []});\n      const hammer = new Hammer.Manager(carousel_head_hammer.element);\n      const swipe = new Hammer.Swipe();\n      hammer.add(swipe);\n\n      hammer.on('swipeleft', function () {\n        me.cancelAutoplayInterval();\n        me.advanceCarousel();\n      });\n\n      hammer.on('swiperight', function () {\n        me.cancelAutoplayInterval();\n        me.backwardsCarousel();\n      });\n\n      // Vertical swiping on carousel should scroll the page\n      hammer.on('swipeup', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y + 200});\n      });\n      hammer.on('swipedown', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y - 200});\n      });\n    }\n\n    me.positionIndicators();\n    me.setCarouselHeight(me.$Slides.first());\n\n    me.$CarouselHeaderWrapper.find('.initial').on('transitionend', function () {\n      $(this).removeClass('initial');\n    });\n\n    $(window).on('resize', function () {\n      const $currentSlide = $('.carousel-item.active');\n      me.setCarouselHeight($currentSlide);\n      me.positionIndicators();\n    });\n\n    me.autoplayPaused = false;\n    me.autoplayEnabled = me.$CarouselHeaderWrapper.data('carousel-autoplay') == true;\n\n    if (me.$Slides.length > 1 && me.autoplayEnabled) {\n      me.startAutoplayInterval();\n\n      me.$CarouselHeaderWrapper.on('mouseenter', function () {\n        me.autoplayPaused = true;\n      });\n\n      me.$CarouselHeaderWrapper.on('mouseleave', function () {\n        me.autoplayPaused = false;\n      });\n    }\n\n    $(window).on('scroll', function () {\n      me.cancelAutoplayInterval();\n      $(window).off('scroll');\n    });\n  },\n\n  startAutoplayInterval: function () {\n    const me = this;\n    me.autoplayInterval = window.setInterval(function () {\n      if (!me.autoplayPaused) {\n        me.advanceCarousel();\n      }\n    }, 6000);\n  },\n\n  cancelAutoplayInterval: function () {\n    window.clearInterval(this.autoplayInterval);\n  },\n\n  /**\n   * Switch to a specific slide.\n   *\n   * @param {Number} slideIndex The index of a slide in the carousel.\n   */\n  activate: function (slideIndex) {\n    const me = this;\n    const $slide = me.$Slides.eq(slideIndex);\n    const currentIndex = me.getCurrentSlideIndex();\n\n    if (slideIndex == currentIndex) {\n      return;\n    }\n\n    if (slideIndex > currentIndex) {\n      me.advanceCarousel($slide);\n    } else {\n      me.backwardsCarousel($slide);\n    }\n  },\n\n  positionIndicators: function () {\n    const $indicators = this.$CarouselHeaderWrapper.find('.carousel-indicators');\n    const $header = this.$CarouselHeaderWrapper.find('.carousel-item.active .action-button');\n    const isRTL = $('html').attr('dir') == 'rtl';\n    const rightSide = (window.matchMedia('(min-width: 992px)').matches && isRTL)\n      || (window.matchMedia('(min-width: 768px) and (max-width: 992px)').matches && !isRTL);\n\n    if (window.matchMedia('(min-width: 768px)').matches && $header.length) {\n      let leftOffset = $header.offset().left;\n\n      if (rightSide) {\n        const rightOffset = leftOffset + (isRTL ? $header.width() : $header.parent().width());\n        const indicatorsRight = $(window).width() - rightOffset;\n        $indicators.css('right', indicatorsRight + 'px')\n          .css('left', '')\n          .css('margin-left', '0')\n          .css('margin-right', '3px'); // same as indicators x margin\n      } else {\n        leftOffset = isRTL ? $header.parent().offset().left : $header.offset().left;\n        $indicators.css('left', leftOffset + 'px')\n          .css('right', '')\n          .css('margin-right', '0')\n          .css('margin-left', '3px');\n      }\n    } else {\n      $indicators.css('right', '');\n      $indicators.css('left', '');\n    }\n  },\n\n  getSlideHeight: function ($slide) {\n    return $slide.find('.carousel-item-mask .background-holder').outerHeight() + $slide.find('.carousel-caption').outerHeight() + 'px';\n  },\n\n  setCarouselHeight: function ($currentSlide) {\n    const me = this;\n    if (window.matchMedia('(max-width: 992px)').matches) {\n      me.$CarouselHeaderWrapper.find('.carousel-inner, .carousel-item-mask').css('height', this.getSlideHeight($currentSlide));\n    } else {\n      me.$CarouselHeaderWrapper.find('.carousel-inner, .carousel-item-mask').css('height', '');\n    }\n  },\n\n  backwardsCarousel: function ($slide) {\n    const me = this;\n    const $activeSlide = me.$Slides.filter('.active');\n    let $previousSlide = null;\n    if ($slide) {\n      $previousSlide = $slide;\n    } else {\n      $previousSlide = me.previousSlide($activeSlide);\n    }\n\n    $activeSlide.addClass('slide-right');\n    $previousSlide.addClass('prev');\n\n    function unsetTransitionClasses() {\n      $activeSlide.removeClass('slide-right active');\n      $previousSlide.addClass('active').removeClass('prev');\n      $activeSlide.off('transitionend');\n    }\n\n    me.setCarouselHeight($previousSlide);\n    $activeSlide.on('transitionend', unsetTransitionClasses);\n    me.switchIndicator(me.$Slides.index($previousSlide));\n  },\n\n  /**\n   * Advance to the next slide in the carousel.\n   */\n  advanceCarousel: function ($slide) {\n    const me = this;\n    const $activeSlide = me.$Slides.filter('.active');\n    let $nextSlide = null;\n    if ($slide) {\n      $nextSlide = $slide;\n    } else {\n      $nextSlide = me.nextSlide($activeSlide);\n    }\n\n    $activeSlide.addClass('slide-left');\n    $nextSlide.addClass('next');\n\n    function unsetTransitionClasses() {\n      $activeSlide.removeClass('slide-left active');\n      $nextSlide.addClass('active').removeClass('next');\n      $activeSlide.off('transitionend');\n    }\n\n    $activeSlide.on('transitionend', unsetTransitionClasses);\n    $activeSlide.find('.btn').fadeIn();\n\n    me.setCarouselHeight($nextSlide);\n    me.switchIndicator(me.$Slides.index($nextSlide));\n  },\n};\n\nexport const initializeCarouselHeader = function() {\n  const $CarouselHeaderWrapper = $('#carousel-wrapper-header');\n  if ($CarouselHeaderWrapper.length > 0) {\n    switch ($CarouselHeaderWrapper.data('block-style')) {\n    case 'full-width-classic':\n      FullWidthClassicCarouselHeader.setup();\n      break;\n    default:\n      ZoomAndSlideToGrayCarouselHeader.setup();\n      break;\n    }\n  }\n};\n","import {React, Component, Fragment} from 'react';\nimport {\n  Dashicon,\n  FocalPointPicker\n} from '@wordpress/components';\nimport {MediaUpload} from \"@wordpress/editor\";\nimport ImagePlaceholder from './ImagePlaceholder';\n\nexport class CarouselHeaderImage extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {onChange, onRemove, image_id, image_url, onFocalPointsChange, focal_points} = this.props;\n    let   hasRemove = true;\n\n    let imageClass = [];\n    if (!image_url) {\n      imageClass.push('ch-image-upload-placeholder');\n      imageClass.push('ch-image-upload-has-placeholder');\n    } else {\n      imageClass.push('carousel-header-image-container');\n    }\n    imageClass = imageClass.join(' ');\n\n\n    return (\n      <Fragment>\n        <MediaUpload\n          onSelect={onChange}\n          allowedTypes={['image']}\n          value={image_id}\n          render={obj => {\n            if (image_url) {\n              return (\n                <div\n                  className={imageClass}\n                  tabIndex={0}\n                >\n                  {image_url && onRemove && hasRemove && (\n                    <button className=\"ch-image-upload-remove\" onClick={ev => {\n                      onRemove();\n                      ev.stopPropagation()\n                    }}><Dashicon icon=\"no\"/></button>\n                  )}\n                  <FocalPointPicker\n                    url={image_url}\n                    value={focal_points}\n                    onChange={(focalPoints) => onFocalPointsChange(focalPoints)}\n                  />\n\n                </div>\n              )\n            }\n            return (\n              <div\n                className={imageClass}\n                onClick={obj.open}\n                onKeyDown={event => {\n                  if (event.keyCode === 13) {\n                    obj.open()\n                  }\n                }}\n                role=\"button\"\n                tabIndex={0}\n                >\n                {image_url && onRemove && hasRemove && (\n                  <button className=\"ch-image-upload-remove\" onClick={ev => {\n                    onRemove();\n                    ev.stopPropagation()\n                  }}><Dashicon icon=\"no\"/></button>\n                )}\n                <ImagePlaceholder/>\n              </div>\n            )\n          }}\n        />\n\n      </Fragment>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  Dashicon,\n  SelectControl,\n  TextareaControl,\n  TextControl,\n  ToggleControl\n} from '@wordpress/components';\nimport {URLInput} from '@wordpress/block-editor'\nimport {CarouselHeaderImage} from \"./CarouselHeaderImage\";\n\nconst {apiFetch} = wp;\n\nexport class CarouselHeaderSlide extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      image_id: null,\n      image_url: null,\n      focal_points: props.focal_points,\n      isHidden: false,\n    };\n    this.getMedia();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  getMedia() {\n\n    if (this.props.image) {\n\n      apiFetch(\n        {\n          path: `/wp/v2/media/${this.props.image}`\n        }\n      ).then(media => {\n        this.setState({\n          image_id: media.id,\n          image_url: media.source_url\n        });\n      });\n    }\n  }\n\n  onImageChange(image) {\n    this.props.onImageChange(this.props.index, image.id);\n    this.setState({image_id: image.id, image_url: image.url});\n  }\n\n  onImageRemove() {\n    this.props.onImageChange(this.props.index, null);\n    this.setState({image_id: null, image_url: null});\n  }\n\n  onFocalPointsChange(value) {\n    this.props.onFocalPointsChange(this.props.index, value);\n    this.setState({focal_points: value});\n  }\n\n  collapseSlide() {\n    this.setState({isHidden: true});\n  }\n\n  openSlide() {\n    this.setState({isHidden: false});\n  }\n\n  toggleSlide() {\n    this.setState({isHidden: !this.state.isHidden});\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div className={this.state.isHidden ? '' : 'carousel-header-slide-container'}>\n          <div onClick={ev => this.toggleSlide()} className='slide-number-row'>\n            <span>\n              {__('Slide', 'p4ge')} {this.props.index + 1}\n            </span>\n            <span className={this.state.isHidden ? 'slide-arrow' : 'slide-arrow slide-open'}>\n              <Dashicon icon=\"arrow-down-alt2\"/>\n            </span>\n          </div>\n\n          {!this.state.isHidden &&\n\n          <Fragment>\n            <div className='carousel-header-slide-options-wrapper'>\n              <div>{__('Select image and focal point', 'p4ge')}</div>\n              <CarouselHeaderImage\n                image_id={this.state.image_id}\n                image_url={this.state.image_url}\n                focal_points={this.state.focal_points}\n                onRemove={() => this.onImageRemove()}\n                onChange={(image) => this.onImageChange(image)}\n                onFocalPointsChange={(f) => this.onFocalPointsChange(f)}\n              />\n              <div className=\"ch-url-input-control__wrapper\">\n\n                <TextControl\n                  className=\"carouselh-header-input\"\n                  label={__('Header', 'p4ge')}\n                  placeholder={__('Enter header', 'p4ge')}\n                  value={this.props.header}\n                  onChange={(e) => this.props.onHeaderChange(this.props.index, e)}\n                />\n                <SelectControl\n                  label={__('Header text size', 'p4ge')}\n                  value={this.props.header_size}\n                  options={[\n                    {label: 'h1', value: 'h1'},\n                    {label: 'h2', value: 'h2'},\n                    {label: 'h3', value: 'h3'},\n                  ]}\n                  onChange={(e) => this.props.onHeaderSizeChange(this.props.index, e)}\n                />\n              </div>\n              {this.props.hasSubheader &&\n              <TextControl\n                label={__('Subheader', 'p4ge')}\n                placeholder={__('Enter subheader', 'p4ge')}\n                value={this.props.subheader}\n                onChange={(e) => this.props.onSubheaderChange(this.props.index, e)}\n              />\n              }\n              <TextareaControl\n                label={__('Description', 'p4ge')}\n                placeholder={__('Enter description of image', 'p4ge')}\n                value={this.props.description}\n                onChange={(e) => this.props.onDescriptionChange(this.props.index, e)}\n              />\n              <div className=\"ch-url-input-control__wrapper\">\n\n                <TextControl\n                  label={__('Link text and url', 'p4ge')}\n                  placeholder={__('Enter link text for image', 'p4ge')}\n                  value={this.props.link_text}\n                  onChange={(e) => this.props.onLinkTextChange(this.props.index, e)}\n                  className='carousel-header-link-text-input'\n                />\n                <form\n                  className=\"ch-url-input-control\"\n                  onSubmit={event => event.preventDefault()}>\n                  <div className=\"ch-url-input-control__wrapper\">\n                    <URLInput\n                      label={__('Url for link', 'p4ge')}\n                      className=\"ch-url-input-control__input\"\n                      value={this.props.link_url}\n                      onChange={(e) => this.props.onLinkUrlChange(this.props.index, e)}\n                      autoFocus={false}\n                    />\n                    <div className=\"ch-url-input-control__new-tab\">\n                      <ToggleControl\n                        help={__('New Tab', 'p4ge')}\n                        checked={this.props.link_url_new_tab}\n                        onChange={(e) => this.props.onLinkNewTabChange(this.props.index, e)}\n                      />\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </Fragment>\n          }\n        </div>\n      </Fragment>\n    );\n  };\n}\n","import {React, Component} from 'react';\n\nexport default class ImagePlaceholder extends Component {\n  render() {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 512 376\">\n      <path d=\"M0,0v376h512V0H0z M480,344H32V32h448V344z\"/>\n      <circle cx=\"409.1\" cy=\"102.9\" r=\"40.9\"/>\n      <polygon\n        points=\"480,344 32,344 118.3,179.8 140,191.1 189,113.8 289,226.9 297.9,217.6 315,239.9 341,193.5 393.9,264.7 409,248.8\"/>\n    </svg>\n  }\n}\n","import { React } from 'react';\nimport {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender,\n  Dashicon,\n  Tooltip,\n  ToggleControl, Button\n} from '@wordpress/components';\nimport {MediaPlaceholder, MediaUpload, MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Columns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {columns_title,columns_description,columns_block_style,columns,column_img,onDeleteImage} = this.props;\n\n      const getImageOrButton = (openEvent, index) => {\n        if ( columns[index] && columns[index]['attachment'] && ( 0 <  columns[index]['attachment'] ) ) {\n\n          return (\n\n            <div align='center'>\n              <div>{__('Column %s: Image', 'p4ge').replace('%s', index+1)}</div>\n              <div className=\"img-wrap\">\n                <Tooltip text={__('Remove Column Image', 'p4ge')}>\n                  <span className=\"close\" onClick={ev => {\n                    onDeleteImage(index);\n                    ev.stopPropagation()\n                  }}>&times;</span>\n                </Tooltip>\n              <img\n                src={ column_img[columns[index]['attachment']] }\n                onClick={ openEvent }\n                className='Columns__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n              </div>\n            </div>\n\n          );\n        }\n        else {\n\n          return (\n            <div className='column-img-btn-container'>\n              <div className='column-img-label'>{__('Column %s: Image', 'p4ge').replace('%s', index+1)}</div>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Column %s: Image', 'p4ge').replace('%s', index+1)}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <h3>{__('What style of column do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={columns_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('No Image', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-no_images.jpg',\n                  value: 'no_image',\n                  help: __('Optional headers, description text and buttons in a column display.', 'p4ge')\n                },\n                {\n                  label: __('Tasks', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-tasks.jpg',\n                  value: 'tasks',\n                  help: __('Used on Take Action pages, this display has ordered tasks, and call to action buttons.', 'p4ge')\n                },\n                {\n                  label: __('Icons', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-icons.jpg',\n                  value: 'icons',\n                  help: __('For more static content, this display has an icon, header, description and text link.', 'p4ge')\n                },\n                {\n                  label: __('Images', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-images.jpg',\n                  value: 'image',\n                  help: __('For more static content, this display has an image, header, description and text link.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter block title', 'p4ge')}\n              value={columns_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter block description', 'p4ge')}\n              value={columns_description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n          <div>\n\n            {columns.map((item, index) => {\n              return (\n                <div key={index}>\n                  <div><hr /></div>\n                  { !item.title && !item.description &&\n                   <div><b>{__('Please provide a header or a body for this column to be displayed.', 'p4ge')}</b></div>\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Header', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter header of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.title}\n                    onChange={this.props.onColumnHeaderChange.bind(this,index)}\n                  />\n                  <TextareaControl\n                    label={__('Column %s: Body', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter body of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.description}\n                    onChange={this.props.onColumnDescriptionChange.bind(this,index)}\n                  />\n\n                  { 'no_image' != columns_block_style &&\n                    <div className='components-base-control'>\n                      <MediaUploadCheck>\n                        <MediaUpload\n                          type='image'\n                          onSelect={this.props.onSelectImage.bind(this,index)}\n                          value={item.attachment}\n                          allowedTypes={columns_block_style === 'icons' ? ['image/png'] : ['image']}\n                          render={ ({ open }) => getImageOrButton(open, index) }\n                        />\n                      </MediaUploadCheck>\n                      { columns_block_style === 'icons' && item.attachment > 0 && typeof column_img[item.attachment] !== 'undefined' && !column_img[item.attachment].endsWith('.png') &&\n                       <div><b>{__('Please select another image for this column, as the current image is not an icon and you have chosen columns style icons. ', 'p4ge')}</b></div>\n                      }\n                    </div>\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Button/CtA Link', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_link}\n                    onChange={this.props.onCTALinkChange.bind(this,index)}\n                  />\n                  <ToggleControl\n                    label={__('Open link in new tab', 'p4ge')}\n                    help={__('Open Column %s: Button/CtA Link in a new tab', 'p4ge').replace('%s', index+1)}\n                    value={item.link_new_tab}\n                    checked={item.link_new_tab}\n                    onChange={this.props.onLinkNewTabChange.bind(this,index)}\n                  />\n                  <TextControl\n                    label={__('Column %s: Button/CtA Text', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter text of button/link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_text}\n                    onChange={this.props.onCTAButtonTextChange.bind(this,index)}\n                  />\n                </div>\n              );\n            })}\n\n            { columns.length < 4 && (\n              <Tooltip text={__('Add Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__addIcon\"\n                  }\n                  onClick={this.props.addColumn}\n                >\n                  {__('Add Column', 'p4ge')} <Dashicon icon={\"plus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n\n            { columns.length > 0 && (\n              <Tooltip text={__('Remove Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__removeIcon\"\n                  }\n                  onClick={this.props.removeColumn}\n                >\n                  {__('Remove Column', 'p4ge')} <Dashicon icon={\"minus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/columns'}\n                  attributes={{\n                    columns_block_style: this.props.columns_block_style,\n                    columns_title: this.props.columns_title,\n                    columns_description: this.props.columns_description,\n                    columns: this.props.columns,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Columns} from './Columns.js';\nimport {withSelect} from '@wordpress/data';\n\nconst {__} = wp.i18n;\n\nexport class ColumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/columns', {\n        title: __('Columns', 'p4ge'),\n        icon: \"grid-view\",\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_columns columns_block_style=\"image\" columns_title=\"Lorem Ipsum\" columns_description=\"Lorem Ipsum\"\n         *                    title_1=\"col1\" description_1=\"col1 body\" attachment_1=\"5096\" link_1=\"cta link1\" link_new_tab_1=\"true\" cta_text_1=\"cta text\"\n         *                    title_2=\"col2\" description_2=\"col2 body\" attachment_2=\"5186\" link_2=\"cta link2\" link_new_tab_2=\"true\" cta_text_2=\"cta text 2\" link_new_tab_3=\"false\" link_new_tab_4=\"false\" /]\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/columns {\"columns_block_style\":\"image\",\"columns_title\":\"Lorem Ipsum\",\"columns_description\":\"Lorem Ipsum\",\n         *      \"columns\":[{\"title\":\"col1\",\"description\":\"col1 body\",\"attachment\":5096,\"cta_link\":\"cta link1\",\"cta_text\":\"cta text 1\",\"link_new_tab\":true},{\"title\":\"col2\",\"description\":\"col2 body\",\"attachment\":5186,\"cta_link\":\"cta link2\",\"cta_text\":\"cta text 2\",\"link_new_tab\":true}]} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_columns',\n              attributes: {\n                columns_block_style: {\n                  type: 'string',\n                  shortcode: ({named: {columns_block_style = ''}}) => columns_block_style,\n                },\n                columns_title: {\n                  type: 'string',\n                  shortcode: ({named: {columns_title = ''}}) => columns_title,\n                },\n                columns_description: {\n                  type: 'string',\n                  shortcode: ({named: {columns_description = ''}}) => columns_description,\n                },\n                columns: {\n                  type: 'array',\n                  shortcode: function (attributes) {\n                    let columns = [];\n                    if (attributes.named.title_1) {\n                      let column = {\n                        title: attributes.named.title_1,\n                        description: attributes.named.description_1 || ''\n                      };\n                      if (attributes.named.columns_block_style !== 'no_image') {\n                        column.attachment = attributes.named.attachment_1 || false;\n                      }\n                      column.cta_link = attributes.named.link_1 || '';\n                      column.link_new_tab = attributes.named.link_new_tab_1 || false;\n                      column.cta_text = attributes.named.cta_text_1 || '';\n                      columns.push(Object.assign({}, column));\n\n                      if (attributes.named.title_2) {\n                        let column = {\n                          title: attributes.named.title_2,\n                          description: attributes.named.description_2 || ''\n                        };\n                        if (attributes.named.columns_block_style !== 'no_image') {\n                          column.attachment = attributes.named.attachment_2 || false;\n                        }\n                        column.cta_link = attributes.named.link_2 || '';\n                        column.link_new_tab = attributes.named.link_new_tab_2 || false;\n                        column.cta_text = attributes.named.cta_text_2 || '';\n                        columns.push(Object.assign({}, column));\n\n\n                        if (attributes.named.title_3) {\n                          let column = {\n                            title: attributes.named.title_3,\n                            description: attributes.named.description_3 || ''\n                          };\n                          if (attributes.named.columns_block_style !== 'no_image') {\n                            column.attachment = attributes.named.attachment_3 || false;\n                          }\n                          column.cta_link = attributes.named.link_3 || '';\n                          column.link_new_tab = attributes.named.link_new_tab_3 || false;\n                          column.cta_text = attributes.named.cta_text_3 || '';\n                          columns.push(Object.assign({}, column));\n\n                          if (attributes.named.title_4) {\n                            let column = {\n                              title: attributes.named.title_4,\n                              description: attributes.named.description_4 || ''\n                            };\n                            if (attributes.named.columns_block_style !== 'no_image') {\n                              column.attachment = attributes.named.attachment_4 || false;\n                            }\n                            column.cta_link = attributes.named.link_4 || '';\n                            column.link_new_tab = attributes.named.link_new_tab_4 || false;\n                            column.cta_text = attributes.named.cta_text_4 || '';\n                            columns.push(Object.assign({}, column));\n                          }\n                        }\n                      }\n                    }\n                    return columns;\n                  },\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          columns_block_style: {\n            type: 'string',\n          },\n          columns_title: {\n            type: 'string'\n          },\n          columns_description: {\n            type: 'string'\n          },\n          columns: {\n            type: \"array\",\n            default: [],\n            title:{\n              type: 'string'\n            },\n            description:{\n              type: 'string'\n            },\n            attachment:{\n              type: 'integer'\n            },\n            cta_link:{\n              type: 'string'\n            },\n            link_new_tab:{\n              type: 'string'\n            },\n            cta_text:{\n              type: 'string'\n            },\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { columns } = attributes;\n          let column_img = [];\n\n          if ( columns && 0 < columns.length ) {\n\n            for ( let column of columns ) {\n              if ( column['attachment'] && ( 0 < column['attachment'] ) ) {\n\n                let media_details = select('core').getMedia( column['attachment'] );\n                if (media_details) {\n                  column_img[column['attachment']] = select('core').getMedia( column['attachment'] ).source_url;\n                }\n              }\n            }\n          }\n\n          return { column_img };\n\n        } )( ( { isSelected, attributes, setAttributes, column_img} ) => {\n\n          function onTitleChange(value) {\n            setAttributes({columns_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({columns_description: value});\n          }\n\n          function onSelectImage(index, value) {\n            let {id}          = value;\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].attachment = id;\n            setAttributes({columns});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({columns_block_style: value});\n\n            if ( 'no_image' === value ) {\n              const {columns} = attributes;\n              if ( 0 < columns.length ) {\n                let new_columns = [...columns];\n                let i;\n                for ( i = 0; i < columns.length; i++ ) {\n                  new_columns[i]['attachment'] = 0;\n                }\n                setAttributes({columns: new_columns});\n              }\n            }\n          }\n\n          function addColumn() {\n            const {columns} = attributes;\n\n            if ( columns.length < 4 ) {\n              setAttributes({\n                columns: [...columns, {\n                  title:'',\n                  description:'',\n                  attachment:0,\n                  cta_link:'',\n                  cta_text:'',\n                  link_new_tab:'',\n                }]\n              });\n            }\n          }\n\n          function removeColumn() {\n            setAttributes({columns: attributes.columns.slice(0, -1) });\n          }\n\n          function onColumnHeaderChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].title = value;\n            setAttributes({columns});\n          }\n\n          function onColumnDescriptionChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].description = value;\n            setAttributes({columns});\n          }\n\n          function onCTALinkChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_link = value;\n            setAttributes({columns});\n          }\n\n          function onLinkNewTabChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].link_new_tab = value;\n            setAttributes({columns});\n          }\n\n          function onCTAButtonTextChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_text = value;\n            setAttributes({columns});\n          }\n\n          function onDeleteImage(index) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].attachment = 0;\n            setAttributes({columns});\n          }\n\n          return <Columns\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onSelectImage={onSelectImage}\n            addColumn={addColumn}\n            removeColumn={removeColumn}\n            onColumnHeaderChange={onColumnHeaderChange}\n            onColumnDescriptionChange={onColumnDescriptionChange}\n            onCTALinkChange={onCTALinkChange}\n            onLinkNewTabChange={onLinkNewTabChange}\n            onCTAButtonTextChange={onCTAButtonTextChange}\n            column_img={column_img}\n            onDeleteImage={onDeleteImage}\n          />\n        } ),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\nexport class Cookies extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Cookies options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display opt-in options for cookies',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={this.props.title}\n              onChange={this.props.onTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"Necessary Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.necessary_cookies_name}\n              onChange={this.props.onNecessaryCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Necessary Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.necessary_cookies_description}\n              onChange={this.props.onNecessaryCookiesDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"All Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.all_cookies_name}\n              onChange={this.props.onAllCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"All Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.all_cookies_description}\n              onChange={this.props.onAllCookiesDescriptionChange}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/cookies'}\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              necessary_cookies_name: this.props.necessary_cookies_name,\n              necessary_cookies_description: this.props.necessary_cookies_description,\n              all_cookies_name: this.props.all_cookies_name,\n              all_cookies_description: this.props.all_cookies_description,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Cookies} from './Cookies.js';\n\nexport class CookiesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/cookies', {\n      title: 'Cookies',\n      icon: 'welcome-view-site',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_cookies',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              necessary_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_name;\n                }\n              },\n              necessary_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_description;\n                }\n              },\n              all_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_name;\n                }\n              },\n              all_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_description;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        necessary_cookies_name: {\n          type: 'string',\n        },\n        necessary_cookies_description: {\n          type: 'string',\n        },\n        all_cookies_name: {\n          type: 'string',\n        },\n        all_cookies_description: {\n          type: 'string',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onNecessaryCookiesNameChange(value) {\n          setAttributes({necessary_cookies_name: value});\n        }\n\n        function onNecessaryCookiesDescriptionChange(value) {\n          setAttributes({necessary_cookies_description: value});\n        }\n\n        function onAllCookiesNameChange(value) {\n          setAttributes({all_cookies_name: value});\n        }\n\n        function onAllCookiesDescriptionChange(value) {\n          setAttributes({all_cookies_description: value});\n        }\n\n        return <Cookies\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onNecessaryCookiesNameChange={onNecessaryCookiesNameChange}\n          onNecessaryCookiesDescriptionChange={onNecessaryCookiesDescriptionChange}\n          onAllCookiesNameChange={onAllCookiesNameChange}\n          onAllCookiesDescriptionChange={onAllCookiesDescriptionChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import { React, Component } from 'react';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nexport class Counter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const { __ } = wp.i18n;\n\n    return (\n      <div>\n        <h3>{ __('What style of counter do you need?', 'p4ge') }</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={ this.props.style }\n            onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n            options={[\n              {\n                label: __('Text Only', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_text.png',\n                value: 'plain',\n                help: __('Text to describe your progress', 'p4ge')\n              },\n              {\n                label: __('Progress Bar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'bar',\n                help: __('A bar to visualise the progress.', 'p4ge'),\n              },\n              {\n                label: __('Progress Dial', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_arc.png',\n                value: 'arc',\n                help: __('A dial to visualise the progress.', 'p4ge')\n              },\n              {\n                label: __('Progress bar inside EN Form', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'en-forms-bar',\n                help: __('A bar inside an En Form. Select this only if you are adding an EN Form to the same page.', 'p4ge')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Title', 'p4ge') }\n            placeholder= { __('Enter title', 'p4ge') }\n            value={ this.props.title }\n            onChange={ this.props.onTitleChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Description', 'p4ge') }\n            placeholder= { __('Enter description', 'p4ge') }\n            value={ this.props.description }\n            onChange={ this.props.onDescriptionChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed', 'p4ge') }\n            placeholder= { __('e.g. number of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.completed }\n            onChange={ this.props.onCompletedChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed API URL', 'p4ge') }\n            placeholder= { __('API URL of completed number. If filled in will overide the \\'Completed\\' field', 'p4ge') }\n            value={ this.props.completed_api }\n            onChange={ this.props.onCompletedAPIChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Target', 'p4ge') }\n            placeholder= { __('e.g. target no. of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.target }\n            onChange={ this.props.onTargetChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Text', 'p4ge') }\n            placeholder= { __('e.g. \"signatures collected of %target%\"', 'p4ge') }\n            value={ this.props.text }\n            onChange={ this.props.onTextChange }\n          />\n          <p className='FieldHelp'>These placeholders can be used: <code>%completed%</code>, <code>%target%</code>, <code>%remaining%</code> </p>\n        </div>\n\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={ this.props.isSelected }>\n          <ServerSideRender\n            block={ 'planet4-blocks/counter' }\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              style: this.props.style,\n              completed: this.props.completed,\n              completed_api: this.props.completed_api,\n              target: this.props.target,\n              text: this.props.text,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n};","import { Counter } from './Counter.js';\n\nexport class CounterBlock {\n  constructor() {\n    const { registerBlockType } = wp.blocks;\n    const { withSelect } = wp.data;\n\n    registerBlockType( 'planet4-blocks/counter', {\n      title: 'Counter',\n      icon: 'dashboard',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_counter',\n            attributes: {\n              style: {\n                type: 'string',\n                shortcode: ( { named: { style = 'plain' } } ) => style,\n              },\n              title: {\n                type: 'string',\n                shortcode: ( { named: { title = '' } } ) => title,\n              },\n              description: {\n                type: 'string',\n                shortcode: ( { named: { description = '' } } ) => description,\n              },\n              completed: {\n                type: 'integer',\n                shortcode: ( { named: { completed = 0 } } ) => Number(completed),\n              },\n              completed_api: {\n                type: 'string',\n                shortcode: ( { named: { completed_api = '' } } ) => completed_api === '' ? null : completed_api,\n              },\n              target: {\n                type: 'integer',\n                shortcode: ( { named: { target = 0 } } ) => Number(target),\n              },\n              text: {\n                type: 'string',\n                shortcode: ( { named: { text = '' } } ) => text,\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        style: {\n          type: 'string',\n          default: 'plain'\n        },\n        completed: {\n          type: 'integer',\n        },\n        completed_api: {\n          type: 'string',\n        },\n        target: {\n          type: 'integer',\n        },\n        text: {\n          type: 'string',\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange( value ) {\n          setAttributes( { title: value } );\n        }\n\n        function onDescriptionChange( value ) {\n          setAttributes( { description: value } );\n        }\n\n        function onSelectedLayoutChange( value ) {\n          setAttributes( { style: value } );\n        }\n\n        function onCompletedChange( value ) {\n          setAttributes( { completed: Number(value) } );\n        }\n\n        function onCompletedAPIChange( value ) {\n          setAttributes( { completed_api: value } );\n        }\n\n        function onTargetChange( value ) {\n          setAttributes( { target: Number(value) } );\n        }\n\n        function onTextChange( value ) {\n          setAttributes( { text: value } );\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Counter\n          { ...attributes }\n          isSelected={ isSelected }\n          onTitleChange={ onTitleChange }\n          onDescriptionChange={ onDescriptionChange }\n          onSelectedLayoutChange={ onSelectedLayoutChange }\n          onCompletedChange={ onCompletedChange }\n          onCompletedAPIChange={ onCompletedAPIChange }\n          onTargetChange={ onTargetChange }\n          onTextChange={ onTextChange }   />\n      },\n      save() {\n        return null;\n      }\n    } );\n  };\n}\n\n","import React, { Component } from 'react';\n\nimport {\n  FormTokenField,\n  SelectControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\n\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Covers extends Component {\n    constructor(props) {\n      super(props);\n\n      // Populate tag tokens for saved tags.\n      let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n      // Populate post types tokens for saved post types.\n      let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n      // Populate component state with block's saved tags tokens and post type tokens\n      this.state = {\n        tagTokens: tagTokens,\n        postTypeTokens: postTypeTokens,\n        selectedPosts: [],\n      };\n\n      this.populatePostsToken();\n      this.searchTimeout = null;\n    }\n\n    static getDerivedStateFromProps(props, state) {\n\n      // Post types should be available for cover_type 3\n      // If cover_type is not 3, reset post types tokens.\n      if ('1' === props.cover_type || '2' === props.cover_type) {\n        state.postTypeTokens= [];\n      }\n\n      // If posts attribute was reset, reset also the posts tokens.\n      if (0 === props.posts.length) {\n        state.postsTokens= [];\n      }\n      return state;\n    }\n\n\n    /**\n     * Set component's state for existing blocks.\n     */\n    populatePostsToken() {\n\n      if (this.props.posts.length > 0) {\n\n        let post_type = this.props.cover_type === '1' ? 'pages' : 'posts';\n        apiFetch(\n          {\n            path: addQueryArgs('/wp/v2/'+ post_type, {\n              per_page: 50,\n              page: 1,\n              include: this.props.posts\n            })\n          }\n        ).then(posts => {\n          const postsTokens = posts.map(post => post.title.rendered);\n          const postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({\n              postsTokens: postsTokens,\n              postsList: posts,\n              postsSuggestions: postsSuggestions,\n              selectedPosts: posts,\n            }\n          );\n        });\n      } else {\n        this.setState(\n          {\n            postsTokens: [],\n            postsList: [],\n            postsSuggestions: [],\n            selectedPosts: [],\n          }\n        );\n      }\n    }\n\n    /**\n     * Search posts using wp api.\n     *\n     * @param tokens\n     */\n    searchPosts(tokens) {\n\n      let queryArgs;\n      if ('1' === this.props.cover_type) {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/pages', {\n            per_page: -1,\n            post_type: 'page',\n            post_parent: window.p4ge_vars.planet4_options.act_page,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      } else {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      }\n\n\n      apiFetch(queryArgs)\n        .then(posts => {\n          let postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n        });\n    }\n\n    onPostsSearch(token) {\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(function () {\n        this.searchPosts(token);\n      }.bind(this), 500);\n    }\n\n    onSelectedTagsChange(tokens) {\n      const tagIds = tokens.map( token => {\n        return this.props.tagsList.filter( tag => tag.name === token )[0].id;\n      });\n      this.props.onSelectedTagsChange(tagIds);\n      this.setState({ tagTokens: tokens })\n    }\n\n    onSelectedPostTypesChange(tokens) {\n      const postTypeIds = tokens.map( token => {\n        return this.props.postTypesList.filter( postType => postType.name === token )[0].id;\n      });\n      this.props.onSelectedPostTypesChange(postTypeIds);\n      this.setState({ postTypeTokens: tokens })\n    }\n\n    onSelectedPostsChange(tokens) {\n      // Array to hold references to selected posts objects.\n      let currentSelectedPosts = [];\n      tokens.forEach(token => {\n        let f = this.state.postsList.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n        f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n      });\n\n      const postIds = currentSelectedPosts.map(post => post.id);\n      this.props.onSelectedPostsChange(postIds);\n      this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n    }\n\n    renderEdit() {\n      const { __ } = wp.i18n;\n\n      const tagSuggestions = this.props.tagsList.map( tag => tag.name );\n      const postTypeSuggestions = this.props.postTypesList.map( postType => postType.name );\n\n      return (\n        <div>\n          <h3>{ __('What style of cover do you need?', 'p4ge') }</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={ this.props.cover_type }\n              onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n              options={[\n                {\n                  label: __('Take Action Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/take_action_covers.png',\n                  value: '1',\n                  help: __('Take action covers pull the featured image, tags, have a 25 character excerpt and have a call to action button')\n                },\n                {\n                  label: __('Campaign Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/campaign_covers.png',\n                  value: '2',\n                  help: __('Campaign covers pull the associated image and hashtag from the system tag definitions.'),\n                },\n                {\n                  label: __('Content Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/content_covers.png',\n                  value: '3',\n                  help: __('Content covers pull the image from the post.')\n                },\n              ]}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label=\"Rows to display\"\n              value={ this.props.covers_view }\n              options={ [\n                { label: '1 Row', value: '1' },\n                { label: '2 Rows', value: '2' },\n                { label: 'All rows', value: '3' },\n              ] }\n              onChange={ this.props.onRowsChange }\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={ this.props.title }\n              onChange={ this.props.onTitleChange }\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={ this.props.description }\n              onChange={ this.props.onDescriptionChange }\n            />\n          </div>\n\n          {\n            this.props.posts !== 'undefined' && this.props.posts.length === 0\n              ?\n              <div>\n\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label='Select Tags'\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                  placeholder=\"Select Tags\"\n                />\n                <p class='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              : null\n          }\n\n          {\n            this.props.cover_type === '3' && this.props.posts.length === 0\n              ? <FormTokenField\n                value={this.state.postTypeTokens}\n                suggestions={postTypeSuggestions}\n                label='Post Types'\n                onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                placeholder=\"Select Tags\"\n              />\n              : null\n          }\n\n          {\n            (this.props.cover_type === '1' || this.props.cover_type === '3') &&\n            (this.props.tags.length === 0 && this.props.post_types.length === 0)\n              ? <div>\n                <label>Manual override</label>\n                <FormTokenField\n                  value={this.state.postsTokens}\n                  suggestions={this.state.postsSuggestions}\n                  label='CAUTION: Adding covers manually will override the automatic functionality.'\n                  onChange={tokens => this.onSelectedPostsChange(tokens)}\n                  onInputChange={token => this.onPostsSearch(token)}\n                  placeholder=\"Select Tags\"\n                />\n              </div>\n              : null\n          }\n\n        </div>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={ this.props.isSelected }>\n                <ServerSideRender\n                  block={ 'planet4-blocks/covers' }\n                  attributes={{\n                    cover_type: this.props.cover_type,\n                    covers_view: this.props.covers_view,\n                    tags: this.props.tags,\n                    post_types: this.props.post_types,\n                    posts: this.props.posts,\n                    title: this.props.title,\n                    description: this.props.description,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n};\n","import { CoversIcon } from './CoversIcon.js';\nimport { Covers } from './Covers.js';\n\nexport class CoversBlock {\n    constructor() {\n      const { registerBlockType } = wp.blocks;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/covers', {\n        title: 'Covers',\n        icon: 'slides',\n        category: 'planet4-blocks',\n\n        // Transform the shortcode into a Gutenberg block\n        // this is used when a user clicks \"Convert to blocks\"\n        // on the \"Classic Editor\" block\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_newcovers',\n              attributes: {\n                cover_type: {\n                  type: 'string',\n                  // This `shortcode` definition will be used as a callback,\n                  // it is a function which expects an object with at least\n                  // a `named` key with `cover_type` property whose default value is 1.\n                  // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n                  shortcode: ({named: {cover_type = '1'}}) => cover_type,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                covers_view: {\n                  type: 'string',\n                  shortcode: ({named: {covers_view}}) => {\n                    switch (covers_view) {\n                      case '0':\n                        return '1';\n                      case '3':\n                        return '2';\n                      case '1':\n                        return '3';\n                    }\n                    return '1';\n                  },\n                },\n                tags: {\n                  type: 'array',\n                  shortcode: ({named: {tags = ''}}) => tags.split(',').map(tag => Number(tag)).filter(tag => tag > 0),\n                },\n                post_types: {\n                  type: 'array',\n                  shortcode: ({named: {post_types = ''}}) => post_types.split(',').map(post_type => Number(post_type)).filter(post_type => post_type > 0),\n                },\n                posts: {\n                  type: 'array',\n                  shortcode: ({named: {posts = ''}}) => posts.split(',').map(post => Number(post)).filter(post => post > 0),\n                },\n              },\n            },\n          ]\n        },\n        // This attributes definition mimics the one in the PHP side.\n        attributes: {\n          title: {\n            type: 'string',\n          },\n          description: {\n            type: 'string',\n          },\n          tags: {\n            type: 'array',\n            default: []\n          },\n          posts: {\n            type: 'array',\n            default: []\n          },\n          post_types: {\n            type: 'array',\n            default: []\n          },\n          covers_view: {\n            type: 'string',\n            default: '1'\n          },\n          cover_type: {\n            type: 'string',\n          }\n        },\n        // withSelect is a \"Higher Order Component\", it works as\n        // a Decorator, it will provide some basic API functionality\n        // through `select`.\n        edit: withSelect( ( select ) => {\n          const tagsTaxonomy = 'post_tag';\n          const postTypesTaxonomy = 'p4-page-type';\n          const args = {\n            hide_empty: false,\n            per_page: -1,\n          };\n\n          const { getEntityRecords } = select( 'core' );\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords( 'taxonomy', tagsTaxonomy, args );\n          const postTypesList = getEntityRecords( 'taxonomy', postTypesTaxonomy );\n\n          return {\n            postTypesList,\n            tagsList,\n          };\n        } )( ( {\n          postTypesList,\n          tagsList,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n            if ( !tagsList || !postTypesList ) {\n                return \"Populating block's fields...\";\n            }\n\n            // TO-DO: Check for posts types and posts too...\n            if ( !tagsList && !tagsList.length === 0 ) {\n                return \"No tags...\";\n            }\n\n            // These methods are passed down to the\n            // Covers component, they update the corresponding attribute.\n\n            function onRowsChange( value ) {\n              setAttributes( { covers_view: value } );\n            }\n\n            function onTitleChange( value ) {\n              setAttributes( { title: value } );\n            }\n\n            function onDescriptionChange( value ) {\n              setAttributes( { description: value } );\n            }\n\n            function onSelectedTagsChange( tagIds ) {\n              setAttributes( { tags: tagIds } );\n            }\n\n            function onSelectedPostsChange(value) {\n              setAttributes({posts: value});\n            }\n\n            function onSelectedPostTypesChange( postTypeIds ) {\n              setAttributes( { post_types: postTypeIds } );\n            }\n\n            function onSelectedLayoutChange( value ) {\n\n              // Post types are available only on cover_type 3, so we reset the post_types attribute in the other 2 cases.\n              if ( '1' === value) {\n                setAttributes( { post_types: [] } );\n              }\n              if ( '2' === value) {\n                setAttributes( { post_types: []} );\n              }\n              // Reset posts attribute when changing layout also.\n              setAttributes({cover_type: value, posts: []});\n            }\n\n            // We pass down all the attributes to Covers as props using\n            // the spread operator. Then we selectively add more\n            // props.\n            return <Covers\n              { ...attributes }\n              isSelected={ isSelected }\n              tagsList={ tagsList }\n              postTypesList={ postTypesList }\n              onSelectedTagsChange={ onSelectedTagsChange }\n              onSelectedLayoutChange={ onSelectedLayoutChange }\n              onTitleChange={ onTitleChange }\n              onDescriptionChange={ onDescriptionChange }\n              onSelectedPostsChange={ onSelectedPostsChange }\n              onSelectedPostTypesChange={ onSelectedPostTypesChange }\n              onRowsChange={ onRowsChange } />\n        } ),\n        save() {\n          return null;\n        }\n      } );\n    };\n}\n\n","import { React, Component } from 'react';\n\nexport class CoversIcon extends Component {\n\trender() {\n\t\treturn <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 66 82.5\" enable-background=\"new 0 0 66 66\"><g><g><path d=\"M8.193,37.334l23.804-10.512v-8.007L6.099,30.093c-0.24,0.11-0.44,0.31-0.53,0.56c-0.1,0.24-0.09,0.52,0.01,0.76    L8.193,37.334z\"/><path d=\"M8.999,39.163l4.9,11.08c4.55-1.49,7.1,2.61,8.76,3.78c1.51-1.01,4.47-5.71,9.34-3.55v-21.47L8.999,39.163z     M21.059,42.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49    C21.779,42.033,21.559,42.623,21.059,42.853z M27.059,39.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33    l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49C27.779,39.033,27.559,39.623,27.059,39.853z\"/><path d=\"M33.998,26.816l24.005,10.392l2.416-5.816c0.21-0.5-0.02-1.08-0.52-1.3L33.998,18.813V26.816z\"/><path d=\"M33.999,28.993v22.77c0.95,0.8,2.02,2.26,2.44,2.26c1.97-1.66,3.56-4.08,6.88-4.08c4.21,0,6.03,4.07,6.9,4.07    c0.1-0.087,0.722-0.298,1.25-1.09l5.77-13.87L33.999,28.993z M41.269,39.823c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46    c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.83-0.72,1.33-0.49l1,0.46C41.279,38.733,41.499,39.323,41.269,39.823z M47.269,42.823    c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.82-0.72,1.33-0.49l1,0.46    C47.279,41.733,47.499,42.323,47.269,42.823z\"/></g><g><path d=\"M37.999,2.983v5.63h-10v-5.63c0-1.1,0.9-2,2-2h6C37.099,0.983,37.999,1.883,37.999,2.983z\"/></g><path d=\"M48.319,13.823c-0.38-1.86-2.03-3.21-3.93-3.21h-22.78c-1.9,0-3.55,1.35-3.92,3.21l-1.98,9.91   c5.27-2.31,11.32-4.94,17.29-7.54c1.02,0.45,9.84,4.29,17.29,7.54L48.319,13.823z M24.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1   h2c0.55,0,1,0.45,1,1S25.549,17.233,24.999,17.233z M42.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1h2c0.55,0,1,0.45,1,1   S43.549,17.233,42.999,17.233z\"/><path d=\"M64,62.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1C65,63.43,64.552,62.982,64,62.982z\"/><path d=\"M64,55.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1S64.552,55.982,64,55.982z\"/></g></svg>\n\t}\n}\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  Toolbar,\n  IconButton,\n  Button\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Gallery extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const getImageOrButton = (openEvent) => {\n        if ( 0 < this.props.image_data.length ) {\n\n          return (\n\n            this.props.image_data.map((item, index) => {\n              return (\n                <span>\n                  <img\n                    src={ item.url }\n                    onClick={ openEvent }\n                    className=\"gallery__imgs\"\n                    key={index}\n                    width='150 px'\n                    style={{padding: '10px 10px'}}\n                  />\n                </span>\n              );\n            })\n\n          );\n        }\n        else {\n          return (\n            <div className=\"button-container\">\n              <Button\n                onClick={ openEvent }\n                className=\"button\">\n                + {__('Select Gallery Images', 'p4ge')}\n              </Button>\n\n              <div>{__('Select images in the order you want them to appear.', 'p4ge')}</div>\n            </div>\n          );\n        }\n      };\n\n      const {__} = wp.i18n;\n\n      const {gallery_block_style , gallery_block_title , gallery_block_description , multiple_image , image_data} = this.props;\n\n      const dimensions = {width: 400, height: 100};\n\n      let multiple_image_array = multiple_image ? multiple_image.split(',') : [];\n\n      return (\n        <Fragment>\n          <BlockControls>\n            { 0 < image_data.length && (\n              <Toolbar>\n                { 0 < multiple_image_array.length && (\n                  <MediaUploadCheck>\n                    <MediaUpload\n                      onSelect={this.props.onSelectImage}\n                      allowedTypes={[\"image\"]}\n                      value={multiple_image_array}\n                      type=\"image\"\n                      multiple=\"true\"\n                      render={({ open }) => {\n                        return (\n                          <IconButton\n                            className=\"components-icon-button components-toolbar__control\"\n                            label={__(\n                              \"Edit Images\",\n                              \"mytheme-blocks\"\n                            )}\n                            onClick={open}\n                            icon=\"edit\"\n                          />\n                        );\n                      }}\n                    />\n                  </MediaUploadCheck>\n                )}\n                <IconButton\n                  className=\"components-icon-button components-toolbar__control\"\n                  label={__(\"Remove Images\", \"mytheme-blocks\")}\n                  onClick={this.props.onRemoveImages}\n                  icon=\"trash\"\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          <h3>{__('What style of gallery do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={gallery_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('Slider', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-slider.jpg',\n                  value: 1,\n                  help: __('The slider is a carousel of images. For more than 5 images, consider using a grid.', 'p4ge')\n                },\n                {\n                  label: __('3 Column', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-3-column.jpg',\n                  value: 2,\n                  help: __('The 3 column image display is great for accentuating text, and telling a visual story.', 'p4ge')\n                },\n                {\n                  label: __('Grid', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-grid.jpg',\n                  value: 3,\n                  help: __('The grid shows thumbnails of lots of images. Good to use when showing lots of activity.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={gallery_block_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('Please Enter Description', 'p4ge')}\n              value={gallery_block_description}\n              onChange={this.props.onDescriptionChange}\n            />\n\n            {__('Select Gallery Images', 'p4ge')}\n            <div>\n              <MediaUploadCheck>\n                <MediaUpload\n                  title={__('Select Gallery Images', 'p4ge')}\n                  type=\"image\"\n                  onSelect={this.props.onSelectImage}\n                  value={multiple_image_array}\n                  allowedTypes={[\"image\"]}\n                  multiple=\"true\"\n                  render={ ({ open }) => getImageOrButton(open) }\n                />\n              </MediaUploadCheck>\n            </div>\n\n            {image_data &&\n            <div\n              className={\n                \"wp-block-master-theme-gallery__FocalPointPicker\"\n              }\n            >\n              <ul>\n                {image_data.map((item, index) => {\n                  return (\n                    <li\n                      key={index}\n                    >\n                      {__('Select gallery image focal point', 'p4ge')}\n                      <FocalPointPicker\n                        url={item.url}\n                        dimensions={dimensions}\n                        value={item.focalPoint}\n                        onChange={this.props.onFocalPointChange.bind(this,item.id)}\n                        key={item.id}\n                      />\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n            }\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/gallery'}\n                  attributes={{\n                    gallery_block_style: this.props.gallery_block_style,\n                    gallery_block_title: this.props.gallery_block_title,\n                    gallery_block_description: this.props.gallery_block_description,\n                    multiple_image: this.props.multiple_image,\n                    gallery_block_focus_points: this.props.gallery_block_focus_points,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Gallery} from './Gallery';\n\nconst {__} = wp.i18n;\n\nexport class GalleryBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/gallery', {\n        title: __('Gallery', 'p4ge'),\n        icon: 'format-gallery',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_gallery gallery_block_style=\"2\" gallery_block_title=\"test title\"\n         *                    gallery_block_description=\"test desc\" multiple_image=\"23603,23602,23600,23596\"\n         *                    gallery_block_focus_points=\"{'23596':'left top','23597':'left top','23599':'left top'}\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/gallery {\"gallery_block_style\":3,\"gallery_block_title\":\"test title\",\"gallery_block_description\":\"test desc\",\n         *      \"multiple_image\":\"23603,23602,23600,23596\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_gallery',\n              attributes: {\n                gallery_block_style: {\n                  type: 'integer',\n                  shortcode: ({named: {gallery_block_style = ''}}) => Number(gallery_block_style),\n                },\n                gallery_block_title: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_title = ''}}) => gallery_block_title,\n                },\n                gallery_block_description: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_description = ''}}) => gallery_block_description,\n                },\n                multiple_image: {\n                  type: 'string',\n                  shortcode: ({named: {multiple_image = ''}}) => multiple_image,\n                },\n                gallery_block_focus_points: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_focus_points = ''}}) => gallery_block_focus_points,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          gallery_block_style: {\n            type: 'number',\n            default: 1\n          },\n          gallery_block_title: {\n            type: 'string',\n          },\n          gallery_block_description: {\n            type: 'string',\n          },\n          multiple_image: {\n            type: 'string',\n          },\n          gallery_block_focus_points: {\n            type: 'string',\n          },\n          image_data: {\n            type: 'object',\n            default: []\n          },\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { multiple_image } = attributes;\n\n          let image_urls_array = [];\n\n          if ( multiple_image ) {\n            let image_id_array = multiple_image.split(',');\n\n            $.each(image_id_array, function( index, img_id ) {\n              let img_details = select('core').getMedia(img_id);\n              if ( img_details ) {\n                image_urls_array[img_id] = img_details.source_url;\n              }\n            });\n          }\n\n          return {\n            image_urls_array\n          };\n        } )( ( {\n          image_urls_array,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          let {image_data,gallery_block_focus_points} = attributes;\n\n          // Prepare image_data array on edit gallery block.\n          if (0 == image_data.length && 0 < image_urls_array.length) {\n            let new_image_data = [];\n            let focal_points_json = gallery_block_focus_points ? JSON.parse(gallery_block_focus_points):{};\n\n            for (const img_id in image_urls_array) {\n\n              let x,y;\n              if ($.isEmptyObject(focal_points_json)) {\n                [x,y] = [50,50];\n              } else {\n                [x,y] = focal_points_json[img_id].replace(/\\%/g, '').split(' ');\n              }\n\n              new_image_data.push({\n                url: image_urls_array[img_id],\n                focalPoint: {\n                  x:parseInt(x)/100,\n                  y:parseInt(y)/100\n                },\n                id: img_id\n              });\n            }\n\n            setAttributes({image_data: new_image_data});\n          }\n\n          function onTitleChange( value ) {\n            setAttributes({gallery_block_title: value});\n          }\n\n          function onDescriptionChange( value ) {\n            setAttributes({gallery_block_description: value });\n          }\n\n          function onSelectImage(value) {\n            let image_ids = [];\n            let image_data = [];\n            for (const key in value) {\n              image_ids.push(value[key].id);\n              let img_id = value[key].id;\n              image_data.push({url: value[key].url, focalPoint: {x:0.5, y:0.5}, id: img_id});\n            }\n            setAttributes({multiple_image: image_ids.join(',')});\n            setAttributes({image_data: image_data});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({gallery_block_style: Number(value)});\n          }\n\n          function onFocalPointChange( image_id, value ) {\n\n            let updated_image_data = [];\n            let gallery_block_focus_points = {};\n\n            image_data.map(function(object){\n              if (object.id === image_id) {\n                let x = parseFloat(value.x).toFixed(2);\n                let y = parseFloat(value.y).toFixed(2);\n\n                updated_image_data.push({url: object.url, focalPoint: {x,y}, id: image_id});\n                gallery_block_focus_points[image_id] = (x*100)+'% '+(y*100)+'%';\n\n              } else {\n                updated_image_data.push(object);\n                let img_id = object.id;\n                gallery_block_focus_points[img_id] = parseInt(object.focalPoint.x*100)+'% '+parseInt(object.focalPoint.y*100)+'%';\n              }\n            });\n\n            setAttributes({gallery_block_focus_points: JSON.stringify(gallery_block_focus_points)});\n            setAttributes({image_data: updated_image_data});\n          }\n\n          function onRemoveImages() {\n            setAttributes({multiple_image: ''});\n            setAttributes({gallery_block_focus_points: ''});\n            setAttributes({image_data: []});\n          }\n\n          return <Gallery\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onSelectImage={onSelectImage}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {Component,Fragment} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\n\nimport {\n  MediaPlaceholder,\n  InspectorControls,\n  BlockControls,\n  MediaUpload,\n  MediaUploadCheck\n} from '@wordpress/editor';\n\nimport {\n  TextControl,\n  ServerSideRender,\n  FocalPointPicker,\n  ToggleControl,\n  RangeControl,\n  PanelBody,\n  Button,\n  Toolbar,\n  IconButton\n} from '@wordpress/components';\n\nexport class Happypoint extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const dimensions = {width: 400, height: 100};\n\n      const {focus_image, opacity, mailing_list_iframe, iframe_url, url, id} = this.props;\n\n      let focal_point_params = {x:'',y:''};\n\n      if (focus_image) {\n        let focus_image_str = focus_image.replace(/%/g, '');\n        let [x, y] = focus_image_str.split(' ');\n        focal_point_params = {x: x/100,y: y/100};\n      } else {\n        focal_point_params = {x:0.5, y:0.5};\n      }\n\n      const getImageOrButton = (openEvent) => {\n        if ( this.props.id && ( 0 < this.props.id ) ) {\n\n          return (\n\n            <div align='center'>\n              <img\n                src={ this.props.url }\n                onClick={ openEvent }\n                className='happypoint__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n            </div>\n\n          );\n        }\n        else {\n          return (\n            <div className='button-container'>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Background Image', 'p4ge')}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <InspectorControls>\n            <PanelBody title={__('Setting', 'p4ge')}>\n              <RangeControl\n                label={__('Opacity', 'p4ge')}\n                value={opacity}\n                onChange={this.props.onOpacityChange}\n                min={1}\n                max={100}\n                initialPosition={opacity}\n                help={__('We use an overlay to fade the image back. Use a number between 1 and 100, the higher the number, the more faded the image will look. If you leave this empty, the default of 30 will be used.', 'p4ge')}\n              />\n              <ToggleControl\n                label={__('Use mailing list iframe', 'p4ge')}\n                help={__('Use mailing list iframe', 'p4ge')}\n                value={mailing_list_iframe}\n                checked={this.props.mailing_list_iframe}\n                onChange={this.props.onMailingListIframeChange}\n              />\n              <TextControl\n                label={__('Iframe url', 'p4ge')}\n                placeholder={__('Enter Iframe url', 'p4ge')}\n                help={__('If a url is set in this field and the \\'mailing list iframe\\' option is enabled, it will override the planet4 engaging network setting.', 'p4ge')}\n                value={iframe_url}\n                onChange={this.props.onIframeUrlChange}\n              />\n            </PanelBody>\n          </InspectorControls>\n          <BlockControls>\n            { this.props.id && ( 0 < this.props.id ) && (\n              <Toolbar>\n                <MediaUploadCheck>\n                  <MediaUpload\n                    onSelect={this.props.onSelectImage}\n                    allowedTypes={['image']}\n                    value={id}\n                    type='image'\n                    render={({ open }) => {\n                      return (\n                        <IconButton\n                          className='components-icon-button components-toolbar__control'\n                          label={__('Edit Image', 'p4ge')}\n                          onClick={open}\n                          icon='edit'\n                        />\n                      );\n                    }}\n                  />\n                </MediaUploadCheck>\n                <IconButton\n                  className='components-icon-button components-toolbar__control'\n                  label={__('Remove Image', 'p4ge')}\n                  onClick={this.props.onRemoveImages}\n                  icon='trash'\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          {__('Select Background Image', 'p4ge')}\n          <div>\n            <MediaUploadCheck>\n              <MediaUpload\n                title={__('Select Background Image', 'p4ge')}\n                type='image'\n                onSelect={this.props.onSelectImage}\n                value={id}\n                allowedTypes={['image']}\n                render={ ({ open }) => getImageOrButton(open) }\n              />\n            </MediaUploadCheck>\n          </div>\n          {id && 0 < id &&\n            <div>\n              {__('Select focus point for background image', 'p4ge')}\n              <FocalPointPicker\n                url={url}\n                dimensions={dimensions}\n                value={focal_point_params}\n                onChange={this.props.onFocalPointChange}\n              />\n            </div>\n          }\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/happypoint'}\n                  attributes={{\n                    id: this.props.id,\n                    focus_image: this.props.focus_image,\n                    opacity: this.props.opacity,\n                    mailing_list_iframe: this.props.mailing_list_iframe,\n                    iframe_url: this.props.iframe_url,\n                    load_iframe: true,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Happypoint} from './Happypoint';\n\nexport class HappypointBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/happypoint', {\n        title: __('Happypoint', 'p4ge'),\n        icon: 'format-image',\n        category: 'planet4-blocks',\n\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_happy_point background=\"4968\" focus_image=\"center center\" opacity=\"60\" mailing_list_iframe=\"true\" iframe_url=\"https%3A%2F%2Fact.greenpeace.org%2Fpage%2F34215%2Fsubscribe%2F1\" /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/happypoint {\"focus_image\":\"50% 50%\",\"opacity\":60,\"mailing_list_iframe\":true,\"iframe_url\":\"https://act.greenpeace.org/page/34215/subscribe/1\",\"id\":4968} /-->\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_happy_point',\n              attributes: {\n                opacity: {\n                  type: 'integer',\n                  shortcode: ({named: {opacity = ''}}) => opacity,\n                },\n                id: {\n                  type: 'integer',\n                  shortcode: ({named: {background}}) => Number(background),\n                },\n                focus_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_image = ''}}) => focus_image,\n                },\n                mailing_list_iframe: {\n                  type: 'boolean',\n                  shortcode: ({named: {mailing_list_iframe}}) => mailing_list_iframe == 'true',\n                },\n                iframe_url: {\n                  type: 'string',\n                  shortcode: ({named: {iframe_url = ''}}) => iframe_url,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          focus_image: {\n            type: 'string',\n          },\n          opacity: {\n            type: 'number',\n            default: 60\n          },\n          mailing_list_iframe: {\n            type: 'boolean',\n          },\n          iframe_url: {\n            type: 'string',\n          },\n          id: {\n            type: 'number',\n          },\n          load_iframe: {\n            type: 'boolean',\n            default: false\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n          const { attributes } = props;\n          const { id } = attributes;\n          let img_url = '';\n\n          if (id && (0 < id)) {\n            img_url = select('core').getMedia(id);\n            if(img_url){\n              img_url = img_url.source_url;\n            }\n          }\n\n          return {\n            img_url\n          };\n        } )( ( {\n          img_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n          function onBackgroundChange( value ) {\n            setAttributes({background: value});\n          }\n\n          function onOpacityChange( value ) {\n            setAttributes({opacity: value});\n          }\n\n          function onMailingListIframeChange( value ) {\n            setAttributes({mailing_list_iframe: value});\n          }\n\n          function onIframeUrlChange( value ) {\n            setAttributes({iframe_url: value});\n          }\n\n          function onFocalPointChange( {x,y} ) {\n            x = parseFloat(x).toFixed(2);\n            y = parseFloat(y).toFixed(2);\n            setAttributes({focus_image: (x*100)+'% '+(y*100)+'%'});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({id});\n          }\n\n          function onRemoveImages() {\n            setAttributes({id: -1});\n            setAttributes({focus_image: ''});\n          }\n\n          return <Happypoint\n            {...attributes}\n            isSelected={isSelected}\n            url={img_url}\n            onSelectImage={onSelectImage}\n            onOpacityChange={onOpacityChange}\n            onMailingListIframeChange={onMailingListIframeChange}\n            onIframeUrlChange={onIframeUrlChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\n\nexport class Media extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {video_title,description,youtube_id} = this.props;\n\n      return (\n        <Fragment>\n          <div>\n            <TextControl\n              label={__('Media Title', 'p4ge')}\n              placeholder={__('Enter video title', 'p4ge')}\n              value={video_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={description}\n              onChange={this.props.onDescriptionChange}\n            />\n            <TextControl\n              label={__('Media URL/ID', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              value={youtube_id}\n              onChange={this.props.onMediaUrlChange}\n              help={__('Can be a YouTube, Vimeo or Soundcloud URL or an mp4, mp3 or wav file URL.', 'p4ge')}\n            />\n            <MediaPlaceholder\n              labels={{ title: __('Video poster image [Optional]', 'p4ge'), instructions: __('Applicable for .mp4 video URLs only.', 'p4ge')}}\n              icon=\"format-image\"\n              onSelect={this.props.onSelectImage}\n              onSelectURL={this.props.onSelectURL}\n              onError={this.props.onUploadError}\n              accept=\"image/*\"\n              allowedTypes={[\"image\"]}\n            />\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                { this.props.youtube_id &&\n                  <ServerSideRender\n                    block={'planet4-blocks/media-video'}\n                    attributes={{\n                      video_title: this.props.video_title,\n                      description: this.props.description,\n                      youtube_id: this.props.youtube_id,\n                      video_poster_img: this.props.video_poster_img,\n                    }}>\n                  </ServerSideRender>\n                }\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Media} from './Media';\n\nconst {__} = wp.i18n;\n\nexport class MediaBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/media-video', {\n        title: __('Media block', 'p4ge'),\n        icon: 'format-video',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_media_video video_title=\"Lorem Ipsum\"\n         *                        description=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\"\n         *                        youtube_id=\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\"\n         *                        video_poster_img=\"23241\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/media-video {\"video_title\":\"Lorem Ipsum\",\"description\":\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\",\"youtube_id\":\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\"video_poster_img\":23241} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_media_video',\n              attributes: {\n                video_title: {\n                  type: 'string',\n                  shortcode: ({named: {video_title = ''}}) => video_title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                youtube_id: {\n                  type: 'string',\n                  shortcode: ({named: {youtube_id = ''}}) => youtube_id,\n                },\n                video_poster_img: {\n                  type: 'integer',\n                  shortcode: ({named: {video_poster_img = ''}}) => video_poster_img,\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          video_title: {\n            type: 'string'\n          },\n          description: {\n            type: 'string'\n          },\n          youtube_id: {\n            type: 'string'\n          },\n          video_poster_img: {\n            type: 'integer'\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n          function onTitleChange(value) {\n            setAttributes({video_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({description: value});\n          }\n\n          function onMediaUrlChange(value) {\n            setAttributes({youtube_id: value});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({video_poster_img: id});\n          }\n\n          function onSelectURL({url}) {\n            setAttributes({id: null});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          return <Media\n            {...attributes}\n            isSelected={isSelected}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onMediaUrlChange={onMediaUrlChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            onUploadError={onUploadError}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\nimport {\n  RadioControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Socialmedia extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  componentDidUpdate() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  /**\n   * Check if twitter embeds script is loaded and initiliaze it.\n   */\n  checkTwitterScript() {\n    if (this.props.social_media_url.includes('twitter')) {\n      let twitterScript = document.querySelector('script[src=\"https://platform.twitter.com/widgets.js\"]');\n\n      if (null === twitterScript) {\n        let scriptLoaded = this.loadScriptAsync('https://platform.twitter.com/widgets.js');\n        scriptLoaded.then(function () {\n          this.initializeTwitterEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeTwitterEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Check if instgram embeds script is loaded and initiliaze it.\n   */\n  checkInstagramScript() {\n    if (this.props.social_media_url.includes('instagram')) {\n      let instaScript = document.querySelector('script[src=\"https://www.instagram.com/embed.js\"]');\n\n      if (null === instaScript) {\n        let scriptLoaded = this.loadScriptAsync('https://www.instagram.com/embed.js');\n        scriptLoaded.then(function () {\n          this.initializeInstagramEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeInstagramEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Initialize twitter embeds.\n   */\n  initializeTwitterEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.twttr) {\n        window.twttr.widgets.load();\n      }\n    }, 2000);\n  }\n\n  /**\n   * Initialize instagram embeds.\n   */\n  initializeInstagramEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.instgrm) {\n        window.instgrm.Embeds.process();\n      }\n    }, 3000);\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const embed_type_help = __('Select oEmbed for the following types of social media<br>- Twitter: tweet, profile, list, collection, likes, moment<br>- Facebook: post, activity, photo, video, media, question, note<br>- Instagram: image', 'planet4-blocks-backend');\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'planet4-blocks-backend')}\n            placeholder={__('Enter title', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'planet4-blocks-backend')}\n            placeholder={__('Enter description', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <RadioControl\n            label={__('Embed type', 'planet4-blocks-backend')}\n            help={\n              <RawHTML>{embed_type_help}</RawHTML>\n            }\n            options={[\n              {label: 'oEmbed', value: 'oembed'},\n              {label: 'Facebook page', value: 'facebook_page'},\n            ]}\n            selected={this.props.embed_type}\n            onChange={this.props.onEmbedTypeChange}\n          />\n        </div>\n\n        {\n          this.props.embed_type === 'facebook_page'\n            ?\n            <div>\n              <SelectControl\n                label={__('What Facebook page content would you like to display?', 'planet4-blocks-backend')}\n                value={this.props.facebook_page_tab}\n                options={[\n                  {label: 'Timeline', value: 'timeline'},\n                  {label: 'Events', value: 'events'},\n                  {label: 'Mesages', value: 'messages'},\n                ]}\n                onChange={this.props.onFacebookPageTabChange}\n              />\n            </div>\n            : null\n        }\n\n        <div>\n          <TextControl\n            label={__('URL', 'planet4-blocks-backend')}\n            placeholder={__('Enter URL', 'planet4-blocks-backend')}\n            value={this.props.social_media_url}\n            onChange={this.props.onSocialMediaUrlChange}\n          />\n        </div>\n\n        <div>\n          <SelectControl\n            label={__('Alignment', 'planet4-blocks-backend')}\n            value={this.props.alignment_class}\n            options={[\n              {label: 'None', value: ''},\n              {label: 'Left', value: 'alignleft'},\n              {label: 'Center', value: 'aligncenter'},\n              {label: 'Right', value: 'alignright'},\n            ]}\n            onChange={this.props.onAlignmentChange}\n          />\n        </div>\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n            <ServerSideRender\n              block={'planet4-blocks/social-media'}\n              attributes={{\n                title: this.props.title,\n                description: this.props.description,\n                embed_type: this.props.embed_type,\n                facebook_page_tab: this.props.facebook_page_tab,\n                social_media_url: this.props.social_media_url,\n                alignment_class: this.props.alignment_class,\n              }}>\n            </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Socialmedia} from './Socialmedia.js';\n\nexport class SocialmediaBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {__} = wp.i18n;\n\n    registerBlockType('planet4-blocks/social-media', {\n      title: __('Social Media', 'p4ge'),\n      icon: 'share',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_social_media',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              embed_type: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.embed_type;\n                }\n              },\n              facebook_page_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.facebook_page_tab;\n                }\n              },\n              social_media_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.social_media_url;\n                }\n              },\n              alignment_class: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.alignment_class;\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        title: {\n          type: 'string',\n          default: '',\n        },\n        description: {\n          type: 'string',\n          default: '',\n        },\n        embed_type: {\n          type: 'string',\n          default: 'oembed'\n        },\n        facebook_page_tab: {\n          type: 'string',\n          default: 'timeline'\n        },\n        social_media_url: {\n          type: 'string',\n          default: ''\n        },\n        alignment_class: {\n          type: 'string',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        // These methods are passed down to the\n        // Socialmedia component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onEmbedTypeChange(value) {\n          setAttributes({embed_type: value});\n        }\n\n        function onFacebookPageTabChange(value) {\n          setAttributes({facebook_page_tab: value});\n        }\n\n        function onSocialMediaUrlChange(value) {\n          setAttributes({social_media_url: value});\n        }\n\n        function onAlignmentChange(value) {\n          setAttributes({alignment_class: value});\n        }\n\n\n        // We pass down all the attributes to Socialmedia as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Socialmedia\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onEmbedTypeChange={onEmbedTypeChange}\n          onFacebookPageTabChange={onFacebookPageTabChange}\n          onSocialMediaUrlChange={onSocialMediaUrlChange}\n          onAlignmentChange={onAlignmentChange} />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  SelectControl\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\n\nexport class Splittwocolumns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      let tag_list   = this.props.tagsList.map((tag) => ({label: tag.name, value: tag.id}));\n      tag_list.unshift({label: '--Select Tag--', value: 0});\n\n      let issuepage_list = this.props.issuepageList.map((issue) => ({label: issue.title.raw, value: issue.id}));\n      issuepage_list.unshift({label: '--Select Issue--', value: 0});\n\n      const {__} = wp.i18n;\n\n      const {\n        select_issue,\n        title,\n        issue_description,\n        issue_link_text,\n        issue_link_path,\n        issue_image,\n        focus_issue_image,\n        select_tag,\n        tag_description,\n        button_text,\n        button_link,\n        tag_image,\n        focus_tag_image,\n        issue_image_url,\n        tag_image_url\n      } = this.props;\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_issue_image_obj = {x: 0.5,y: 0.5};\n      if (focus_issue_image) {\n        let [x,y] = focus_issue_image.replace(/\\%/g, '').split(' ');\n        focus_issue_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_tag_image_obj = {x: 0.5,y: 0.5};\n      if (focus_tag_image) {\n        let [x,y] = focus_tag_image.replace(/\\%/g, '').split(' ');\n        focus_tag_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      const dimensions = {width: 400, height: 100};\n\n      return (\n        <Fragment>\n          <h3>{__('Issue fields (Column 1 - Left side)', 'p4ge')}</h3>\n          <div>\n            {issuepage_list &&\n              <SelectControl\n                label={__('Select an issue', 'p4ge')}\n                value={select_issue}\n                options={issuepage_list}\n                onChange={this.props.onSelectIssue}\n              />\n            }\n            <TextControl\n              label={__('Issue Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={title}\n              onChange={this.props.onIssueTitleChange}\n              help={__('(Optional) Fill this only if you need to override issue title.', 'p4ge')}\n            />\n            <TextareaControl\n              label={__('Issue Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional) Fill this only if you need to override issue description.', 'p4ge')}\n              value={issue_description}\n              onChange={this.props.onIssueDescriptionChange}\n            />\n            <TextControl\n              label={__('Issue link text', 'p4ge')}\n              placeholder={__('Enter link text', 'p4ge')}\n              value={issue_link_text}\n              onChange={this.props.onIssueLinkTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Issue link path', 'p4ge')}\n              placeholder={__('Enter link path', 'p4ge')}\n              value={issue_link_path}\n              onChange={this.props.onIssueLinkPathChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Issue Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Issue', 'p4ge')}\n              onSelectImage={this.props.onSelectIssueImage}\n              imageId={issue_image}\n              imageUrl={issue_image_url}\n              buttonLabel={__('+ Select Image for Issue', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-issue-imgs'\n            />\n\n            {issue_image &&\n            <div>\n              {__('Select focal point for issue image', 'p4ge')}\n              <FocalPointPicker\n                url={issue_image_url}\n                dimensions={dimensions}\n                value={focus_issue_image_obj}\n                onChange={this.props.onIssueImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n          <h3>{__('Campaign fields (Column 2 - Right side)', 'p4ge')}</h3>\n          <div>\n            {tag_list &&\n              <SelectControl\n                label={__('Select a tag', 'p4ge')}\n                value={select_tag}\n                options={tag_list}\n                onChange={this.props.onSelectTag}\n              />\n            }\n            <TextareaControl\n              label={__('Campaign Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={tag_description}\n              onChange={this.props.onTagDescriptionChange}\n            />\n            <TextControl\n              label={__('Campaign button text', 'p4ge')}\n              placeholder={__('Enter button text', 'p4ge')}\n              value={button_text}\n              onChange={this.props.onButtonTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Campaign button link', 'p4ge')}\n              placeholder={__('Enter button link', 'p4ge')}\n              value={button_link}\n              onChange={this.props.onButtonLinkChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Campaign Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Campaign', 'p4ge')}\n              onSelectImage={this.props.onSelectCampaignImage}\n              imageId={tag_image}\n              imageUrl={tag_image_url}\n              buttonLabel={__('+ Select Image for Campaign', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-tag_imgs'\n            />\n\n            {tag_image &&\n            <div>\n              {__('Select focal point for campaign image', 'p4ge')}\n              <FocalPointPicker\n                url={tag_image_url}\n                dimensions={dimensions}\n                value={focus_tag_image_obj}\n                onChange={this.props.onCampaignImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/split-two-columns'}\n                  attributes={{\n                    select_issue: this.props.select_issue,\n                    title: this.props.title,\n                    issue_description: this.props.issue_description,\n                    issue_link_text: this.props.issue_link_text,\n                    issue_link_path: this.props.issue_link_path,\n                    issue_image: this.props.issue_image,\n                    focus_issue_image: this.props.focus_issue_image,\n                    select_tag: this.props.select_tag,\n                    tag_description: this.props.tag_description,\n                    button_text: this.props.button_text,\n                    button_link: this.props.button_link,\n                    tag_image: this.props.tag_image,\n                    focus_tag_image: this.props.focus_tag_image,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Splittwocolumns} from './Splittwocolumns';\n\nconst {__} = wp.i18n;\n\nexport class SplittwocolumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/split-two-columns', {\n        title: __('Split Two Columns', 'p4ge'),\n        icon: 'editor-table',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_split_two_columns select_issue=\"13813\" title=\"lorem ipsum\" issue_description=\"lorem ipsum\" issue_link_text=\"test link\"\n         *        issue_link_path=\"http://www.googlw.com\" issue_image=\"23634\" focus_issue_image=\"right top\" select_tag=\"19\"\n         *        tag_description=\"lorem ipsum\" button_text=\"btn text\" button_link=\"http://www.google.com\" tag_image=\"23634\" focus_tag_image=\"right top\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/split-two-columns {\"select_issue\":2079,\"title\":\"Lorem Ipsum\",\"issue_description\":\"Lorem Ipsum\",\"issue_link_text\":\"tets link\",\"issue_link_path\":\"http://www.google.com\",\"issue_image\":23634,\"focus_issue_image\":\"33% 60%\",\"select_tag\":65,\"tag_description\":\"Lorem Ipsum\",\"button_text\":\"btn text\",\"button_link\":\"http://www.google.com\",\"tag_image\":23634,\"focus_tag_image\":\"30% 79%\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_split_two_columns',\n              attributes: {\n                select_issue: {\n                  type: 'integer',\n                  shortcode: ({named: {select_issue = ''}}) => Number(select_issue) > 0 ? Number(select_issue) : null,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                issue_description: {\n                  type: 'string',\n                  shortcode: ({named: {issue_description = ''}}) => issue_description,\n                },\n                issue_link_text: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_text = ''}}) => issue_link_text,\n                },\n                issue_link_path: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_path = ''}}) => issue_link_path,\n                },\n                issue_image: {\n                  type: 'integer',\n                  shortcode: ({named: {issue_image = ''}}) => Number(issue_image) > 0 ? Number(issue_image) : null,\n                },\n                focus_issue_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_issue_image = ''}}) => focus_issue_image,\n                },\n                select_tag: {\n                  type: 'integer',\n                  shortcode: ({named: {select_tag = ''}}) => Number(select_tag) > 0 ? Number(select_tag) : null,\n                },\n                tag_description: {\n                  type: 'string',\n                  shortcode: ({named: {tag_description = ''}}) => tag_description,\n                },\n                button_text: {\n                  type: 'string',\n                  shortcode: ({named: {button_text = ''}}) => button_text,\n                },\n                button_link: {\n                  type: 'string',\n                  shortcode: ({named: {button_link = ''}}) => button_link,\n                },\n                tag_image: {\n                  type: 'integer',\n                  shortcode: ({named: {tag_image = ''}}) => Number(tag_image) > 0 ? Number(tag_image) : null,\n                },\n                focus_tag_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_tag_image = ''}}) => focus_tag_image,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          select_issue: {\n            type: 'number',\n            default: 0,\n          },\n          title: {\n            type: 'string',\n          },\n          issue_description: {\n            type: 'string',\n          },\n          issue_link_text: {\n            type: 'string',\n          },\n          issue_link_path: {\n            type: 'string',\n          },\n          issue_image: {\n            type: 'number',\n          },\n          focus_issue_image: {\n            type: 'string',\n          },\n          select_tag: {\n            type: 'number',\n            default: 0,\n          },\n          tag_description: {\n            type: 'string',\n          },\n          button_text: {\n            type: 'string',\n          },\n          button_link: {\n            type: 'string',\n          },\n          tag_image: {\n            type: 'number',\n          },\n          focus_tag_image: {\n            type: 'string',\n          },\n        },\n        edit: withSelect((select,props) => {\n          const tagsTaxonomy = 'post_tag';\n          const issuePage    = 'page';\n\n          const taxonomy_args = {\n            hide_empty: false,\n            per_page: 50,\n          };\n          const {getEntityRecords} = select('core');\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, taxonomy_args);\n\n          const issue_page_args = {\n            per_page: -1,\n            sort_order: 'asc',\n            sort_column: 'post_title',\n            parent: window.p4ge_vars.planet4_options.explore_page,\n            post_status: 'publish',\n          };\n          const issuepageList = getEntityRecords('postType', issuePage, issue_page_args);\n\n          const { attributes } = props;\n          const { issue_image,tag_image } = attributes;\n\n          let issue_image_url = '';\n          if (issue_image) {\n            issue_image_url = select('core').getMedia(issue_image);\n            if ( issue_image_url ) {\n              issue_image_url = issue_image_url.source_url;\n            }\n          }\n\n          let tag_image_url = '';\n          if (tag_image) {\n            tag_image_url = select('core').getMedia(tag_image);\n            if ( tag_image_url ) {\n              tag_image_url = tag_image_url.source_url;\n            }\n          }\n\n          return {\n            tagsList,\n            issuepageList,\n            issue_image_url,\n            tag_image_url,\n          };\n\n        } )( ( {\n          tagsList,\n          issuepageList,\n          issue_image_url,\n          tag_image_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          if (!tagsList || !issuepageList) {\n            return \"Populating block's fields...\";\n          }\n\n          if ((tagsList && tagsList.length === 0) || (issuepageList && issuepageList.length === 0)) {\n            return \"Populating block's fields...\";\n          }\n\n          function onSelectIssue( value ) {\n            setAttributes({select_issue: parseInt(value)});\n          }\n\n          function onIssueTitleChange( value ) {\n            setAttributes({title: value });\n          }\n\n          function onIssueDescriptionChange( value ) {\n            setAttributes({issue_description: value});\n          }\n\n          function onIssueLinkTextChange( value ) {\n            setAttributes({issue_link_text: value });\n          }\n\n          function onIssueLinkPathChange( value ) {\n            setAttributes({issue_link_path: value});\n          }\n\n          function onSelectIssueImage( {id} ) {\n            setAttributes({issue_image: id});\n          }\n\n          function onIssueImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_issue_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          function onSelectTag( value ) {\n            setAttributes({select_tag: parseInt(value)});\n          }\n\n          function onTagDescriptionChange( value ) {\n            setAttributes({tag_description: value});\n          }\n\n          function onButtonTextChange( value ) {\n            setAttributes({button_text: value });\n          }\n\n          function onButtonLinkChange( value ) {\n            setAttributes({button_link: value});\n          }\n\n          function onSelectCampaignImage( {id} ) {\n            setAttributes({tag_image: id});\n          }\n\n          function onCampaignImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_tag_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          return <Splittwocolumns\n            {...attributes}\n            isSelected={isSelected}\n            tagsList={tagsList}\n            issuepageList={issuepageList}\n            issue_image_url={issue_image_url}\n            tag_image_url={tag_image_url}\n            onSelectIssue={onSelectIssue}\n            onIssueTitleChange={onIssueTitleChange}\n            onIssueDescriptionChange={onIssueDescriptionChange}\n            onIssueLinkTextChange={onIssueLinkTextChange}\n            onIssueLinkPathChange={onIssueLinkPathChange}\n            onSelectIssueImage={onSelectIssueImage}\n            onIssueImageFocalPointChange={onIssueImageFocalPointChange}\n            onSelectTag={onSelectTag}\n            onTagDescriptionChange={onTagDescriptionChange}\n            onButtonTextChange={onButtonTextChange}\n            onButtonLinkChange={onButtonLinkChange}\n            onSelectCampaignImage={onSelectCampaignImage}\n            onCampaignImageFocalPointChange={onCampaignImageFocalPointChange}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component} from 'react';\nimport {\n  CheckboxControl,\n  SelectControl,\n} from '@wordpress/components';\n\nexport class MenuLevel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>Level {this.props.index + 1}</div>\n        <SelectControl\n          label=\"Submenu item\"\n          help=\"Submenu item\"\n          value={this.props.heading}\n          options={[\n            {label: 'None', value: '0'},\n            {label: 'Heading 1', value: '1'},\n            {label: 'Heading 2', value: '2'},\n            {label: 'Heading 3', value: '3'},\n            {label: 'Heading 4', value: '4'},\n            {label: 'Heading 5', value: '5'},\n            {label: 'Heading 6', value: '6'},\n          ]}\n          onChange={(e) => this.props.onHeadingChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n\n        <CheckboxControl\n          heading=\"Link\"\n          help=\"Link item\"\n          value={this.props.link}\n          checked={this.props.link}\n          onChange={(e) => this.props.onLinkChange(this.props.index, e)}\n          className=\"submenu-level-link\"\n        />\n\n        <SelectControl\n          label=\"List style\"\n          help=\"List style\"\n          value={this.props.style}\n          options={[\n            {label: 'None', value: 'none'},\n            {label: 'Bullet', value: 'bullet'},\n            {label: 'Number', value: 'number'},\n          ]}\n          onChange={(e) => this.props.onStyleChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n      </div>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  TextControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {MenuLevel} from \"./MenuLevel\";\n\nexport class Submenu extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h2>{__('Anchor Link Submenu', 'p4ge')}</h2>\n        <p><i>{__(\n          'An in-page table of contents to help users have a sense of what\\'s on the page and let them jump to a topic they are interested in.',\n          'p4ge'\n        )}</i></p>\n        <h3>{__('What style of menu do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.submenu_style}\n            onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n            options={[\n              {\n                label: __('Long full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-long.jpg',\n                value: 1,\n                help: __('Use: on long pages (more than 5 screens) when list items are long (+ 10 words)<br>No max items<br>recommended.')\n              }, {\n                label: __('Short full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-short.jpg',\n                value: 2,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 5 words)<br>No max items<br>recommended.'),\n              },\n              {\n                label: __('Short sidebar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-sidebar.jpg',\n                value: 3,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 10 words)<br>Max items<br>recommended: 9')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label=\"Submenu Title\"\n            placeholder=\"Enter title\"\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <hr/>\n        {this.props.levels.map((heading, i) => {\n          return (\n            <MenuLevel\n              {...heading}\n              onHeadingChange={this.props.onHeadingChange}\n              onLinkChange={this.props.onLinkChange}\n              onStyleChange={this.props.onStyleChange}\n              index={i}\n              key={i}\n            />\n          );\n        })}\n\n        <div>\n          <Button isPrimary\n                  onClick={this.props.addLevel}\n                  disabled={this.props.levels.length >= 3 || this.props.levels.slice(-1)[0].heading === 0}\n          >\n            Add level\n          </Button>\n          <Button isDefault\n                  onClick={this.props.removeLevel} disabled={this.props.levels.length <= 1}\n          >\n            Remove level\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/submenu'}\n            attributes={{\n              submenu_style: this.props.submenu_style,\n              title: this.props.title,\n              levels: this.props.levels,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {Submenu} from './Submenu.js';\n\nexport class SubmenuBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/submenu', {\n      title: 'Submenu',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_submenu submenu_style=\"3\" title=\"title22\" heading1=\"2\"\n       *                    link1=\"true\" style1=\"bullet\" heading2=\"3\" link2=\"true\" style2=\"number\"\n       *                    heading3=\"4\" link3=\"false\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/submenu {\"submenu_style\":3,\"title\":\"title22\",\"levels\":[{\"heading\":\"2\",\"link\":\"true\",\"style\":\"bullet\"},\n       *    {\"heading\":\"3\",\"link\":\"true\",\"style\":\"number\"},{\"heading\":\"4\",\"link\":\"false\",\"style\":\"none\"}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_submenu',\n            attributes: {\n              submenu_style: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.submenu_style);\n                }\n              },\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              levels: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  let levels = [];\n                  if (attributes.named.heading1 > 0) {\n                    let level = {\n                      heading: Number(attributes.named.heading1),\n                      link: Boolean(attributes.named.link1) || false,\n                      style: attributes.named.style1 || 'none'\n                    };\n                    levels.push(Object.assign({}, level));\n\n                    if (attributes.named.heading2 > 0) {\n                      let level = {\n                        heading: Number(attributes.named.heading2),\n                        link: Boolean(attributes.named.link2) || false,\n                        style: attributes.named.style2 || 'none'\n                      };\n                      levels.push(Object.assign({}, level));\n\n                      if (attributes.named.heading3 > 0) {\n                        let level = {\n                          heading: Number(attributes.named.heading3),\n                          link: Boolean(attributes.named.link3) || false,\n                          style: attributes.named.style3 || 'none'\n                        };\n                        levels.push(Object.assign({}, level));\n                      }\n                    }\n                  }\n                  return levels;\n                },\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        submenu_style: {\n          type: 'integer',\n          default: 1\n        },\n        title: {\n          type: 'string',\n        },\n        levels: {\n          type: 'array',\n          default: [ {heading: 0, link: false, style: 'none'}]\n        },\n      },\n      edit: withSelect((select) => {\n\n      })(({\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        function addLevel() {\n          setAttributes({levels: attributes.levels.concat({heading: 0, link: false, style: 'none'})});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onHeadingChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].heading = Number(value);\n          setAttributes({levels: levels});\n        }\n\n        function onLayoutChange(value) {\n          setAttributes({submenu_style: Number(value)});\n        }\n\n        function onLinkChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].link = value;\n          setAttributes({levels: levels});\n        }\n\n        function onStyleChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].style = value;\n          setAttributes({levels: levels});\n        }\n\n        function removeLevel() {\n          setAttributes({levels: attributes.levels.slice(0, -1)});\n        }\n\n        return <Submenu\n          {...attributes}\n          isSelected={isSelected}\n          onSelectedLayoutChange={onLayoutChange}\n          onTitleChange={onTitleChange}\n          onHeadingChange={onHeadingChange}\n          onLinkChange={onLinkChange}\n          onStyleChange={onStyleChange}\n          addLevel={addLevel}\n          removeLevel={removeLevel}\n        />\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\nimport {\n\tFormTokenField,\n\tTextControl,\n\tTextareaControl,\n\tServerSideRender,\n\tToggleControl,\n\tSelectControl,\n\tCheckboxControl,\n\tToolbar,\n\tIconButton, Button\n} from '@wordpress/components';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Takeactionboxout extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// Populate tag tokens for saved tags.\n\t\tlet tagTokens = props.tagsList.filter(tag => props.tag_ids.includes(tag.id)).map(tag => tag.name);\n\n\t\tthis.state = {\n\t\t\ttagTokens: tagTokens,\n\t\t};\n\t}\n\n\tonSelectedTagsChange(tokens) {\n\t\tconst tagIds = tokens.map(token => {\n\t\t\treturn this.props.tagsList.filter(tag => tag.name === token)[0].id;\n\t\t});\n\t\tthis.props.onSelectedTagsChange(tagIds);\n\t\tthis.setState({tagTokens: tokens})\n\t}\n\n\tisCustomised() {\n\t\treturn ( this.props.custom_title || this.props.custom_excerpt || this.props.custom_link || this.props.custom_link_text || this.props.custom_link_new_tab || this.state.tagTokens.length > 0 || ( this.props.background_image && 0 < this.props.background_image ) );\n\t}\n\n\ttakeActionPageSelected() {\n\t\treturn ( this.props.take_action_page && this.props.take_action_page !== '0' );\n\t}\n\n\trenderEdit() {\n\t\tconst tagSuggestions = this.props.tagsList.map(tag => tag.name);\n\n\t\tlet actpage_list = this.props.actPageList.map((actPage) => ({label: actPage.title.raw, value: actPage.id}));\n\t\tconst {__} = wp.i18n;\n\n\t\tactpage_list.unshift({label: __('--Select Take Action Page--'), value: 0});\n\n\t\tconst getImageOrButton = (openEvent) => {\n\t\t\tif ( this.props.background_image && ( 0 < this.props.background_image ) ) {\n\n\t\t\t\treturn (\n\n\t\t\t\t\t<div align='center'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ this.props.background_image_url }\n\t\t\t\t\t\t\tonClick={ openEvent }\n\t\t\t\t\t\t\tclassName='takeactionboxout-block-background-img'\n\t\t\t\t\t\t\twidth={'400px'}\n\t\t\t\t\t\t\tstyle={{padding: '10px 10px'}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t\t<div className='button-container'>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={ openEvent }\n\t\t\t\t\t\t\tclassName='button'\n\t\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}>\n\t\t\t\t\t\t\t+ {__('Select Background Image', 'p4ge')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<h3>{__('Take Action Boxout', 'p4ge')}</h3>\n\t\t\t\t<div>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={__('Select Take Action Page', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.take_action_page}\n\t\t\t\t\t\toptions={actpage_list}\n\t\t\t\t\t\tonChange={this.props.onSelectTakeActoinPage}\n\t\t\t\t\t\tdisabled={this.isCustomised()}\n\t\t\t\t\t/>\n\t\t\t\t\t<h5>{__('Or customise your take action boxout (if inserted in POSTS, the block will float on the side, if inserted in PAGES, it will appear in the page body)', 'p4ge')}</h5>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Title', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Title', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_title}\n\t\t\t\t\t\tonChange={this.props.onCustomTitleChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\tlabel={__('Custom Excerpt', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Excerpt', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_excerpt}\n\t\t\t\t\t\tonChange={this.props.onCustomExcerptChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Link', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Link', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link}\n\t\t\t\t\t\tonChange={this.props.onCustomLinkChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Link Text', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Link Text', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link_text}\n\t\t\t\t\t\tonChange={this.props.onCustomLinkTextChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tlabel={__('Open in a new Tab', 'p4ge')}\n\t\t\t\t\t\thelp={__('Open custom link in new tab', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link_new_tab}\n\t\t\t\t\t\tchecked={this.props.custom_link_new_tab}\n\t\t\t\t\t\tonChange={(e) => this.props.onCustomLinkNewTabChange(e)}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormTokenField\n\t\t\t\t\t\tvalue={this.state.tagTokens}\n\t\t\t\t\t\tsuggestions={tagSuggestions}\n\t\t\t\t\t\tlabel={__('Select Tags', 'p4ge')}\n\t\t\t\t\t\tonChange={tokens => this.onSelectedTagsChange(tokens)}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t{__('Select Background Image', 'p4ge')}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\ttitle={__('Select Background Image', 'p4ge')}\n\t\t\t\t\t\t\t\ttype='image'\n\t\t\t\t\t\t\t\tonSelect={this.props.onSelectBackGroundImage}\n\t\t\t\t\t\t\t\tvalue={this.props.background_image}\n\t\t\t\t\t\t\t\tallowedTypes={['image']}\n\t\t\t\t\t\t\t\trender={ ({ open }) => getImageOrButton(open) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t</div>\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t{ this.props.background_image && ( 0 < this.props.background_image ) && (\n\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tclassName='components-icon-button components-toolbar__control'\n\t\t\t\t\t\t\t\t\tlabel={__('Remove Image', 'p4ge')}\n\t\t\t\t\t\t\t\t\tonClick={this.props.onRemoveBackGroundImage}\n\t\t\t\t\t\t\t\t\ticon='trash'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</BlockControls>\n\t\t\t\t</div>\n\t\t\t\t<hr />\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\tthis.props.isSelected\n\t\t\t\t\t\t? this.renderEdit()\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t<Preview showBar={this.props.isSelected}>\n\t\t\t\t\t<ServerSideRender\n\t\t\t\t\t\tblock={'planet4-blocks/take-action-boxout'}\n\t\t\t\t\t\tattributes={{\n\t\t\t\t\t\t\ttake_action_page: this.props.take_action_page,\n\t\t\t\t\t\t\tcustom_title: this.props.custom_title,\n\t\t\t\t\t\t\tcustom_excerpt: this.props.custom_excerpt,\n\t\t\t\t\t\t\tcustom_link: this.props.custom_link,\n\t\t\t\t\t\t\tcustom_link_text: this.props.custom_link_text,\n\t\t\t\t\t\t\tcustom_link_new_tab: this.props.custom_link_new_tab,\n\t\t\t\t\t\t\ttag_ids: this.props.tag_ids,\n\t\t\t\t\t\t\tbackground_image: this.props.background_image,\n\t\t\t\t\t\t}}>\n\t\t\t\t\t</ServerSideRender>\n\t\t\t\t</Preview>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import {Takeactionboxout} from './Takeactionboxout.js';\n\nexport class TakeactionboxoutBlock {\n\tconstructor() {\n\t\tconst {registerBlockType} = wp.blocks;\n\t\tconst {__} = wp.i18n;\n\t\tconst {withSelect} = wp.data;\n\n\t\tregisterBlockType('planet4-blocks/take-action-boxout', {\n\t\t\ttitle: __('Take Action Boxout'),\n\t\t\ticon: 'welcome-widgets-menus',\n\t\t\tcategory: 'planet4-blocks',\n\t\t\tsupports: {\n\t\t\t\tmultiple: false, // Use the block just once per post.\n\t\t\t},\n\n\t\t\t// Transform the shortcode into a Gutenberg block\n\t\t\t// this is used when a user clicks \"Convert to blocks\"\n\t\t\t// on the \"Classic Editor\" block\n\t\t\ttransforms: {\n\t\t\t\tfrom: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'shortcode',\n\t\t\t\t\t\t// Shortcode tag can also be an array of shortcode aliases\n\t\t\t\t\t\ttag: 'shortcake_take_action_boxout',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\ttake_action_page: {\n\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn Number(attributes.named.take_action_page);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_title: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_title;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_excerpt: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_excerpt;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link_text: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link_text;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link_new_tab: {\n\t\t\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link_new_tab;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttag_ids: {\n\t\t\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.tag_ids ?\n                    attributes.named.tag_ids.split(',').map(tag => Number(tag)).filter(tag => tag > 0)\n                    : [];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbackground_image: {\n\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\tshortcode: ({named: {background_image = ''}}) => Number(background_image) > 0 ? Number(background_image) : 0,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t},\n\t\t\t// This attributes definition mimics the one in the PHP side.\n\t\t\tattributes: {\n\t\t\t\ttake_action_page: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t\tcustom_title: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_excerpt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link_text: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link_new_tab: {\n\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\tdefault: false\n\t\t\t\t},\n\t\t\t\ttag_ids: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: []\n\t\t\t\t},\n\t\t\t\tbackground_image: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t},\n\t\t\t// withSelect is a \"Higher Order Component\", it works as\n\t\t\t// a Decorator, it will provide some basic API functionality\n\t\t\t// through `select`.\n\t\t\tedit: withSelect( ( select, props ) => {\n\t\t\t\tconst tagsTaxonomy = 'post_tag';\n\t\t\t\tconst actPage = 'page';\n\n\t\t\t\tconst args = {\n\t\t\t\t\thide_empty: false,\n\t\t\t\t\tper_page: 50,\n\t\t\t\t};\n\t\t\t\tconst {getEntityRecords, getMedia} = select('core');\n\n\t\t\t\tconst tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n\n\t\t\t\tconst act_page_args = {\n\t\t\t\t\tper_page: -1,\n\t\t\t\t\tsort_order: 'asc',\n\t\t\t\t\tsort_column: 'post_title',\n\t\t\t\t\tparent: window.p4ge_vars.planet4_options.act_page,\n\t\t\t\t\tpost_status: 'publish',\n\t\t\t\t};\n\n\t\t\t\tconst actPageList = getEntityRecords('postType', actPage, act_page_args);\n\n\t\t\t\tconst { attributes } = props;\n\t\t\t\tconst { background_image } = attributes;\n\n\t\t\t\tlet background_image_url = '';\n\t\t\t\tif (background_image) {\n\t\t\t\t\tbackground_image_url = select('core').getMedia(background_image);\n\t\t\t\t\tif ( background_image_url ) {\n\t\t\t\t\t\tbackground_image_url = background_image_url.source_url;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tactPageList,\n\t\t\t\t\ttagsList,\n\t\t\t\t\tbackground_image_url,\n\t\t\t\t};\n\t\t\t} )( ( {\n\t\t\t\ttagsList,\n\t\t\t\tactPageList,\n\t\t\t\tbackground_image_url,\n\t\t\t\tisSelected,\n\t\t\t\tattributes,\n\t\t\t\tsetAttributes\n\t\t\t} ) => {\n\n\t\t\t\tif (!tagsList || !actPageList) {\n\t\t\t\t\treturn \"Populating block's fields...\";\n\t\t\t\t}\n\n\t\t\t\tif ((tagsList && tagsList.length === 0) || (actPageList && actPageList.length === 0)) {\n\t\t\t\t\treturn \"Populating block's fields...\";\n\t\t\t\t}\n\n\t\t\t\t// These methods are passed down to the\n\t\t\t\t// Articles component, they update the corresponding attribute.\n\t\t\t\tfunction onSelectTakeActoinPage( value ) {\n\t\t\t\t\tsetAttributes({ take_action_page: value });\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomTitleChange(value) {\n\t\t\t\t\tsetAttributes({custom_title: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomExcerptChange(value) {\n\t\t\t\t\tsetAttributes({custom_excerpt: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkChange(value) {\n\t\t\t\t\tsetAttributes({custom_link: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkTextChange(value) {\n\t\t\t\t\tsetAttributes({custom_link_text: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkNewTabChange(value) {\n\t\t\t\t\tsetAttributes({custom_link_new_tab: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onButtonLinkTabChange(value) {\n\t\t\t\t\tsetAttributes({button_link_new_tab: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onSelectedTagsChange(tagIds) {\n\t\t\t\t\tsetAttributes({tag_ids: tagIds});\n\t\t\t\t}\n\n\t\t\t\tfunction onSelectBackGroundImage( {id} ) {\n\t\t\t\t\tsetAttributes({background_image: id});\n\t\t\t\t}\n\n\t\t\t\tfunction onRemoveBackGroundImage() {\n\t\t\t\t\tsetAttributes({background_image: -1});\n\t\t\t\t}\n\n\t\t\t\t// We pass down all the attributes to Covers as props using\n\t\t\t\t// the spread operator. Then we selectively add more\n\t\t\t\t// props.\n\t\t\t\treturn <Takeactionboxout\n\t\t\t\t\t{...attributes}\n\t\t\t\t\tisSelected={isSelected}\n\t\t\t\t\ttagsList={tagsList}\n\t\t\t\t\tactPageList={actPageList}\n\t\t\t\t\tbackground_image_url={background_image_url}\n\t\t\t\t\tonSelectTakeActoinPage={onSelectTakeActoinPage}\n\t\t\t\t\tonCustomTitleChange={onCustomTitleChange}\n\t\t\t\t\tonCustomExcerptChange={onCustomExcerptChange}\n\t\t\t\t\tonCustomLinkChange={onCustomLinkChange}\n\t\t\t\t\tonCustomLinkTextChange={onCustomLinkTextChange}\n\t\t\t\t\tonCustomLinkNewTabChange={onCustomLinkNewTabChange}\n\t\t\t\t\tonButtonLinkTabChange={onButtonLinkTabChange}\n\t\t\t\t\tonSelectedTagsChange={onSelectedTagsChange}\n\t\t\t\t\tonSelectBackGroundImage={onSelectBackGroundImage}\n\t\t\t\t\tonRemoveBackGroundImage={onRemoveBackGroundImage}/>\n\t\t\t}),\n\t\t\tsave() {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} );\n\t};\n}\n\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from \"@wordpress/element\";\nimport {\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {Preview} from '../../components/Preview';\n\nexport class Timeline extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.loadTimeline(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    this.loadTimeline(prevProps);\n  }\n\n  loadTimeline(data) {\n    const timelinejs_version = '3.6.3';\n\n    let js = 'https://cdn.knightlab.com/libs/timeline3/' + timelinejs_version + '/js/timeline-min.js';\n    let scriptLoaded = this.loadScriptAsync(js);\n    scriptLoaded.then(function () {\n      new TL.Timeline('timeline-1', data.google_sheets_url, {\n        \"timenav_position\": data.timenav_position,\n        \"start_at_end\": data.start_at_end,\n        \"language\": data.language\n      });\n    }.bind(this));\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const position = [\n      {label: 'Bottom', value: 'bottom'},\n      {label: 'Top', value: 'top'},\n    ]\n\n    const languages = [\n      {label: 'Afrikaans', value: 'af'},\n      {label: 'Arabic', value: 'ar'},\n      {label: 'Armenian', value: 'hy'},\n      {label: 'Basque', value: 'eu'},\n      {label: 'Belarusian', value: 'be'},\n      {label: 'Bulgarian', value: 'bg'},\n      {label: 'Catalan', value: 'ca'},\n      {label: 'Chinese', value: 'zh-cn'},\n      {label: 'Croatian / Hrvatski', value: 'hr'},\n      {label: 'Czech', value: 'cz'},\n      {label: 'Danish', value: 'da'},\n      {label: 'Dutch', value: 'nl'},\n      {label: 'English', value: 'en'},\n      {label: 'English (24-hour time)', value: 'en-24hr'},\n      {label: 'Esperanto', value: 'eo'},\n      {label: 'Estonian', value: 'et'},\n      {label: 'Faroese', value: 'fo'},\n      {label: 'Farsi', value: 'fa'},\n      {label: 'Finnish', value: 'fi'},\n      {label: 'French', value: 'fr'},\n      {label: 'Frisian', value: 'fy'},\n      {label: 'Galician', value: 'gl'},\n      {label: 'Georgian', value: 'ka'},\n      {label: 'German / Deutsch', value: 'de'},\n      {label: 'Greek', value: 'el'},\n      {label: 'Hebrew', value: 'he'},\n      {label: 'Hindi', value: 'hi'},\n      {label: 'Hungarian', value: 'hu'},\n      {label: 'Icelandic', value: 'is'},\n      {label: 'Indonesian', value: 'id'},\n      {label: 'Irish', value: 'ga'},\n      {label: 'Italian', value: 'it'},\n      {label: 'Japanese', value: 'ja'},\n      {label: 'Korean', value: 'ko'},\n      {label: 'Latvian', value: 'lv'},\n      {label: 'Lithuanian', value: 'lt'},\n      {label: 'Luxembourgish', value: 'lb'},\n      {label: 'Malay', value: 'ms'},\n      {label: 'Myanmar', value: 'my'},\n      {label: 'Nepali', value: 'ne'},\n      {label: 'Norwegian', value: 'no'},\n      {label: 'Polish', value: 'pl'},\n      {label: 'Portuguese', value: 'pt'},\n      {label: 'pt-br', value: 'Portuguese (Brazilian)'},\n      {label: 'Romanian', value: 'ro'},\n      {label: 'Romansh', value: 'rm'},\n      {label: 'Russian', value: 'ru'},\n      {label: 'Serbian - Cyrillic', value: 'sr-cy'},\n      {label: 'Serbian - Latin', value: 'sr'},\n      {label: 'Sinhalese', value: 'si'},\n      {label: 'Slovak', value: 'sk'},\n      {label: 'Slovenian', value: 'sl'},\n      {label: 'Spanish', value: 'es'},\n      {label: 'Swedish', value: 'sv'},\n      {label: 'Tagalog', value: 'tl'},\n      {label: 'Tamil', value: 'ta'},\n      {label: 'Taiwanese', value: 'zh-tw'},\n      {label: 'Telugu', value: 'te'},\n      {label: 'Thai', value: 'th'},\n      {label: 'Turkish', value: 'tr'},\n      {label: 'Ukrainian', value: 'uk'},\n      {label: 'Urdu', value: 'ur'},\n    ]\n\n    let url_desc  = __(\n      'Enter the URL of the Google Sheets spreadsheet containing your timeline data.',\n      'p4ge'\n    );\n    url_desc += '<br><a href=\"https://timeline.knightlab.com/#make\" target=\"_blank\" rel=\"noopener noreferrer\">';\n    url_desc += __(\n      'See the TimelineJS website for a template GSheet.',\n      'p4ge'\n    );\n    url_desc += '</a><br>';\n    url_desc += __(\n      'Copy this, add your own timeline data, and publish to the web.',\n      'p4ge'\n    );\n    url_desc += '<br>';\n    url_desc += __(\n      \"Once you have done so, use the URL from your address bar (not the one provided in Google's 'publish to web' dialog).\",\n      'p4ge'\n    );\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Timeline options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display a timeline from a Google Sheet',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label={__('Timeline Title', 'p4ge')}\n              placeholder={__('Enter title', 'p4ge')}\n              value={this.props.timeline_title}\n              onChange={this.props.onTimelineTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter description', 'p4ge')}\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label={__('Google Sheets URL', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              help=<RawHTML>{url_desc}</RawHTML>\n              value={this.props.google_sheets_url}\n              onChange={this.props.onGoogleSheetsUrlChange}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Language', 'p4ge')}\n              value={this.props.language}\n              options={languages}\n              onChange={(e) => this.props.onLanguageChange(e)}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Timeline navigation position', 'p4ge')}\n              value={this.props.timenav_position}\n              options={position}\n              onChange={(e) => this.props.onTimenavPositionChange(e)}\n            />\n          </div>\n\n          <div>\n            <CheckboxControl\n              label={__('Start at end', 'p4ge')}\n              help={__('Begin at the end of the timeline', 'p4ge')}\n              value={this.props.start_at_end}\n              checked={this.props.start_at_end}\n              onChange={(e) => this.props.onStartAtEndChange(e)}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/timeline'}\n            attributes={{\n              timeline_title: this.props.timeline_title,\n              description: this.props.description,\n              google_sheets_url: this.props.google_sheets_url,\n              language: this.props.language,\n              timenav_position: this.props.timenav_position,\n              start_at_end: this.props.start_at_end,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Timeline} from './Timeline.js';\n\nconst {__} = wp.i18n;\n\nexport class TimelineBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/timeline', {\n      title: __('Timeline', 'p4ge'),\n      icon: 'clock',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_timeline',\n            attributes: {\n              timeline_title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.timeline_title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              google_sheets_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.google_sheets_url;\n                }\n              },\n              language: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.language;\n                }\n              },\n              timenav_position: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.timenav_position;\n                }\n              },\n              start_at_end: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.start_at_end;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        timeline_title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        google_sheets_url: {\n          type: 'string',\n        },\n        language: {\n          type: 'string',\n          default: 'en',\n        },\n        timenav_position: {\n          type: 'string',\n        },\n        start_at_end: {\n          type: 'boolean',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTimelineTitleChange(value) {\n          setAttributes({timeline_title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onGoogleSheetsUrlChange(value) {\n          setAttributes({google_sheets_url: value});\n        }\n\n        function onLanguageChange(value) {\n          setAttributes({language: value});\n        }\n\n        function onTimenavPositionChange(value) {\n          setAttributes({timenav_position: value});\n        }\n\n        function onStartAtEndChange(value) {\n          setAttributes({start_at_end: value});\n        }\n\n        return <Timeline\n          {...attributes}\n          isSelected={isSelected}\n          onTimelineTitleChange={onTimelineTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onGoogleSheetsUrlChange={onGoogleSheetsUrlChange}\n          onLanguageChange={onLanguageChange}\n          onTimenavPositionChange={onTimenavPositionChange}\n          onStartAtEndChange={onStartAtEndChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import {\n  find,\n  get,\n  invoke,\n  isEmpty,\n  map,\n  throttle,\n  unescape as unescapeString,\n  uniqBy,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { FormTokenField} from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Module constants\n */\nconst DEFAULT_QUERY = {\n  per_page: -1,\n  orderby: 'count',\n  order: 'desc',\n  _fields: 'id,name',\n};\nconst MAX_TERMS_SUGGESTIONS = 20;\nconst isSameTermName = ( termA, termB ) => termA.toLowerCase() === termB.toLowerCase();\n\n/**\n * Returns a term object with name unescaped.\n * The unescape of the name property is done using lodash unescape function.\n *\n * @param {Object} term The term object to unescape.\n *\n * @return {Object} Term object with name property unescaped.\n */\nconst unescapeTerm = ( term ) => {\n  return {\n    ...term,\n    name: unescapeString( term.name ),\n  };\n};\n\n/**\n * Returns an array of term objects with names unescaped.\n * The unescape of each term is performed using the unescapeTerm function.\n *\n * @param {Object[]} terms Array of term objects to unescape.\n *\n * @return {Object[]} Array of term objects unescaped.\n */\nconst unescapeTerms = ( terms ) => {\n  return map( terms, unescapeTerm );\n};\n\n/**\n * The logic of this component was copied from https://github.com/WordPress/gutenberg/blob/master/packages/editor/src/components/post-taxonomies/flat-term-selector.js\n * initially, then the functionality of creating non-existing terms was removed from it.\n *\n * I considered extending the component instead, but that seemed inappropriate as we're not adding behavior but removing some.\n * Additionally this makes it easier to further customize this component.\n */\nclass AssignOnlyFlatTermSelector extends Component {\n  constructor() {\n    super( ...arguments );\n    this.onChange = this.onChange.bind( this );\n    this.searchTerms = throttle( this.searchTerms.bind( this ), 500 );\n    this.state = {\n      loading: ! isEmpty( this.props.terms ),\n      availableTerms: [],\n      selectedTerms: [],\n    };\n  }\n\n  componentDidMount() {\n    if ( isEmpty( this.props.terms ) ) {\n      return\n    }\n\n    this.initRequest = this.fetchTerms( {\n      include: this.props.terms.join( ',' ),\n      per_page: -1,\n    } );\n    this.initRequest.then(\n      () => {\n        this.setState( {loading: false} );\n      },\n      ( xhr ) => {\n        if ( xhr.statusText === 'abort' ) {\n          return;\n        }\n        this.setState( {\n          loading: false,\n        } );\n      }\n    );\n  }\n\n  componentWillUnmount() {\n    invoke( this.initRequest, [ 'abort' ] );\n    invoke( this.searchRequest, [ 'abort' ] );\n  }\n\n  componentDidUpdate( prevProps ) {\n    if ( prevProps.terms !== this.props.terms ) {\n      this.updateSelectedTerms( this.props.terms );\n    }\n  }\n\n  fetchTerms( params = {} ) {\n    const { taxonomy } = this.props;\n    const query = Object.assign({}, DEFAULT_QUERY, params);\n\n    const request = apiFetch( {\n      path: addQueryArgs( `/wp/v2/${ taxonomy.rest_base }`, query ),\n    } );\n    request.then( unescapeTerms ).then( ( terms ) => {\n      this.setState( ( state ) => ( {\n        availableTerms: state.availableTerms.concat(\n          terms.filter( ( term ) => ! find( state.availableTerms, ( availableTerm ) => availableTerm.id === term.id ) )\n        ),\n      } ) );\n      this.updateSelectedTerms( this.props.terms );\n    } );\n\n    return request;\n  }\n\n  updateSelectedTerms( terms = [] ) {\n    const selectedTerms = terms.reduce( ( accumulator, termId ) => {\n      const termObject = find( this.state.availableTerms, ( term ) => term.id === termId );\n      if ( termObject ) {\n        accumulator.push( termObject.name );\n      }\n\n      return accumulator;\n    }, [] );\n    this.setState( {\n      selectedTerms,\n    } );\n  }\n\n  onChange( termNames ) {\n    const uniqueTerms = uniqBy( termNames, ( term ) => term.toLowerCase() );\n    const allowedTerms = uniqueTerms.filter( ( termName ) =>\n      find( this.state.availableTerms, ( term ) => isSameTermName( term.name, termName ) )\n    );\n    this.setState( { selectedTerms: allowedTerms } );\n    const termNamesToIds = ( names, availableTerms ) => {\n      return names\n        .map( ( termName ) =>\n          find( availableTerms, ( term ) => isSameTermName( term.name, termName ) ).id\n        );\n    };\n\n    return this.props.onUpdateTerms(\n      termNamesToIds( allowedTerms, this.state.availableTerms ),\n      this.props.taxonomy.rest_base\n    );\n  }\n\n  searchTerms( search = '' ) {\n    invoke( this.searchRequest, [ 'abort' ] );\n    this.searchRequest = this.fetchTerms( { search } );\n  }\n\n  render() {\n    const { slug, taxonomy, hasAssignAction } = this.props;\n\n    if ( ! hasAssignAction ) {\n      return null;\n    }\n\n    const { loading, availableTerms, selectedTerms } = this.state;\n    const termNames = availableTerms.map( ( term ) => term.name );\n    const newTermLabel = get(\n      taxonomy,\n      [ 'labels', 'add_new_item' ],\n      slug === 'post_tag' ? __( 'Add New Tag' ) : __( 'Add New Term' )\n    );\n    const singularName = get(\n      taxonomy,\n      [ 'labels', 'singular_name' ],\n      slug === 'post_tag' ? __( 'Tag' ) : __( 'Term' )\n    );\n    const termAddedLabel = sprintf( _x( '%s added', 'term' ), singularName );\n    const termRemovedLabel = sprintf( _x( '%s removed', 'term' ), singularName );\n    const removeTermLabel = sprintf( _x( 'Remove %s', 'term' ), singularName );\n\n    return (\n      <FormTokenField\n        value={ selectedTerms }\n        suggestions={ termNames }\n        onChange={ this.onChange }\n        onInputChange={ this.searchTerms }\n        maxSuggestions={ MAX_TERMS_SUGGESTIONS }\n        disabled={ loading }\n        label={ newTermLabel }\n        messages={ {\n          added: termAddedLabel,\n          removed: termRemovedLabel,\n          remove: removeTermLabel,\n        } }\n      />\n    );\n  }\n}\n\nexport default compose(\n  withSelect( ( select, { slug } ) => {\n    const { getCurrentPost } = select( 'core/editor' );\n    const { getTaxonomy } = select( 'core' );\n    const taxonomy = getTaxonomy( slug );\n    return {\n      hasCreateAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-create-' + taxonomy.rest_base ], false ) : false,\n      hasAssignAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-assign-' + taxonomy.rest_base ], false ) : false,\n      terms: taxonomy ? select( 'core/editor' ).getEditedPostAttribute( taxonomy.rest_base ) : [],\n      taxonomy,\n    };\n  } ),\n  withDispatch( ( dispatch ) => {\n    return {\n      onUpdateTerms( terms, restBase ) {\n        dispatch( 'core/editor' ).editPost( { [ restBase ]: terms } );\n      },\n    };\n  } ),\n)( AssignOnlyFlatTermSelector );\n","import {React, Component} from 'react';\nimport {Button} from '@wordpress/components';\nimport {MediaUpload,MediaUploadCheck} from '@wordpress/editor';\n\nexport class ImageOrButton extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    if ( typeof this.props.disabled == 'undefined' ) {\n      this.props.disabled = false;\n    }\n\n    const getImageOrButton = (openEvent) => {\n      if ( this.props.imageId ) {\n\n        return (\n\n          <img\n            src={ this.props.imageUrl }\n            onClick={ openEvent }\n            className={ this.props.imgClass }\n          />\n\n        );\n      }\n      else {\n        return (\n          <div className='button-container'>\n            <Button\n              onClick={ openEvent }\n              className='button'\n              disabled={ this.props.disabled }>\n              { this.props.buttonLabel }\n            </Button>\n\n            <div>{ this.props.help }</div>\n          </div>\n        );\n      }\n    };\n\n    return <div className='ImageOrButton'>\n      <MediaUploadCheck>\n        <MediaUpload\n          title={this.props.title}\n          type='image'\n          onSelect={this.props.onSelectImage}\n          value={this.props.imageId}\n          allowedTypes={['image']}\n          render={ ({ open }) => getImageOrButton(open) }\n        />\n      </MediaUploadCheck>\n    </div>;\n  }\n}\n","import {React, Component} from 'react';\nimport {RadioControl} from '@wordpress/components';\n\nexport class LayoutSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: props.selectedOption\n    };\n    this.setSelected = this.setSelected.bind(this);\n  }\n\n  setSelected(option) {\n    this.setState({selectedOption: option});\n    this.props.onSelectedLayoutChange(option);\n  }\n\n  render() {\n    return <div className='LayoutSelector'>\n      {\n        this.props.options.map((layoutOption, i) => {\n\n          if ( 'number' == typeof layoutOption.value ) {\n            this.state.selectedOption = Number( this.state.selectedOption );\n          }\n\n          return (\n            <label className='LayoutOption' key={i}>\n              <div style={{display: 'flex'}}>\n                <RadioControl\n                  name={'layoutOption'}\n                  selected={this.state.selectedOption}\n                  options={[\n                    {value: layoutOption.value}\n                  ]}\n                  onChange={this.setSelected}\n                />\n                {layoutOption.label}\n              </div>\n              {\n                layoutOption.image\n                  ? <img src={layoutOption.image}/>\n                  : null\n              }\n              {\n                layoutOption.help\n                  ? <p className='help' dangerouslySetInnerHTML={{__html: layoutOption.help}}/>\n                  : null\n              }\n            </label>\n          )\n        })\n      }\n    </div>;\n  }\n}\n","import { React, Component } from 'react';\n\nexport class Preview extends Component {\n\trender() {\n\t\treturn <div className='Preview'>\n\t\t\t{\n\t\t\t\tthis.props.showBar\n\t\t\t\t? <div className='PreviewBar'>Preview</div>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{ this.props.children }\n\t\t</div>\n\t}\n}","import { ArticlesBlock } from './blocks/Articles/ArticlesBlock';\nimport { CarouselHeaderBlock } from './blocks/Carouselheader/CarouselHeaderBlock';\nimport { ColumnsBlock } from './blocks/Columns/ColumnsBlock';\nimport { CookiesBlock } from './blocks/Cookies/CookiesBlock';\nimport { CounterBlock } from './blocks/Counter/CounterBlock';\nimport { CoversBlock } from './blocks/Covers/CoversBlock';\nimport { GalleryBlock } from './blocks/Gallery/GalleryBlock';\nimport { HappypointBlock } from './blocks/Happypoint/HappypointBlock';\nimport { MediaBlock } from './blocks/Media/MediaBlock';\nimport { SocialmediaBlock } from './blocks/Socialmedia/SocialmediaBlock';\nimport { SplittwocolumnsBlock } from './blocks/Splittwocolumns/SplittwocolumnsBlock';\nimport { SubmenuBlock } from './blocks/Submenu/SubmenuBlock';\nimport { TakeactionboxoutBlock } from './blocks/Takeactionboxout/TakeactionboxoutBlock';\nimport { TimelineBlock } from './blocks/Timeline/TimelineBlock';\n\n//Filters\nimport { addBlockFilters } from './BlockFilters';\nimport { setupImageBlockExtension } from './ImageBlockExtension';\nimport { replaceTaxonomyTermSelectors } from \"./replaceTaxonomyTermSelectors\"\nimport { addSubAndSuperscript } from './RichTextEnhancements';\n\nconst articlesBlock = new ArticlesBlock();\nconst carouselHeaderBlock = new CarouselHeaderBlock();\nconst columnsBlock = new ColumnsBlock();\nconst cookiesBlock = new CookiesBlock();\nconst counterBlock = new CounterBlock();\nconst coversBlock = new CoversBlock();\nconst galleryBlock = new GalleryBlock();\nconst happypointBlock = new HappypointBlock();\nconst mediaBlock = new MediaBlock();\nconst socialmediaBlock = new SocialmediaBlock();\nconst splittwocolumnsBlock = new SplittwocolumnsBlock();\nconst submenuBlock = new SubmenuBlock();\nconst takeActionBoxoutBlock = new TakeactionboxoutBlock();\nconst timelineBlock = new TimelineBlock();\n\naddBlockFilters();\naddSubAndSuperscript(window.wp);\nsetupImageBlockExtension();\nreplaceTaxonomyTermSelectors()\n","import AssignOnlyFlatTermSelector from \"./components/AssignOnlyFlatTermSelector/AssignOnlyFlatTermSelector\"\n\nfunction customizeTaxonomySelectors( OriginalComponent ) {\n  return function( props ) {\n    // For following taxonomies it should not be possible to create new terms on the post edit page\n    const isAssignOnlyTaxonomy = ['p4-page-type', 'post_tag'].includes(props.slug)\n\n    return wp.element.createElement(\n      isAssignOnlyTaxonomy ? AssignOnlyFlatTermSelector : OriginalComponent,\n      props\n    );\n  }\n\n}\n\nexport const replaceTaxonomyTermSelectors = () =>  {\n  wp.hooks.addFilter(\n    'editor.PostTaxonomyType',\n    'planet4-gutenberg-blocks',\n    customizeTaxonomySelectors\n  );\n}\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = assign;\n","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"data\"]; }());","(function() { module.exports = this[\"wp\"][\"editor\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"url\"]; }());","(function() { module.exports = this[\"lodash\"]; }());","(function() { module.exports = this[\"React\"]; }());"],"sourceRoot":""}
=======
<<<<<<< HEAD
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/src/BlockFilters.js","webpack:///./assets/src/ImageBlockExtension.js","webpack:///./assets/src/RichTextEnhancements.js","webpack:///./assets/src/blocks/Articles/Articles.js","webpack:///./assets/src/blocks/Articles/ArticlesBlock.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeader.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderBlock.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderFront.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderImage.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderSlide.js","webpack:///./assets/src/blocks/Carouselheader/ImagePlaceholder.js","webpack:///./assets/src/blocks/Columns/Columns.js","webpack:///./assets/src/blocks/Columns/ColumnsBlock.js","webpack:///./assets/src/blocks/Cookies/Cookies.js","webpack:///./assets/src/blocks/Cookies/CookiesBlock.js","webpack:///./assets/src/blocks/Counter/Counter.js","webpack:///./assets/src/blocks/Counter/CounterBlock.js","webpack:///./assets/src/blocks/Covers/Covers.js","webpack:///./assets/src/blocks/Covers/CoversBlock.js","webpack:///./assets/src/blocks/Covers/CoversIcon.js","webpack:///./assets/src/blocks/Gallery/Gallery.js","webpack:///./assets/src/blocks/Gallery/GalleryBlock.js","webpack:///./assets/src/blocks/Happypoint/Happypoint.js","webpack:///./assets/src/blocks/Happypoint/HappypointBlock.js","webpack:///./assets/src/blocks/Media/Media.js","webpack:///./assets/src/blocks/Media/MediaBlock.js","webpack:///./assets/src/blocks/Socialmedia/Socialmedia.js","webpack:///./assets/src/blocks/Socialmedia/SocialmediaBlock.js","webpack:///./assets/src/blocks/Splittwocolumns/Splittwocolumns.js","webpack:///./assets/src/blocks/Splittwocolumns/SplittwocolumnsBlock.js","webpack:///./assets/src/blocks/Submenu/MenuLevel.js","webpack:///./assets/src/blocks/Submenu/Submenu.js","webpack:///./assets/src/blocks/Submenu/SubmenuBlock.js","webpack:///./assets/src/blocks/Takeactionboxout/Takeactionboxout.js","webpack:///./assets/src/blocks/Takeactionboxout/TakeactionboxoutBlock.js","webpack:///./assets/src/blocks/Timeline/Timeline.js","webpack:///./assets/src/blocks/Timeline/TimelineBlock.js","webpack:///./assets/src/components/AssignOnlyFlatTermSelector/AssignOnlyFlatTermSelector.js","webpack:///./assets/src/components/ImageOrButton/ImageOrButton.js","webpack:///./assets/src/components/LayoutSelector/LayoutSelector.js","webpack:///./assets/src/components/Preview.js","webpack:///./assets/src/editorIndex.js","webpack:///./assets/src/replaceTaxonomyTermSelectors.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/objectSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/lodash.assign/index.js","webpack:///external {\"this\":[\"wp\",\"apiFetch\"]}","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"compose\"]}","webpack:///external {\"this\":[\"wp\",\"data\"]}","webpack:///external {\"this\":[\"wp\",\"editor\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":[\"wp\",\"url\"]}","webpack:///external {\"this\":\"lodash\"}","webpack:///external {\"this\":\"React\"}"],"names":["addFilter","wp","hooks","addBlockFilters","addFileBlockFilter","setDownloadButtonToggleDefualtFalse","settings","name","attributes","__","i18n","targetBlocks","captionStyleOptions","label","value","captionAlignmentOptions","setupImageBlockExtension","addExtraAttributes","addExtraControls","addCaptionStyleAttributes","includes","assign","captionStyle","type","default","captionAlignment","createHigherOrderComponent","compose","Fragment","element","InspectorControls","editor","withCaptionStyle","BlockEdit","props","className","selectedCaptionStyle","setAttributes","map","option","key","addSubAndSuperscript","el","createElement","superscriptIcon","width","height","d","subscriptIcon","SubscriptButton","RichTextToolbarButton","icon","title","isActive","onClick","onChange","richText","toggleFormat","registerFormatType","tagName","edit","SuperscriptButton","apiFetch","addQueryArgs","url","Articles","tagTokens","tagsList","filter","tag","tags","id","postTypeTokens","postTypesList","post_type","post_types","state","selectedPosts","populatePostsToken","posts","length","path","per_page","page","include","then","postsTokens","post","rendered","postsSuggestions","setState","postsList","tokens","search","orderby","post_status","tagIds","token","onSelectedTagsChange","postTypeIds","postType","onSelectedPostTypesChange","currentSelectedPosts","forEach","f","push","postIds","onSelectedPostsChange","tagSuggestions","postTypeSuggestions","article_heading","onTitleChange","articles_description","onDescriptionChange","read_more_text","onReadmoretextChange","read_more_link","onReadmorelinkChange","button_link_new_tab","e","onButtonLinkTabChange","article_count","onCountChange","ignore_categories","onIgnoreCategoriesChange","onPostsSearch","isSelected","renderEdit","Component","ArticlesBlock","registerBlockType","blocks","withSelect","data","category","transforms","from","shortcode","named","split","exclude_post_id","Number","select","tagsTaxonomy","postTypesTaxonomy","args","hide_empty","getEntityRecords","save","CarouselHeader","refs","ssrRef","React","createRef","firstRender","collapseSlides","current","currentFetchRequest","setTimeout","initializeCarouselHeader","prevProps","prevState","Object","keys","index","collapseSlide","bind","addSlide","removeSlide","block_style","onBlockStyleChange","image","window","p4ge_vars","home","help","carousel_autoplay","onCarouselAutoplayChange","slides","slide","i","onImageChange","onHeaderChange","onHeaderSizeChange","onSubheaderChange","onLinkTextChange","onLinkUrlChange","onLinkNewTabChange","onStyleChange","onFocalPointsChange","instance","addNewSlide","CarouselHeaderBlock","supports","multiple","convert_position","position","x","y","image_1","header","header_1","header_size","header_size_1","subheader","subheader_1","description","description_1","link_text","link_text_1","link_url","link_url_1","focal_points","focus_image_1","image_2","header_2","header_size_2","subheader_2","description_2","link_text_2","link_url_2","focus_image_2","image_3","header_3","header_size_3","subheader_3","description_3","link_text_3","link_url_3","focus_image_3","image_4","header_4","header_size_4","subheader_4","description_4","link_text_4","link_url_4","focus_image_4","link_url_new_tab","concat","JSON","parse","stringify","fo","slice","ZoomAndSlideToGrayCarouselHeader","SLIDE_TRANSITION_SPEED","activeTransition","nextSlide","$el","$","$nextSlide","next","prevAll","last","previousSlide","$previousSlide","prev","nextAll","switchIndicator","$CarouselIndicators","children","each","toggleClass","setup","me","$CarouselHeaderWrapper","find","$Slides","on","current_img_src","get","currentSrc","current_bg_img","parent","css","replace","remove","$slide","attr","appendTo","$img","img_src","clickTargets","evt","preventDefault","advanceCarousel","activate","target","carousel_element","carousel_head_hammer","Hammer","recognizers","hammer","Manager","swipe","Swipe","add","backwardsCarousel","event","scrollTop","animate","$nextImg","$preview","addClass","prependTo","next_img_src","$active","$previous","slideIndex","eq","hasClass","clearTimeout","removeClass","$next","beginTransition","completeTransition","FullWidthClassicCarouselHeader","getCurrentSlideIndex","reverse","cancelAutoplayInterval","positionIndicators","setCarouselHeight","first","$currentSlide","autoplayPaused","autoplayEnabled","startAutoplayInterval","off","autoplayInterval","setInterval","clearInterval","currentIndex","$indicators","$header","isRTL","rightSide","matchMedia","matches","leftOffset","offset","left","rightOffset","indicatorsRight","getSlideHeight","outerHeight","$activeSlide","unsetTransitionClasses","fadeIn","CarouselHeaderImage","onRemove","image_id","image_url","hasRemove","imageClass","join","obj","ev","stopPropagation","focalPoints","open","keyCode","CarouselHeaderSlide","isHidden","getMedia","media","source_url","toggleSlide","onImageRemove","hasSubheader","ImagePlaceholder","Columns","columns_title","columns_description","columns_block_style","columns","column_img","onDeleteImage","getImageOrButton","openEvent","padding","onSelectedLayoutChange","item","onColumnHeaderChange","onColumnDescriptionChange","onSelectImage","attachment","endsWith","cta_link","onCTALinkChange","link_new_tab","cta_text","onCTAButtonTextChange","addColumn","removeColumn","ColumnsBlock","title_1","column","attachment_1","link_1","link_new_tab_1","cta_text_1","title_2","attachment_2","link_2","link_new_tab_2","cta_text_2","title_3","attachment_3","link_3","link_new_tab_3","cta_text_3","title_4","attachment_4","link_4","link_new_tab_4","cta_text_4","media_details","new_columns","Cookies","necessary_cookies_name","onNecessaryCookiesNameChange","necessary_cookies_description","onNecessaryCookiesDescriptionChange","all_cookies_name","onAllCookiesNameChange","all_cookies_description","onAllCookiesDescriptionChange","post_id","document","querySelector","CookiesBlock","Counter","style","completed","onCompletedChange","completed_api","onCompletedAPIChange","onTargetChange","text","onTextChange","CounterBlock","Covers","searchTimeout","cover_type","queryArgs","post_parent","planet4_options","act_page","searchPosts","covers_view","onRowsChange","CoversBlock","CoversIcon","Gallery","image_data","gallery_block_style","gallery_block_title","gallery_block_description","multiple_image","dimensions","multiple_image_array","onRemoveImages","focalPoint","onFocalPointChange","gallery_block_focus_points","GalleryBlock","image_urls_array","image_id_array","img_id","img_details","new_image_data","focal_points_json","isEmptyObject","parseInt","image_ids","updated_image_data","object","parseFloat","toFixed","Happypoint","focus_image","opacity","mailing_list_iframe","iframe_url","focal_point_params","focus_image_str","onOpacityChange","onMailingListIframeChange","onIframeUrlChange","load_iframe","HappypointBlock","background","img_url","onBackgroundChange","Media","video_title","youtube_id","onMediaUrlChange","instructions","onSelectURL","onUploadError","video_poster_img","MediaBlock","message","console","log","Socialmedia","checkTwitterScript","checkInstagramScript","social_media_url","twitterScript","scriptLoaded","loadScriptAsync","initializeTwitterEmbeds","instaScript","initializeInstagramEmbeds","twttr","widgets","load","instgrm","Embeds","process","uri","Promise","resolve","reject","src","async","onload","body","getElementsByTagName","appendChild","embed_type_help","embed_type","onEmbedTypeChange","facebook_page_tab","onFacebookPageTabChange","onSocialMediaUrlChange","alignment_class","onAlignmentChange","SocialmediaBlock","Splittwocolumns","tag_list","unshift","issuepage_list","issuepageList","issue","raw","select_issue","issue_description","issue_link_text","issue_link_path","issue_image","focus_issue_image","select_tag","tag_description","button_text","button_link","tag_image","focus_tag_image","issue_image_url","tag_image_url","focus_issue_image_obj","focus_tag_image_obj","onSelectIssue","onIssueTitleChange","onIssueDescriptionChange","onIssueLinkTextChange","onIssueLinkPathChange","onSelectIssueImage","onIssueImageFocalPointChange","onSelectTag","onTagDescriptionChange","onButtonTextChange","onButtonLinkChange","onSelectCampaignImage","onCampaignImageFocalPointChange","SplittwocolumnsBlock","issuePage","taxonomy_args","issue_page_args","sort_order","sort_column","explore_page","MenuLevel","heading","onHeadingChange","link","onLinkChange","Submenu","submenu_style","levels","addLevel","removeLevel","SubmenuBlock","heading1","level","Boolean","link1","style1","heading2","link2","style2","heading3","link3","style3","onLayoutChange","Takeactionboxout","tag_ids","custom_title","custom_excerpt","custom_link","custom_link_text","custom_link_new_tab","background_image","take_action_page","actpage_list","actPageList","actPage","background_image_url","takeActionPageSelected","onSelectTakeActoinPage","isCustomised","onCustomTitleChange","onCustomExcerptChange","onCustomLinkChange","onCustomLinkTextChange","onCustomLinkNewTabChange","onSelectBackGroundImage","onRemoveBackGroundImage","TakeactionboxoutBlock","act_page_args","Timeline","loadTimeline","timelinejs_version","js","TL","google_sheets_url","timenav_position","start_at_end","language","languages","url_desc","timeline_title","onTimelineTitleChange","onGoogleSheetsUrlChange","onLanguageChange","onTimenavPositionChange","onStartAtEndChange","TimelineBlock","DEFAULT_QUERY","order","_fields","MAX_TERMS_SUGGESTIONS","isSameTermName","termA","termB","toLowerCase","unescapeTerm","term","unescapeString","unescapeTerms","terms","AssignOnlyFlatTermSelector","arguments","searchTerms","throttle","loading","isEmpty","availableTerms","selectedTerms","initRequest","fetchTerms","xhr","statusText","invoke","searchRequest","updateSelectedTerms","params","taxonomy","query","request","rest_base","availableTerm","reduce","accumulator","termId","termObject","termNames","uniqueTerms","uniqBy","allowedTerms","termName","termNamesToIds","names","onUpdateTerms","slug","hasAssignAction","newTermLabel","singularName","termAddedLabel","sprintf","_x","termRemovedLabel","removeTermLabel","added","removed","getCurrentPost","getTaxonomy","hasCreateAction","getEditedPostAttribute","withDispatch","dispatch","restBase","editPost","ImageOrButton","disabled","imageId","imageUrl","imgClass","buttonLabel","LayoutSelector","selectedOption","setSelected","options","layoutOption","display","__html","Preview","showBar","articlesBlock","carouselHeaderBlock","columnsBlock","cookiesBlock","counterBlock","coversBlock","galleryBlock","happypointBlock","mediaBlock","socialmediaBlock","splittwocolumnsBlock","submenuBlock","takeActionBoxoutBlock","timelineBlock","replaceTaxonomyTermSelectors","customizeTaxonomySelectors","OriginalComponent","isAssignOnlyTaxonomy"],"mappings":"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CA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,OAAO,WAAW;AAC7B,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5nBA,aAAa,yCAAyC,EAAE,I;;;;;;;;;;;ACAxD,aAAa,4CAA4C,EAAE,I;;;;;;;;;;;ACA3D,aAAa,2CAA2C,EAAE,I;;;;;;;;;;;ACA1D,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,uCAAuC,EAAE,I;;;;;;;;;;;ACAtD,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,oCAAoC,EAAE,I;;;;;;;;;;;ACAnD,aAAa,iCAAiC,EAAE,I;;;;;;;;;;;ACAhD,aAAa,gCAAgC,EAAE,I","file":"editorIndex.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/src/editorIndex.js\");\n","const { addFilter } = wp.hooks;\n\n\nexport const addBlockFilters = () => {\n  addFileBlockFilter();\n};\n\n\nconst addFileBlockFilter = () => {\n  const setDownloadButtonToggleDefualtFalse = (settings, name) => {\n\n    if ('core/file' !== name) {\n      return settings;\n    }\n\n    settings.attributes['showDownloadButton']['default'] = false;\n\n    return settings;\n  };\n\n  addFilter('blocks.registerBlockType', 'planet4-blocks/filters/file', setDownloadButtonToggleDefualtFalse);\n};\n","import { Button, ButtonGroup, PanelBody, SelectControl } from '@wordpress/components';\nimport assign from 'lodash.assign';\n\nconst { addFilter } = wp.hooks;\nconst { __ } = wp.i18n;\n\n// Enable spacing control on the following blocks\nconst targetBlocks = [\n  'core/image',\n];\n\nconst captionStyleOptions = [\n  {\n  label: __( 'Blue Overlay (default)' ),\n  value: 'blue-overlay',\n  },\n  {\n  label: __( 'Medium' ),\n  value: 'medium',\n  },\n];\n\nconst captionAlignmentOptions = [\n  {\n  label: __( 'Left' ),\n  value: 'left',\n  },\n  {\n  label: __( 'Center' ),\n  value: 'center',\n  },\n  {\n  label: __( 'Right' ),\n  value: 'right',\n  },\n];\n\nexport const setupImageBlockExtension = function() {\n  addExtraAttributes();\n  addExtraControls();\n}\n\nconst addExtraAttributes = function() {\n  const addCaptionStyleAttributes = ( settings, name ) => {\n  // Do nothing if it's another block than our defined ones.\n  if ( ! targetBlocks.includes( name ) ) {\n    return settings;\n  }\n\n  // Use Lodash's assign to gracefully handle if attributes are undefined\n  settings.attributes = assign( settings.attributes, {\n    captionStyle: {\n    type: 'string',\n    default: captionStyleOptions[ 0 ].value,\n    },\n    captionAlignment: {\n    type: 'string',\n    default: captionAlignmentOptions[ 1 ].value,\n    }\n  } );\n\n  return settings;\n  };\n\n  addFilter( 'blocks.registerBlockType', 'planet4-blocks/overrides/image', addCaptionStyleAttributes );\n}\n\nconst addExtraControls = function() {\n  const { createHigherOrderComponent } = wp.compose;\n  const { Fragment } = wp.element;\n  const { InspectorControls } = wp.editor;\n\n  const withCaptionStyle = createHigherOrderComponent( ( BlockEdit ) => {\n    return ( props ) => {\n      // Do nothing if it's another block than our defined ones.\n      if ( ! targetBlocks.includes( props.name ) ) {\n        return (\n          <BlockEdit { ...props } />\n        );\n      }\n\n      const { captionStyle, captionAlignment } = props.attributes;\n\n\t\t\tprops.attributes.className = '';\n\n      if ( captionStyle ) {\n      \tprops.attributes.className += ` caption-style-${ captionStyle }`;\n      }\n\n      if ( captionAlignment ) {\n      \tprops.attributes.className += ` caption-alignment-${ captionAlignment }`;\n      }\n\n      return (\n        <Fragment>\n          <BlockEdit { ...props } />\n          <InspectorControls>\n            <PanelBody\n              title={ __( 'Planet4 Image Options' ) }\n              initialOpen={ true }\n            >\n              <SelectControl\n                label={ __( 'Caption Style' ) }\n                value={ captionStyle }\n                options={ captionStyleOptions }\n                onChange={ ( selectedCaptionStyle ) => {\n                  props.setAttributes( {\n                    captionStyle: selectedCaptionStyle,\n                  } );\n                } }\n              />\n\n              <label>Caption alignment</label>\n              <ButtonGroup>\n              {\n                captionAlignmentOptions.map((option, key) => {\n\t\t\t\t\t\t\t\t\treturn <Button\n\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tprops.setAttributes({\n\t\t\t\t\t\t\t\t\t\t\t\tcaptionAlignment: option.value,\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tisPrimary={ captionAlignment == option.value }\n\t\t\t\t\t\t\t\t\t\tisLarge isDefault>\n\t\t\t\t\t\t\t\t\t\t\t{ option.label }\n\t\t\t\t\t\t\t\t\t</Button>;\n                })\n              }\n              </ButtonGroup>\n            </PanelBody>\n          </InspectorControls>\n        </Fragment>\n      );\n    };\n  }, 'withCaptionStyle' );\n\n  addFilter( 'editor.BlockEdit', 'planet4-blocks/overrides/image-controls', withCaptionStyle );\n}\n","export const addSubAndSuperscript = function (wp){\n\tconst el = wp.element.createElement\n\n\t/* Superscript icon */\n\tconst superscriptIcon = wp.element.createElement( 'svg',\n\t  {\n\t\t  width: 20,\n\t\t  height: 20,\n\t  },\n\t  wp.element.createElement( 'path',\n\t\t{\n\t\t\td: 'm 11.451024,15.991879 v 1.900559 H 8.6286372 L 6.8191261,15.024528 6.5459915,14.546546 Q 6.4549468,14.444115 6.4208029,14.307552 h -0.03414 l -0.1024233,0.238994 q -0.113806,0.227613 -0.284517,0.500744 L 4.2357343,17.892438 H 1.2995409 V 15.991879 H 2.7562552 L 4.9982324,12.68013 2.8928217,9.5846081 H 1.3336801 V 7.6726705 h 3.1410444 l 1.5819027,2.5947735 q 0.022772,0.04552 0.2617521,0.477987 0.091045,0.102421 0.1251849,0.23899 h 0.03414 q 0.034139,-0.102432 0.1251845,-0.23899 L 6.8874061,10.267444 8.4806875,7.6726705 H 11.405498 V 9.5846081 H 9.982924 l -2.0940281,3.0386179 2.3216401,3.368653 z m 7.249435,-7.7274175 v 2.3444015 h -5.849622 l -0.03415,-0.307279 q -0.04552,-0.318656 -0.04552,-0.5235031 0,-0.7283595 0.295896,-1.3315288 0.295896,-0.6031748 0.739738,-0.9844236 0.443844,-0.3812499 0.95597,-0.7397383 0.512126,-0.3584877 0.955968,-0.6202403 0.443845,-0.2617558 0.739742,-0.6145521 0.295891,-0.3527973 0.295891,-0.7283591 0,-0.4324593 -0.335727,-0.711285 -0.335727,-0.2788267 -0.80233,-0.2788267 -0.580409,0 -1.103918,0.4438464 Q 14.35307,4.3381578 14.102696,4.645436 L 12.907742,3.5984202 q 0.295895,-0.4210809 0.716976,-0.7511204 0.944588,-0.7397375 2.139551,-0.7397375 1.251867,0 2.025745,0.6771454 0.773881,0.6771454 0.773881,1.8038232 0,0.6373144 -0.278825,1.1722012 -0.278822,0.5348868 -0.705595,0.8706133 -0.426771,0.3357272 -0.927519,0.6657667 -0.500747,0.3300361 -0.933209,0.5747178 -0.43246,0.2446817 -0.74543,0.5861006 -0.312966,0.3414178 -0.347105,0.7169762 H 17.26651 V 8.2644615 Z',\n\t\t},\n\t  ),\n\t)\n\n\t/* Subscript icon */\n\tconst subscriptIcon = wp.element.createElement( 'svg',\n\t  {\n\t\t  width: 20,\n\t\t  height: 20,\n\t  },\n\t  wp.element.createElement( 'path',\n\t\t{\n\t\t\td: 'M 11.415572,11.723303 V 13.59208 H 8.6403806 L 6.8611266,10.772129 6.5925593,10.302137 Q 6.5030369,10.201425 6.4694659,10.067141 H 6.4358949 L 6.3351822,10.302137 Q 6.2232813,10.525943 6.0554268,10.79451 L 4.3209317,13.59208 H 1.4338398 V 11.723303 H 2.8661965 L 5.0706822,8.4669311 3.0004802,5.4231745 H 1.4674107 V 3.5432079 h 3.0885176 l 1.5554501,2.5513836 q 0.022381,0.044757 0.2573749,0.4699921 0.089522,0.1007124 0.1230932,0.2349956 h 0.033571 Q 6.5589882,6.6988668 6.6485107,6.5645836 L 6.9282683,6.0945915 8.4949066,3.5432079 H 11.370811 V 5.4231745 H 9.9720247 L 7.9130129,8.4109791 10.195831,11.723303 Z m 7.150588,2.428291 v 2.305198 h -5.751805 l -0.04476,-0.302137 q -0.03357,-0.503563 -0.03357,-0.514753 0,-0.716178 0.290947,-1.309263 0.290948,-0.593086 0.727368,-0.96796 0.436422,-0.374874 0.939986,-0.727368 0.503561,-0.352494 0.939983,-0.60987 0.43642,-0.257377 0.727368,-0.604275 0.290947,-0.3469 0.290947,-0.716178 0,-0.425232 -0.330112,-0.699394 -0.330115,-0.2741619 -0.788916,-0.2741619 -0.570706,0 -1.085457,0.4364219 -0.156665,0.123093 -0.402851,0.425231 L 12.870301,9.5635781 q 0.290948,-0.414039 0.70499,-0.738558 0.895222,-0.727368 2.103773,-0.727368 1.230931,0 1.991869,0.665822 0.760939,0.665821 0.760939,1.7736599 0,0.738558 -0.386064,1.326048 -0.386065,0.587489 -0.939984,0.962363 -0.553918,0.374875 -1.113434,0.699393 -0.559513,0.324518 -0.973554,0.704988 -0.41404,0.380469 -0.458801,0.816891 h 2.596145 v -0.895223 z',\n\t\t},\n\t  ),\n\t)\n\n\t/**\n\t * Add a button for subscript (<sub>) in Gutenberg rich text\n\t */\n\tvar SubscriptButton = function( props ) {\n\t\treturn wp.element.createElement(\n\t\t  wp.editor.RichTextToolbarButton, {\n\t\t\t  icon: subscriptIcon,\n\t\t\t  title: 'Subscript',\n\t\t\t  isActive: props.isActive,\n\t\t\t  onClick: function() {\n\t\t\t\t  props.onChange( wp.richText.toggleFormat(\n\t\t\t\t\tprops.value,\n\t\t\t\t\t{ type: 'planet4-blocks/subscript' },\n\t\t\t\t  ) )\n\t\t\t  },\n\t\t\t  className: 'toolbar-button-planet4-subscript',\n\t\t  },\n\t\t)\n\t}\n\n\twp.richText.registerFormatType(\n\t  'planet4-blocks/subscript', {\n\t\t  title: 'Subscript',\n\t\t  tagName: 'sub',\n\t\t  className: null,\n\t\t  edit: SubscriptButton,\n\t  },\n\t)\n\n\t/**\n\t * Add a button for superscript (<sup>) in Gutenberg rich text\n\t */\n\tvar SuperscriptButton = function( props ) {\n\t\treturn wp.element.createElement(\n\t\t  wp.editor.RichTextToolbarButton, {\n\t\t\t  icon: superscriptIcon,\n\t\t\t  title: 'Superscript',\n\t\t\t  isActive: props.isActive,\n\t\t\t  onClick: function() {\n\t\t\t\t  props.onChange( wp.richText.toggleFormat(\n\t\t\t\t\tprops.value,\n\t\t\t\t\t{ type: 'planet4-blocks/superscript' },\n\t\t\t\t  ) )\n\t\t\t  },\n\t\t  },\n\t\t)\n\t}\n\n\twp.richText.registerFormatType(\n\t  'planet4-blocks/superscript', {\n\t\t  title: 'Superscript',\n\t\t  tagName: 'sup',\n\t\t  className: null,\n\t\t  edit: SuperscriptButton,\n\t  },\n\t)\n};\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  FormTokenField,\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Articles extends Component {\n  constructor(props) {\n    super(props);\n\n    // Populate tag tokens for saved tags.\n    let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n    // Populate post types tokens for saved post types.\n    let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n    this.state = {\n      tagTokens: tagTokens,\n      postTypeTokens: postTypeTokens,\n      selectedPosts: [],\n    };\n\n    this.populatePostsToken();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  populatePostsToken() {\n\n    if (this.props.posts.length > 0) {\n\n      apiFetch(\n        {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            include: this.props.posts\n          })\n        }\n      ).then(posts => {\n        const postsTokens = posts.map(post => post.title.rendered);\n        const postsSuggestions = posts.map(post => post.title.rendered);\n        this.setState({\n            postsTokens: postsTokens,\n            postsList: posts,\n            postsSuggestions: postsSuggestions,\n            selectedPosts: posts,\n          }\n        );\n      });\n    } else {\n      this.setState(\n        {\n          postsTokens: [],\n          postsList: [],\n          postsSuggestions: [],\n          selectedPosts: [],\n        }\n      );\n    }\n  }\n\n  /**\n   * Search posts using wp api.\n   *\n   * @param tokens\n   */\n  onPostsSearch(tokens) {\n\n    apiFetch(\n      {\n        path: addQueryArgs('/wp/v2/posts', {\n          per_page: 50,\n          page: 1,\n          search: tokens,\n          orderby: 'title',\n          post_status: 'publish',\n\n        })\n      }\n    ).then(posts => {\n      let postsSuggestions = posts.map(post => post.title.rendered);\n      this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n    });\n  }\n\n  onSelectedTagsChange(tokens) {\n    const tagIds = tokens.map(token => {\n      return this.props.tagsList.filter(tag => tag.name === token)[0].id;\n    });\n    this.props.onSelectedTagsChange(tagIds);\n    this.setState({tagTokens: tokens})\n  }\n\n  onSelectedPostTypesChange(tokens) {\n    const postTypeIds = tokens.map(token => {\n      return this.props.postTypesList.filter(postType => postType.name === token)[0].id;\n    });\n    this.props.onSelectedPostTypesChange(postTypeIds);\n    this.setState({postTypeTokens: tokens})\n  }\n\n  onSelectedPostsChange(tokens) {\n    // Array to hold references to selected posts objects.\n    let currentSelectedPosts = [];\n    tokens.forEach(token => {\n      let f = this.state.postsList.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n      f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n    });\n\n    const postIds = currentSelectedPosts.map(post => post.id);\n    this.props.onSelectedPostsChange(postIds);\n    this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const tagSuggestions = this.props.tagsList.map(tag => tag.name);\n    const postTypeSuggestions = this.props.postTypesList.map(postType => postType.name);\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'p4ge')}\n            placeholder={__('Enter title', 'p4ge')}\n            help={__('Your default is set to [ Latest Articles ]', 'p4ge')}\n            value={this.props.article_heading}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'p4ge')}\n            placeholder={__('Enter description', 'p4ge')}\n            value={this.props.articles_description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label={__('Button Text', 'p4ge')}\n            placeholder={__('Override button text', 'p4ge')}\n            help={__('Your default is set to [ Load More ]', 'p4ge')}\n            value={this.props.read_more_text}\n            onChange={this.props.onReadmoretextChange}\n          />\n        </div>\n\n\n        <div>\n          <TextControl\n            label={__('Button Link', 'p4ge')}\n            placeholder={__('Add read more button link', 'p4ge')}\n            value={this.props.read_more_link}\n            onChange={this.props.onReadmorelinkChange}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Open in a new Tab', 'p4ge')}\n            help={__('Open button link in new tab', 'p4ge')}\n            value={this.props.button_link_new_tab}\n            checked={this.props.button_link_new_tab}\n            onChange={(e) => this.props.onButtonLinkTabChange(e)}\n          />\n        </div>\n\n        {\n          this.props.posts !== 'undefined' && this.props.posts.length === 0\n            ?\n            <Fragment>\n              <div>\n                <TextControl\n                  label={__('Articles count', 'p4ge')}\n                  help={__('Number of articles', 'p4ge')}\n                  type=\"number\"\n                  value={this.props.article_count}\n                  onChange={this.props.onCountChange}\n                />\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label={__('Select Tags', 'p4ge')}\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                />\n                <p className='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.postTypeTokens}\n                  suggestions={postTypeSuggestions}\n                  label={__('Post Types', 'p4ge')}\n                  onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                />\n              </div>\n              <div className=\"ignore-categories-wrapper\">\n                <CheckboxControl\n                  label={__('Ignore categories', 'p4ge')}\n                  help={__('Ignore categories when filtering posts to populate the content of this block', 'p4ge')}\n                  value={this.props.ignore_categories}\n                  checked={this.props.ignore_categories}\n                  onChange={(e) => this.props.onIgnoreCategoriesChange(e)}\n                />\n              </div>\n            </Fragment>\n            : null\n        }\n\n        {\n          (this.props.tags.length === 0 && this.props.post_types.length === 0)\n            ? <div>\n              <hr/>\n              <label>{__('Manual override', 'p4ge')}</label>\n              <FormTokenField\n                value={this.state.postsTokens}\n                suggestions={this.state.postsSuggestions}\n                label={__('CAUTION: Adding articles individually will override the automatic functionality of this block. For good user experience, please include at least three articles so that spacing and alignment of the design remains in tact.', 'p4ge')}\n                onChange={tokens => this.onSelectedPostsChange(tokens)}\n                onInputChange={tokens => this.onPostsSearch(tokens)}\n                placeholder=\"Select Posts\"\n                maxLength=\"10\"\n                maxSuggestions=\"20\"\n              />\n            </div>\n            : null\n        }\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/articles'}\n            attributes={{\n              read_more_text: this.props.read_more_text,\n              read_more_link: this.props.read_more_link,\n              tags: this.props.tags,\n              post_types: this.props.post_types,\n              posts: this.props.posts,\n              article_heading: this.props.article_heading,\n              articles_description: this.props.articles_description,\n              article_count: this.props.article_count,\n              ignore_categories: this.props.ignore_categories,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Articles} from './Articles.js';\n\nexport class ArticlesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/articles', {\n      title: 'Articles',\n      icon: 'excerpt-view',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_articles',\n            attributes: {\n              article_heading: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_heading;\n                }\n              },\n              articles_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.articles_description;\n                }\n              },\n              article_count: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_count;\n                }\n              },\n              read_more_text: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_text;\n                }\n              },\n              read_more_link: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_link;\n                }\n              },\n              button_link_new_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.button_link_new_tab;\n                }\n              },\n              ignore_categories: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.ignore_categories;\n                }\n              },\n              tags: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.tags.split(',') : [];\n                }\n              },\n              post_types: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.post_types.split(',') : [];\n                }\n              },\n              posts: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.posts.split(',') : [];\n                }\n              },\n              exclude_post_id: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.exclude_post_id);\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        article_heading: {\n          type: 'string',\n        },\n        articles_description: {\n          type: 'string',\n        },\n        article_count: {\n          type: 'integer',\n          default: 3\n        },\n        tags: {\n          type: 'array',\n          default: []\n        },\n        posts: {\n          type: 'array',\n          default: []\n        },\n        post_types: {\n          type: 'array',\n          default: []\n        },\n        read_more_text: {\n          type: 'string'\n        },\n        read_more_link: {\n          type: 'string',\n          default: ''\n        },\n        button_link_new_tab: {\n          type: 'boolean',\n          default: false\n        },\n        ignore_categories: {\n          type: 'boolean',\n          default: false\n        },\n        exclude_post_id: {\n          type: 'integer',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: withSelect((select) => {\n        const tagsTaxonomy = 'post_tag';\n        const postTypesTaxonomy = 'p4-page-type';\n        const args = {\n          hide_empty: false,\n          per_page: 50,\n        };\n        const {getEntityRecords} = select('core');\n\n        // We should probably wrap all these in a single call,\n        // or maybe use our own way of retrieving data from the\n        // API, I don't know how this scales.\n        const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n        const postTypesList = getEntityRecords('taxonomy', postTypesTaxonomy, args);\n\n        return {\n          postTypesList,\n          tagsList,\n        };\n      })(({\n            postTypesList,\n            tagsList,\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        if (!tagsList || !postTypesList) {\n          return \"Populating block's fields...\";\n        }\n\n        // TO-DO: Check for posts types and posts too...\n        if ((tagsList && tagsList.length === 0) || (postTypesList && postTypesList.length === 0)) {\n          return \"Populating block's fields...\";\n        }\n\n        // These methods are passed down to the\n        // Articles component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({article_heading: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({articles_description: value});\n        }\n\n        function onReadmoretextChange(value) {\n          setAttributes({read_more_text: value});\n        }\n\n        function onCountChange(value) {\n          setAttributes({article_count: Number(value)});\n        }\n\n        function onReadmorelinkChange(value) {\n          setAttributes({read_more_link: value});\n        }\n\n        function onButtonLinkTabChange(value) {\n          setAttributes({button_link_new_tab: value});\n        }\n\n        function onSelectedTagsChange(tagIds) {\n          setAttributes({tags: tagIds});\n        }\n\n        function onSelectedPostsChange(value) {\n          setAttributes({posts: value});\n        }\n\n        function onSelectedPostTypesChange(postTypeIds) {\n          setAttributes({post_types: postTypeIds});\n        }\n\n        function onIgnoreCategoriesChange(value) {\n          setAttributes({ignore_categories: value});\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Articles\n          {...attributes}\n          isSelected={isSelected}\n          tagsList={tagsList}\n          postTypesList={postTypesList}\n          onSelectedTagsChange={onSelectedTagsChange}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onCountChange={onCountChange}\n          onSelectedPostsChange={onSelectedPostsChange}\n          onSelectedPostTypesChange={onSelectedPostTypesChange}\n          onReadmoretextChange={onReadmoretextChange}\n          onReadmorelinkChange={onReadmorelinkChange}\n          onButtonLinkTabChange={onButtonLinkTabChange}\n          onIgnoreCategoriesChange={onIgnoreCategoriesChange}/>\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import React, {Component, Fragment} from 'react';\nimport {\n  Button,\n  CheckboxControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {CarouselHeaderSlide} from \"./CarouselHeaderSlide\";\nimport {initializeCarouselHeader} from \"./CarouselHeaderFront\";\n\nexport class CarouselHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.refs = [];\n    this.ssrRef = React.createRef();\n    this.firstRender = true;\n  }\n\n  componentDidMount() {\n    this.collapseSlides();\n    if (this.ssrRef.current && this.ssrRef.current.currentFetchRequest) {\n      // Get ServerSideRender component fetch request and attach resolve function.\n      this.ssrRef.current.currentFetchRequest.then(function () {\n        setTimeout(function () {\n          initializeCarouselHeader();\n        }, 1000);\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.firstRender) {\n      this.collapseSlides();\n      this.firstRender = false;\n    }\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (this.ssrRef.current && this.ssrRef.current.currentFetchRequest) {\n      this.ssrRef.current.currentFetchRequest.then(function() {\n        setTimeout(function () {\n          initializeCarouselHeader();\n        }, 1000);\n      });\n    }\n  }\n\n  /**\n   * Collapse all active slides.\n   */\n  collapseSlides() {\n    let refs = this.refs;\n    Object.keys(this.refs).forEach(function (index) {\n      if (null !== refs[index]) {\n        refs[index].collapseSlide();\n      }\n    }.bind(refs));\n  }\n\n  /**\n   * Add new slide to carousel header.\n   */\n  addNewSlide() {\n    this.collapseSlides();\n    this.props.addSlide();\n  }\n\n  /**\n   * Remove slide to carousel header.\n   */\n  removeSlide() {\n    this.props.removeSlide();\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h3>{__('What style of carousel do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.block_style}\n            onSelectedLayoutChange={this.props.onBlockStyleChange}\n            options={[\n              {\n                label: __('Zoom and slide to gray', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/carousel-with-preview.png',\n                value: 'zoom-and-slide-to-gray',\n                help: __('This carousel provides a fancy transition, and a preview for the next slide in an oblique shape.')\n              }, {\n                label: __('Full width classic', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/carousel-classic.png',\n                value: 'full-width-classic',\n                help: __('This is a full width slider with a classic look: big slides, fade transition, and no subheaders.'),\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Carousel Autoplay', 'p4ge')}\n            help={__('Select to trigger images autoslide', 'p4ge')}\n            value={this.props.carousel_autoplay}\n            checked={this.props.carousel_autoplay}\n            onChange={(e) => this.props.onCarouselAutoplayChange(e)}\n          />\n        </div>\n\n        {this.props.slides.map((slide, i) => {\n          return (\n            <Fragment>\n              <CarouselHeaderSlide\n                {...slide}\n                onImageChange={this.props.onImageChange}\n                onHeaderChange={this.props.onHeaderChange}\n                onHeaderSizeChange={this.props.onHeaderSizeChange}\n                onSubheaderChange={this.props.onSubheaderChange}\n                onDescriptionChange={this.props.onDescriptionChange}\n                onLinkTextChange={this.props.onLinkTextChange}\n                onLinkUrlChange={this.props.onLinkUrlChange}\n                onLinkNewTabChange={this.props.onLinkNewTabChange}\n                onStyleChange={this.props.onStyleChange}\n                onFocalPointsChange={this.props.onFocalPointsChange}\n                hasSubheader={this.props.block_style !== 'full-width-classic'}\n                index={i}\n                key={i}\n                ref={(instance) => {\n                  this.refs[i] = instance\n                }}\n              />\n            </Fragment>\n          );\n        })}\n\n        <div className='carousel-header-add-remove-slide'>\n          <Button isPrimary\n                  onClick={this.addNewSlide.bind(this)}\n                  disabled={this.props.slides.length >= 4}\n          >\n            Add Slide\n          </Button>\n          <Button isDefault\n                  onClick={this.removeSlide.bind(this)} disabled={this.props.slides.length <= 1}\n          >\n            Remove Slide\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          {\n            this.props.slides.length && this.props.slides[0].image > 0\n            ? <ServerSideRender\n                block={'planet4-blocks/carousel-header'}\n                attributes={{\n                  block_style: this.props.block_style,\n                  carousel_autoplay: this.props.carousel_autoplay,\n                  slides: this.props.slides,\n                }}\n                ref={this.ssrRef}\n              >\n              </ServerSideRender>\n            : <div>Not enough data available to render the block yet.</div>\n          }\n\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {CarouselHeader} from './CarouselHeader.js';\n\nexport class CarouselHeaderBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/carousel-header', {\n      title: 'Carousel Header',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_carousel_header block_style=\"full-width-classic\" carousel_autoplay=\"true\" image_1=\"16\" focus_image_1=\"center center\"\n       *     header_1=\"Carousel header - full width  1\" description_1=\"Lorem ipsum \" link_text_1=\"Curabitur rutrum viverra\" image_2=\"348\"\n       *     focus_image_2=\"center center\"\n       *     header_2=\"Carousel header - full width  2\"\n       *     description_2=\"Pellentesque cursus\" link_text_2=\"Pellentesque cursus\"\n       *     image_3=\"357\" focus_image_3=\"left top\" header_3=\"Carousel header - full width  3\"\n       *     description_3=\"Nam condimentum\" focus_image_4=\"left top\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/carousel-header {\"carousel_autoplay\":\"true\",\"slides\":[{\"image\":16,\"header\":\"Carousel header - full width  1\",\"description\":\"Lorem ipsum\",\"link_text\":\"Curabitur rutrum viverra\",\"focal_points\":{\"x\":0.5,\"y\":0.5}},{\"image\":348,\"header\":\"Carousel header - full width  2\",\"description\":\"Pellentesque cursus\",\"link_text\":\"Pellentesque cursus\",\"focal_points\":{\"x\":0.5,\"y\":0.5}},{\"image\":357,\"header\":\"Carousel header - full width  3\",\"description\":\"Nam condimentum\",\"focal_points\":{\"x\":0,\"y\":0}}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_carousel_header',\n            attributes: {\n              block_style: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.block_style);\n                }\n              },\n              carousel_autoplay: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.carousel_autoplay;\n                }\n              },\n              slides: {\n                type: 'array',\n                shortcode: function (attributes) {\n\n                  const convert_position = function(position) {\n                    switch (position) {\n                    case 'left top':\n                      return {x: 0, y: 0};\n                    case 'center top':\n                      return {x: 0.5, y: 0};\n                    case 'right top':\n                      return {x: 1, y: 0};\n                    case 'left center':\n                      return {x: 0, y: 0.5};\n                    case 'center center':\n                      return {x: 0.5, y: 0.5};\n                    case 'right center':\n                      return {x: 1, y: 0.5};\n                    case 'left bottom':\n                      return {x: 0, y: 1};\n                    case 'center bottom':\n                      return {x: 0.5, y: 1};\n                    case 'right bottom':\n                      return {x: 1, y: 1};\n                    }\n                  };\n\n\n                  let slides = [];\n                  if (attributes.named.image_1) {\n                    let slide = {\n                      image: Number(attributes.named.image_1),\n                      header: attributes.named.header_1,\n                      header_size: attributes.named.header_size_1,\n                      subheader: attributes.named.subheader_1,\n                      description: attributes.named.description_1,\n                      link_text: attributes.named.link_text_1,\n                      link_url: attributes.named.link_url_1,\n                      focal_points: convert_position(attributes.named.focus_image_1)\n                    };\n                    slides.push(Object.assign({}, slide));\n\n                    if (attributes.named.image_2) {\n                      let slide = {\n                        image: Number(attributes.named.image_2),\n                        header: attributes.named.header_2,\n                        header_size: attributes.named.header_size_2,\n                        subheader: attributes.named.subheader_2,\n                        description: attributes.named.description_2,\n                        link_text: attributes.named.link_text_2,\n                        link_url: attributes.named.link_url_2,\n                        focal_points: convert_position(attributes.named.focus_image_2)\n                      };\n                      slides.push(Object.assign({}, slide));\n\n                      if (attributes.named.image_3) {\n                        let slide = {\n                          image: Number(attributes.named.image_3),\n                          header: attributes.named.header_3,\n                          header_size: attributes.named.header_size_3,\n                          subheader: attributes.named.subheader_3,\n                          description: attributes.named.description_3,\n                          link_text: attributes.named.link_text_3,\n                          link_url: attributes.named.link_url_3,\n                          focal_points: convert_position(attributes.named.focus_image_3)\n                        };\n                        slides.push(Object.assign({}, slide));\n\n                        if (attributes.named.image_4) {\n                          let slide = {\n                            image: Number(attributes.named.image_4),\n                            header: attributes.named.header_4,\n                            header_size: attributes.named.header_size_4,\n                            subheader: attributes.named.subheader_4,\n                            description: attributes.named.description_4,\n                            link_text: attributes.named.link_text_4,\n                            link_url: attributes.named.link_url_4,\n                            focal_points: convert_position(attributes.named.focus_image_4)\n                          };\n                          slides.push(Object.assign({}, slide));\n\n                        }\n                      }\n                    }\n                  }\n                  return slides;\n                }\n              }\n            }\n          }\n        ]\n      },\n      attributes: {\n        block_style: {\n          type: 'string',\n        },\n        carousel_autoplay: {\n          type: 'boolean',\n        },\n        slides: {\n          type: 'array',\n          default: [\n            {\n              image: null,\n              focal_points: {},\n              header: '',\n              header_size: 'h1',\n              subheader: '',\n              description: '',\n              link_text: '',\n              link_url: '',\n              link_url_new_tab: false,\n            }\n          ]\n        },\n      },\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        function addSlide() {\n          setAttributes({\n            slides: attributes.slides.concat({\n              image: null,\n              focal_points: {},\n              header: '',\n              header_size: 'h1',\n              subheader: '',\n              description: '',\n              link_text: '',\n              link_url: '',\n              link_url_new_tab: false,\n            })\n          });\n        }\n\n        function onCarouselAutoplayChange(value) {\n          setAttributes({carousel_autoplay: value});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onImageChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          if (null !== value) {\n            slides[index].image = value;\n          } else {\n            slides[index].image = null;\n          }\n          setAttributes({slides: slides});\n        }\n\n        function onFocalPointsChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          if (null !== value) {\n            const fo = JSON.parse(JSON.stringify(value));\n            slides[index].focal_points = fo;\n          } else {\n            slides[index].focal_points = null;\n          }\n          setAttributes({slides: slides});\n        }\n\n        function onHeaderChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].header = value;\n          setAttributes({slides: slides});\n        }\n\n        function onHeaderSizeChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].header_size = value;\n          setAttributes({slides: slides});\n        }\n\n        function onSubheaderChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].subheader = value;\n          setAttributes({slides: slides});\n        }\n\n        function onDescriptionChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].description = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkUrlChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_url = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkTextChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_text = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkNewTabChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_url_new_tab = value;\n          setAttributes({slides: slides});\n        }\n\n        function onBlockStyleChange(value) {\n          setAttributes({block_style: value});\n        }\n\n        function removeSlide() {\n          setAttributes({slides: attributes.slides.slice(0, -1)});\n        }\n\n        return <CarouselHeader\n          {...attributes}\n          isSelected={isSelected}\n          onBlockStyleChange={onBlockStyleChange}\n          onCarouselAutoplayChange={onCarouselAutoplayChange}\n          onTitleChange={onTitleChange}\n          onImageChange={onImageChange}\n          onHeaderChange={onHeaderChange}\n          onSubheaderChange={onSubheaderChange}\n          onHeaderSizeChange={onHeaderSizeChange}\n          onDescriptionChange={onDescriptionChange}\n          onLinkTextChange={onLinkTextChange}\n          onLinkUrlChange={onLinkUrlChange}\n          onLinkNewTabChange={onLinkNewTabChange}\n          onFocalPointsChange={onFocalPointsChange}\n          addSlide={addSlide}\n          removeSlide={removeSlide}\n        />;\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","/* global Hammer */\nconst ZoomAndSlideToGrayCarouselHeader = {\n  /**\n   * This module provides a custom slideshow mechanism for use with the header carousel.\n   * The transition behavior in this block is too complex to be easily layered upon the\n   * default bootstrap carousel.\n   */\n\n  // SLIDE_TRANSITION_SPEED should match $slide-transition-speed in _carousel_header.scss.\n  SLIDE_TRANSITION_SPEED: 500,\n  activeTransition: null,\n\n\n  /**\n   * Given an active slide return the next slide, wrapping around the end of the carousel.\n   *\n   * @param {HTMLElement|jQuery} slide A slide in the carousel.\n   * @returns {jQuery} A jQuery selection of the next slide.\n   */\n  nextSlide: function (el) {\n    const $el = $(el);\n    const $nextSlide = $el.next('.carousel-item');\n    // prevAll returns items in reverse DOM order: the first slide is the last element.\n    return $nextSlide.length ? $nextSlide : $el.prevAll('.carousel-item').last();\n  },\n\n  previousSlide: function (el) {\n    const $el = $(el);\n    const $previousSlide = $el.prev('.carousel-item');\n    return $previousSlide.length ? $previousSlide : $el.nextAll('.carousel-item').last();\n  },\n\n  // Update active slide indicators\n  switchIndicator: function (index) {\n    this.$CarouselIndicators.children().each(function (i, el) {\n      $(el).toggleClass('active', i === index);\n    });\n  },\n\n  setup: function () {\n    const me = this;\n\n    me.$CarouselHeaderWrapper = $('#carousel-wrapper-header');\n\n    me.$CarouselIndicators = me.$CarouselHeaderWrapper.find('.carousel-indicators');\n    me.$Slides = me.$CarouselHeaderWrapper.find('.carousel-item');\n\n    me.$CarouselHeaderWrapper.find('img').on('load', function () {\n      const current_img_src = $(this).get(0).currentSrc;\n      const current_bg_img = $(this).parent().css('background-image').replace(/.*\\s?url\\(['\"]?/, '').replace(/['\"]?\\).*/, '');\n      if (current_img_src !== current_bg_img) {\n        $(this).parent().css('background-image', 'url(' + $(this).get(0).currentSrc + ')');\n      }\n    });\n\n    me.$CarouselIndicators.find('li').remove(); // Empty the indicators list\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n\n      // Populate carousel indicators list\n      $('<li>')\n        .attr('data-target', '#carousel-wrapper-header')\n        .attr('data-slide-to', i)\n        .toggleClass('active', i === 0)\n        .appendTo(me.$CarouselIndicators);\n\n      // Convert the provided image tag into background image styles.\n      const $img = $slide.find('img');\n      const img_src = $img.get(0).currentSrc || $img.attr('src');\n      $slide\n        .css('background-image', 'url(' + img_src + ')')\n        .css('background-position', $img.data('background-position'));\n\n      // Populate carousel slide index\n      $slide.attr('data-slide', i);\n    });\n\n    // Bind mouse interaction events\n    let clickTargets = '.carousel-control-next';\n    if ($('html').attr('dir') == 'rtl') {\n      clickTargets += ', .carousel-control-prev';\n    }\n    me.$CarouselHeaderWrapper.on('click', clickTargets, function (evt) {\n      evt.preventDefault();\n      me.advanceCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', '.carousel-indicators li', function (evt) {\n      evt.preventDefault();\n      me.activate($(evt.target).data('slide-to'));\n    });\n\n    /* Carousel header swipe on mobile */\n    if ($('.carousel-header').length > 0 && me.$Slides.length > 1) {\n      const carousel_element = $('.carousel-header')[0];\n      const carousel_head_hammer = new Hammer(carousel_element, {recognizers: []});\n      const hammer = new Hammer.Manager(carousel_head_hammer.element);\n      const swipe = new Hammer.Swipe();\n      hammer.add(swipe);\n\n      hammer.on('swipeleft', function () {\n        me.advanceCarousel();\n      });\n\n      hammer.on('swiperight', function () {\n        me.backwardsCarousel();\n      });\n\n      // Vertical swiping on carousel should scroll the page\n      hammer.on('swipeup', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y + 200});\n      });\n      hammer.on('swipedown', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y - 200});\n      });\n    }\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n      const $nextImg = me.nextSlide($slide).find('img');\n\n      if ($nextImg.length > 0) {\n        // Add an element within the slide to hold the next slide preview.\n        const $preview = $('<div>')\n          .addClass('carousel-preview-wrap')\n          .prependTo($slide);\n\n        const next_img_src = $nextImg.get(0).currentSrc || $nextImg.attr('src');\n        $('<div>')\n          .addClass('carousel-preview')\n          .css('background-image', 'url(' + next_img_src + ')')\n          .css('background-position', $nextImg.data('background-position'))\n          .appendTo($preview);\n      }\n    });\n  },\n\n  backwardsCarousel: function () {\n    const $active = this.$Slides.filter('.active');\n    const $previous = this.previousSlide($active);\n    this.activate($previous.data('slide'));\n  },\n\n  /**\n   * Switch to a specific slide.\n   *\n   * @param {Number} slideIndex The index of a slide in the carousel.\n   */\n  activate: function (slideIndex) {\n    const me = this;\n    const $slide = me.$Slides.eq(slideIndex);\n\n    if ($slide.hasClass('active') && !$slide.hasClass('slide-over')) {\n      // If the requested slide is active and not transitioning, do nothing.\n      return;\n    }\n\n    if (me.$CarouselHeaderWrapper.data('block-style') != 'full-width-classic') {\n      if ($slide.hasClass('next')) {\n        // If the slide being requested is next, transition normally.\n        me.advanceCarousel();\n        return;\n      }\n    }\n\n    if (me.activeTransition) {\n      clearTimeout(me.activeTransition);\n    }\n\n    me.switchIndicator(slideIndex);\n\n    me.$Slides.removeClass('active next slide-over fade-out');\n    $slide.addClass('active');\n    me.nextSlide($slide).addClass('next');\n  },\n\n  /**\n   * Advance to the next slide in the carousel.\n   */\n  advanceCarousel: function () {\n    const me = this;\n    const $active = me.$Slides.filter('.active');\n\n    me.$Slides.removeClass('next');\n    const $next = me.nextSlide($active).addClass('next');\n\n    if (me.activeTransition) {\n      // A transition is in progress, so proceed to the next pair of slides\n      clearTimeout(me.activeTransition);\n      me.activeTransition = null;\n      me.$Slides.removeClass('fade-out slide-over active');\n      $next.addClass('active');\n      me.nextSlide($next).addClass('next');\n      me.advanceCarousel();\n      return;\n    }\n\n    // Transition out the active slide\n    $active.addClass('slide-over');\n\n    me.switchIndicator(me.$Slides.index($next));\n\n    // When transition is done, swap out the slides\n    me.activeTransition = setTimeout(function beginTransition() {\n      $active.addClass('fade-out');\n      me.activeTransition = setTimeout(function completeTransition() {\n        $active.removeClass('active');\n        me.$Slides.removeClass('slide-over fade-out');\n        $next.removeClass('next').addClass('active');\n        // Ensure the new upcoming slide has .next\n        me.nextSlide($next).addClass('next');\n        me.activeTransition = null;\n      }, me.SLIDE_TRANSITION_SPEED / 2);\n    }, me.SLIDE_TRANSITION_SPEED);\n  },\n};\n\nconst FullWidthClassicCarouselHeader = {\n  /**\n   * Given an active slide return the next slide, wrapping around the end of the carousel.\n   *\n   * @param {HTMLElement|jQuery} slide A slide in the carousel.\n   * @returns {jQuery} A jQuery selection of the next slide.\n   */\n  nextSlide: function (el) {\n    const $el = $(el);\n    const $nextSlide = $el.next('.carousel-item');\n    // prevAll returns items in reverse DOM order: the first slide is the last element.\n    return $nextSlide.length ? $nextSlide : $el.prevAll('.carousel-item').last();\n  },\n\n  previousSlide: function (el) {\n    const $el = $(el);\n    const $previousSlide = $el.prev('.carousel-item');\n    return $previousSlide.length ? $previousSlide : $el.nextAll('.carousel-item').last();\n  },\n\n  // Update active slide indicators\n  switchIndicator: function (index) {\n    this.$CarouselIndicators.children().each(function (i, el) {\n      $(el).toggleClass('active', i === index);\n    });\n  },\n\n  getCurrentSlideIndex: function () {\n    return this.$CarouselHeaderWrapper.find('.carousel-item.active').index();\n  },\n\n  setup: function () {\n    const me = this;\n\n    me.$CarouselHeaderWrapper = $('#carousel-wrapper-header');\n    me.$Slides = me.$CarouselHeaderWrapper.find('.carousel-item');\n\n    me.$CarouselHeaderWrapper.find('img').on('load', function () {\n      const current_img_src = $(this).get(0).currentSrc;\n      const current_bg_img = $(this).parent().css('background-image').replace(/.*\\s?url\\(['\"]?/, '').replace(/['\"]?\\).*/, '');\n      if (current_img_src !== current_bg_img) {\n        $(this).parent().css('background-image', 'url(' + $(this).get(0).currentSrc + ')');\n      }\n    });\n\n    me.$CarouselIndicators = me.$CarouselHeaderWrapper.find('.carousel-indicators');\n\n    me.$CarouselIndicators.find('li').remove(); // Empty the indicators list\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n\n      // Populate carousel indicators list\n      $('<li>')\n        .attr('data-target', '#carousel-wrapper-header')\n        .attr('data-slide-to', i)\n        .toggleClass('active', i === 0)\n        .appendTo(me.$CarouselIndicators);\n\n      // Convert the provided image tag into background image styles.\n      const $img = $slide.find('img');\n      const img_src = $img.get(0).currentSrc || $img.attr('src');\n      $slide.find('.background-holder')\n        .css('background-image', 'url(' + img_src + ')')\n        .css('background-position', $img.data('background-position'));\n\n      // Populate carousel slide index\n      $slide.attr('data-slide', i);\n    });\n\n    // Bind mouse interaction events\n    const clickTargets = ['.carousel-control-next', '.carousel-control-prev'];\n    if ($('html').attr('dir') == 'rtl') {\n      clickTargets.reverse();\n    }\n    me.$CarouselHeaderWrapper.on('click', clickTargets[0], function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.advanceCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', clickTargets[1], function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.backwardsCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', '.carousel-indicators li', function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.activate($(evt.target).data('slide-to'));\n    });\n\n    /* Carousel header swipe on mobile */\n    if ($('.carousel-header_full-width-classic').length > 0 && me.$Slides.length > 1) {\n      const carousel_element = $('.carousel-header_full-width-classic')[0];\n      const carousel_head_hammer = new Hammer(carousel_element, {recognizers: []});\n      const hammer = new Hammer.Manager(carousel_head_hammer.element);\n      const swipe = new Hammer.Swipe();\n      hammer.add(swipe);\n\n      hammer.on('swipeleft', function () {\n        me.cancelAutoplayInterval();\n        me.advanceCarousel();\n      });\n\n      hammer.on('swiperight', function () {\n        me.cancelAutoplayInterval();\n        me.backwardsCarousel();\n      });\n\n      // Vertical swiping on carousel should scroll the page\n      hammer.on('swipeup', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y + 200});\n      });\n      hammer.on('swipedown', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y - 200});\n      });\n    }\n\n    me.positionIndicators();\n    me.setCarouselHeight(me.$Slides.first());\n\n    me.$CarouselHeaderWrapper.find('.initial').on('transitionend', function () {\n      $(this).removeClass('initial');\n    });\n\n    $(window).on('resize', function () {\n      const $currentSlide = $('.carousel-item.active');\n      me.setCarouselHeight($currentSlide);\n      me.positionIndicators();\n    });\n\n    me.autoplayPaused = false;\n    me.autoplayEnabled = me.$CarouselHeaderWrapper.data('carousel-autoplay') == true;\n\n    if (me.$Slides.length > 1 && me.autoplayEnabled) {\n      me.startAutoplayInterval();\n\n      me.$CarouselHeaderWrapper.on('mouseenter', function () {\n        me.autoplayPaused = true;\n      });\n\n      me.$CarouselHeaderWrapper.on('mouseleave', function () {\n        me.autoplayPaused = false;\n      });\n    }\n\n    $(window).on('scroll', function () {\n      me.cancelAutoplayInterval();\n      $(window).off('scroll');\n    });\n  },\n\n  startAutoplayInterval: function () {\n    const me = this;\n    me.autoplayInterval = window.setInterval(function () {\n      if (!me.autoplayPaused) {\n        me.advanceCarousel();\n      }\n    }, 6000);\n  },\n\n  cancelAutoplayInterval: function () {\n    window.clearInterval(this.autoplayInterval);\n  },\n\n  /**\n   * Switch to a specific slide.\n   *\n   * @param {Number} slideIndex The index of a slide in the carousel.\n   */\n  activate: function (slideIndex) {\n    const me = this;\n    const $slide = me.$Slides.eq(slideIndex);\n    const currentIndex = me.getCurrentSlideIndex();\n\n    if (slideIndex == currentIndex) {\n      return;\n    }\n\n    if (slideIndex > currentIndex) {\n      me.advanceCarousel($slide);\n    } else {\n      me.backwardsCarousel($slide);\n    }\n  },\n\n  positionIndicators: function () {\n    const $indicators = this.$CarouselHeaderWrapper.find('.carousel-indicators');\n    const $header = this.$CarouselHeaderWrapper.find('.carousel-item.active .action-button');\n    const isRTL = $('html').attr('dir') == 'rtl';\n    const rightSide = (window.matchMedia('(min-width: 992px)').matches && isRTL)\n      || (window.matchMedia('(min-width: 768px) and (max-width: 992px)').matches && !isRTL);\n\n    if (window.matchMedia('(min-width: 768px)').matches && $header.length) {\n      let leftOffset = $header.offset().left;\n\n      if (rightSide) {\n        const rightOffset = leftOffset + (isRTL ? $header.width() : $header.parent().width());\n        const indicatorsRight = $(window).width() - rightOffset;\n        $indicators.css('right', indicatorsRight + 'px')\n          .css('left', '')\n          .css('margin-left', '0')\n          .css('margin-right', '3px'); // same as indicators x margin\n      } else {\n        leftOffset = isRTL ? $header.parent().offset().left : $header.offset().left;\n        $indicators.css('left', leftOffset + 'px')\n          .css('right', '')\n          .css('margin-right', '0')\n          .css('margin-left', '3px');\n      }\n    } else {\n      $indicators.css('right', '');\n      $indicators.css('left', '');\n    }\n  },\n\n  getSlideHeight: function ($slide) {\n    return $slide.find('.carousel-item-mask .background-holder').outerHeight() + $slide.find('.carousel-caption').outerHeight() + 'px';\n  },\n\n  setCarouselHeight: function ($currentSlide) {\n    const me = this;\n    if (window.matchMedia('(max-width: 992px)').matches) {\n      me.$CarouselHeaderWrapper.find('.carousel-inner, .carousel-item-mask').css('height', this.getSlideHeight($currentSlide));\n    } else {\n      me.$CarouselHeaderWrapper.find('.carousel-inner, .carousel-item-mask').css('height', '');\n    }\n  },\n\n  backwardsCarousel: function ($slide) {\n    const me = this;\n    const $activeSlide = me.$Slides.filter('.active');\n    let $previousSlide = null;\n    if ($slide) {\n      $previousSlide = $slide;\n    } else {\n      $previousSlide = me.previousSlide($activeSlide);\n    }\n\n    $activeSlide.addClass('slide-right');\n    $previousSlide.addClass('prev');\n\n    function unsetTransitionClasses() {\n      $activeSlide.removeClass('slide-right active');\n      $previousSlide.addClass('active').removeClass('prev');\n      $activeSlide.off('transitionend');\n    }\n\n    me.setCarouselHeight($previousSlide);\n    $activeSlide.on('transitionend', unsetTransitionClasses);\n    me.switchIndicator(me.$Slides.index($previousSlide));\n  },\n\n  /**\n   * Advance to the next slide in the carousel.\n   */\n  advanceCarousel: function ($slide) {\n    const me = this;\n    const $activeSlide = me.$Slides.filter('.active');\n    let $nextSlide = null;\n    if ($slide) {\n      $nextSlide = $slide;\n    } else {\n      $nextSlide = me.nextSlide($activeSlide);\n    }\n\n    $activeSlide.addClass('slide-left');\n    $nextSlide.addClass('next');\n\n    function unsetTransitionClasses() {\n      $activeSlide.removeClass('slide-left active');\n      $nextSlide.addClass('active').removeClass('next');\n      $activeSlide.off('transitionend');\n    }\n\n    $activeSlide.on('transitionend', unsetTransitionClasses);\n    $activeSlide.find('.btn').fadeIn();\n\n    me.setCarouselHeight($nextSlide);\n    me.switchIndicator(me.$Slides.index($nextSlide));\n  },\n};\n\nexport const initializeCarouselHeader = function() {\n  const $CarouselHeaderWrapper = $('#carousel-wrapper-header');\n  if ($CarouselHeaderWrapper.length > 0) {\n    switch ($CarouselHeaderWrapper.data('block-style')) {\n    case 'full-width-classic':\n      FullWidthClassicCarouselHeader.setup();\n      break;\n    default:\n      ZoomAndSlideToGrayCarouselHeader.setup();\n      break;\n    }\n  }\n};\n","import {React, Component, Fragment} from 'react';\nimport {\n  Dashicon,\n  FocalPointPicker\n} from '@wordpress/components';\nimport {MediaUpload} from \"@wordpress/editor\";\nimport ImagePlaceholder from './ImagePlaceholder';\n\nexport class CarouselHeaderImage extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {onChange, onRemove, image_id, image_url, onFocalPointsChange, focal_points} = this.props;\n    let   hasRemove = true;\n\n    let imageClass = [];\n    if (!image_url) {\n      imageClass.push('ch-image-upload-placeholder');\n      imageClass.push('ch-image-upload-has-placeholder');\n    } else {\n      imageClass.push('carousel-header-image-container');\n    }\n    imageClass = imageClass.join(' ');\n\n\n    return (\n      <Fragment>\n        <MediaUpload\n          onSelect={onChange}\n          allowedTypes={['image']}\n          value={image_id}\n          render={obj => {\n            if (image_url) {\n              return (\n                <div\n                  className={imageClass}\n                  tabIndex={0}\n                >\n                  {image_url && onRemove && hasRemove && (\n                    <button className=\"ch-image-upload-remove\" onClick={ev => {\n                      onRemove();\n                      ev.stopPropagation()\n                    }}><Dashicon icon=\"no\"/></button>\n                  )}\n                  <FocalPointPicker\n                    url={image_url}\n                    value={focal_points}\n                    onChange={(focalPoints) => onFocalPointsChange(focalPoints)}\n                  />\n\n                </div>\n              )\n            }\n            return (\n              <div\n                className={imageClass}\n                onClick={obj.open}\n                onKeyDown={event => {\n                  if (event.keyCode === 13) {\n                    obj.open()\n                  }\n                }}\n                role=\"button\"\n                tabIndex={0}\n                >\n                {image_url && onRemove && hasRemove && (\n                  <button className=\"ch-image-upload-remove\" onClick={ev => {\n                    onRemove();\n                    ev.stopPropagation()\n                  }}><Dashicon icon=\"no\"/></button>\n                )}\n                <ImagePlaceholder/>\n              </div>\n            )\n          }}\n        />\n\n      </Fragment>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  Dashicon,\n  SelectControl,\n  TextareaControl,\n  TextControl,\n  ToggleControl\n} from '@wordpress/components';\nimport {URLInput} from '@wordpress/block-editor'\nimport {CarouselHeaderImage} from \"./CarouselHeaderImage\";\n\nconst {apiFetch} = wp;\n\nexport class CarouselHeaderSlide extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      image_id: null,\n      image_url: null,\n      focal_points: props.focal_points,\n      isHidden: false,\n    };\n    this.getMedia();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  getMedia() {\n\n    if (this.props.image) {\n\n      apiFetch(\n        {\n          path: `/wp/v2/media/${this.props.image}`\n        }\n      ).then(media => {\n        this.setState({\n          image_id: media.id,\n          image_url: media.source_url\n        });\n      });\n    }\n  }\n\n  onImageChange(image) {\n    this.props.onImageChange(this.props.index, image.id);\n    this.setState({image_id: image.id, image_url: image.url});\n  }\n\n  onImageRemove() {\n    this.props.onImageChange(this.props.index, null);\n    this.setState({image_id: null, image_url: null});\n  }\n\n  onFocalPointsChange(value) {\n    this.props.onFocalPointsChange(this.props.index, value);\n    this.setState({focal_points: value});\n  }\n\n  collapseSlide() {\n    this.setState({isHidden: true});\n  }\n\n  openSlide() {\n    this.setState({isHidden: false});\n  }\n\n  toggleSlide() {\n    this.setState({isHidden: !this.state.isHidden});\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div className={this.state.isHidden ? '' : 'carousel-header-slide-container'}>\n          <div onClick={ev => this.toggleSlide()} className='slide-number-row'>\n            <span>\n              {__('Slide', 'p4ge')} {this.props.index + 1}\n            </span>\n            <span className={this.state.isHidden ? 'slide-arrow' : 'slide-arrow slide-open'}>\n              <Dashicon icon=\"arrow-down-alt2\"/>\n            </span>\n          </div>\n\n          {!this.state.isHidden &&\n\n          <Fragment>\n            <div className='carousel-header-slide-options-wrapper'>\n              <div>{__('Select image and focal point', 'p4ge')}</div>\n              <CarouselHeaderImage\n                image_id={this.state.image_id}\n                image_url={this.state.image_url}\n                focal_points={this.state.focal_points}\n                onRemove={() => this.onImageRemove()}\n                onChange={(image) => this.onImageChange(image)}\n                onFocalPointsChange={(f) => this.onFocalPointsChange(f)}\n              />\n              <div className=\"ch-url-input-control__wrapper\">\n\n                <TextControl\n                  className=\"carouselh-header-input\"\n                  label={__('Header', 'p4ge')}\n                  placeholder={__('Enter header', 'p4ge')}\n                  value={this.props.header}\n                  onChange={(e) => this.props.onHeaderChange(this.props.index, e)}\n                />\n                <SelectControl\n                  label={__('Header text size', 'p4ge')}\n                  value={this.props.header_size}\n                  options={[\n                    {label: 'h1', value: 'h1'},\n                    {label: 'h2', value: 'h2'},\n                    {label: 'h3', value: 'h3'},\n                  ]}\n                  onChange={(e) => this.props.onHeaderSizeChange(this.props.index, e)}\n                />\n              </div>\n              {this.props.hasSubheader &&\n              <TextControl\n                label={__('Subheader', 'p4ge')}\n                placeholder={__('Enter subheader', 'p4ge')}\n                value={this.props.subheader}\n                onChange={(e) => this.props.onSubheaderChange(this.props.index, e)}\n              />\n              }\n              <TextareaControl\n                label={__('Description', 'p4ge')}\n                placeholder={__('Enter description of image', 'p4ge')}\n                value={this.props.description}\n                onChange={(e) => this.props.onDescriptionChange(this.props.index, e)}\n              />\n              <div className=\"ch-url-input-control__wrapper\">\n\n                <TextControl\n                  label={__('Link text and url', 'p4ge')}\n                  placeholder={__('Enter link text for image', 'p4ge')}\n                  value={this.props.link_text}\n                  onChange={(e) => this.props.onLinkTextChange(this.props.index, e)}\n                  className='carousel-header-link-text-input'\n                />\n                <form\n                  className=\"ch-url-input-control\"\n                  onSubmit={event => event.preventDefault()}>\n                  <div className=\"ch-url-input-control__wrapper\">\n                    <URLInput\n                      label={__('Url for link', 'p4ge')}\n                      className=\"ch-url-input-control__input\"\n                      value={this.props.link_url}\n                      onChange={(e) => this.props.onLinkUrlChange(this.props.index, e)}\n                      autoFocus={false}\n                    />\n                    <div className=\"ch-url-input-control__new-tab\">\n                      <ToggleControl\n                        help={__('New Tab', 'p4ge')}\n                        checked={this.props.link_url_new_tab}\n                        onChange={(e) => this.props.onLinkNewTabChange(this.props.index, e)}\n                      />\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </Fragment>\n          }\n        </div>\n      </Fragment>\n    );\n  };\n}\n","import {React, Component} from 'react';\n\nexport default class ImagePlaceholder extends Component {\n  render() {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 512 376\">\n      <path d=\"M0,0v376h512V0H0z M480,344H32V32h448V344z\"/>\n      <circle cx=\"409.1\" cy=\"102.9\" r=\"40.9\"/>\n      <polygon\n        points=\"480,344 32,344 118.3,179.8 140,191.1 189,113.8 289,226.9 297.9,217.6 315,239.9 341,193.5 393.9,264.7 409,248.8\"/>\n    </svg>\n  }\n}\n","import { React } from 'react';\nimport {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender,\n  Dashicon,\n  Tooltip,\n  ToggleControl, Button\n} from '@wordpress/components';\nimport {MediaPlaceholder, MediaUpload, MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Columns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {columns_title,columns_description,columns_block_style,columns,column_img,onDeleteImage} = this.props;\n\n      const getImageOrButton = (openEvent, index) => {\n        if ( columns[index] && columns[index]['attachment'] && ( 0 <  columns[index]['attachment'] ) ) {\n\n          return (\n\n            <div align='center'>\n              <div>{__('Column %s: Image', 'p4ge').replace('%s', index+1)}</div>\n              <div className=\"img-wrap\">\n                <Tooltip text={__('Remove Column Image', 'p4ge')}>\n                  <span className=\"close\" onClick={ev => {\n                    onDeleteImage(index);\n                    ev.stopPropagation()\n                  }}>&times;</span>\n                </Tooltip>\n              <img\n                src={ column_img[columns[index]['attachment']] }\n                onClick={ openEvent }\n                className='Columns__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n              </div>\n            </div>\n\n          );\n        }\n        else {\n\n          return (\n            <div className='column-img-btn-container'>\n              <div className='column-img-label'>{__('Column %s: Image', 'p4ge').replace('%s', index+1)}</div>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Column %s: Image', 'p4ge').replace('%s', index+1)}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <h3>{__('What style of column do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={columns_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('No Image', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-no_images.jpg',\n                  value: 'no_image',\n                  help: __('Optional headers, description text and buttons in a column display.', 'p4ge')\n                },\n                {\n                  label: __('Tasks', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-tasks.jpg',\n                  value: 'tasks',\n                  help: __('Used on Take Action pages, this display has ordered tasks, and call to action buttons.', 'p4ge')\n                },\n                {\n                  label: __('Icons', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-icons.jpg',\n                  value: 'icons',\n                  help: __('For more static content, this display has an icon, header, description and text link.', 'p4ge')\n                },\n                {\n                  label: __('Images', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-images.jpg',\n                  value: 'image',\n                  help: __('For more static content, this display has an image, header, description and text link.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter block title', 'p4ge')}\n              value={columns_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter block description', 'p4ge')}\n              value={columns_description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n          <div>\n\n            {columns.map((item, index) => {\n              return (\n                <div key={index}>\n                  <div><hr /></div>\n                  { !item.title && !item.description &&\n                   <div><b>{__('Please provide a header or a body for this column to be displayed.', 'p4ge')}</b></div>\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Header', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter header of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.title}\n                    onChange={this.props.onColumnHeaderChange.bind(this,index)}\n                  />\n                  <TextareaControl\n                    label={__('Column %s: Body', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter body of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.description}\n                    onChange={this.props.onColumnDescriptionChange.bind(this,index)}\n                  />\n\n                  { 'no_image' != columns_block_style &&\n                    <div className='components-base-control'>\n                      <MediaUploadCheck>\n                        <MediaUpload\n                          type='image'\n                          onSelect={this.props.onSelectImage.bind(this,index)}\n                          value={item.attachment}\n                          allowedTypes={columns_block_style === 'icons' ? ['image/png'] : ['image']}\n                          render={ ({ open }) => getImageOrButton(open, index) }\n                        />\n                      </MediaUploadCheck>\n                      { columns_block_style === 'icons' && item.attachment > 0 && typeof column_img[item.attachment] !== 'undefined' && !column_img[item.attachment].endsWith('.png') &&\n                       <div><b>{__('Please select another image for this column, as the current image is not an icon and you have chosen columns style icons. ', 'p4ge')}</b></div>\n                      }\n                    </div>\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Button/CtA Link', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_link}\n                    onChange={this.props.onCTALinkChange.bind(this,index)}\n                  />\n                  <ToggleControl\n                    label={__('Open link in new tab', 'p4ge')}\n                    help={__('Open Column %s: Button/CtA Link in a new tab', 'p4ge').replace('%s', index+1)}\n                    value={item.link_new_tab}\n                    checked={item.link_new_tab}\n                    onChange={this.props.onLinkNewTabChange.bind(this,index)}\n                  />\n                  <TextControl\n                    label={__('Column %s: Button/CtA Text', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter text of button/link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_text}\n                    onChange={this.props.onCTAButtonTextChange.bind(this,index)}\n                  />\n                </div>\n              );\n            })}\n\n            { columns.length < 4 && (\n              <Tooltip text={__('Add Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__addIcon\"\n                  }\n                  onClick={this.props.addColumn}\n                >\n                  {__('Add Column', 'p4ge')} <Dashicon icon={\"plus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n\n            { columns.length > 0 && (\n              <Tooltip text={__('Remove Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__removeIcon\"\n                  }\n                  onClick={this.props.removeColumn}\n                >\n                  {__('Remove Column', 'p4ge')} <Dashicon icon={\"minus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/columns'}\n                  attributes={{\n                    columns_block_style: this.props.columns_block_style,\n                    columns_title: this.props.columns_title,\n                    columns_description: this.props.columns_description,\n                    columns: this.props.columns,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Columns} from './Columns.js';\nimport {withSelect} from '@wordpress/data';\n\nconst {__} = wp.i18n;\n\nexport class ColumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/columns', {\n        title: __('Columns', 'p4ge'),\n        icon: \"grid-view\",\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_columns columns_block_style=\"image\" columns_title=\"Lorem Ipsum\" columns_description=\"Lorem Ipsum\"\n         *                    title_1=\"col1\" description_1=\"col1 body\" attachment_1=\"5096\" link_1=\"cta link1\" link_new_tab_1=\"true\" cta_text_1=\"cta text\"\n         *                    title_2=\"col2\" description_2=\"col2 body\" attachment_2=\"5186\" link_2=\"cta link2\" link_new_tab_2=\"true\" cta_text_2=\"cta text 2\" link_new_tab_3=\"false\" link_new_tab_4=\"false\" /]\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/columns {\"columns_block_style\":\"image\",\"columns_title\":\"Lorem Ipsum\",\"columns_description\":\"Lorem Ipsum\",\n         *      \"columns\":[{\"title\":\"col1\",\"description\":\"col1 body\",\"attachment\":5096,\"cta_link\":\"cta link1\",\"cta_text\":\"cta text 1\",\"link_new_tab\":true},{\"title\":\"col2\",\"description\":\"col2 body\",\"attachment\":5186,\"cta_link\":\"cta link2\",\"cta_text\":\"cta text 2\",\"link_new_tab\":true}]} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_columns',\n              attributes: {\n                columns_block_style: {\n                  type: 'string',\n                  shortcode: ({named: {columns_block_style = ''}}) => columns_block_style,\n                },\n                columns_title: {\n                  type: 'string',\n                  shortcode: ({named: {columns_title = ''}}) => columns_title,\n                },\n                columns_description: {\n                  type: 'string',\n                  shortcode: ({named: {columns_description = ''}}) => columns_description,\n                },\n                columns: {\n                  type: 'array',\n                  shortcode: function (attributes) {\n                    let columns = [];\n                    if (attributes.named.title_1) {\n                      let column = {\n                        title: attributes.named.title_1,\n                        description: attributes.named.description_1 || ''\n                      };\n                      if (attributes.named.columns_block_style !== 'no_image') {\n                        column.attachment = attributes.named.attachment_1 || false;\n                      }\n                      column.cta_link = attributes.named.link_1 || '';\n                      column.link_new_tab = attributes.named.link_new_tab_1 || false;\n                      column.cta_text = attributes.named.cta_text_1 || '';\n                      columns.push(Object.assign({}, column));\n\n                      if (attributes.named.title_2) {\n                        let column = {\n                          title: attributes.named.title_2,\n                          description: attributes.named.description_2 || ''\n                        };\n                        if (attributes.named.columns_block_style !== 'no_image') {\n                          column.attachment = attributes.named.attachment_2 || false;\n                        }\n                        column.cta_link = attributes.named.link_2 || '';\n                        column.link_new_tab = attributes.named.link_new_tab_2 || false;\n                        column.cta_text = attributes.named.cta_text_2 || '';\n                        columns.push(Object.assign({}, column));\n\n\n                        if (attributes.named.title_3) {\n                          let column = {\n                            title: attributes.named.title_3,\n                            description: attributes.named.description_3 || ''\n                          };\n                          if (attributes.named.columns_block_style !== 'no_image') {\n                            column.attachment = attributes.named.attachment_3 || false;\n                          }\n                          column.cta_link = attributes.named.link_3 || '';\n                          column.link_new_tab = attributes.named.link_new_tab_3 || false;\n                          column.cta_text = attributes.named.cta_text_3 || '';\n                          columns.push(Object.assign({}, column));\n\n                          if (attributes.named.title_4) {\n                            let column = {\n                              title: attributes.named.title_4,\n                              description: attributes.named.description_4 || ''\n                            };\n                            if (attributes.named.columns_block_style !== 'no_image') {\n                              column.attachment = attributes.named.attachment_4 || false;\n                            }\n                            column.cta_link = attributes.named.link_4 || '';\n                            column.link_new_tab = attributes.named.link_new_tab_4 || false;\n                            column.cta_text = attributes.named.cta_text_4 || '';\n                            columns.push(Object.assign({}, column));\n                          }\n                        }\n                      }\n                    }\n                    return columns;\n                  },\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          columns_block_style: {\n            type: 'string',\n          },\n          columns_title: {\n            type: 'string'\n          },\n          columns_description: {\n            type: 'string'\n          },\n          columns: {\n            type: \"array\",\n            default: [],\n            title:{\n              type: 'string'\n            },\n            description:{\n              type: 'string'\n            },\n            attachment:{\n              type: 'integer'\n            },\n            cta_link:{\n              type: 'string'\n            },\n            link_new_tab:{\n              type: 'string'\n            },\n            cta_text:{\n              type: 'string'\n            },\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { columns } = attributes;\n          let column_img = [];\n\n          if ( columns && 0 < columns.length ) {\n\n            for ( let column of columns ) {\n              if ( column['attachment'] && ( 0 < column['attachment'] ) ) {\n\n                let media_details = select('core').getMedia( column['attachment'] );\n                if (media_details) {\n                  column_img[column['attachment']] = select('core').getMedia( column['attachment'] ).source_url;\n                }\n              }\n            }\n          }\n\n          return { column_img };\n\n        } )( ( { isSelected, attributes, setAttributes, column_img} ) => {\n\n          function onTitleChange(value) {\n            setAttributes({columns_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({columns_description: value});\n          }\n\n          function onSelectImage(index, value) {\n            let {id}          = value;\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].attachment = id;\n            setAttributes({columns});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({columns_block_style: value});\n\n            if ( 'no_image' === value ) {\n              const {columns} = attributes;\n              if ( 0 < columns.length ) {\n                let new_columns = [...columns];\n                let i;\n                for ( i = 0; i < columns.length; i++ ) {\n                  new_columns[i]['attachment'] = 0;\n                }\n                setAttributes({columns: new_columns});\n              }\n            }\n          }\n\n          function addColumn() {\n            const {columns} = attributes;\n\n            if ( columns.length < 4 ) {\n              setAttributes({\n                columns: [...columns, {\n                  title:'',\n                  description:'',\n                  attachment:0,\n                  cta_link:'',\n                  cta_text:'',\n                  link_new_tab:'',\n                }]\n              });\n            }\n          }\n\n          function removeColumn() {\n            setAttributes({columns: attributes.columns.slice(0, -1) });\n          }\n\n          function onColumnHeaderChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].title = value;\n            setAttributes({columns});\n          }\n\n          function onColumnDescriptionChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].description = value;\n            setAttributes({columns});\n          }\n\n          function onCTALinkChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_link = value;\n            setAttributes({columns});\n          }\n\n          function onLinkNewTabChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].link_new_tab = value;\n            setAttributes({columns});\n          }\n\n          function onCTAButtonTextChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_text = value;\n            setAttributes({columns});\n          }\n\n          function onDeleteImage(index) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].attachment = 0;\n            setAttributes({columns});\n          }\n\n          return <Columns\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onSelectImage={onSelectImage}\n            addColumn={addColumn}\n            removeColumn={removeColumn}\n            onColumnHeaderChange={onColumnHeaderChange}\n            onColumnDescriptionChange={onColumnDescriptionChange}\n            onCTALinkChange={onCTALinkChange}\n            onLinkNewTabChange={onLinkNewTabChange}\n            onCTAButtonTextChange={onCTAButtonTextChange}\n            column_img={column_img}\n            onDeleteImage={onDeleteImage}\n          />\n        } ),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\nexport class Cookies extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Cookies options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display opt-in options for cookies',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={this.props.title}\n              onChange={this.props.onTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"Necessary Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.necessary_cookies_name}\n              onChange={this.props.onNecessaryCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Necessary Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.necessary_cookies_description}\n              onChange={this.props.onNecessaryCookiesDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"All Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.all_cookies_name}\n              onChange={this.props.onAllCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"All Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.all_cookies_description}\n              onChange={this.props.onAllCookiesDescriptionChange}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/cookies'}\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              necessary_cookies_name: this.props.necessary_cookies_name,\n              necessary_cookies_description: this.props.necessary_cookies_description,\n              all_cookies_name: this.props.all_cookies_name,\n              all_cookies_description: this.props.all_cookies_description,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Cookies} from './Cookies.js';\n\nexport class CookiesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/cookies', {\n      title: 'Cookies',\n      icon: 'welcome-view-site',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_cookies',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              necessary_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_name;\n                }\n              },\n              necessary_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_description;\n                }\n              },\n              all_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_name;\n                }\n              },\n              all_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_description;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        necessary_cookies_name: {\n          type: 'string',\n        },\n        necessary_cookies_description: {\n          type: 'string',\n        },\n        all_cookies_name: {\n          type: 'string',\n        },\n        all_cookies_description: {\n          type: 'string',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onNecessaryCookiesNameChange(value) {\n          setAttributes({necessary_cookies_name: value});\n        }\n\n        function onNecessaryCookiesDescriptionChange(value) {\n          setAttributes({necessary_cookies_description: value});\n        }\n\n        function onAllCookiesNameChange(value) {\n          setAttributes({all_cookies_name: value});\n        }\n\n        function onAllCookiesDescriptionChange(value) {\n          setAttributes({all_cookies_description: value});\n        }\n\n        return <Cookies\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onNecessaryCookiesNameChange={onNecessaryCookiesNameChange}\n          onNecessaryCookiesDescriptionChange={onNecessaryCookiesDescriptionChange}\n          onAllCookiesNameChange={onAllCookiesNameChange}\n          onAllCookiesDescriptionChange={onAllCookiesDescriptionChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import { React, Component } from 'react';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nexport class Counter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const { __ } = wp.i18n;\n\n    return (\n      <div>\n        <h3>{ __('What style of counter do you need?', 'p4ge') }</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={ this.props.style }\n            onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n            options={[\n              {\n                label: __('Text Only', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_text.png',\n                value: 'plain',\n                help: __('Text to describe your progress', 'p4ge')\n              },\n              {\n                label: __('Progress Bar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'bar',\n                help: __('A bar to visualise the progress.', 'p4ge'),\n              },\n              {\n                label: __('Progress Dial', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_arc.png',\n                value: 'arc',\n                help: __('A dial to visualise the progress.', 'p4ge')\n              },\n              {\n                label: __('Progress bar inside EN Form', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'en-forms-bar',\n                help: __('A bar inside an En Form. Select this only if you are adding an EN Form to the same page.', 'p4ge')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Title', 'p4ge') }\n            placeholder= { __('Enter title', 'p4ge') }\n            value={ this.props.title }\n            onChange={ this.props.onTitleChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Description', 'p4ge') }\n            placeholder= { __('Enter description', 'p4ge') }\n            value={ this.props.description }\n            onChange={ this.props.onDescriptionChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed', 'p4ge') }\n            placeholder= { __('e.g. number of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.completed }\n            onChange={ this.props.onCompletedChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed API URL', 'p4ge') }\n            placeholder= { __('API URL of completed number. If filled in will overide the \\'Completed\\' field', 'p4ge') }\n            value={ this.props.completed_api }\n            onChange={ this.props.onCompletedAPIChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Target', 'p4ge') }\n            placeholder= { __('e.g. target no. of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.target }\n            onChange={ this.props.onTargetChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Text', 'p4ge') }\n            placeholder= { __('e.g. \"signatures collected of %target%\"', 'p4ge') }\n            value={ this.props.text }\n            onChange={ this.props.onTextChange }\n          />\n          <p className='FieldHelp'>These placeholders can be used: <code>%completed%</code>, <code>%target%</code>, <code>%remaining%</code> </p>\n        </div>\n\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={ this.props.isSelected }>\n          <ServerSideRender\n            block={ 'planet4-blocks/counter' }\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              style: this.props.style,\n              completed: this.props.completed,\n              completed_api: this.props.completed_api,\n              target: this.props.target,\n              text: this.props.text,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n};","import { Counter } from './Counter.js';\n\nexport class CounterBlock {\n  constructor() {\n    const { registerBlockType } = wp.blocks;\n    const { withSelect } = wp.data;\n\n    registerBlockType( 'planet4-blocks/counter', {\n      title: 'Counter',\n      icon: 'dashboard',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_counter',\n            attributes: {\n              style: {\n                type: 'string',\n                shortcode: ( { named: { style = 'plain' } } ) => style,\n              },\n              title: {\n                type: 'string',\n                shortcode: ( { named: { title = '' } } ) => title,\n              },\n              description: {\n                type: 'string',\n                shortcode: ( { named: { description = '' } } ) => description,\n              },\n              completed: {\n                type: 'integer',\n                shortcode: ( { named: { completed = 0 } } ) => Number(completed),\n              },\n              completed_api: {\n                type: 'string',\n                shortcode: ( { named: { completed_api = '' } } ) => completed_api === '' ? null : completed_api,\n              },\n              target: {\n                type: 'integer',\n                shortcode: ( { named: { target = 0 } } ) => Number(target),\n              },\n              text: {\n                type: 'string',\n                shortcode: ( { named: { text = '' } } ) => text,\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        style: {\n          type: 'string',\n          default: 'plain'\n        },\n        completed: {\n          type: 'integer',\n        },\n        completed_api: {\n          type: 'string',\n        },\n        target: {\n          type: 'integer',\n        },\n        text: {\n          type: 'string',\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange( value ) {\n          setAttributes( { title: value } );\n        }\n\n        function onDescriptionChange( value ) {\n          setAttributes( { description: value } );\n        }\n\n        function onSelectedLayoutChange( value ) {\n          setAttributes( { style: value } );\n        }\n\n        function onCompletedChange( value ) {\n          setAttributes( { completed: Number(value) } );\n        }\n\n        function onCompletedAPIChange( value ) {\n          setAttributes( { completed_api: value } );\n        }\n\n        function onTargetChange( value ) {\n          setAttributes( { target: Number(value) } );\n        }\n\n        function onTextChange( value ) {\n          setAttributes( { text: value } );\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Counter\n          { ...attributes }\n          isSelected={ isSelected }\n          onTitleChange={ onTitleChange }\n          onDescriptionChange={ onDescriptionChange }\n          onSelectedLayoutChange={ onSelectedLayoutChange }\n          onCompletedChange={ onCompletedChange }\n          onCompletedAPIChange={ onCompletedAPIChange }\n          onTargetChange={ onTargetChange }\n          onTextChange={ onTextChange }   />\n      },\n      save() {\n        return null;\n      }\n    } );\n  };\n}\n\n","import React, { Component } from 'react';\n\nimport {\n  FormTokenField,\n  SelectControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\n\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Covers extends Component {\n    constructor(props) {\n      super(props);\n\n      // Populate tag tokens for saved tags.\n      let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n      // Populate post types tokens for saved post types.\n      let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n      // Populate component state with block's saved tags tokens and post type tokens\n      this.state = {\n        tagTokens: tagTokens,\n        postTypeTokens: postTypeTokens,\n        selectedPosts: [],\n      };\n\n      this.populatePostsToken();\n      this.searchTimeout = null;\n    }\n\n    static getDerivedStateFromProps(props, state) {\n\n      // Post types should be available for cover_type 3\n      // If cover_type is not 3, reset post types tokens.\n      if ('1' === props.cover_type || '2' === props.cover_type) {\n        state.postTypeTokens= [];\n      }\n\n      // If posts attribute was reset, reset also the posts tokens.\n      if (0 === props.posts.length) {\n        state.postsTokens= [];\n      }\n      return state;\n    }\n\n\n    /**\n     * Set component's state for existing blocks.\n     */\n    populatePostsToken() {\n\n      if (this.props.posts.length > 0) {\n\n        let post_type = this.props.cover_type === '1' ? 'pages' : 'posts';\n        apiFetch(\n          {\n            path: addQueryArgs('/wp/v2/'+ post_type, {\n              per_page: 50,\n              page: 1,\n              include: this.props.posts\n            })\n          }\n        ).then(posts => {\n          const postsTokens = posts.map(post => post.title.rendered);\n          const postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({\n              postsTokens: postsTokens,\n              postsList: posts,\n              postsSuggestions: postsSuggestions,\n              selectedPosts: posts,\n            }\n          );\n        });\n      } else {\n        this.setState(\n          {\n            postsTokens: [],\n            postsList: [],\n            postsSuggestions: [],\n            selectedPosts: [],\n          }\n        );\n      }\n    }\n\n    /**\n     * Search posts using wp api.\n     *\n     * @param tokens\n     */\n    searchPosts(tokens) {\n\n      let queryArgs;\n      if ('1' === this.props.cover_type) {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/pages', {\n            per_page: -1,\n            post_type: 'page',\n            post_parent: window.p4ge_vars.planet4_options.act_page,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      } else {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      }\n\n\n      apiFetch(queryArgs)\n        .then(posts => {\n          let postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n        });\n    }\n\n    onPostsSearch(token) {\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(function () {\n        this.searchPosts(token);\n      }.bind(this), 500);\n    }\n\n    onSelectedTagsChange(tokens) {\n      const tagIds = tokens.map( token => {\n        return this.props.tagsList.filter( tag => tag.name === token )[0].id;\n      });\n      this.props.onSelectedTagsChange(tagIds);\n      this.setState({ tagTokens: tokens })\n    }\n\n    onSelectedPostTypesChange(tokens) {\n      const postTypeIds = tokens.map( token => {\n        return this.props.postTypesList.filter( postType => postType.name === token )[0].id;\n      });\n      this.props.onSelectedPostTypesChange(postTypeIds);\n      this.setState({ postTypeTokens: tokens })\n    }\n\n    onSelectedPostsChange(tokens) {\n      // Array to hold references to selected posts objects.\n      let currentSelectedPosts = [];\n      tokens.forEach(token => {\n        let f = this.state.postsList.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n        f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n      });\n\n      const postIds = currentSelectedPosts.map(post => post.id);\n      this.props.onSelectedPostsChange(postIds);\n      this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n    }\n\n    renderEdit() {\n      const { __ } = wp.i18n;\n\n      const tagSuggestions = this.props.tagsList.map( tag => tag.name );\n      const postTypeSuggestions = this.props.postTypesList.map( postType => postType.name );\n\n      return (\n        <div>\n          <h3>{ __('What style of cover do you need?', 'p4ge') }</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={ this.props.cover_type }\n              onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n              options={[\n                {\n                  label: __('Take Action Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/take_action_covers.png',\n                  value: '1',\n                  help: __('Take action covers pull the featured image, tags, have a 25 character excerpt and have a call to action button')\n                },\n                {\n                  label: __('Campaign Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/campaign_covers.png',\n                  value: '2',\n                  help: __('Campaign covers pull the associated image and hashtag from the system tag definitions.'),\n                },\n                {\n                  label: __('Content Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/content_covers.png',\n                  value: '3',\n                  help: __('Content covers pull the image from the post.')\n                },\n              ]}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label=\"Rows to display\"\n              value={ this.props.covers_view }\n              options={ [\n                { label: '1 Row', value: '1' },\n                { label: '2 Rows', value: '2' },\n                { label: 'All rows', value: '3' },\n              ] }\n              onChange={ this.props.onRowsChange }\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={ this.props.title }\n              onChange={ this.props.onTitleChange }\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={ this.props.description }\n              onChange={ this.props.onDescriptionChange }\n            />\n          </div>\n\n          {\n            this.props.posts !== 'undefined' && this.props.posts.length === 0\n              ?\n              <div>\n\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label='Select Tags'\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                  placeholder=\"Select Tags\"\n                />\n                <p class='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              : null\n          }\n\n          {\n            this.props.cover_type === '3' && this.props.posts.length === 0\n              ? <FormTokenField\n                value={this.state.postTypeTokens}\n                suggestions={postTypeSuggestions}\n                label='Post Types'\n                onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                placeholder=\"Select Tags\"\n              />\n              : null\n          }\n\n          {\n            (this.props.cover_type === '1' || this.props.cover_type === '3') &&\n            (this.props.tags.length === 0 && this.props.post_types.length === 0)\n              ? <div>\n                <label>Manual override</label>\n                <FormTokenField\n                  value={this.state.postsTokens}\n                  suggestions={this.state.postsSuggestions}\n                  label='CAUTION: Adding covers manually will override the automatic functionality.'\n                  onChange={tokens => this.onSelectedPostsChange(tokens)}\n                  onInputChange={token => this.onPostsSearch(token)}\n                  placeholder=\"Select Tags\"\n                />\n              </div>\n              : null\n          }\n\n        </div>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={ this.props.isSelected }>\n                <ServerSideRender\n                  block={ 'planet4-blocks/covers' }\n                  attributes={{\n                    cover_type: this.props.cover_type,\n                    covers_view: this.props.covers_view,\n                    tags: this.props.tags,\n                    post_types: this.props.post_types,\n                    posts: this.props.posts,\n                    title: this.props.title,\n                    description: this.props.description,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n};\n","import { CoversIcon } from './CoversIcon.js';\nimport { Covers } from './Covers.js';\n\nexport class CoversBlock {\n    constructor() {\n      const { registerBlockType } = wp.blocks;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/covers', {\n        title: 'Covers',\n        icon: 'slides',\n        category: 'planet4-blocks',\n\n        // Transform the shortcode into a Gutenberg block\n        // this is used when a user clicks \"Convert to blocks\"\n        // on the \"Classic Editor\" block\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_newcovers',\n              attributes: {\n                cover_type: {\n                  type: 'string',\n                  // This `shortcode` definition will be used as a callback,\n                  // it is a function which expects an object with at least\n                  // a `named` key with `cover_type` property whose default value is 1.\n                  // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n                  shortcode: ({named: {cover_type = '1'}}) => cover_type,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                covers_view: {\n                  type: 'string',\n                  shortcode: ({named: {covers_view}}) => {\n                    switch (covers_view) {\n                      case '0':\n                        return '1';\n                      case '3':\n                        return '2';\n                      case '1':\n                        return '3';\n                    }\n                    return '1';\n                  },\n                },\n                tags: {\n                  type: 'array',\n                  shortcode: ({named: {tags = ''}}) => tags.split(',').map(tag => Number(tag)).filter(tag => tag > 0),\n                },\n                post_types: {\n                  type: 'array',\n                  shortcode: ({named: {post_types = ''}}) => post_types.split(',').map(post_type => Number(post_type)).filter(post_type => post_type > 0),\n                },\n                posts: {\n                  type: 'array',\n                  shortcode: ({named: {posts = ''}}) => posts.split(',').map(post => Number(post)).filter(post => post > 0),\n                },\n              },\n            },\n          ]\n        },\n        // This attributes definition mimics the one in the PHP side.\n        attributes: {\n          title: {\n            type: 'string',\n          },\n          description: {\n            type: 'string',\n          },\n          tags: {\n            type: 'array',\n            default: []\n          },\n          posts: {\n            type: 'array',\n            default: []\n          },\n          post_types: {\n            type: 'array',\n            default: []\n          },\n          covers_view: {\n            type: 'string',\n            default: '1'\n          },\n          cover_type: {\n            type: 'string',\n          }\n        },\n        // withSelect is a \"Higher Order Component\", it works as\n        // a Decorator, it will provide some basic API functionality\n        // through `select`.\n        edit: withSelect( ( select ) => {\n          const tagsTaxonomy = 'post_tag';\n          const postTypesTaxonomy = 'p4-page-type';\n          const args = {\n            hide_empty: false,\n            per_page: -1,\n          };\n\n          const { getEntityRecords } = select( 'core' );\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords( 'taxonomy', tagsTaxonomy, args );\n          const postTypesList = getEntityRecords( 'taxonomy', postTypesTaxonomy );\n\n          return {\n            postTypesList,\n            tagsList,\n          };\n        } )( ( {\n          postTypesList,\n          tagsList,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n            if ( !tagsList || !postTypesList ) {\n                return \"Populating block's fields...\";\n            }\n\n            // TO-DO: Check for posts types and posts too...\n            if ( !tagsList && !tagsList.length === 0 ) {\n                return \"No tags...\";\n            }\n\n            // These methods are passed down to the\n            // Covers component, they update the corresponding attribute.\n\n            function onRowsChange( value ) {\n              setAttributes( { covers_view: value } );\n            }\n\n            function onTitleChange( value ) {\n              setAttributes( { title: value } );\n            }\n\n            function onDescriptionChange( value ) {\n              setAttributes( { description: value } );\n            }\n\n            function onSelectedTagsChange( tagIds ) {\n              setAttributes( { tags: tagIds } );\n            }\n\n            function onSelectedPostsChange(value) {\n              setAttributes({posts: value});\n            }\n\n            function onSelectedPostTypesChange( postTypeIds ) {\n              setAttributes( { post_types: postTypeIds } );\n            }\n\n            function onSelectedLayoutChange( value ) {\n\n              // Post types are available only on cover_type 3, so we reset the post_types attribute in the other 2 cases.\n              if ( '1' === value) {\n                setAttributes( { post_types: [] } );\n              }\n              if ( '2' === value) {\n                setAttributes( { post_types: []} );\n              }\n              // Reset posts attribute when changing layout also.\n              setAttributes({cover_type: value, posts: []});\n            }\n\n            // We pass down all the attributes to Covers as props using\n            // the spread operator. Then we selectively add more\n            // props.\n            return <Covers\n              { ...attributes }\n              isSelected={ isSelected }\n              tagsList={ tagsList }\n              postTypesList={ postTypesList }\n              onSelectedTagsChange={ onSelectedTagsChange }\n              onSelectedLayoutChange={ onSelectedLayoutChange }\n              onTitleChange={ onTitleChange }\n              onDescriptionChange={ onDescriptionChange }\n              onSelectedPostsChange={ onSelectedPostsChange }\n              onSelectedPostTypesChange={ onSelectedPostTypesChange }\n              onRowsChange={ onRowsChange } />\n        } ),\n        save() {\n          return null;\n        }\n      } );\n    };\n}\n\n","import { React, Component } from 'react';\n\nexport class CoversIcon extends Component {\n\trender() {\n\t\treturn <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 66 82.5\" enable-background=\"new 0 0 66 66\"><g><g><path d=\"M8.193,37.334l23.804-10.512v-8.007L6.099,30.093c-0.24,0.11-0.44,0.31-0.53,0.56c-0.1,0.24-0.09,0.52,0.01,0.76    L8.193,37.334z\"/><path d=\"M8.999,39.163l4.9,11.08c4.55-1.49,7.1,2.61,8.76,3.78c1.51-1.01,4.47-5.71,9.34-3.55v-21.47L8.999,39.163z     M21.059,42.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49    C21.779,42.033,21.559,42.623,21.059,42.853z M27.059,39.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33    l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49C27.779,39.033,27.559,39.623,27.059,39.853z\"/><path d=\"M33.998,26.816l24.005,10.392l2.416-5.816c0.21-0.5-0.02-1.08-0.52-1.3L33.998,18.813V26.816z\"/><path d=\"M33.999,28.993v22.77c0.95,0.8,2.02,2.26,2.44,2.26c1.97-1.66,3.56-4.08,6.88-4.08c4.21,0,6.03,4.07,6.9,4.07    c0.1-0.087,0.722-0.298,1.25-1.09l5.77-13.87L33.999,28.993z M41.269,39.823c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46    c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.83-0.72,1.33-0.49l1,0.46C41.279,38.733,41.499,39.323,41.269,39.823z M47.269,42.823    c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.82-0.72,1.33-0.49l1,0.46    C47.279,41.733,47.499,42.323,47.269,42.823z\"/></g><g><path d=\"M37.999,2.983v5.63h-10v-5.63c0-1.1,0.9-2,2-2h6C37.099,0.983,37.999,1.883,37.999,2.983z\"/></g><path d=\"M48.319,13.823c-0.38-1.86-2.03-3.21-3.93-3.21h-22.78c-1.9,0-3.55,1.35-3.92,3.21l-1.98,9.91   c5.27-2.31,11.32-4.94,17.29-7.54c1.02,0.45,9.84,4.29,17.29,7.54L48.319,13.823z M24.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1   h2c0.55,0,1,0.45,1,1S25.549,17.233,24.999,17.233z M42.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1h2c0.55,0,1,0.45,1,1   S43.549,17.233,42.999,17.233z\"/><path d=\"M64,62.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1C65,63.43,64.552,62.982,64,62.982z\"/><path d=\"M64,55.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1S64.552,55.982,64,55.982z\"/></g></svg>\n\t}\n}\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  Toolbar,\n  IconButton,\n  Button\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Gallery extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const getImageOrButton = (openEvent) => {\n        if ( 0 < this.props.image_data.length ) {\n\n          return (\n\n            this.props.image_data.map((item, index) => {\n              return (\n                <span>\n                  <img\n                    src={ item.url }\n                    onClick={ openEvent }\n                    className=\"gallery__imgs\"\n                    key={index}\n                    width='150 px'\n                    style={{padding: '10px 10px'}}\n                  />\n                </span>\n              );\n            })\n\n          );\n        }\n        else {\n          return (\n            <div className=\"button-container\">\n              <Button\n                onClick={ openEvent }\n                className=\"button\">\n                + {__('Select Gallery Images', 'p4ge')}\n              </Button>\n\n              <div>{__('Select images in the order you want them to appear.', 'p4ge')}</div>\n            </div>\n          );\n        }\n      };\n\n      const {__} = wp.i18n;\n\n      const {gallery_block_style , gallery_block_title , gallery_block_description , multiple_image , image_data} = this.props;\n\n      const dimensions = {width: 400, height: 100};\n\n      let multiple_image_array = multiple_image ? multiple_image.split(',') : [];\n\n      return (\n        <Fragment>\n          <BlockControls>\n            { 0 < image_data.length && (\n              <Toolbar>\n                { 0 < multiple_image_array.length && (\n                  <MediaUploadCheck>\n                    <MediaUpload\n                      onSelect={this.props.onSelectImage}\n                      allowedTypes={[\"image\"]}\n                      value={multiple_image_array}\n                      type=\"image\"\n                      multiple=\"true\"\n                      render={({ open }) => {\n                        return (\n                          <IconButton\n                            className=\"components-icon-button components-toolbar__control\"\n                            label={__(\n                              \"Edit Images\",\n                              \"mytheme-blocks\"\n                            )}\n                            onClick={open}\n                            icon=\"edit\"\n                          />\n                        );\n                      }}\n                    />\n                  </MediaUploadCheck>\n                )}\n                <IconButton\n                  className=\"components-icon-button components-toolbar__control\"\n                  label={__(\"Remove Images\", \"mytheme-blocks\")}\n                  onClick={this.props.onRemoveImages}\n                  icon=\"trash\"\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          <h3>{__('What style of gallery do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={gallery_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('Slider', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-slider.jpg',\n                  value: 1,\n                  help: __('The slider is a carousel of images. For more than 5 images, consider using a grid.', 'p4ge')\n                },\n                {\n                  label: __('3 Column', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-3-column.jpg',\n                  value: 2,\n                  help: __('The 3 column image display is great for accentuating text, and telling a visual story.', 'p4ge')\n                },\n                {\n                  label: __('Grid', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-grid.jpg',\n                  value: 3,\n                  help: __('The grid shows thumbnails of lots of images. Good to use when showing lots of activity.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={gallery_block_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('Please Enter Description', 'p4ge')}\n              value={gallery_block_description}\n              onChange={this.props.onDescriptionChange}\n            />\n\n            {__('Select Gallery Images', 'p4ge')}\n            <div>\n              <MediaUploadCheck>\n                <MediaUpload\n                  title={__('Select Gallery Images', 'p4ge')}\n                  type=\"image\"\n                  onSelect={this.props.onSelectImage}\n                  value={multiple_image_array}\n                  allowedTypes={[\"image\"]}\n                  multiple=\"true\"\n                  render={ ({ open }) => getImageOrButton(open) }\n                />\n              </MediaUploadCheck>\n            </div>\n\n            {image_data &&\n            <div\n              className={\n                \"wp-block-master-theme-gallery__FocalPointPicker\"\n              }\n            >\n              <ul>\n                {image_data.map((item, index) => {\n                  return (\n                    <li\n                      key={index}\n                    >\n                      {__('Select gallery image focal point', 'p4ge')}\n                      <FocalPointPicker\n                        url={item.url}\n                        dimensions={dimensions}\n                        value={item.focalPoint}\n                        onChange={this.props.onFocalPointChange.bind(this,item.id)}\n                        key={item.id}\n                      />\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n            }\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/gallery'}\n                  attributes={{\n                    gallery_block_style: this.props.gallery_block_style,\n                    gallery_block_title: this.props.gallery_block_title,\n                    gallery_block_description: this.props.gallery_block_description,\n                    multiple_image: this.props.multiple_image,\n                    gallery_block_focus_points: this.props.gallery_block_focus_points,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Gallery} from './Gallery';\n\nconst {__} = wp.i18n;\n\nexport class GalleryBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/gallery', {\n        title: __('Gallery', 'p4ge'),\n        icon: 'format-gallery',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_gallery gallery_block_style=\"2\" gallery_block_title=\"test title\"\n         *                    gallery_block_description=\"test desc\" multiple_image=\"23603,23602,23600,23596\"\n         *                    gallery_block_focus_points=\"{'23596':'left top','23597':'left top','23599':'left top'}\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/gallery {\"gallery_block_style\":3,\"gallery_block_title\":\"test title\",\"gallery_block_description\":\"test desc\",\n         *      \"multiple_image\":\"23603,23602,23600,23596\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_gallery',\n              attributes: {\n                gallery_block_style: {\n                  type: 'integer',\n                  shortcode: ({named: {gallery_block_style = ''}}) => Number(gallery_block_style),\n                },\n                gallery_block_title: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_title = ''}}) => gallery_block_title,\n                },\n                gallery_block_description: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_description = ''}}) => gallery_block_description,\n                },\n                multiple_image: {\n                  type: 'string',\n                  shortcode: ({named: {multiple_image = ''}}) => multiple_image,\n                },\n                gallery_block_focus_points: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_focus_points = ''}}) => gallery_block_focus_points,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          gallery_block_style: {\n            type: 'number',\n            default: 1\n          },\n          gallery_block_title: {\n            type: 'string',\n          },\n          gallery_block_description: {\n            type: 'string',\n          },\n          multiple_image: {\n            type: 'string',\n          },\n          gallery_block_focus_points: {\n            type: 'string',\n          },\n          image_data: {\n            type: 'object',\n            default: []\n          },\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { multiple_image } = attributes;\n\n          let image_urls_array = [];\n\n          if ( multiple_image ) {\n            let image_id_array = multiple_image.split(',');\n\n            $.each(image_id_array, function( index, img_id ) {\n              let img_details = select('core').getMedia(img_id);\n              if ( img_details ) {\n                image_urls_array[img_id] = img_details.source_url;\n              }\n            });\n          }\n\n          return {\n            image_urls_array\n          };\n        } )( ( {\n          image_urls_array,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          let {image_data,gallery_block_focus_points} = attributes;\n\n          // Prepare image_data array on edit gallery block.\n          if (0 == image_data.length && 0 < image_urls_array.length) {\n            let new_image_data = [];\n            let focal_points_json = gallery_block_focus_points ? JSON.parse(gallery_block_focus_points):{};\n\n            for (const img_id in image_urls_array) {\n\n              let x,y;\n              if ($.isEmptyObject(focal_points_json)) {\n                [x,y] = [50,50];\n              } else {\n                [x,y] = focal_points_json[img_id].replace(/\\%/g, '').split(' ');\n              }\n\n              new_image_data.push({\n                url: image_urls_array[img_id],\n                focalPoint: {\n                  x:parseInt(x)/100,\n                  y:parseInt(y)/100\n                },\n                id: img_id\n              });\n            }\n\n            setAttributes({image_data: new_image_data});\n          }\n\n          function onTitleChange( value ) {\n            setAttributes({gallery_block_title: value});\n          }\n\n          function onDescriptionChange( value ) {\n            setAttributes({gallery_block_description: value });\n          }\n\n          function onSelectImage(value) {\n            let image_ids = [];\n            let image_data = [];\n            for (const key in value) {\n              image_ids.push(value[key].id);\n              let img_id = value[key].id;\n              image_data.push({url: value[key].url, focalPoint: {x:0.5, y:0.5}, id: img_id});\n            }\n            setAttributes({multiple_image: image_ids.join(',')});\n            setAttributes({image_data: image_data});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({gallery_block_style: Number(value)});\n          }\n\n          function onFocalPointChange( image_id, value ) {\n\n            let updated_image_data = [];\n            let gallery_block_focus_points = {};\n\n            image_data.map(function(object){\n              if (object.id === image_id) {\n                let x = parseFloat(value.x).toFixed(2);\n                let y = parseFloat(value.y).toFixed(2);\n\n                updated_image_data.push({url: object.url, focalPoint: {x,y}, id: image_id});\n                gallery_block_focus_points[image_id] = (x*100)+'% '+(y*100)+'%';\n\n              } else {\n                updated_image_data.push(object);\n                let img_id = object.id;\n                gallery_block_focus_points[img_id] = parseInt(object.focalPoint.x*100)+'% '+parseInt(object.focalPoint.y*100)+'%';\n              }\n            });\n\n            setAttributes({gallery_block_focus_points: JSON.stringify(gallery_block_focus_points)});\n            setAttributes({image_data: updated_image_data});\n          }\n\n          function onRemoveImages() {\n            setAttributes({multiple_image: ''});\n            setAttributes({gallery_block_focus_points: ''});\n            setAttributes({image_data: []});\n          }\n\n          return <Gallery\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onSelectImage={onSelectImage}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {Component,Fragment} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\n\nimport {\n  MediaPlaceholder,\n  InspectorControls,\n  BlockControls,\n  MediaUpload,\n  MediaUploadCheck\n} from '@wordpress/editor';\n\nimport {\n  TextControl,\n  ServerSideRender,\n  FocalPointPicker,\n  ToggleControl,\n  RangeControl,\n  PanelBody,\n  Button,\n  Toolbar,\n  IconButton\n} from '@wordpress/components';\n\nexport class Happypoint extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const dimensions = {width: 400, height: 100};\n\n      const {focus_image, opacity, mailing_list_iframe, iframe_url, url, id} = this.props;\n\n      let focal_point_params = {x:'',y:''};\n\n      if (focus_image) {\n        let focus_image_str = focus_image.replace(/%/g, '');\n        let [x, y] = focus_image_str.split(' ');\n        focal_point_params = {x: x/100,y: y/100};\n      } else {\n        focal_point_params = {x:0.5, y:0.5};\n      }\n\n      const getImageOrButton = (openEvent) => {\n        if ( this.props.id && ( 0 < this.props.id ) ) {\n\n          return (\n\n            <div align='center'>\n              <img\n                src={ this.props.url }\n                onClick={ openEvent }\n                className='happypoint__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n            </div>\n\n          );\n        }\n        else {\n          return (\n            <div className='button-container'>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Background Image', 'p4ge')}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <InspectorControls>\n            <PanelBody title={__('Setting', 'p4ge')}>\n              <RangeControl\n                label={__('Opacity', 'p4ge')}\n                value={opacity}\n                onChange={this.props.onOpacityChange}\n                min={1}\n                max={100}\n                initialPosition={opacity}\n                help={__('We use an overlay to fade the image back. Use a number between 1 and 100, the higher the number, the more faded the image will look. If you leave this empty, the default of 30 will be used.', 'p4ge')}\n              />\n              <ToggleControl\n                label={__('Use mailing list iframe', 'p4ge')}\n                help={__('Use mailing list iframe', 'p4ge')}\n                value={mailing_list_iframe}\n                checked={this.props.mailing_list_iframe}\n                onChange={this.props.onMailingListIframeChange}\n              />\n              <TextControl\n                label={__('Iframe url', 'p4ge')}\n                placeholder={__('Enter Iframe url', 'p4ge')}\n                help={__('If a url is set in this field and the \\'mailing list iframe\\' option is enabled, it will override the planet4 engaging network setting.', 'p4ge')}\n                value={iframe_url}\n                onChange={this.props.onIframeUrlChange}\n              />\n            </PanelBody>\n          </InspectorControls>\n          <BlockControls>\n            { this.props.id && ( 0 < this.props.id ) && (\n              <Toolbar>\n                <MediaUploadCheck>\n                  <MediaUpload\n                    onSelect={this.props.onSelectImage}\n                    allowedTypes={['image']}\n                    value={id}\n                    type='image'\n                    render={({ open }) => {\n                      return (\n                        <IconButton\n                          className='components-icon-button components-toolbar__control'\n                          label={__('Edit Image', 'p4ge')}\n                          onClick={open}\n                          icon='edit'\n                        />\n                      );\n                    }}\n                  />\n                </MediaUploadCheck>\n                <IconButton\n                  className='components-icon-button components-toolbar__control'\n                  label={__('Remove Image', 'p4ge')}\n                  onClick={this.props.onRemoveImages}\n                  icon='trash'\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          {__('Select Background Image', 'p4ge')}\n          <div>\n            <MediaUploadCheck>\n              <MediaUpload\n                title={__('Select Background Image', 'p4ge')}\n                type='image'\n                onSelect={this.props.onSelectImage}\n                value={id}\n                allowedTypes={['image']}\n                render={ ({ open }) => getImageOrButton(open) }\n              />\n            </MediaUploadCheck>\n          </div>\n          {id && 0 < id &&\n            <div>\n              {__('Select focus point for background image', 'p4ge')}\n              <FocalPointPicker\n                url={url}\n                dimensions={dimensions}\n                value={focal_point_params}\n                onChange={this.props.onFocalPointChange}\n              />\n            </div>\n          }\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/happypoint'}\n                  attributes={{\n                    id: this.props.id,\n                    focus_image: this.props.focus_image,\n                    opacity: this.props.opacity,\n                    mailing_list_iframe: this.props.mailing_list_iframe,\n                    iframe_url: this.props.iframe_url,\n                    load_iframe: true,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Happypoint} from './Happypoint';\n\nexport class HappypointBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/happypoint', {\n        title: __('Happypoint', 'p4ge'),\n        icon: 'format-image',\n        category: 'planet4-blocks',\n\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_happy_point background=\"4968\" focus_image=\"center center\" opacity=\"60\" mailing_list_iframe=\"true\" iframe_url=\"https%3A%2F%2Fact.greenpeace.org%2Fpage%2F34215%2Fsubscribe%2F1\" /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/happypoint {\"focus_image\":\"50% 50%\",\"opacity\":60,\"mailing_list_iframe\":true,\"iframe_url\":\"https://act.greenpeace.org/page/34215/subscribe/1\",\"id\":4968} /-->\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_happy_point',\n              attributes: {\n                opacity: {\n                  type: 'integer',\n                  shortcode: ({named: {opacity = ''}}) => opacity,\n                },\n                id: {\n                  type: 'integer',\n                  shortcode: ({named: {background}}) => Number(background),\n                },\n                focus_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_image = ''}}) => focus_image,\n                },\n                mailing_list_iframe: {\n                  type: 'boolean',\n                  shortcode: ({named: {mailing_list_iframe}}) => mailing_list_iframe == 'true',\n                },\n                iframe_url: {\n                  type: 'string',\n                  shortcode: ({named: {iframe_url = ''}}) => iframe_url,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          focus_image: {\n            type: 'string',\n          },\n          opacity: {\n            type: 'number',\n            default: 60\n          },\n          mailing_list_iframe: {\n            type: 'boolean',\n          },\n          iframe_url: {\n            type: 'string',\n          },\n          id: {\n            type: 'number',\n          },\n          load_iframe: {\n            type: 'boolean',\n            default: false\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n          const { attributes } = props;\n          const { id } = attributes;\n          let img_url = '';\n\n          if (id && (0 < id)) {\n            img_url = select('core').getMedia(id);\n            if(img_url){\n              img_url = img_url.source_url;\n            }\n          }\n\n          return {\n            img_url\n          };\n        } )( ( {\n          img_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n          function onBackgroundChange( value ) {\n            setAttributes({background: value});\n          }\n\n          function onOpacityChange( value ) {\n            setAttributes({opacity: value});\n          }\n\n          function onMailingListIframeChange( value ) {\n            setAttributes({mailing_list_iframe: value});\n          }\n\n          function onIframeUrlChange( value ) {\n            setAttributes({iframe_url: value});\n          }\n\n          function onFocalPointChange( {x,y} ) {\n            x = parseFloat(x).toFixed(2);\n            y = parseFloat(y).toFixed(2);\n            setAttributes({focus_image: (x*100)+'% '+(y*100)+'%'});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({id});\n          }\n\n          function onRemoveImages() {\n            setAttributes({id: -1});\n            setAttributes({focus_image: ''});\n          }\n\n          return <Happypoint\n            {...attributes}\n            isSelected={isSelected}\n            url={img_url}\n            onSelectImage={onSelectImage}\n            onOpacityChange={onOpacityChange}\n            onMailingListIframeChange={onMailingListIframeChange}\n            onIframeUrlChange={onIframeUrlChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\n\nexport class Media extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {video_title,description,youtube_id} = this.props;\n\n      return (\n        <Fragment>\n          <div>\n            <TextControl\n              label={__('Media Title', 'p4ge')}\n              placeholder={__('Enter video title', 'p4ge')}\n              value={video_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={description}\n              onChange={this.props.onDescriptionChange}\n            />\n            <TextControl\n              label={__('Media URL/ID', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              value={youtube_id}\n              onChange={this.props.onMediaUrlChange}\n              help={__('Can be a YouTube, Vimeo or Soundcloud URL or an mp4, mp3 or wav file URL.', 'p4ge')}\n            />\n            <MediaPlaceholder\n              labels={{ title: __('Video poster image [Optional]', 'p4ge'), instructions: __('Applicable for .mp4 video URLs only.', 'p4ge')}}\n              icon=\"format-image\"\n              onSelect={this.props.onSelectImage}\n              onSelectURL={this.props.onSelectURL}\n              onError={this.props.onUploadError}\n              accept=\"image/*\"\n              allowedTypes={[\"image\"]}\n            />\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                { this.props.youtube_id &&\n                  <ServerSideRender\n                    block={'planet4-blocks/media-video'}\n                    attributes={{\n                      video_title: this.props.video_title,\n                      description: this.props.description,\n                      youtube_id: this.props.youtube_id,\n                      video_poster_img: this.props.video_poster_img,\n                    }}>\n                  </ServerSideRender>\n                }\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Media} from './Media';\n\nconst {__} = wp.i18n;\n\nexport class MediaBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/media-video', {\n        title: __('Media block', 'p4ge'),\n        icon: 'format-video',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_media_video video_title=\"Lorem Ipsum\"\n         *                        description=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\"\n         *                        youtube_id=\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\"\n         *                        video_poster_img=\"23241\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/media-video {\"video_title\":\"Lorem Ipsum\",\"description\":\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\",\"youtube_id\":\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\"video_poster_img\":23241} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_media_video',\n              attributes: {\n                video_title: {\n                  type: 'string',\n                  shortcode: ({named: {video_title = ''}}) => video_title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                youtube_id: {\n                  type: 'string',\n                  shortcode: ({named: {youtube_id = ''}}) => youtube_id,\n                },\n                video_poster_img: {\n                  type: 'integer',\n                  shortcode: ({named: {video_poster_img = ''}}) => video_poster_img,\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          video_title: {\n            type: 'string'\n          },\n          description: {\n            type: 'string'\n          },\n          youtube_id: {\n            type: 'string'\n          },\n          video_poster_img: {\n            type: 'integer'\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n          function onTitleChange(value) {\n            setAttributes({video_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({description: value});\n          }\n\n          function onMediaUrlChange(value) {\n            setAttributes({youtube_id: value});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({video_poster_img: id});\n          }\n\n          function onSelectURL({url}) {\n            setAttributes({id: null});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          return <Media\n            {...attributes}\n            isSelected={isSelected}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onMediaUrlChange={onMediaUrlChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            onUploadError={onUploadError}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\nimport {\n  RadioControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Socialmedia extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  componentDidUpdate() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  /**\n   * Check if twitter embeds script is loaded and initiliaze it.\n   */\n  checkTwitterScript() {\n    if (this.props.social_media_url.includes('twitter')) {\n      let twitterScript = document.querySelector('script[src=\"https://platform.twitter.com/widgets.js\"]');\n\n      if (null === twitterScript) {\n        let scriptLoaded = this.loadScriptAsync('https://platform.twitter.com/widgets.js');\n        scriptLoaded.then(function () {\n          this.initializeTwitterEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeTwitterEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Check if instgram embeds script is loaded and initiliaze it.\n   */\n  checkInstagramScript() {\n    if (this.props.social_media_url.includes('instagram')) {\n      let instaScript = document.querySelector('script[src=\"https://www.instagram.com/embed.js\"]');\n\n      if (null === instaScript) {\n        let scriptLoaded = this.loadScriptAsync('https://www.instagram.com/embed.js');\n        scriptLoaded.then(function () {\n          this.initializeInstagramEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeInstagramEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Initialize twitter embeds.\n   */\n  initializeTwitterEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.twttr) {\n        window.twttr.widgets.load();\n      }\n    }, 2000);\n  }\n\n  /**\n   * Initialize instagram embeds.\n   */\n  initializeInstagramEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.instgrm) {\n        window.instgrm.Embeds.process();\n      }\n    }, 3000);\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const embed_type_help = __('Select oEmbed for the following types of social media<br>- Twitter: tweet, profile, list, collection, likes, moment<br>- Facebook: post, activity, photo, video, media, question, note<br>- Instagram: image', 'planet4-blocks-backend');\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'planet4-blocks-backend')}\n            placeholder={__('Enter title', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'planet4-blocks-backend')}\n            placeholder={__('Enter description', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <RadioControl\n            label={__('Embed type', 'planet4-blocks-backend')}\n            help={\n              <RawHTML>{embed_type_help}</RawHTML>\n            }\n            options={[\n              {label: 'oEmbed', value: 'oembed'},\n              {label: 'Facebook page', value: 'facebook_page'},\n            ]}\n            selected={this.props.embed_type}\n            onChange={this.props.onEmbedTypeChange}\n          />\n        </div>\n\n        {\n          this.props.embed_type === 'facebook_page'\n            ?\n            <div>\n              <SelectControl\n                label={__('What Facebook page content would you like to display?', 'planet4-blocks-backend')}\n                value={this.props.facebook_page_tab}\n                options={[\n                  {label: 'Timeline', value: 'timeline'},\n                  {label: 'Events', value: 'events'},\n                  {label: 'Mesages', value: 'messages'},\n                ]}\n                onChange={this.props.onFacebookPageTabChange}\n              />\n            </div>\n            : null\n        }\n\n        <div>\n          <TextControl\n            label={__('URL', 'planet4-blocks-backend')}\n            placeholder={__('Enter URL', 'planet4-blocks-backend')}\n            value={this.props.social_media_url}\n            onChange={this.props.onSocialMediaUrlChange}\n          />\n        </div>\n\n        <div>\n          <SelectControl\n            label={__('Alignment', 'planet4-blocks-backend')}\n            value={this.props.alignment_class}\n            options={[\n              {label: 'None', value: ''},\n              {label: 'Left', value: 'alignleft'},\n              {label: 'Center', value: 'aligncenter'},\n              {label: 'Right', value: 'alignright'},\n            ]}\n            onChange={this.props.onAlignmentChange}\n          />\n        </div>\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n            <ServerSideRender\n              block={'planet4-blocks/social-media'}\n              attributes={{\n                title: this.props.title,\n                description: this.props.description,\n                embed_type: this.props.embed_type,\n                facebook_page_tab: this.props.facebook_page_tab,\n                social_media_url: this.props.social_media_url,\n                alignment_class: this.props.alignment_class,\n              }}>\n            </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Socialmedia} from './Socialmedia.js';\n\nexport class SocialmediaBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {__} = wp.i18n;\n\n    registerBlockType('planet4-blocks/social-media', {\n      title: __('Social Media', 'p4ge'),\n      icon: 'share',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_social_media',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              embed_type: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.embed_type;\n                }\n              },\n              facebook_page_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.facebook_page_tab;\n                }\n              },\n              social_media_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.social_media_url;\n                }\n              },\n              alignment_class: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.alignment_class;\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        title: {\n          type: 'string',\n          default: '',\n        },\n        description: {\n          type: 'string',\n          default: '',\n        },\n        embed_type: {\n          type: 'string',\n          default: 'oembed'\n        },\n        facebook_page_tab: {\n          type: 'string',\n          default: 'timeline'\n        },\n        social_media_url: {\n          type: 'string',\n          default: ''\n        },\n        alignment_class: {\n          type: 'string',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        // These methods are passed down to the\n        // Socialmedia component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onEmbedTypeChange(value) {\n          setAttributes({embed_type: value});\n        }\n\n        function onFacebookPageTabChange(value) {\n          setAttributes({facebook_page_tab: value});\n        }\n\n        function onSocialMediaUrlChange(value) {\n          setAttributes({social_media_url: value});\n        }\n\n        function onAlignmentChange(value) {\n          setAttributes({alignment_class: value});\n        }\n\n\n        // We pass down all the attributes to Socialmedia as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Socialmedia\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onEmbedTypeChange={onEmbedTypeChange}\n          onFacebookPageTabChange={onFacebookPageTabChange}\n          onSocialMediaUrlChange={onSocialMediaUrlChange}\n          onAlignmentChange={onAlignmentChange} />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  SelectControl\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\n\nexport class Splittwocolumns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      let tag_list   = this.props.tagsList.map((tag) => ({label: tag.name, value: tag.id}));\n      tag_list.unshift({label: '--Select Tag--', value: 0});\n\n      let issuepage_list = this.props.issuepageList.map((issue) => ({label: issue.title.raw, value: issue.id}));\n      issuepage_list.unshift({label: '--Select Issue--', value: 0});\n\n      const {__} = wp.i18n;\n\n      const {\n        select_issue,\n        title,\n        issue_description,\n        issue_link_text,\n        issue_link_path,\n        issue_image,\n        focus_issue_image,\n        select_tag,\n        tag_description,\n        button_text,\n        button_link,\n        tag_image,\n        focus_tag_image,\n        issue_image_url,\n        tag_image_url\n      } = this.props;\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_issue_image_obj = {x: 0.5,y: 0.5};\n      if (focus_issue_image) {\n        let [x,y] = focus_issue_image.replace(/\\%/g, '').split(' ');\n        focus_issue_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_tag_image_obj = {x: 0.5,y: 0.5};\n      if (focus_tag_image) {\n        let [x,y] = focus_tag_image.replace(/\\%/g, '').split(' ');\n        focus_tag_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      const dimensions = {width: 400, height: 100};\n\n      return (\n        <Fragment>\n          <h3>{__('Issue fields (Column 1 - Left side)', 'p4ge')}</h3>\n          <div>\n            {issuepage_list &&\n              <SelectControl\n                label={__('Select an issue', 'p4ge')}\n                value={select_issue}\n                options={issuepage_list}\n                onChange={this.props.onSelectIssue}\n              />\n            }\n            <TextControl\n              label={__('Issue Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={title}\n              onChange={this.props.onIssueTitleChange}\n              help={__('(Optional) Fill this only if you need to override issue title.', 'p4ge')}\n            />\n            <TextareaControl\n              label={__('Issue Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional) Fill this only if you need to override issue description.', 'p4ge')}\n              value={issue_description}\n              onChange={this.props.onIssueDescriptionChange}\n            />\n            <TextControl\n              label={__('Issue link text', 'p4ge')}\n              placeholder={__('Enter link text', 'p4ge')}\n              value={issue_link_text}\n              onChange={this.props.onIssueLinkTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Issue link path', 'p4ge')}\n              placeholder={__('Enter link path', 'p4ge')}\n              value={issue_link_path}\n              onChange={this.props.onIssueLinkPathChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Issue Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Issue', 'p4ge')}\n              onSelectImage={this.props.onSelectIssueImage}\n              imageId={issue_image}\n              imageUrl={issue_image_url}\n              buttonLabel={__('+ Select Image for Issue', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-issue-imgs'\n            />\n\n            {issue_image &&\n            <div>\n              {__('Select focal point for issue image', 'p4ge')}\n              <FocalPointPicker\n                url={issue_image_url}\n                dimensions={dimensions}\n                value={focus_issue_image_obj}\n                onChange={this.props.onIssueImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n          <h3>{__('Campaign fields (Column 2 - Right side)', 'p4ge')}</h3>\n          <div>\n            {tag_list &&\n              <SelectControl\n                label={__('Select a tag', 'p4ge')}\n                value={select_tag}\n                options={tag_list}\n                onChange={this.props.onSelectTag}\n              />\n            }\n            <TextareaControl\n              label={__('Campaign Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={tag_description}\n              onChange={this.props.onTagDescriptionChange}\n            />\n            <TextControl\n              label={__('Campaign button text', 'p4ge')}\n              placeholder={__('Enter button text', 'p4ge')}\n              value={button_text}\n              onChange={this.props.onButtonTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Campaign button link', 'p4ge')}\n              placeholder={__('Enter button link', 'p4ge')}\n              value={button_link}\n              onChange={this.props.onButtonLinkChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Campaign Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Campaign', 'p4ge')}\n              onSelectImage={this.props.onSelectCampaignImage}\n              imageId={tag_image}\n              imageUrl={tag_image_url}\n              buttonLabel={__('+ Select Image for Campaign', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-tag_imgs'\n            />\n\n            {tag_image &&\n            <div>\n              {__('Select focal point for campaign image', 'p4ge')}\n              <FocalPointPicker\n                url={tag_image_url}\n                dimensions={dimensions}\n                value={focus_tag_image_obj}\n                onChange={this.props.onCampaignImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/split-two-columns'}\n                  attributes={{\n                    select_issue: this.props.select_issue,\n                    title: this.props.title,\n                    issue_description: this.props.issue_description,\n                    issue_link_text: this.props.issue_link_text,\n                    issue_link_path: this.props.issue_link_path,\n                    issue_image: this.props.issue_image,\n                    focus_issue_image: this.props.focus_issue_image,\n                    select_tag: this.props.select_tag,\n                    tag_description: this.props.tag_description,\n                    button_text: this.props.button_text,\n                    button_link: this.props.button_link,\n                    tag_image: this.props.tag_image,\n                    focus_tag_image: this.props.focus_tag_image,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Splittwocolumns} from './Splittwocolumns';\n\nconst {__} = wp.i18n;\n\nexport class SplittwocolumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/split-two-columns', {\n        title: __('Split Two Columns', 'p4ge'),\n        icon: 'editor-table',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_split_two_columns select_issue=\"13813\" title=\"lorem ipsum\" issue_description=\"lorem ipsum\" issue_link_text=\"test link\"\n         *        issue_link_path=\"http://www.googlw.com\" issue_image=\"23634\" focus_issue_image=\"right top\" select_tag=\"19\"\n         *        tag_description=\"lorem ipsum\" button_text=\"btn text\" button_link=\"http://www.google.com\" tag_image=\"23634\" focus_tag_image=\"right top\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/split-two-columns {\"select_issue\":2079,\"title\":\"Lorem Ipsum\",\"issue_description\":\"Lorem Ipsum\",\"issue_link_text\":\"tets link\",\"issue_link_path\":\"http://www.google.com\",\"issue_image\":23634,\"focus_issue_image\":\"33% 60%\",\"select_tag\":65,\"tag_description\":\"Lorem Ipsum\",\"button_text\":\"btn text\",\"button_link\":\"http://www.google.com\",\"tag_image\":23634,\"focus_tag_image\":\"30% 79%\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_split_two_columns',\n              attributes: {\n                select_issue: {\n                  type: 'integer',\n                  shortcode: ({named: {select_issue = ''}}) => Number(select_issue) > 0 ? Number(select_issue) : null,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                issue_description: {\n                  type: 'string',\n                  shortcode: ({named: {issue_description = ''}}) => issue_description,\n                },\n                issue_link_text: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_text = ''}}) => issue_link_text,\n                },\n                issue_link_path: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_path = ''}}) => issue_link_path,\n                },\n                issue_image: {\n                  type: 'integer',\n                  shortcode: ({named: {issue_image = ''}}) => Number(issue_image) > 0 ? Number(issue_image) : null,\n                },\n                focus_issue_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_issue_image = ''}}) => focus_issue_image,\n                },\n                select_tag: {\n                  type: 'integer',\n                  shortcode: ({named: {select_tag = ''}}) => Number(select_tag) > 0 ? Number(select_tag) : null,\n                },\n                tag_description: {\n                  type: 'string',\n                  shortcode: ({named: {tag_description = ''}}) => tag_description,\n                },\n                button_text: {\n                  type: 'string',\n                  shortcode: ({named: {button_text = ''}}) => button_text,\n                },\n                button_link: {\n                  type: 'string',\n                  shortcode: ({named: {button_link = ''}}) => button_link,\n                },\n                tag_image: {\n                  type: 'integer',\n                  shortcode: ({named: {tag_image = ''}}) => Number(tag_image) > 0 ? Number(tag_image) : null,\n                },\n                focus_tag_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_tag_image = ''}}) => focus_tag_image,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          select_issue: {\n            type: 'number',\n            default: 0,\n          },\n          title: {\n            type: 'string',\n          },\n          issue_description: {\n            type: 'string',\n          },\n          issue_link_text: {\n            type: 'string',\n          },\n          issue_link_path: {\n            type: 'string',\n          },\n          issue_image: {\n            type: 'number',\n          },\n          focus_issue_image: {\n            type: 'string',\n          },\n          select_tag: {\n            type: 'number',\n            default: 0,\n          },\n          tag_description: {\n            type: 'string',\n          },\n          button_text: {\n            type: 'string',\n          },\n          button_link: {\n            type: 'string',\n          },\n          tag_image: {\n            type: 'number',\n          },\n          focus_tag_image: {\n            type: 'string',\n          },\n        },\n        edit: withSelect((select,props) => {\n          const tagsTaxonomy = 'post_tag';\n          const issuePage    = 'page';\n\n          const taxonomy_args = {\n            hide_empty: false,\n            per_page: 50,\n          };\n          const {getEntityRecords} = select('core');\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, taxonomy_args);\n\n          const issue_page_args = {\n            per_page: -1,\n            sort_order: 'asc',\n            sort_column: 'post_title',\n            parent: window.p4ge_vars.planet4_options.explore_page,\n            post_status: 'publish',\n          };\n          const issuepageList = getEntityRecords('postType', issuePage, issue_page_args);\n\n          const { attributes } = props;\n          const { issue_image,tag_image } = attributes;\n\n          let issue_image_url = '';\n          if (issue_image) {\n            issue_image_url = select('core').getMedia(issue_image);\n            if ( issue_image_url ) {\n              issue_image_url = issue_image_url.source_url;\n            }\n          }\n\n          let tag_image_url = '';\n          if (tag_image) {\n            tag_image_url = select('core').getMedia(tag_image);\n            if ( tag_image_url ) {\n              tag_image_url = tag_image_url.source_url;\n            }\n          }\n\n          return {\n            tagsList,\n            issuepageList,\n            issue_image_url,\n            tag_image_url,\n          };\n\n        } )( ( {\n          tagsList,\n          issuepageList,\n          issue_image_url,\n          tag_image_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          if (!tagsList || !issuepageList) {\n            return \"Populating block's fields...\";\n          }\n\n          if ((tagsList && tagsList.length === 0) || (issuepageList && issuepageList.length === 0)) {\n            return \"Populating block's fields...\";\n          }\n\n          function onSelectIssue( value ) {\n            setAttributes({select_issue: parseInt(value)});\n          }\n\n          function onIssueTitleChange( value ) {\n            setAttributes({title: value });\n          }\n\n          function onIssueDescriptionChange( value ) {\n            setAttributes({issue_description: value});\n          }\n\n          function onIssueLinkTextChange( value ) {\n            setAttributes({issue_link_text: value });\n          }\n\n          function onIssueLinkPathChange( value ) {\n            setAttributes({issue_link_path: value});\n          }\n\n          function onSelectIssueImage( {id} ) {\n            setAttributes({issue_image: id});\n          }\n\n          function onIssueImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_issue_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          function onSelectTag( value ) {\n            setAttributes({select_tag: parseInt(value)});\n          }\n\n          function onTagDescriptionChange( value ) {\n            setAttributes({tag_description: value});\n          }\n\n          function onButtonTextChange( value ) {\n            setAttributes({button_text: value });\n          }\n\n          function onButtonLinkChange( value ) {\n            setAttributes({button_link: value});\n          }\n\n          function onSelectCampaignImage( {id} ) {\n            setAttributes({tag_image: id});\n          }\n\n          function onCampaignImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_tag_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          return <Splittwocolumns\n            {...attributes}\n            isSelected={isSelected}\n            tagsList={tagsList}\n            issuepageList={issuepageList}\n            issue_image_url={issue_image_url}\n            tag_image_url={tag_image_url}\n            onSelectIssue={onSelectIssue}\n            onIssueTitleChange={onIssueTitleChange}\n            onIssueDescriptionChange={onIssueDescriptionChange}\n            onIssueLinkTextChange={onIssueLinkTextChange}\n            onIssueLinkPathChange={onIssueLinkPathChange}\n            onSelectIssueImage={onSelectIssueImage}\n            onIssueImageFocalPointChange={onIssueImageFocalPointChange}\n            onSelectTag={onSelectTag}\n            onTagDescriptionChange={onTagDescriptionChange}\n            onButtonTextChange={onButtonTextChange}\n            onButtonLinkChange={onButtonLinkChange}\n            onSelectCampaignImage={onSelectCampaignImage}\n            onCampaignImageFocalPointChange={onCampaignImageFocalPointChange}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component} from 'react';\nimport {\n  CheckboxControl,\n  SelectControl,\n} from '@wordpress/components';\n\nexport class MenuLevel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>Level {this.props.index + 1}</div>\n        <SelectControl\n          label=\"Submenu item\"\n          help=\"Submenu item\"\n          value={this.props.heading}\n          options={[\n            {label: 'None', value: '0'},\n            {label: 'Heading 1', value: '1'},\n            {label: 'Heading 2', value: '2'},\n            {label: 'Heading 3', value: '3'},\n            {label: 'Heading 4', value: '4'},\n            {label: 'Heading 5', value: '5'},\n            {label: 'Heading 6', value: '6'},\n          ]}\n          onChange={(e) => this.props.onHeadingChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n\n        <CheckboxControl\n          heading=\"Link\"\n          help=\"Link item\"\n          value={this.props.link}\n          checked={this.props.link}\n          onChange={(e) => this.props.onLinkChange(this.props.index, e)}\n          className=\"submenu-level-link\"\n        />\n\n        <SelectControl\n          label=\"List style\"\n          help=\"List style\"\n          value={this.props.style}\n          options={[\n            {label: 'None', value: 'none'},\n            {label: 'Bullet', value: 'bullet'},\n            {label: 'Number', value: 'number'},\n          ]}\n          onChange={(e) => this.props.onStyleChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n      </div>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  TextControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {MenuLevel} from \"./MenuLevel\";\n\nexport class Submenu extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h2>{__('Anchor Link Submenu', 'p4ge')}</h2>\n        <p><i>{__(\n          'An in-page table of contents to help users have a sense of what\\'s on the page and let them jump to a topic they are interested in.',\n          'p4ge'\n        )}</i></p>\n        <h3>{__('What style of menu do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.submenu_style}\n            onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n            options={[\n              {\n                label: __('Long full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-long.jpg',\n                value: 1,\n                help: __('Use: on long pages (more than 5 screens) when list items are long (+ 10 words)<br>No max items<br>recommended.')\n              }, {\n                label: __('Short full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-short.jpg',\n                value: 2,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 5 words)<br>No max items<br>recommended.'),\n              },\n              {\n                label: __('Short sidebar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-sidebar.jpg',\n                value: 3,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 10 words)<br>Max items<br>recommended: 9')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label=\"Submenu Title\"\n            placeholder=\"Enter title\"\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <hr/>\n        {this.props.levels.map((heading, i) => {\n          return (\n            <MenuLevel\n              {...heading}\n              onHeadingChange={this.props.onHeadingChange}\n              onLinkChange={this.props.onLinkChange}\n              onStyleChange={this.props.onStyleChange}\n              index={i}\n              key={i}\n            />\n          );\n        })}\n\n        <div>\n          <Button isPrimary\n                  onClick={this.props.addLevel}\n                  disabled={this.props.levels.length >= 3 || this.props.levels.slice(-1)[0].heading === 0}\n          >\n            Add level\n          </Button>\n          <Button isDefault\n                  onClick={this.props.removeLevel} disabled={this.props.levels.length <= 1}\n          >\n            Remove level\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/submenu'}\n            attributes={{\n              submenu_style: this.props.submenu_style,\n              title: this.props.title,\n              levels: this.props.levels,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {Submenu} from './Submenu.js';\n\nexport class SubmenuBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/submenu', {\n      title: 'Submenu',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_submenu submenu_style=\"3\" title=\"title22\" heading1=\"2\"\n       *                    link1=\"true\" style1=\"bullet\" heading2=\"3\" link2=\"true\" style2=\"number\"\n       *                    heading3=\"4\" link3=\"false\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/submenu {\"submenu_style\":3,\"title\":\"title22\",\"levels\":[{\"heading\":\"2\",\"link\":\"true\",\"style\":\"bullet\"},\n       *    {\"heading\":\"3\",\"link\":\"true\",\"style\":\"number\"},{\"heading\":\"4\",\"link\":\"false\",\"style\":\"none\"}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_submenu',\n            attributes: {\n              submenu_style: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.submenu_style);\n                }\n              },\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              levels: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  let levels = [];\n                  if (attributes.named.heading1 > 0) {\n                    let level = {\n                      heading: Number(attributes.named.heading1),\n                      link: Boolean(attributes.named.link1) || false,\n                      style: attributes.named.style1 || 'none'\n                    };\n                    levels.push(Object.assign({}, level));\n\n                    if (attributes.named.heading2 > 0) {\n                      let level = {\n                        heading: Number(attributes.named.heading2),\n                        link: Boolean(attributes.named.link2) || false,\n                        style: attributes.named.style2 || 'none'\n                      };\n                      levels.push(Object.assign({}, level));\n\n                      if (attributes.named.heading3 > 0) {\n                        let level = {\n                          heading: Number(attributes.named.heading3),\n                          link: Boolean(attributes.named.link3) || false,\n                          style: attributes.named.style3 || 'none'\n                        };\n                        levels.push(Object.assign({}, level));\n                      }\n                    }\n                  }\n                  return levels;\n                },\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        submenu_style: {\n          type: 'integer',\n          default: 1\n        },\n        title: {\n          type: 'string',\n        },\n        levels: {\n          type: 'array',\n          default: [ {heading: 0, link: false, style: 'none'}]\n        },\n      },\n      edit: withSelect((select) => {\n\n      })(({\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        function addLevel() {\n          setAttributes({levels: attributes.levels.concat({heading: 0, link: false, style: 'none'})});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onHeadingChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].heading = Number(value);\n          setAttributes({levels: levels});\n        }\n\n        function onLayoutChange(value) {\n          setAttributes({submenu_style: Number(value)});\n        }\n\n        function onLinkChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].link = value;\n          setAttributes({levels: levels});\n        }\n\n        function onStyleChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].style = value;\n          setAttributes({levels: levels});\n        }\n\n        function removeLevel() {\n          setAttributes({levels: attributes.levels.slice(0, -1)});\n        }\n\n        return <Submenu\n          {...attributes}\n          isSelected={isSelected}\n          onSelectedLayoutChange={onLayoutChange}\n          onTitleChange={onTitleChange}\n          onHeadingChange={onHeadingChange}\n          onLinkChange={onLinkChange}\n          onStyleChange={onStyleChange}\n          addLevel={addLevel}\n          removeLevel={removeLevel}\n        />\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\nimport {\n\tFormTokenField,\n\tTextControl,\n\tTextareaControl,\n\tServerSideRender,\n\tToggleControl,\n\tSelectControl,\n\tCheckboxControl,\n\tToolbar,\n\tIconButton, Button\n} from '@wordpress/components';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Takeactionboxout extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// Populate tag tokens for saved tags.\n\t\tlet tagTokens = props.tagsList.filter(tag => props.tag_ids.includes(tag.id)).map(tag => tag.name);\n\n\t\tthis.state = {\n\t\t\ttagTokens: tagTokens,\n\t\t};\n\t}\n\n\tonSelectedTagsChange(tokens) {\n\t\tconst tagIds = tokens.map(token => {\n\t\t\treturn this.props.tagsList.filter(tag => tag.name === token)[0].id;\n\t\t});\n\t\tthis.props.onSelectedTagsChange(tagIds);\n\t\tthis.setState({tagTokens: tokens})\n\t}\n\n\tisCustomised() {\n\t\treturn ( this.props.custom_title || this.props.custom_excerpt || this.props.custom_link || this.props.custom_link_text || this.props.custom_link_new_tab || this.state.tagTokens.length > 0 || ( this.props.background_image && 0 < this.props.background_image ) );\n\t}\n\n\ttakeActionPageSelected() {\n\t\treturn ( this.props.take_action_page && this.props.take_action_page !== '0' );\n\t}\n\n\trenderEdit() {\n\t\tconst tagSuggestions = this.props.tagsList.map(tag => tag.name);\n\n\t\tlet actpage_list = this.props.actPageList.map((actPage) => ({label: actPage.title.raw, value: actPage.id}));\n\t\tconst {__} = wp.i18n;\n\n\t\tactpage_list.unshift({label: __('--Select Take Action Page--'), value: 0});\n\n\t\tconst getImageOrButton = (openEvent) => {\n\t\t\tif ( this.props.background_image && ( 0 < this.props.background_image ) ) {\n\n\t\t\t\treturn (\n\n\t\t\t\t\t<div align='center'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ this.props.background_image_url }\n\t\t\t\t\t\t\tonClick={ openEvent }\n\t\t\t\t\t\t\tclassName='takeactionboxout-block-background-img'\n\t\t\t\t\t\t\twidth={'400px'}\n\t\t\t\t\t\t\tstyle={{padding: '10px 10px'}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t\t<div className='button-container'>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={ openEvent }\n\t\t\t\t\t\t\tclassName='button'\n\t\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}>\n\t\t\t\t\t\t\t+ {__('Select Background Image', 'p4ge')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<h3>{__('Take Action Boxout', 'p4ge')}</h3>\n\t\t\t\t<div>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={__('Select Take Action Page', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.take_action_page}\n\t\t\t\t\t\toptions={actpage_list}\n\t\t\t\t\t\tonChange={this.props.onSelectTakeActoinPage}\n\t\t\t\t\t\tdisabled={this.isCustomised()}\n\t\t\t\t\t/>\n\t\t\t\t\t<h5>{__('Or customise your take action boxout (if inserted in POSTS, the block will float on the side, if inserted in PAGES, it will appear in the page body)', 'p4ge')}</h5>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Title', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Title', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_title}\n\t\t\t\t\t\tonChange={this.props.onCustomTitleChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\tlabel={__('Custom Excerpt', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Excerpt', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_excerpt}\n\t\t\t\t\t\tonChange={this.props.onCustomExcerptChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Link', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Link', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link}\n\t\t\t\t\t\tonChange={this.props.onCustomLinkChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Link Text', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Link Text', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link_text}\n\t\t\t\t\t\tonChange={this.props.onCustomLinkTextChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tlabel={__('Open in a new Tab', 'p4ge')}\n\t\t\t\t\t\thelp={__('Open custom link in new tab', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link_new_tab}\n\t\t\t\t\t\tchecked={this.props.custom_link_new_tab}\n\t\t\t\t\t\tonChange={(e) => this.props.onCustomLinkNewTabChange(e)}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormTokenField\n\t\t\t\t\t\tvalue={this.state.tagTokens}\n\t\t\t\t\t\tsuggestions={tagSuggestions}\n\t\t\t\t\t\tlabel={__('Select Tags', 'p4ge')}\n\t\t\t\t\t\tonChange={tokens => this.onSelectedTagsChange(tokens)}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t{__('Select Background Image', 'p4ge')}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\ttitle={__('Select Background Image', 'p4ge')}\n\t\t\t\t\t\t\t\ttype='image'\n\t\t\t\t\t\t\t\tonSelect={this.props.onSelectBackGroundImage}\n\t\t\t\t\t\t\t\tvalue={this.props.background_image}\n\t\t\t\t\t\t\t\tallowedTypes={['image']}\n\t\t\t\t\t\t\t\trender={ ({ open }) => getImageOrButton(open) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t</div>\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t{ this.props.background_image && ( 0 < this.props.background_image ) && (\n\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tclassName='components-icon-button components-toolbar__control'\n\t\t\t\t\t\t\t\t\tlabel={__('Remove Image', 'p4ge')}\n\t\t\t\t\t\t\t\t\tonClick={this.props.onRemoveBackGroundImage}\n\t\t\t\t\t\t\t\t\ticon='trash'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</BlockControls>\n\t\t\t\t</div>\n\t\t\t\t<hr />\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\tthis.props.isSelected\n\t\t\t\t\t\t? this.renderEdit()\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t<Preview showBar={this.props.isSelected}>\n\t\t\t\t\t<ServerSideRender\n\t\t\t\t\t\tblock={'planet4-blocks/take-action-boxout'}\n\t\t\t\t\t\tattributes={{\n\t\t\t\t\t\t\ttake_action_page: this.props.take_action_page,\n\t\t\t\t\t\t\tcustom_title: this.props.custom_title,\n\t\t\t\t\t\t\tcustom_excerpt: this.props.custom_excerpt,\n\t\t\t\t\t\t\tcustom_link: this.props.custom_link,\n\t\t\t\t\t\t\tcustom_link_text: this.props.custom_link_text,\n\t\t\t\t\t\t\tcustom_link_new_tab: this.props.custom_link_new_tab,\n\t\t\t\t\t\t\ttag_ids: this.props.tag_ids,\n\t\t\t\t\t\t\tbackground_image: this.props.background_image,\n\t\t\t\t\t\t}}>\n\t\t\t\t\t</ServerSideRender>\n\t\t\t\t</Preview>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import {Takeactionboxout} from './Takeactionboxout.js';\n\nexport class TakeactionboxoutBlock {\n\tconstructor() {\n\t\tconst {registerBlockType} = wp.blocks;\n\t\tconst {__} = wp.i18n;\n\t\tconst {withSelect} = wp.data;\n\n\t\tregisterBlockType('planet4-blocks/take-action-boxout', {\n\t\t\ttitle: __('Take Action Boxout'),\n\t\t\ticon: 'welcome-widgets-menus',\n\t\t\tcategory: 'planet4-blocks',\n\t\t\tsupports: {\n\t\t\t\tmultiple: false, // Use the block just once per post.\n\t\t\t},\n\n\t\t\t// Transform the shortcode into a Gutenberg block\n\t\t\t// this is used when a user clicks \"Convert to blocks\"\n\t\t\t// on the \"Classic Editor\" block\n\t\t\ttransforms: {\n\t\t\t\tfrom: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'shortcode',\n\t\t\t\t\t\t// Shortcode tag can also be an array of shortcode aliases\n\t\t\t\t\t\ttag: 'shortcake_take_action_boxout',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\ttake_action_page: {\n\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn Number(attributes.named.take_action_page);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_title: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_title;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_excerpt: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_excerpt;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link_text: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link_text;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link_new_tab: {\n\t\t\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link_new_tab;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttag_ids: {\n\t\t\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.tag_ids ?\n                    attributes.named.tag_ids.split(',').map(tag => Number(tag)).filter(tag => tag > 0)\n                    : [];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbackground_image: {\n\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\tshortcode: ({named: {background_image = ''}}) => Number(background_image) > 0 ? Number(background_image) : 0,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t},\n\t\t\t// This attributes definition mimics the one in the PHP side.\n\t\t\tattributes: {\n\t\t\t\ttake_action_page: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t\tcustom_title: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_excerpt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link_text: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link_new_tab: {\n\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\tdefault: false\n\t\t\t\t},\n\t\t\t\ttag_ids: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: []\n\t\t\t\t},\n\t\t\t\tbackground_image: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t},\n\t\t\t// withSelect is a \"Higher Order Component\", it works as\n\t\t\t// a Decorator, it will provide some basic API functionality\n\t\t\t// through `select`.\n\t\t\tedit: withSelect( ( select, props ) => {\n\t\t\t\tconst tagsTaxonomy = 'post_tag';\n\t\t\t\tconst actPage = 'page';\n\n\t\t\t\tconst args = {\n\t\t\t\t\thide_empty: false,\n\t\t\t\t\tper_page: 50,\n\t\t\t\t};\n\t\t\t\tconst {getEntityRecords, getMedia} = select('core');\n\n\t\t\t\tconst tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n\n\t\t\t\tconst act_page_args = {\n\t\t\t\t\tper_page: -1,\n\t\t\t\t\tsort_order: 'asc',\n\t\t\t\t\tsort_column: 'post_title',\n\t\t\t\t\tparent: window.p4ge_vars.planet4_options.act_page,\n\t\t\t\t\tpost_status: 'publish',\n\t\t\t\t};\n\n\t\t\t\tconst actPageList = getEntityRecords('postType', actPage, act_page_args);\n\n\t\t\t\tconst { attributes } = props;\n\t\t\t\tconst { background_image } = attributes;\n\n\t\t\t\tlet background_image_url = '';\n\t\t\t\tif (background_image) {\n\t\t\t\t\tbackground_image_url = select('core').getMedia(background_image);\n\t\t\t\t\tif ( background_image_url ) {\n\t\t\t\t\t\tbackground_image_url = background_image_url.source_url;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tactPageList,\n\t\t\t\t\ttagsList,\n\t\t\t\t\tbackground_image_url,\n\t\t\t\t};\n\t\t\t} )( ( {\n\t\t\t\ttagsList,\n\t\t\t\tactPageList,\n\t\t\t\tbackground_image_url,\n\t\t\t\tisSelected,\n\t\t\t\tattributes,\n\t\t\t\tsetAttributes\n\t\t\t} ) => {\n\n\t\t\t\tif (!tagsList || !actPageList) {\n\t\t\t\t\treturn \"Populating block's fields...\";\n\t\t\t\t}\n\n\t\t\t\tif ((tagsList && tagsList.length === 0) || (actPageList && actPageList.length === 0)) {\n\t\t\t\t\treturn \"Populating block's fields...\";\n\t\t\t\t}\n\n\t\t\t\t// These methods are passed down to the\n\t\t\t\t// Articles component, they update the corresponding attribute.\n\t\t\t\tfunction onSelectTakeActoinPage( value ) {\n\t\t\t\t\tsetAttributes({ take_action_page: value });\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomTitleChange(value) {\n\t\t\t\t\tsetAttributes({custom_title: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomExcerptChange(value) {\n\t\t\t\t\tsetAttributes({custom_excerpt: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkChange(value) {\n\t\t\t\t\tsetAttributes({custom_link: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkTextChange(value) {\n\t\t\t\t\tsetAttributes({custom_link_text: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkNewTabChange(value) {\n\t\t\t\t\tsetAttributes({custom_link_new_tab: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onButtonLinkTabChange(value) {\n\t\t\t\t\tsetAttributes({button_link_new_tab: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onSelectedTagsChange(tagIds) {\n\t\t\t\t\tsetAttributes({tag_ids: tagIds});\n\t\t\t\t}\n\n\t\t\t\tfunction onSelectBackGroundImage( {id} ) {\n\t\t\t\t\tsetAttributes({background_image: id});\n\t\t\t\t}\n\n\t\t\t\tfunction onRemoveBackGroundImage() {\n\t\t\t\t\tsetAttributes({background_image: -1});\n\t\t\t\t}\n\n\t\t\t\t// We pass down all the attributes to Covers as props using\n\t\t\t\t// the spread operator. Then we selectively add more\n\t\t\t\t// props.\n\t\t\t\treturn <Takeactionboxout\n\t\t\t\t\t{...attributes}\n\t\t\t\t\tisSelected={isSelected}\n\t\t\t\t\ttagsList={tagsList}\n\t\t\t\t\tactPageList={actPageList}\n\t\t\t\t\tbackground_image_url={background_image_url}\n\t\t\t\t\tonSelectTakeActoinPage={onSelectTakeActoinPage}\n\t\t\t\t\tonCustomTitleChange={onCustomTitleChange}\n\t\t\t\t\tonCustomExcerptChange={onCustomExcerptChange}\n\t\t\t\t\tonCustomLinkChange={onCustomLinkChange}\n\t\t\t\t\tonCustomLinkTextChange={onCustomLinkTextChange}\n\t\t\t\t\tonCustomLinkNewTabChange={onCustomLinkNewTabChange}\n\t\t\t\t\tonButtonLinkTabChange={onButtonLinkTabChange}\n\t\t\t\t\tonSelectedTagsChange={onSelectedTagsChange}\n\t\t\t\t\tonSelectBackGroundImage={onSelectBackGroundImage}\n\t\t\t\t\tonRemoveBackGroundImage={onRemoveBackGroundImage}/>\n\t\t\t}),\n\t\t\tsave() {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} );\n\t};\n}\n\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from \"@wordpress/element\";\nimport {\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {Preview} from '../../components/Preview';\n\nexport class Timeline extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.loadTimeline(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    this.loadTimeline(prevProps);\n  }\n\n  loadTimeline(data) {\n    const timelinejs_version = '3.6.3';\n\n    let js = 'https://cdn.knightlab.com/libs/timeline3/' + timelinejs_version + '/js/timeline-min.js';\n    let scriptLoaded = this.loadScriptAsync(js);\n    scriptLoaded.then(function () {\n      new TL.Timeline('timeline-1', data.google_sheets_url, {\n        \"timenav_position\": data.timenav_position,\n        \"start_at_end\": data.start_at_end,\n        \"language\": data.language\n      });\n    }.bind(this));\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const position = [\n      {label: 'Bottom', value: 'bottom'},\n      {label: 'Top', value: 'top'},\n    ]\n\n    const languages = [\n      {label: 'Afrikaans', value: 'af'},\n      {label: 'Arabic', value: 'ar'},\n      {label: 'Armenian', value: 'hy'},\n      {label: 'Basque', value: 'eu'},\n      {label: 'Belarusian', value: 'be'},\n      {label: 'Bulgarian', value: 'bg'},\n      {label: 'Catalan', value: 'ca'},\n      {label: 'Chinese', value: 'zh-cn'},\n      {label: 'Croatian / Hrvatski', value: 'hr'},\n      {label: 'Czech', value: 'cz'},\n      {label: 'Danish', value: 'da'},\n      {label: 'Dutch', value: 'nl'},\n      {label: 'English', value: 'en'},\n      {label: 'English (24-hour time)', value: 'en-24hr'},\n      {label: 'Esperanto', value: 'eo'},\n      {label: 'Estonian', value: 'et'},\n      {label: 'Faroese', value: 'fo'},\n      {label: 'Farsi', value: 'fa'},\n      {label: 'Finnish', value: 'fi'},\n      {label: 'French', value: 'fr'},\n      {label: 'Frisian', value: 'fy'},\n      {label: 'Galician', value: 'gl'},\n      {label: 'Georgian', value: 'ka'},\n      {label: 'German / Deutsch', value: 'de'},\n      {label: 'Greek', value: 'el'},\n      {label: 'Hebrew', value: 'he'},\n      {label: 'Hindi', value: 'hi'},\n      {label: 'Hungarian', value: 'hu'},\n      {label: 'Icelandic', value: 'is'},\n      {label: 'Indonesian', value: 'id'},\n      {label: 'Irish', value: 'ga'},\n      {label: 'Italian', value: 'it'},\n      {label: 'Japanese', value: 'ja'},\n      {label: 'Korean', value: 'ko'},\n      {label: 'Latvian', value: 'lv'},\n      {label: 'Lithuanian', value: 'lt'},\n      {label: 'Luxembourgish', value: 'lb'},\n      {label: 'Malay', value: 'ms'},\n      {label: 'Myanmar', value: 'my'},\n      {label: 'Nepali', value: 'ne'},\n      {label: 'Norwegian', value: 'no'},\n      {label: 'Polish', value: 'pl'},\n      {label: 'Portuguese', value: 'pt'},\n      {label: 'pt-br', value: 'Portuguese (Brazilian)'},\n      {label: 'Romanian', value: 'ro'},\n      {label: 'Romansh', value: 'rm'},\n      {label: 'Russian', value: 'ru'},\n      {label: 'Serbian - Cyrillic', value: 'sr-cy'},\n      {label: 'Serbian - Latin', value: 'sr'},\n      {label: 'Sinhalese', value: 'si'},\n      {label: 'Slovak', value: 'sk'},\n      {label: 'Slovenian', value: 'sl'},\n      {label: 'Spanish', value: 'es'},\n      {label: 'Swedish', value: 'sv'},\n      {label: 'Tagalog', value: 'tl'},\n      {label: 'Tamil', value: 'ta'},\n      {label: 'Taiwanese', value: 'zh-tw'},\n      {label: 'Telugu', value: 'te'},\n      {label: 'Thai', value: 'th'},\n      {label: 'Turkish', value: 'tr'},\n      {label: 'Ukrainian', value: 'uk'},\n      {label: 'Urdu', value: 'ur'},\n    ]\n\n    let url_desc  = __(\n      'Enter the URL of the Google Sheets spreadsheet containing your timeline data.',\n      'p4ge'\n    );\n    url_desc += '<br><a href=\"https://timeline.knightlab.com/#make\" target=\"_blank\" rel=\"noopener noreferrer\">';\n    url_desc += __(\n      'See the TimelineJS website for a template GSheet.',\n      'p4ge'\n    );\n    url_desc += '</a><br>';\n    url_desc += __(\n      'Copy this, add your own timeline data, and publish to the web.',\n      'p4ge'\n    );\n    url_desc += '<br>';\n    url_desc += __(\n      \"Once you have done so, use the URL from your address bar (not the one provided in Google's 'publish to web' dialog).\",\n      'p4ge'\n    );\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Timeline options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display a timeline from a Google Sheet',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label={__('Timeline Title', 'p4ge')}\n              placeholder={__('Enter title', 'p4ge')}\n              value={this.props.timeline_title}\n              onChange={this.props.onTimelineTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter description', 'p4ge')}\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label={__('Google Sheets URL', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              help=<RawHTML>{url_desc}</RawHTML>\n              value={this.props.google_sheets_url}\n              onChange={this.props.onGoogleSheetsUrlChange}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Language', 'p4ge')}\n              value={this.props.language}\n              options={languages}\n              onChange={(e) => this.props.onLanguageChange(e)}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Timeline navigation position', 'p4ge')}\n              value={this.props.timenav_position}\n              options={position}\n              onChange={(e) => this.props.onTimenavPositionChange(e)}\n            />\n          </div>\n\n          <div>\n            <CheckboxControl\n              label={__('Start at end', 'p4ge')}\n              help={__('Begin at the end of the timeline', 'p4ge')}\n              value={this.props.start_at_end}\n              checked={this.props.start_at_end}\n              onChange={(e) => this.props.onStartAtEndChange(e)}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/timeline'}\n            attributes={{\n              timeline_title: this.props.timeline_title,\n              description: this.props.description,\n              google_sheets_url: this.props.google_sheets_url,\n              language: this.props.language,\n              timenav_position: this.props.timenav_position,\n              start_at_end: this.props.start_at_end,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Timeline} from './Timeline.js';\n\nconst {__} = wp.i18n;\n\nexport class TimelineBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/timeline', {\n      title: __('Timeline', 'p4ge'),\n      icon: 'clock',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_timeline',\n            attributes: {\n              timeline_title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.timeline_title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              google_sheets_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.google_sheets_url;\n                }\n              },\n              language: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.language;\n                }\n              },\n              timenav_position: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.timenav_position;\n                }\n              },\n              start_at_end: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.start_at_end;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        timeline_title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        google_sheets_url: {\n          type: 'string',\n        },\n        language: {\n          type: 'string',\n          default: 'en',\n        },\n        timenav_position: {\n          type: 'string',\n        },\n        start_at_end: {\n          type: 'boolean',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTimelineTitleChange(value) {\n          setAttributes({timeline_title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onGoogleSheetsUrlChange(value) {\n          setAttributes({google_sheets_url: value});\n        }\n\n        function onLanguageChange(value) {\n          setAttributes({language: value});\n        }\n\n        function onTimenavPositionChange(value) {\n          setAttributes({timenav_position: value});\n        }\n\n        function onStartAtEndChange(value) {\n          setAttributes({start_at_end: value});\n        }\n\n        return <Timeline\n          {...attributes}\n          isSelected={isSelected}\n          onTimelineTitleChange={onTimelineTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onGoogleSheetsUrlChange={onGoogleSheetsUrlChange}\n          onLanguageChange={onLanguageChange}\n          onTimenavPositionChange={onTimenavPositionChange}\n          onStartAtEndChange={onStartAtEndChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import {\n  find,\n  get,\n  invoke,\n  isEmpty,\n  map,\n  throttle,\n  unescape as unescapeString,\n  uniqBy,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { FormTokenField} from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Module constants\n */\nconst DEFAULT_QUERY = {\n  per_page: -1,\n  orderby: 'count',\n  order: 'desc',\n  _fields: 'id,name',\n};\nconst MAX_TERMS_SUGGESTIONS = 20;\nconst isSameTermName = ( termA, termB ) => termA.toLowerCase() === termB.toLowerCase();\n\n/**\n * Returns a term object with name unescaped.\n * The unescape of the name property is done using lodash unescape function.\n *\n * @param {Object} term The term object to unescape.\n *\n * @return {Object} Term object with name property unescaped.\n */\nconst unescapeTerm = ( term ) => {\n  return {\n    ...term,\n    name: unescapeString( term.name ),\n  };\n};\n\n/**\n * Returns an array of term objects with names unescaped.\n * The unescape of each term is performed using the unescapeTerm function.\n *\n * @param {Object[]} terms Array of term objects to unescape.\n *\n * @return {Object[]} Array of term objects unescaped.\n */\nconst unescapeTerms = ( terms ) => {\n  return map( terms, unescapeTerm );\n};\n\n/**\n * The logic of this component was copied from https://github.com/WordPress/gutenberg/blob/master/packages/editor/src/components/post-taxonomies/flat-term-selector.js\n * initially, then the functionality of creating non-existing terms was removed from it.\n *\n * I considered extending the component instead, but that seemed inappropriate as we're not adding behavior but removing some.\n * Additionally this makes it easier to further customize this component.\n */\nclass AssignOnlyFlatTermSelector extends Component {\n  constructor() {\n    super( ...arguments );\n    this.onChange = this.onChange.bind( this );\n    this.searchTerms = throttle( this.searchTerms.bind( this ), 500 );\n    this.state = {\n      loading: ! isEmpty( this.props.terms ),\n      availableTerms: [],\n      selectedTerms: [],\n    };\n  }\n\n  componentDidMount() {\n    if ( isEmpty( this.props.terms ) ) {\n      return\n    }\n\n    this.initRequest = this.fetchTerms( {\n      include: this.props.terms.join( ',' ),\n      per_page: -1,\n    } );\n    this.initRequest.then(\n      () => {\n        this.setState( {loading: false} );\n      },\n      ( xhr ) => {\n        if ( xhr.statusText === 'abort' ) {\n          return;\n        }\n        this.setState( {\n          loading: false,\n        } );\n      }\n    );\n  }\n\n  componentWillUnmount() {\n    invoke( this.initRequest, [ 'abort' ] );\n    invoke( this.searchRequest, [ 'abort' ] );\n  }\n\n  componentDidUpdate( prevProps ) {\n    if ( prevProps.terms !== this.props.terms ) {\n      this.updateSelectedTerms( this.props.terms );\n    }\n  }\n\n  fetchTerms( params = {} ) {\n    const { taxonomy } = this.props;\n    const query = Object.assign({}, DEFAULT_QUERY, params);\n\n    const request = apiFetch( {\n      path: addQueryArgs( `/wp/v2/${ taxonomy.rest_base }`, query ),\n    } );\n    request.then( unescapeTerms ).then( ( terms ) => {\n      this.setState( ( state ) => ( {\n        availableTerms: state.availableTerms.concat(\n          terms.filter( ( term ) => ! find( state.availableTerms, ( availableTerm ) => availableTerm.id === term.id ) )\n        ),\n      } ) );\n      this.updateSelectedTerms( this.props.terms );\n    } );\n\n    return request;\n  }\n\n  updateSelectedTerms( terms = [] ) {\n    const selectedTerms = terms.reduce( ( accumulator, termId ) => {\n      const termObject = find( this.state.availableTerms, ( term ) => term.id === termId );\n      if ( termObject ) {\n        accumulator.push( termObject.name );\n      }\n\n      return accumulator;\n    }, [] );\n    this.setState( {\n      selectedTerms,\n    } );\n  }\n\n  onChange( termNames ) {\n    const uniqueTerms = uniqBy( termNames, ( term ) => term.toLowerCase() );\n    const allowedTerms = uniqueTerms.filter( ( termName ) =>\n      find( this.state.availableTerms, ( term ) => isSameTermName( term.name, termName ) )\n    );\n    this.setState( { selectedTerms: allowedTerms } );\n    const termNamesToIds = ( names, availableTerms ) => {\n      return names\n        .map( ( termName ) =>\n          find( availableTerms, ( term ) => isSameTermName( term.name, termName ) ).id\n        );\n    };\n\n    return this.props.onUpdateTerms(\n      termNamesToIds( allowedTerms, this.state.availableTerms ),\n      this.props.taxonomy.rest_base\n    );\n  }\n\n  searchTerms( search = '' ) {\n    invoke( this.searchRequest, [ 'abort' ] );\n    this.searchRequest = this.fetchTerms( { search } );\n  }\n\n  render() {\n    const { slug, taxonomy, hasAssignAction } = this.props;\n\n    if ( ! hasAssignAction ) {\n      return null;\n    }\n\n    const { loading, availableTerms, selectedTerms } = this.state;\n    const termNames = availableTerms.map( ( term ) => term.name );\n    const newTermLabel = get(\n      taxonomy,\n      [ 'labels', 'add_new_item' ],\n      slug === 'post_tag' ? __( 'Add New Tag' ) : __( 'Add New Term' )\n    );\n    const singularName = get(\n      taxonomy,\n      [ 'labels', 'singular_name' ],\n      slug === 'post_tag' ? __( 'Tag' ) : __( 'Term' )\n    );\n    const termAddedLabel = sprintf( _x( '%s added', 'term' ), singularName );\n    const termRemovedLabel = sprintf( _x( '%s removed', 'term' ), singularName );\n    const removeTermLabel = sprintf( _x( 'Remove %s', 'term' ), singularName );\n\n    return (\n      <FormTokenField\n        value={ selectedTerms }\n        suggestions={ termNames }\n        onChange={ this.onChange }\n        onInputChange={ this.searchTerms }\n        maxSuggestions={ MAX_TERMS_SUGGESTIONS }\n        disabled={ loading }\n        label={ newTermLabel }\n        messages={ {\n          added: termAddedLabel,\n          removed: termRemovedLabel,\n          remove: removeTermLabel,\n        } }\n      />\n    );\n  }\n}\n\nexport default compose(\n  withSelect( ( select, { slug } ) => {\n    const { getCurrentPost } = select( 'core/editor' );\n    const { getTaxonomy } = select( 'core' );\n    const taxonomy = getTaxonomy( slug );\n    return {\n      hasCreateAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-create-' + taxonomy.rest_base ], false ) : false,\n      hasAssignAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-assign-' + taxonomy.rest_base ], false ) : false,\n      terms: taxonomy ? select( 'core/editor' ).getEditedPostAttribute( taxonomy.rest_base ) : [],\n      taxonomy,\n    };\n  } ),\n  withDispatch( ( dispatch ) => {\n    return {\n      onUpdateTerms( terms, restBase ) {\n        dispatch( 'core/editor' ).editPost( { [ restBase ]: terms } );\n      },\n    };\n  } ),\n)( AssignOnlyFlatTermSelector );\n","import {React, Component} from 'react';\nimport {Button} from '@wordpress/components';\nimport {MediaUpload,MediaUploadCheck} from '@wordpress/editor';\n\nexport class ImageOrButton extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    if ( typeof this.props.disabled == 'undefined' ) {\n      this.props.disabled = false;\n    }\n\n    const getImageOrButton = (openEvent) => {\n      if ( this.props.imageId ) {\n\n        return (\n\n          <img\n            src={ this.props.imageUrl }\n            onClick={ openEvent }\n            className={ this.props.imgClass }\n          />\n\n        );\n      }\n      else {\n        return (\n          <div className='button-container'>\n            <Button\n              onClick={ openEvent }\n              className='button'\n              disabled={ this.props.disabled }>\n              { this.props.buttonLabel }\n            </Button>\n\n            <div>{ this.props.help }</div>\n          </div>\n        );\n      }\n    };\n\n    return <div className='ImageOrButton'>\n      <MediaUploadCheck>\n        <MediaUpload\n          title={this.props.title}\n          type='image'\n          onSelect={this.props.onSelectImage}\n          value={this.props.imageId}\n          allowedTypes={['image']}\n          render={ ({ open }) => getImageOrButton(open) }\n        />\n      </MediaUploadCheck>\n    </div>;\n  }\n}\n","import {React, Component} from 'react';\nimport {RadioControl} from '@wordpress/components';\n\nexport class LayoutSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: props.selectedOption\n    };\n    this.setSelected = this.setSelected.bind(this);\n  }\n\n  setSelected(option) {\n    this.setState({selectedOption: option});\n    this.props.onSelectedLayoutChange(option);\n  }\n\n  render() {\n    return <div className='LayoutSelector'>\n      {\n        this.props.options.map((layoutOption, i) => {\n\n          if ( 'number' == typeof layoutOption.value ) {\n            this.state.selectedOption = Number( this.state.selectedOption );\n          }\n\n          return (\n            <label className='LayoutOption' key={i}>\n              <div style={{display: 'flex'}}>\n                <RadioControl\n                  name={'layoutOption'}\n                  selected={this.state.selectedOption}\n                  options={[\n                    {value: layoutOption.value}\n                  ]}\n                  onChange={this.setSelected}\n                />\n                {layoutOption.label}\n              </div>\n              {\n                layoutOption.image\n                  ? <img src={layoutOption.image}/>\n                  : null\n              }\n              {\n                layoutOption.help\n                  ? <p className='help' dangerouslySetInnerHTML={{__html: layoutOption.help}}/>\n                  : null\n              }\n            </label>\n          )\n        })\n      }\n    </div>;\n  }\n}\n","import { React, Component } from 'react';\n\nexport class Preview extends Component {\n\trender() {\n\t\treturn <div className='Preview'>\n\t\t\t{\n\t\t\t\tthis.props.showBar\n\t\t\t\t? <div className='PreviewBar'>Preview</div>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{ this.props.children }\n\t\t</div>\n\t}\n}","import { ArticlesBlock } from './blocks/Articles/ArticlesBlock';\nimport { CarouselHeaderBlock } from './blocks/Carouselheader/CarouselHeaderBlock';\nimport { ColumnsBlock } from './blocks/Columns/ColumnsBlock';\nimport { CookiesBlock } from './blocks/Cookies/CookiesBlock';\nimport { CounterBlock } from './blocks/Counter/CounterBlock';\nimport { CoversBlock } from './blocks/Covers/CoversBlock';\nimport { GalleryBlock } from './blocks/Gallery/GalleryBlock';\nimport { HappypointBlock } from './blocks/Happypoint/HappypointBlock';\nimport { MediaBlock } from './blocks/Media/MediaBlock';\nimport { SocialmediaBlock } from './blocks/Socialmedia/SocialmediaBlock';\nimport { SplittwocolumnsBlock } from './blocks/Splittwocolumns/SplittwocolumnsBlock';\nimport { SubmenuBlock } from './blocks/Submenu/SubmenuBlock';\nimport { TakeactionboxoutBlock } from './blocks/Takeactionboxout/TakeactionboxoutBlock';\nimport { TimelineBlock } from './blocks/Timeline/TimelineBlock';\n\n//Filters\nimport { addBlockFilters } from './BlockFilters';\nimport { setupImageBlockExtension } from './ImageBlockExtension';\nimport { replaceTaxonomyTermSelectors } from \"./replaceTaxonomyTermSelectors\"\nimport { addSubAndSuperscript } from './RichTextEnhancements';\n\nconst articlesBlock = new ArticlesBlock();\nconst carouselHeaderBlock = new CarouselHeaderBlock();\nconst columnsBlock = new ColumnsBlock();\nconst cookiesBlock = new CookiesBlock();\nconst counterBlock = new CounterBlock();\nconst coversBlock = new CoversBlock();\nconst galleryBlock = new GalleryBlock();\nconst happypointBlock = new HappypointBlock();\nconst mediaBlock = new MediaBlock();\nconst socialmediaBlock = new SocialmediaBlock();\nconst splittwocolumnsBlock = new SplittwocolumnsBlock();\nconst submenuBlock = new SubmenuBlock();\nconst takeActionBoxoutBlock = new TakeactionboxoutBlock();\nconst timelineBlock = new TimelineBlock();\n\naddBlockFilters();\naddSubAndSuperscript(window.wp);\nsetupImageBlockExtension();\nreplaceTaxonomyTermSelectors()\n","import AssignOnlyFlatTermSelector from \"./components/AssignOnlyFlatTermSelector/AssignOnlyFlatTermSelector\"\n\nfunction customizeTaxonomySelectors( OriginalComponent ) {\n  return function( props ) {\n    // For following taxonomies it should not be possible to create new terms on the post edit page\n    const isAssignOnlyTaxonomy = ['p4-page-type', 'post_tag'].includes(props.slug)\n\n    return wp.element.createElement(\n      isAssignOnlyTaxonomy ? AssignOnlyFlatTermSelector : OriginalComponent,\n      props\n    );\n  }\n\n}\n\nexport const replaceTaxonomyTermSelectors = () =>  {\n  wp.hooks.addFilter(\n    'editor.PostTaxonomyType',\n    'planet4-gutenberg-blocks',\n    customizeTaxonomySelectors\n  );\n}\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = assign;\n","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"data\"]; }());","(function() { module.exports = this[\"wp\"][\"editor\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"url\"]; }());","(function() { module.exports = this[\"lodash\"]; }());","(function() { module.exports = this[\"React\"]; }());"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/src/BlockFilters.js","webpack:///./assets/src/ImageBlockExtension.js","webpack:///./assets/src/RichTextEnhancements.js","webpack:///./assets/src/blocks/Articles/Articles.js","webpack:///./assets/src/blocks/Articles/ArticlesBlock.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeader.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderBlock.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderFront.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderImage.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderSlide.js","webpack:///./assets/src/blocks/Carouselheader/ImagePlaceholder.js","webpack:///./assets/src/blocks/Columns/Columns.js","webpack:///./assets/src/blocks/Columns/ColumnsBlock.js","webpack:///./assets/src/blocks/Cookies/Cookies.js","webpack:///./assets/src/blocks/Cookies/CookiesBlock.js","webpack:///./assets/src/blocks/Counter/Counter.js","webpack:///./assets/src/blocks/Counter/CounterBlock.js","webpack:///./assets/src/blocks/Covers/Covers.js","webpack:///./assets/src/blocks/Covers/CoversBlock.js","webpack:///./assets/src/blocks/Covers/CoversIcon.js","webpack:///./assets/src/blocks/Gallery/Gallery.js","webpack:///./assets/src/blocks/Gallery/GalleryBlock.js","webpack:///./assets/src/blocks/Happypoint/Happypoint.js","webpack:///./assets/src/blocks/Happypoint/HappypointBlock.js","webpack:///./assets/src/blocks/Media/Media.js","webpack:///./assets/src/blocks/Media/MediaBlock.js","webpack:///./assets/src/blocks/Socialmedia/Socialmedia.js","webpack:///./assets/src/blocks/Socialmedia/SocialmediaBlock.js","webpack:///./assets/src/blocks/Socialshare/Socialshare.js","webpack:///./assets/src/blocks/Socialshare/SocialshareBlock.js","webpack:///./assets/src/blocks/Splittwocolumns/Splittwocolumns.js","webpack:///./assets/src/blocks/Splittwocolumns/SplittwocolumnsBlock.js","webpack:///./assets/src/blocks/Submenu/MenuLevel.js","webpack:///./assets/src/blocks/Submenu/Submenu.js","webpack:///./assets/src/blocks/Submenu/SubmenuBlock.js","webpack:///./assets/src/blocks/Takeactionboxout/Takeactionboxout.js","webpack:///./assets/src/blocks/Takeactionboxout/TakeactionboxoutBlock.js","webpack:///./assets/src/blocks/Timeline/Timeline.js","webpack:///./assets/src/blocks/Timeline/TimelineBlock.js","webpack:///./assets/src/components/AssignOnlyFlatTermSelector/AssignOnlyFlatTermSelector.js","webpack:///./assets/src/components/ImageOrButton/ImageOrButton.js","webpack:///./assets/src/components/LayoutSelector/LayoutSelector.js","webpack:///./assets/src/components/Preview.js","webpack:///./assets/src/editorIndex.js","webpack:///./assets/src/replaceTaxonomyTermSelectors.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/objectSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/lodash.assign/index.js","webpack:///external {\"this\":[\"wp\",\"apiFetch\"]}","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"compose\"]}","webpack:///external {\"this\":[\"wp\",\"data\"]}","webpack:///external {\"this\":[\"wp\",\"editor\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":[\"wp\",\"url\"]}","webpack:///external {\"this\":\"lodash\"}","webpack:///external {\"this\":\"React\"}"],"names":["addFilter","wp","hooks","addBlockFilters","addFileBlockFilter","setDownloadButtonToggleDefualtFalse","settings","name","attributes","__","i18n","targetBlocks","captionStyleOptions","label","value","captionAlignmentOptions","setupImageBlockExtension","addExtraAttributes","addExtraControls","addCaptionStyleAttributes","includes","assign","captionStyle","type","default","captionAlignment","createHigherOrderComponent","compose","Fragment","element","InspectorControls","editor","withCaptionStyle","BlockEdit","props","className","selectedCaptionStyle","setAttributes","map","option","key","addSubAndSuperscript","el","createElement","superscriptIcon","width","height","d","subscriptIcon","SubscriptButton","RichTextToolbarButton","icon","title","isActive","onClick","onChange","richText","toggleFormat","registerFormatType","tagName","edit","SuperscriptButton","apiFetch","addQueryArgs","url","Articles","tagTokens","tagsList","filter","tag","tags","id","postTypeTokens","postTypesList","post_type","post_types","state","selectedPosts","populatePostsToken","posts","length","path","per_page","page","include","then","postsTokens","post","rendered","postsSuggestions","setState","postsList","tokens","search","orderby","post_status","tagIds","token","onSelectedTagsChange","postTypeIds","postType","onSelectedPostTypesChange","currentSelectedPosts","forEach","f","push","postIds","onSelectedPostsChange","tagSuggestions","postTypeSuggestions","article_heading","onTitleChange","articles_description","onDescriptionChange","read_more_text","onReadmoretextChange","read_more_link","onReadmorelinkChange","button_link_new_tab","e","onButtonLinkTabChange","article_count","onCountChange","ignore_categories","onIgnoreCategoriesChange","onPostsSearch","isSelected","renderEdit","Component","ArticlesBlock","registerBlockType","blocks","withSelect","data","category","transforms","from","shortcode","named","split","exclude_post_id","Number","select","tagsTaxonomy","postTypesTaxonomy","args","hide_empty","getEntityRecords","save","CarouselHeader","refs","ssrRef","React","createRef","firstRender","collapseSlides","current","currentFetchRequest","setTimeout","initializeCarouselHeader","prevProps","prevState","Object","keys","index","collapseSlide","bind","addSlide","removeSlide","block_style","onBlockStyleChange","image","window","p4ge_vars","home","help","carousel_autoplay","onCarouselAutoplayChange","slides","slide","i","onImageChange","onHeaderChange","onHeaderSizeChange","onSubheaderChange","onLinkTextChange","onLinkUrlChange","onLinkNewTabChange","onStyleChange","onFocalPointsChange","instance","addNewSlide","CarouselHeaderBlock","supports","multiple","convert_position","position","x","y","image_1","header","header_1","header_size","header_size_1","subheader","subheader_1","description","description_1","link_text","link_text_1","link_url","link_url_1","focal_points","focus_image_1","image_2","header_2","header_size_2","subheader_2","description_2","link_text_2","link_url_2","focus_image_2","image_3","header_3","header_size_3","subheader_3","description_3","link_text_3","link_url_3","focus_image_3","image_4","header_4","header_size_4","subheader_4","description_4","link_text_4","link_url_4","focus_image_4","link_url_new_tab","concat","JSON","parse","stringify","fo","slice","ZoomAndSlideToGrayCarouselHeader","SLIDE_TRANSITION_SPEED","activeTransition","nextSlide","$el","$","$nextSlide","next","prevAll","last","previousSlide","$previousSlide","prev","nextAll","switchIndicator","$CarouselIndicators","children","each","toggleClass","setup","me","$CarouselHeaderWrapper","find","$Slides","on","current_img_src","get","currentSrc","current_bg_img","parent","css","replace","remove","$slide","attr","appendTo","$img","img_src","clickTargets","evt","preventDefault","advanceCarousel","activate","target","carousel_element","carousel_head_hammer","Hammer","recognizers","hammer","Manager","swipe","Swipe","add","backwardsCarousel","event","scrollTop","animate","$nextImg","$preview","addClass","prependTo","next_img_src","$active","$previous","slideIndex","eq","hasClass","clearTimeout","removeClass","$next","beginTransition","completeTransition","FullWidthClassicCarouselHeader","getCurrentSlideIndex","reverse","cancelAutoplayInterval","positionIndicators","setCarouselHeight","first","$currentSlide","autoplayPaused","autoplayEnabled","startAutoplayInterval","off","autoplayInterval","setInterval","clearInterval","currentIndex","$indicators","$header","isRTL","rightSide","matchMedia","matches","leftOffset","offset","left","rightOffset","indicatorsRight","getSlideHeight","outerHeight","$activeSlide","unsetTransitionClasses","fadeIn","CarouselHeaderImage","onRemove","image_id","image_url","hasRemove","imageClass","join","obj","ev","stopPropagation","focalPoints","open","keyCode","CarouselHeaderSlide","isHidden","getMedia","media","source_url","toggleSlide","onImageRemove","hasSubheader","ImagePlaceholder","Columns","columns_title","columns_description","columns_block_style","columns","column_img","onDeleteImage","getImageOrButton","openEvent","padding","onSelectedLayoutChange","item","onColumnHeaderChange","onColumnDescriptionChange","onSelectImage","attachment","endsWith","cta_link","onCTALinkChange","link_new_tab","cta_text","onCTAButtonTextChange","addColumn","removeColumn","ColumnsBlock","title_1","column","attachment_1","link_1","link_new_tab_1","cta_text_1","title_2","attachment_2","link_2","link_new_tab_2","cta_text_2","title_3","attachment_3","link_3","link_new_tab_3","cta_text_3","title_4","attachment_4","link_4","link_new_tab_4","cta_text_4","media_details","new_columns","Cookies","necessary_cookies_name","onNecessaryCookiesNameChange","necessary_cookies_description","onNecessaryCookiesDescriptionChange","all_cookies_name","onAllCookiesNameChange","all_cookies_description","onAllCookiesDescriptionChange","post_id","document","querySelector","CookiesBlock","Counter","style","completed","onCompletedChange","completed_api","onCompletedAPIChange","onTargetChange","text","onTextChange","CounterBlock","Covers","searchTimeout","cover_type","queryArgs","post_parent","planet4_options","act_page","searchPosts","covers_view","onRowsChange","CoversBlock","CoversIcon","Gallery","image_data","gallery_block_style","gallery_block_title","gallery_block_description","multiple_image","dimensions","multiple_image_array","onRemoveImages","focalPoint","onFocalPointChange","gallery_block_focus_points","GalleryBlock","image_urls_array","image_id_array","img_id","img_url","sizes","medium","new_image_data","focal_points_json","isEmptyObject","parseInt","image_ids","updated_image_data","object","parseFloat","toFixed","Happypoint","focus_image","opacity","mailing_list_iframe","iframe_url","focal_point_params","focus_image_str","onOpacityChange","onMailingListIframeChange","onIframeUrlChange","load_iframe","HappypointBlock","background","onBackgroundChange","Media","video_title","youtube_id","onMediaUrlChange","instructions","onSelectURL","onUploadError","video_poster_img","MediaBlock","message","console","log","Socialmedia","checkTwitterScript","checkInstagramScript","social_media_url","twitterScript","scriptLoaded","loadScriptAsync","initializeTwitterEmbeds","instaScript","initializeInstagramEmbeds","twttr","widgets","load","instgrm","Embeds","process","uri","Promise","resolve","reject","src","async","onload","body","getElementsByTagName","appendChild","embed_type_help","embed_type","onEmbedTypeChange","facebook_page_tab","onFacebookPageTabChange","onSocialMediaUrlChange","alignment_class","onAlignmentChange","SocialmediaBlock","Socialshare","subtitle","onSubTitleChange","onMessageChange","social_url","onURLChange","SocialshareBlock","messages","urls","messages_json","urlss_json","mes","surl","Splittwocolumns","tag_list","unshift","issuepage_list","issuepageList","issue","raw","select_issue","issue_description","issue_link_text","issue_link_path","issue_image","focus_issue_image","select_tag","tag_description","button_text","button_link","tag_image","focus_tag_image","issue_image_url","tag_image_url","focus_issue_image_obj","focus_tag_image_obj","onSelectIssue","onIssueTitleChange","onIssueDescriptionChange","onIssueLinkTextChange","onIssueLinkPathChange","onSelectIssueImage","onIssueImageFocalPointChange","onSelectTag","onTagDescriptionChange","onButtonTextChange","onButtonLinkChange","onSelectCampaignImage","onCampaignImageFocalPointChange","SplittwocolumnsBlock","issuePage","taxonomy_args","issue_page_args","sort_order","sort_column","explore_page","MenuLevel","heading","onHeadingChange","link","onLinkChange","Submenu","submenu_style","levels","addLevel","removeLevel","SubmenuBlock","heading1","level","Boolean","link1","style1","heading2","link2","style2","heading3","link3","style3","onLayoutChange","Takeactionboxout","tag_ids","custom_title","custom_excerpt","custom_link","custom_link_text","custom_link_new_tab","background_image","take_action_page","actpage_list","actPageList","actPage","background_image_url","takeActionPageSelected","onSelectTakeActoinPage","isCustomised","onCustomTitleChange","onCustomExcerptChange","onCustomLinkChange","onCustomLinkTextChange","onCustomLinkNewTabChange","onSelectBackGroundImage","onRemoveBackGroundImage","TakeactionboxoutBlock","act_page_args","Timeline","loadTimeline","timelinejs_version","js","TL","google_sheets_url","timenav_position","start_at_end","language","languages","url_desc","timeline_title","onTimelineTitleChange","onGoogleSheetsUrlChange","onLanguageChange","onTimenavPositionChange","onStartAtEndChange","TimelineBlock","DEFAULT_QUERY","order","_fields","MAX_TERMS_SUGGESTIONS","isSameTermName","termA","termB","toLowerCase","unescapeTerm","term","unescapeString","unescapeTerms","terms","AssignOnlyFlatTermSelector","arguments","searchTerms","throttle","loading","isEmpty","availableTerms","selectedTerms","initRequest","fetchTerms","xhr","statusText","invoke","searchRequest","updateSelectedTerms","params","taxonomy","query","request","rest_base","availableTerm","reduce","accumulator","termId","termObject","termNames","uniqueTerms","uniqBy","allowedTerms","termName","termNamesToIds","names","onUpdateTerms","slug","hasAssignAction","newTermLabel","singularName","termAddedLabel","sprintf","_x","termRemovedLabel","removeTermLabel","added","removed","getCurrentPost","getTaxonomy","hasCreateAction","getEditedPostAttribute","withDispatch","dispatch","restBase","editPost","ImageOrButton","disabled","imageId","imageUrl","imgClass","buttonLabel","LayoutSelector","selectedOption","setSelected","options","layoutOption","display","__html","Preview","showBar","articlesBlock","carouselHeaderBlock","columnsBlock","cookiesBlock","counterBlock","coversBlock","galleryBlock","happypointBlock","mediaBlock","socialmediaBlock","socailshareBlock","splittwocolumnsBlock","submenuBlock","takeActionBoxoutBlock","timelineBlock","replaceTaxonomyTermSelectors","customizeTaxonomySelectors","OriginalComponent","isAssignOnlyTaxonomy"],"mappings":"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;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iDAAiD,eAAe;;AAEhE;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,OAAO,WAAW;AAC7B,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5nBA,aAAa,yCAAyC,EAAE,I;;;;;;;;;;;ACAxD,aAAa,4CAA4C,EAAE,I;;;;;;;;;;;ACA3D,aAAa,2CAA2C,EAAE,I;;;;;;;;;;;ACA1D,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,uCAAuC,EAAE,I;;;;;;;;;;;ACAtD,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,oCAAoC,EAAE,I;;;;;;;;;;;ACAnD,aAAa,iCAAiC,EAAE,I;;;;;;;;;;;ACAhD,aAAa,gCAAgC,EAAE,I","file":"editorIndex.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/src/editorIndex.js\");\n","const { addFilter } = wp.hooks;\n\n\nexport const addBlockFilters = () => {\n  addFileBlockFilter();\n};\n\n\nconst addFileBlockFilter = () => {\n  const setDownloadButtonToggleDefualtFalse = (settings, name) => {\n\n    if ('core/file' !== name) {\n      return settings;\n    }\n\n    settings.attributes['showDownloadButton']['default'] = false;\n\n    return settings;\n  };\n\n  addFilter('blocks.registerBlockType', 'planet4-blocks/filters/file', setDownloadButtonToggleDefualtFalse);\n};\n","import { Button, ButtonGroup, PanelBody, SelectControl } from '@wordpress/components';\nimport assign from 'lodash.assign';\n\nconst { addFilter } = wp.hooks;\nconst { __ } = wp.i18n;\n\n// Enable spacing control on the following blocks\nconst targetBlocks = [\n  'core/image',\n];\n\nconst captionStyleOptions = [\n  {\n  label: __( 'Blue Overlay (default)' ),\n  value: 'blue-overlay',\n  },\n  {\n  label: __( 'Medium' ),\n  value: 'medium',\n  },\n];\n\nconst captionAlignmentOptions = [\n  {\n  label: __( 'Left' ),\n  value: 'left',\n  },\n  {\n  label: __( 'Center' ),\n  value: 'center',\n  },\n  {\n  label: __( 'Right' ),\n  value: 'right',\n  },\n];\n\nexport const setupImageBlockExtension = function() {\n  addExtraAttributes();\n  addExtraControls();\n}\n\nconst addExtraAttributes = function() {\n  const addCaptionStyleAttributes = ( settings, name ) => {\n  // Do nothing if it's another block than our defined ones.\n  if ( ! targetBlocks.includes( name ) ) {\n    return settings;\n  }\n\n  // Use Lodash's assign to gracefully handle if attributes are undefined\n  settings.attributes = assign( settings.attributes, {\n    captionStyle: {\n    type: 'string',\n    default: captionStyleOptions[ 0 ].value,\n    },\n    captionAlignment: {\n    type: 'string',\n    default: captionAlignmentOptions[ 1 ].value,\n    }\n  } );\n\n  return settings;\n  };\n\n  addFilter( 'blocks.registerBlockType', 'planet4-blocks/overrides/image', addCaptionStyleAttributes );\n}\n\nconst addExtraControls = function() {\n  const { createHigherOrderComponent } = wp.compose;\n  const { Fragment } = wp.element;\n  const { InspectorControls } = wp.editor;\n\n  const withCaptionStyle = createHigherOrderComponent( ( BlockEdit ) => {\n    return ( props ) => {\n      // Do nothing if it's another block than our defined ones.\n      if ( ! targetBlocks.includes( props.name ) ) {\n        return (\n          <BlockEdit { ...props } />\n        );\n      }\n\n      const { captionStyle, captionAlignment } = props.attributes;\n\n\t\t\tprops.attributes.className = '';\n\n      if ( captionStyle ) {\n      \tprops.attributes.className += ` caption-style-${ captionStyle }`;\n      }\n\n      if ( captionAlignment ) {\n      \tprops.attributes.className += ` caption-alignment-${ captionAlignment }`;\n      }\n\n      return (\n        <Fragment>\n          <BlockEdit { ...props } />\n          <InspectorControls>\n            <PanelBody\n              title={ __( 'Planet4 Image Options' ) }\n              initialOpen={ true }\n            >\n              <SelectControl\n                label={ __( 'Caption Style' ) }\n                value={ captionStyle }\n                options={ captionStyleOptions }\n                onChange={ ( selectedCaptionStyle ) => {\n                  props.setAttributes( {\n                    captionStyle: selectedCaptionStyle,\n                  } );\n                } }\n              />\n\n              <label>Caption alignment</label>\n              <ButtonGroup>\n              {\n                captionAlignmentOptions.map((option, key) => {\n\t\t\t\t\t\t\t\t\treturn <Button\n\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tprops.setAttributes({\n\t\t\t\t\t\t\t\t\t\t\t\tcaptionAlignment: option.value,\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tisPrimary={ captionAlignment == option.value }\n\t\t\t\t\t\t\t\t\t\tisLarge isDefault>\n\t\t\t\t\t\t\t\t\t\t\t{ option.label }\n\t\t\t\t\t\t\t\t\t</Button>;\n                })\n              }\n              </ButtonGroup>\n            </PanelBody>\n          </InspectorControls>\n        </Fragment>\n      );\n    };\n  }, 'withCaptionStyle' );\n\n  addFilter( 'editor.BlockEdit', 'planet4-blocks/overrides/image-controls', withCaptionStyle );\n}\n","export const addSubAndSuperscript = function (wp){\n\tconst el = wp.element.createElement\n\n\t/* Superscript icon */\n\tconst superscriptIcon = wp.element.createElement( 'svg',\n\t  {\n\t\t  width: 20,\n\t\t  height: 20,\n\t  },\n\t  wp.element.createElement( 'path',\n\t\t{\n\t\t\td: 'm 11.451024,15.991879 v 1.900559 H 8.6286372 L 6.8191261,15.024528 6.5459915,14.546546 Q 6.4549468,14.444115 6.4208029,14.307552 h -0.03414 l -0.1024233,0.238994 q -0.113806,0.227613 -0.284517,0.500744 L 4.2357343,17.892438 H 1.2995409 V 15.991879 H 2.7562552 L 4.9982324,12.68013 2.8928217,9.5846081 H 1.3336801 V 7.6726705 h 3.1410444 l 1.5819027,2.5947735 q 0.022772,0.04552 0.2617521,0.477987 0.091045,0.102421 0.1251849,0.23899 h 0.03414 q 0.034139,-0.102432 0.1251845,-0.23899 L 6.8874061,10.267444 8.4806875,7.6726705 H 11.405498 V 9.5846081 H 9.982924 l -2.0940281,3.0386179 2.3216401,3.368653 z m 7.249435,-7.7274175 v 2.3444015 h -5.849622 l -0.03415,-0.307279 q -0.04552,-0.318656 -0.04552,-0.5235031 0,-0.7283595 0.295896,-1.3315288 0.295896,-0.6031748 0.739738,-0.9844236 0.443844,-0.3812499 0.95597,-0.7397383 0.512126,-0.3584877 0.955968,-0.6202403 0.443845,-0.2617558 0.739742,-0.6145521 0.295891,-0.3527973 0.295891,-0.7283591 0,-0.4324593 -0.335727,-0.711285 -0.335727,-0.2788267 -0.80233,-0.2788267 -0.580409,0 -1.103918,0.4438464 Q 14.35307,4.3381578 14.102696,4.645436 L 12.907742,3.5984202 q 0.295895,-0.4210809 0.716976,-0.7511204 0.944588,-0.7397375 2.139551,-0.7397375 1.251867,0 2.025745,0.6771454 0.773881,0.6771454 0.773881,1.8038232 0,0.6373144 -0.278825,1.1722012 -0.278822,0.5348868 -0.705595,0.8706133 -0.426771,0.3357272 -0.927519,0.6657667 -0.500747,0.3300361 -0.933209,0.5747178 -0.43246,0.2446817 -0.74543,0.5861006 -0.312966,0.3414178 -0.347105,0.7169762 H 17.26651 V 8.2644615 Z',\n\t\t},\n\t  ),\n\t)\n\n\t/* Subscript icon */\n\tconst subscriptIcon = wp.element.createElement( 'svg',\n\t  {\n\t\t  width: 20,\n\t\t  height: 20,\n\t  },\n\t  wp.element.createElement( 'path',\n\t\t{\n\t\t\td: 'M 11.415572,11.723303 V 13.59208 H 8.6403806 L 6.8611266,10.772129 6.5925593,10.302137 Q 6.5030369,10.201425 6.4694659,10.067141 H 6.4358949 L 6.3351822,10.302137 Q 6.2232813,10.525943 6.0554268,10.79451 L 4.3209317,13.59208 H 1.4338398 V 11.723303 H 2.8661965 L 5.0706822,8.4669311 3.0004802,5.4231745 H 1.4674107 V 3.5432079 h 3.0885176 l 1.5554501,2.5513836 q 0.022381,0.044757 0.2573749,0.4699921 0.089522,0.1007124 0.1230932,0.2349956 h 0.033571 Q 6.5589882,6.6988668 6.6485107,6.5645836 L 6.9282683,6.0945915 8.4949066,3.5432079 H 11.370811 V 5.4231745 H 9.9720247 L 7.9130129,8.4109791 10.195831,11.723303 Z m 7.150588,2.428291 v 2.305198 h -5.751805 l -0.04476,-0.302137 q -0.03357,-0.503563 -0.03357,-0.514753 0,-0.716178 0.290947,-1.309263 0.290948,-0.593086 0.727368,-0.96796 0.436422,-0.374874 0.939986,-0.727368 0.503561,-0.352494 0.939983,-0.60987 0.43642,-0.257377 0.727368,-0.604275 0.290947,-0.3469 0.290947,-0.716178 0,-0.425232 -0.330112,-0.699394 -0.330115,-0.2741619 -0.788916,-0.2741619 -0.570706,0 -1.085457,0.4364219 -0.156665,0.123093 -0.402851,0.425231 L 12.870301,9.5635781 q 0.290948,-0.414039 0.70499,-0.738558 0.895222,-0.727368 2.103773,-0.727368 1.230931,0 1.991869,0.665822 0.760939,0.665821 0.760939,1.7736599 0,0.738558 -0.386064,1.326048 -0.386065,0.587489 -0.939984,0.962363 -0.553918,0.374875 -1.113434,0.699393 -0.559513,0.324518 -0.973554,0.704988 -0.41404,0.380469 -0.458801,0.816891 h 2.596145 v -0.895223 z',\n\t\t},\n\t  ),\n\t)\n\n\t/**\n\t * Add a button for subscript (<sub>) in Gutenberg rich text\n\t */\n\tvar SubscriptButton = function( props ) {\n\t\treturn wp.element.createElement(\n\t\t  wp.editor.RichTextToolbarButton, {\n\t\t\t  icon: subscriptIcon,\n\t\t\t  title: 'Subscript',\n\t\t\t  isActive: props.isActive,\n\t\t\t  onClick: function() {\n\t\t\t\t  props.onChange( wp.richText.toggleFormat(\n\t\t\t\t\tprops.value,\n\t\t\t\t\t{ type: 'planet4-blocks/subscript' },\n\t\t\t\t  ) )\n\t\t\t  },\n\t\t\t  className: 'toolbar-button-planet4-subscript',\n\t\t  },\n\t\t)\n\t}\n\n\twp.richText.registerFormatType(\n\t  'planet4-blocks/subscript', {\n\t\t  title: 'Subscript',\n\t\t  tagName: 'sub',\n\t\t  className: null,\n\t\t  edit: SubscriptButton,\n\t  },\n\t)\n\n\t/**\n\t * Add a button for superscript (<sup>) in Gutenberg rich text\n\t */\n\tvar SuperscriptButton = function( props ) {\n\t\treturn wp.element.createElement(\n\t\t  wp.editor.RichTextToolbarButton, {\n\t\t\t  icon: superscriptIcon,\n\t\t\t  title: 'Superscript',\n\t\t\t  isActive: props.isActive,\n\t\t\t  onClick: function() {\n\t\t\t\t  props.onChange( wp.richText.toggleFormat(\n\t\t\t\t\tprops.value,\n\t\t\t\t\t{ type: 'planet4-blocks/superscript' },\n\t\t\t\t  ) )\n\t\t\t  },\n\t\t  },\n\t\t)\n\t}\n\n\twp.richText.registerFormatType(\n\t  'planet4-blocks/superscript', {\n\t\t  title: 'Superscript',\n\t\t  tagName: 'sup',\n\t\t  className: null,\n\t\t  edit: SuperscriptButton,\n\t  },\n\t)\n};\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  FormTokenField,\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Articles extends Component {\n  constructor(props) {\n    super(props);\n\n    // Populate tag tokens for saved tags.\n    let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n    // Populate post types tokens for saved post types.\n    let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n    this.state = {\n      tagTokens: tagTokens,\n      postTypeTokens: postTypeTokens,\n      selectedPosts: [],\n    };\n\n    this.populatePostsToken();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  populatePostsToken() {\n\n    if (this.props.posts.length > 0) {\n\n      apiFetch(\n        {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            include: this.props.posts\n          })\n        }\n      ).then(posts => {\n        const postsTokens = posts.map(post => post.title.rendered);\n        const postsSuggestions = posts.map(post => post.title.rendered);\n        this.setState({\n            postsTokens: postsTokens,\n            postsList: posts,\n            postsSuggestions: postsSuggestions,\n            selectedPosts: posts,\n          }\n        );\n      });\n    } else {\n      this.setState(\n        {\n          postsTokens: [],\n          postsList: [],\n          postsSuggestions: [],\n          selectedPosts: [],\n        }\n      );\n    }\n  }\n\n  /**\n   * Search posts using wp api.\n   *\n   * @param tokens\n   */\n  onPostsSearch(tokens) {\n\n    apiFetch(\n      {\n        path: addQueryArgs('/wp/v2/posts', {\n          per_page: 50,\n          page: 1,\n          search: tokens,\n          orderby: 'title',\n          post_status: 'publish',\n\n        })\n      }\n    ).then(posts => {\n      let postsSuggestions = posts.map(post => post.title.rendered);\n      this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n    });\n  }\n\n  onSelectedTagsChange(tokens) {\n    const tagIds = tokens.map(token => {\n      return this.props.tagsList.filter(tag => tag.name === token)[0].id;\n    });\n    this.props.onSelectedTagsChange(tagIds);\n    this.setState({tagTokens: tokens})\n  }\n\n  onSelectedPostTypesChange(tokens) {\n    const postTypeIds = tokens.map(token => {\n      return this.props.postTypesList.filter(postType => postType.name === token)[0].id;\n    });\n    this.props.onSelectedPostTypesChange(postTypeIds);\n    this.setState({postTypeTokens: tokens})\n  }\n\n  onSelectedPostsChange(tokens) {\n    // Array to hold references to selected posts objects.\n    let currentSelectedPosts = [];\n    tokens.forEach(token => {\n      let f = this.state.postsList.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n      f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n    });\n\n    const postIds = currentSelectedPosts.map(post => post.id);\n    this.props.onSelectedPostsChange(postIds);\n    this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const tagSuggestions = this.props.tagsList.map(tag => tag.name);\n    const postTypeSuggestions = this.props.postTypesList.map(postType => postType.name);\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'p4ge')}\n            placeholder={__('Enter title', 'p4ge')}\n            help={__('Your default is set to [ Latest Articles ]', 'p4ge')}\n            value={this.props.article_heading}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'p4ge')}\n            placeholder={__('Enter description', 'p4ge')}\n            value={this.props.articles_description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label={__('Button Text', 'p4ge')}\n            placeholder={__('Override button text', 'p4ge')}\n            help={__('Your default is set to [ Load More ]', 'p4ge')}\n            value={this.props.read_more_text}\n            onChange={this.props.onReadmoretextChange}\n          />\n        </div>\n\n\n        <div>\n          <TextControl\n            label={__('Button Link', 'p4ge')}\n            placeholder={__('Add read more button link', 'p4ge')}\n            value={this.props.read_more_link}\n            onChange={this.props.onReadmorelinkChange}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Open in a new Tab', 'p4ge')}\n            help={__('Open button link in new tab', 'p4ge')}\n            value={this.props.button_link_new_tab}\n            checked={this.props.button_link_new_tab}\n            onChange={(e) => this.props.onButtonLinkTabChange(e)}\n          />\n        </div>\n\n        {\n          this.props.posts !== 'undefined' && this.props.posts.length === 0\n            ?\n            <Fragment>\n              <div>\n                <TextControl\n                  label={__('Articles count', 'p4ge')}\n                  help={__('Number of articles', 'p4ge')}\n                  type=\"number\"\n                  value={this.props.article_count}\n                  onChange={this.props.onCountChange}\n                />\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label={__('Select Tags', 'p4ge')}\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                />\n                <p className='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.postTypeTokens}\n                  suggestions={postTypeSuggestions}\n                  label={__('Post Types', 'p4ge')}\n                  onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                />\n              </div>\n              <div className=\"ignore-categories-wrapper\">\n                <CheckboxControl\n                  label={__('Ignore categories', 'p4ge')}\n                  help={__('Ignore categories when filtering posts to populate the content of this block', 'p4ge')}\n                  value={this.props.ignore_categories}\n                  checked={this.props.ignore_categories}\n                  onChange={(e) => this.props.onIgnoreCategoriesChange(e)}\n                />\n              </div>\n            </Fragment>\n            : null\n        }\n\n        {\n          (this.props.tags.length === 0 && this.props.post_types.length === 0)\n            ? <div>\n              <hr/>\n              <label>{__('Manual override', 'p4ge')}</label>\n              <FormTokenField\n                value={this.state.postsTokens}\n                suggestions={this.state.postsSuggestions}\n                label={__('CAUTION: Adding articles individually will override the automatic functionality of this block. For good user experience, please include at least three articles so that spacing and alignment of the design remains in tact.', 'p4ge')}\n                onChange={tokens => this.onSelectedPostsChange(tokens)}\n                onInputChange={tokens => this.onPostsSearch(tokens)}\n                placeholder=\"Select Posts\"\n                maxLength=\"10\"\n                maxSuggestions=\"20\"\n              />\n            </div>\n            : null\n        }\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/articles'}\n            attributes={{\n              read_more_text: this.props.read_more_text,\n              read_more_link: this.props.read_more_link,\n              tags: this.props.tags,\n              post_types: this.props.post_types,\n              posts: this.props.posts,\n              article_heading: this.props.article_heading,\n              articles_description: this.props.articles_description,\n              article_count: this.props.article_count,\n              ignore_categories: this.props.ignore_categories,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Articles} from './Articles.js';\n\nexport class ArticlesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/articles', {\n      title: 'Articles',\n      icon: 'excerpt-view',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_articles',\n            attributes: {\n              article_heading: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_heading;\n                }\n              },\n              articles_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.articles_description;\n                }\n              },\n              article_count: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_count;\n                }\n              },\n              read_more_text: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_text;\n                }\n              },\n              read_more_link: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_link;\n                }\n              },\n              button_link_new_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.button_link_new_tab;\n                }\n              },\n              ignore_categories: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.ignore_categories;\n                }\n              },\n              tags: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.tags.split(',') : [];\n                }\n              },\n              post_types: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.post_types.split(',') : [];\n                }\n              },\n              posts: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.posts.split(',') : [];\n                }\n              },\n              exclude_post_id: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.exclude_post_id);\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        article_heading: {\n          type: 'string',\n        },\n        articles_description: {\n          type: 'string',\n        },\n        article_count: {\n          type: 'integer',\n          default: 3\n        },\n        tags: {\n          type: 'array',\n          default: []\n        },\n        posts: {\n          type: 'array',\n          default: []\n        },\n        post_types: {\n          type: 'array',\n          default: []\n        },\n        read_more_text: {\n          type: 'string'\n        },\n        read_more_link: {\n          type: 'string',\n          default: ''\n        },\n        button_link_new_tab: {\n          type: 'boolean',\n          default: false\n        },\n        ignore_categories: {\n          type: 'boolean',\n          default: false\n        },\n        exclude_post_id: {\n          type: 'integer',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: withSelect((select) => {\n        const tagsTaxonomy = 'post_tag';\n        const postTypesTaxonomy = 'p4-page-type';\n        const args = {\n          hide_empty: false,\n          per_page: 50,\n        };\n        const {getEntityRecords} = select('core');\n\n        // We should probably wrap all these in a single call,\n        // or maybe use our own way of retrieving data from the\n        // API, I don't know how this scales.\n        const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n        const postTypesList = getEntityRecords('taxonomy', postTypesTaxonomy, args);\n\n        return {\n          postTypesList,\n          tagsList,\n        };\n      })(({\n            postTypesList,\n            tagsList,\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        if (!tagsList || !postTypesList) {\n          return \"Populating block's fields...\";\n        }\n\n        // TO-DO: Check for posts types and posts too...\n        if ((tagsList && tagsList.length === 0) || (postTypesList && postTypesList.length === 0)) {\n          return \"Populating block's fields...\";\n        }\n\n        // These methods are passed down to the\n        // Articles component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({article_heading: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({articles_description: value});\n        }\n\n        function onReadmoretextChange(value) {\n          setAttributes({read_more_text: value});\n        }\n\n        function onCountChange(value) {\n          setAttributes({article_count: Number(value)});\n        }\n\n        function onReadmorelinkChange(value) {\n          setAttributes({read_more_link: value});\n        }\n\n        function onButtonLinkTabChange(value) {\n          setAttributes({button_link_new_tab: value});\n        }\n\n        function onSelectedTagsChange(tagIds) {\n          setAttributes({tags: tagIds});\n        }\n\n        function onSelectedPostsChange(value) {\n          setAttributes({posts: value});\n        }\n\n        function onSelectedPostTypesChange(postTypeIds) {\n          setAttributes({post_types: postTypeIds});\n        }\n\n        function onIgnoreCategoriesChange(value) {\n          setAttributes({ignore_categories: value});\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Articles\n          {...attributes}\n          isSelected={isSelected}\n          tagsList={tagsList}\n          postTypesList={postTypesList}\n          onSelectedTagsChange={onSelectedTagsChange}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onCountChange={onCountChange}\n          onSelectedPostsChange={onSelectedPostsChange}\n          onSelectedPostTypesChange={onSelectedPostTypesChange}\n          onReadmoretextChange={onReadmoretextChange}\n          onReadmorelinkChange={onReadmorelinkChange}\n          onButtonLinkTabChange={onButtonLinkTabChange}\n          onIgnoreCategoriesChange={onIgnoreCategoriesChange}/>\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import React, {Component, Fragment} from 'react';\nimport {\n  Button,\n  CheckboxControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {CarouselHeaderSlide} from \"./CarouselHeaderSlide\";\nimport {initializeCarouselHeader} from \"./CarouselHeaderFront\";\n\nexport class CarouselHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.refs = [];\n    this.ssrRef = React.createRef();\n    this.firstRender = true;\n  }\n\n  componentDidMount() {\n    this.collapseSlides();\n    if (this.ssrRef.current && this.ssrRef.current.currentFetchRequest) {\n      // Get ServerSideRender component fetch request and attach resolve function.\n      this.ssrRef.current.currentFetchRequest.then(function () {\n        setTimeout(function () {\n          initializeCarouselHeader();\n        }, 1000);\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.firstRender) {\n      this.collapseSlides();\n      this.firstRender = false;\n    }\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (this.ssrRef.current && this.ssrRef.current.currentFetchRequest) {\n      this.ssrRef.current.currentFetchRequest.then(function() {\n        setTimeout(function () {\n          initializeCarouselHeader();\n        }, 1000);\n      });\n    }\n  }\n\n  /**\n   * Collapse all active slides.\n   */\n  collapseSlides() {\n    let refs = this.refs;\n    Object.keys(this.refs).forEach(function (index) {\n      if (null !== refs[index]) {\n        refs[index].collapseSlide();\n      }\n    }.bind(refs));\n  }\n\n  /**\n   * Add new slide to carousel header.\n   */\n  addNewSlide() {\n    this.collapseSlides();\n    this.props.addSlide();\n  }\n\n  /**\n   * Remove slide to carousel header.\n   */\n  removeSlide() {\n    this.props.removeSlide();\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h3>{__('What style of carousel do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.block_style}\n            onSelectedLayoutChange={this.props.onBlockStyleChange}\n            options={[\n              {\n                label: __('Zoom and slide to gray', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/carousel-with-preview.png',\n                value: 'zoom-and-slide-to-gray',\n                help: __('This carousel provides a fancy transition, and a preview for the next slide in an oblique shape.')\n              }, {\n                label: __('Full width classic', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/carousel-classic.png',\n                value: 'full-width-classic',\n                help: __('This is a full width slider with a classic look: big slides, fade transition, and no subheaders.'),\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Carousel Autoplay', 'p4ge')}\n            help={__('Select to trigger images autoslide', 'p4ge')}\n            value={this.props.carousel_autoplay}\n            checked={this.props.carousel_autoplay}\n            onChange={(e) => this.props.onCarouselAutoplayChange(e)}\n          />\n        </div>\n\n        {this.props.slides.map((slide, i) => {\n          return (\n            <Fragment>\n              <CarouselHeaderSlide\n                {...slide}\n                onImageChange={this.props.onImageChange}\n                onHeaderChange={this.props.onHeaderChange}\n                onHeaderSizeChange={this.props.onHeaderSizeChange}\n                onSubheaderChange={this.props.onSubheaderChange}\n                onDescriptionChange={this.props.onDescriptionChange}\n                onLinkTextChange={this.props.onLinkTextChange}\n                onLinkUrlChange={this.props.onLinkUrlChange}\n                onLinkNewTabChange={this.props.onLinkNewTabChange}\n                onStyleChange={this.props.onStyleChange}\n                onFocalPointsChange={this.props.onFocalPointsChange}\n                hasSubheader={this.props.block_style !== 'full-width-classic'}\n                index={i}\n                key={i}\n                ref={(instance) => {\n                  this.refs[i] = instance\n                }}\n              />\n            </Fragment>\n          );\n        })}\n\n        <div className='carousel-header-add-remove-slide'>\n          <Button isPrimary\n                  onClick={this.addNewSlide.bind(this)}\n                  disabled={this.props.slides.length >= 4}\n          >\n            Add Slide\n          </Button>\n          <Button isDefault\n                  onClick={this.removeSlide.bind(this)} disabled={this.props.slides.length <= 1}\n          >\n            Remove Slide\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          {\n            this.props.slides.length && this.props.slides[0].image > 0\n            ? <ServerSideRender\n                block={'planet4-blocks/carousel-header'}\n                attributes={{\n                  block_style: this.props.block_style,\n                  carousel_autoplay: this.props.carousel_autoplay,\n                  slides: this.props.slides,\n                }}\n                ref={this.ssrRef}\n              >\n              </ServerSideRender>\n            : <div>Not enough data available to render the block yet.</div>\n          }\n\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {CarouselHeader} from './CarouselHeader.js';\n\nexport class CarouselHeaderBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/carousel-header', {\n      title: 'Carousel Header',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_carousel_header block_style=\"full-width-classic\" carousel_autoplay=\"true\" image_1=\"16\" focus_image_1=\"center center\"\n       *     header_1=\"Carousel header - full width  1\" description_1=\"Lorem ipsum \" link_text_1=\"Curabitur rutrum viverra\" image_2=\"348\"\n       *     focus_image_2=\"center center\"\n       *     header_2=\"Carousel header - full width  2\"\n       *     description_2=\"Pellentesque cursus\" link_text_2=\"Pellentesque cursus\"\n       *     image_3=\"357\" focus_image_3=\"left top\" header_3=\"Carousel header - full width  3\"\n       *     description_3=\"Nam condimentum\" focus_image_4=\"left top\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/carousel-header {\"carousel_autoplay\":\"true\",\"slides\":[{\"image\":16,\"header\":\"Carousel header - full width  1\",\"description\":\"Lorem ipsum\",\"link_text\":\"Curabitur rutrum viverra\",\"focal_points\":{\"x\":0.5,\"y\":0.5}},{\"image\":348,\"header\":\"Carousel header - full width  2\",\"description\":\"Pellentesque cursus\",\"link_text\":\"Pellentesque cursus\",\"focal_points\":{\"x\":0.5,\"y\":0.5}},{\"image\":357,\"header\":\"Carousel header - full width  3\",\"description\":\"Nam condimentum\",\"focal_points\":{\"x\":0,\"y\":0}}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_carousel_header',\n            attributes: {\n              block_style: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.block_style);\n                }\n              },\n              carousel_autoplay: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.carousel_autoplay;\n                }\n              },\n              slides: {\n                type: 'array',\n                shortcode: function (attributes) {\n\n                  const convert_position = function(position) {\n                    switch (position) {\n                    case 'left top':\n                      return {x: 0, y: 0};\n                    case 'center top':\n                      return {x: 0.5, y: 0};\n                    case 'right top':\n                      return {x: 1, y: 0};\n                    case 'left center':\n                      return {x: 0, y: 0.5};\n                    case 'center center':\n                      return {x: 0.5, y: 0.5};\n                    case 'right center':\n                      return {x: 1, y: 0.5};\n                    case 'left bottom':\n                      return {x: 0, y: 1};\n                    case 'center bottom':\n                      return {x: 0.5, y: 1};\n                    case 'right bottom':\n                      return {x: 1, y: 1};\n                    }\n                  };\n\n\n                  let slides = [];\n                  if (attributes.named.image_1) {\n                    let slide = {\n                      image: Number(attributes.named.image_1),\n                      header: attributes.named.header_1,\n                      header_size: attributes.named.header_size_1,\n                      subheader: attributes.named.subheader_1,\n                      description: attributes.named.description_1,\n                      link_text: attributes.named.link_text_1,\n                      link_url: attributes.named.link_url_1,\n                      focal_points: convert_position(attributes.named.focus_image_1)\n                    };\n                    slides.push(Object.assign({}, slide));\n\n                    if (attributes.named.image_2) {\n                      let slide = {\n                        image: Number(attributes.named.image_2),\n                        header: attributes.named.header_2,\n                        header_size: attributes.named.header_size_2,\n                        subheader: attributes.named.subheader_2,\n                        description: attributes.named.description_2,\n                        link_text: attributes.named.link_text_2,\n                        link_url: attributes.named.link_url_2,\n                        focal_points: convert_position(attributes.named.focus_image_2)\n                      };\n                      slides.push(Object.assign({}, slide));\n\n                      if (attributes.named.image_3) {\n                        let slide = {\n                          image: Number(attributes.named.image_3),\n                          header: attributes.named.header_3,\n                          header_size: attributes.named.header_size_3,\n                          subheader: attributes.named.subheader_3,\n                          description: attributes.named.description_3,\n                          link_text: attributes.named.link_text_3,\n                          link_url: attributes.named.link_url_3,\n                          focal_points: convert_position(attributes.named.focus_image_3)\n                        };\n                        slides.push(Object.assign({}, slide));\n\n                        if (attributes.named.image_4) {\n                          let slide = {\n                            image: Number(attributes.named.image_4),\n                            header: attributes.named.header_4,\n                            header_size: attributes.named.header_size_4,\n                            subheader: attributes.named.subheader_4,\n                            description: attributes.named.description_4,\n                            link_text: attributes.named.link_text_4,\n                            link_url: attributes.named.link_url_4,\n                            focal_points: convert_position(attributes.named.focus_image_4)\n                          };\n                          slides.push(Object.assign({}, slide));\n\n                        }\n                      }\n                    }\n                  }\n                  return slides;\n                }\n              }\n            }\n          }\n        ]\n      },\n      attributes: {\n        block_style: {\n          type: 'string',\n        },\n        carousel_autoplay: {\n          type: 'boolean',\n        },\n        slides: {\n          type: 'array',\n          default: [\n            {\n              image: null,\n              focal_points: {},\n              header: '',\n              header_size: 'h1',\n              subheader: '',\n              description: '',\n              link_text: '',\n              link_url: '',\n              link_url_new_tab: false,\n            }\n          ]\n        },\n      },\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        function addSlide() {\n          setAttributes({\n            slides: attributes.slides.concat({\n              image: null,\n              focal_points: {},\n              header: '',\n              header_size: 'h1',\n              subheader: '',\n              description: '',\n              link_text: '',\n              link_url: '',\n              link_url_new_tab: false,\n            })\n          });\n        }\n\n        function onCarouselAutoplayChange(value) {\n          setAttributes({carousel_autoplay: value});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onImageChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          if (null !== value) {\n            slides[index].image = value;\n          } else {\n            slides[index].image = null;\n          }\n          setAttributes({slides: slides});\n        }\n\n        function onFocalPointsChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          if (null !== value) {\n            const fo = JSON.parse(JSON.stringify(value));\n            slides[index].focal_points = fo;\n          } else {\n            slides[index].focal_points = null;\n          }\n          setAttributes({slides: slides});\n        }\n\n        function onHeaderChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].header = value;\n          setAttributes({slides: slides});\n        }\n\n        function onHeaderSizeChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].header_size = value;\n          setAttributes({slides: slides});\n        }\n\n        function onSubheaderChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].subheader = value;\n          setAttributes({slides: slides});\n        }\n\n        function onDescriptionChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].description = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkUrlChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_url = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkTextChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_text = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkNewTabChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_url_new_tab = value;\n          setAttributes({slides: slides});\n        }\n\n        function onBlockStyleChange(value) {\n          setAttributes({block_style: value});\n        }\n\n        function removeSlide() {\n          setAttributes({slides: attributes.slides.slice(0, -1)});\n        }\n\n        return <CarouselHeader\n          {...attributes}\n          isSelected={isSelected}\n          onBlockStyleChange={onBlockStyleChange}\n          onCarouselAutoplayChange={onCarouselAutoplayChange}\n          onTitleChange={onTitleChange}\n          onImageChange={onImageChange}\n          onHeaderChange={onHeaderChange}\n          onSubheaderChange={onSubheaderChange}\n          onHeaderSizeChange={onHeaderSizeChange}\n          onDescriptionChange={onDescriptionChange}\n          onLinkTextChange={onLinkTextChange}\n          onLinkUrlChange={onLinkUrlChange}\n          onLinkNewTabChange={onLinkNewTabChange}\n          onFocalPointsChange={onFocalPointsChange}\n          addSlide={addSlide}\n          removeSlide={removeSlide}\n        />;\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","/* global Hammer */\nconst ZoomAndSlideToGrayCarouselHeader = {\n  /**\n   * This module provides a custom slideshow mechanism for use with the header carousel.\n   * The transition behavior in this block is too complex to be easily layered upon the\n   * default bootstrap carousel.\n   */\n\n  // SLIDE_TRANSITION_SPEED should match $slide-transition-speed in _carousel_header.scss.\n  SLIDE_TRANSITION_SPEED: 500,\n  activeTransition: null,\n\n\n  /**\n   * Given an active slide return the next slide, wrapping around the end of the carousel.\n   *\n   * @param {HTMLElement|jQuery} slide A slide in the carousel.\n   * @returns {jQuery} A jQuery selection of the next slide.\n   */\n  nextSlide: function (el) {\n    const $el = $(el);\n    const $nextSlide = $el.next('.carousel-item');\n    // prevAll returns items in reverse DOM order: the first slide is the last element.\n    return $nextSlide.length ? $nextSlide : $el.prevAll('.carousel-item').last();\n  },\n\n  previousSlide: function (el) {\n    const $el = $(el);\n    const $previousSlide = $el.prev('.carousel-item');\n    return $previousSlide.length ? $previousSlide : $el.nextAll('.carousel-item').last();\n  },\n\n  // Update active slide indicators\n  switchIndicator: function (index) {\n    this.$CarouselIndicators.children().each(function (i, el) {\n      $(el).toggleClass('active', i === index);\n    });\n  },\n\n  setup: function () {\n    const me = this;\n\n    me.$CarouselHeaderWrapper = $('#carousel-wrapper-header');\n\n    me.$CarouselIndicators = me.$CarouselHeaderWrapper.find('.carousel-indicators');\n    me.$Slides = me.$CarouselHeaderWrapper.find('.carousel-item');\n\n    me.$CarouselHeaderWrapper.find('img').on('load', function () {\n      const current_img_src = $(this).get(0).currentSrc;\n      const current_bg_img = $(this).parent().css('background-image').replace(/.*\\s?url\\(['\"]?/, '').replace(/['\"]?\\).*/, '');\n      if (current_img_src !== current_bg_img) {\n        $(this).parent().css('background-image', 'url(' + $(this).get(0).currentSrc + ')');\n      }\n    });\n\n    me.$CarouselIndicators.find('li').remove(); // Empty the indicators list\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n\n      // Populate carousel indicators list\n      $('<li>')\n        .attr('data-target', '#carousel-wrapper-header')\n        .attr('data-slide-to', i)\n        .toggleClass('active', i === 0)\n        .appendTo(me.$CarouselIndicators);\n\n      // Convert the provided image tag into background image styles.\n      const $img = $slide.find('img');\n      const img_src = $img.get(0).currentSrc || $img.attr('src');\n      $slide\n        .css('background-image', 'url(' + img_src + ')')\n        .css('background-position', $img.data('background-position'));\n\n      // Populate carousel slide index\n      $slide.attr('data-slide', i);\n    });\n\n    // Bind mouse interaction events\n    let clickTargets = '.carousel-control-next';\n    if ($('html').attr('dir') == 'rtl') {\n      clickTargets += ', .carousel-control-prev';\n    }\n    me.$CarouselHeaderWrapper.on('click', clickTargets, function (evt) {\n      evt.preventDefault();\n      me.advanceCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', '.carousel-indicators li', function (evt) {\n      evt.preventDefault();\n      me.activate($(evt.target).data('slide-to'));\n    });\n\n    /* Carousel header swipe on mobile */\n    if ($('.carousel-header').length > 0 && me.$Slides.length > 1) {\n      const carousel_element = $('.carousel-header')[0];\n      const carousel_head_hammer = new Hammer(carousel_element, {recognizers: []});\n      const hammer = new Hammer.Manager(carousel_head_hammer.element);\n      const swipe = new Hammer.Swipe();\n      hammer.add(swipe);\n\n      hammer.on('swipeleft', function () {\n        me.advanceCarousel();\n      });\n\n      hammer.on('swiperight', function () {\n        me.backwardsCarousel();\n      });\n\n      // Vertical swiping on carousel should scroll the page\n      hammer.on('swipeup', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y + 200});\n      });\n      hammer.on('swipedown', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y - 200});\n      });\n    }\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n      const $nextImg = me.nextSlide($slide).find('img');\n\n      if ($nextImg.length > 0) {\n        // Add an element within the slide to hold the next slide preview.\n        const $preview = $('<div>')\n          .addClass('carousel-preview-wrap')\n          .prependTo($slide);\n\n        const next_img_src = $nextImg.get(0).currentSrc || $nextImg.attr('src');\n        $('<div>')\n          .addClass('carousel-preview')\n          .css('background-image', 'url(' + next_img_src + ')')\n          .css('background-position', $nextImg.data('background-position'))\n          .appendTo($preview);\n      }\n    });\n  },\n\n  backwardsCarousel: function () {\n    const $active = this.$Slides.filter('.active');\n    const $previous = this.previousSlide($active);\n    this.activate($previous.data('slide'));\n  },\n\n  /**\n   * Switch to a specific slide.\n   *\n   * @param {Number} slideIndex The index of a slide in the carousel.\n   */\n  activate: function (slideIndex) {\n    const me = this;\n    const $slide = me.$Slides.eq(slideIndex);\n\n    if ($slide.hasClass('active') && !$slide.hasClass('slide-over')) {\n      // If the requested slide is active and not transitioning, do nothing.\n      return;\n    }\n\n    if (me.$CarouselHeaderWrapper.data('block-style') != 'full-width-classic') {\n      if ($slide.hasClass('next')) {\n        // If the slide being requested is next, transition normally.\n        me.advanceCarousel();\n        return;\n      }\n    }\n\n    if (me.activeTransition) {\n      clearTimeout(me.activeTransition);\n    }\n\n    me.switchIndicator(slideIndex);\n\n    me.$Slides.removeClass('active next slide-over fade-out');\n    $slide.addClass('active');\n    me.nextSlide($slide).addClass('next');\n  },\n\n  /**\n   * Advance to the next slide in the carousel.\n   */\n  advanceCarousel: function () {\n    const me = this;\n    const $active = me.$Slides.filter('.active');\n\n    me.$Slides.removeClass('next');\n    const $next = me.nextSlide($active).addClass('next');\n\n    if (me.activeTransition) {\n      // A transition is in progress, so proceed to the next pair of slides\n      clearTimeout(me.activeTransition);\n      me.activeTransition = null;\n      me.$Slides.removeClass('fade-out slide-over active');\n      $next.addClass('active');\n      me.nextSlide($next).addClass('next');\n      me.advanceCarousel();\n      return;\n    }\n\n    // Transition out the active slide\n    $active.addClass('slide-over');\n\n    me.switchIndicator(me.$Slides.index($next));\n\n    // When transition is done, swap out the slides\n    me.activeTransition = setTimeout(function beginTransition() {\n      $active.addClass('fade-out');\n      me.activeTransition = setTimeout(function completeTransition() {\n        $active.removeClass('active');\n        me.$Slides.removeClass('slide-over fade-out');\n        $next.removeClass('next').addClass('active');\n        // Ensure the new upcoming slide has .next\n        me.nextSlide($next).addClass('next');\n        me.activeTransition = null;\n      }, me.SLIDE_TRANSITION_SPEED / 2);\n    }, me.SLIDE_TRANSITION_SPEED);\n  },\n};\n\nconst FullWidthClassicCarouselHeader = {\n  /**\n   * Given an active slide return the next slide, wrapping around the end of the carousel.\n   *\n   * @param {HTMLElement|jQuery} slide A slide in the carousel.\n   * @returns {jQuery} A jQuery selection of the next slide.\n   */\n  nextSlide: function (el) {\n    const $el = $(el);\n    const $nextSlide = $el.next('.carousel-item');\n    // prevAll returns items in reverse DOM order: the first slide is the last element.\n    return $nextSlide.length ? $nextSlide : $el.prevAll('.carousel-item').last();\n  },\n\n  previousSlide: function (el) {\n    const $el = $(el);\n    const $previousSlide = $el.prev('.carousel-item');\n    return $previousSlide.length ? $previousSlide : $el.nextAll('.carousel-item').last();\n  },\n\n  // Update active slide indicators\n  switchIndicator: function (index) {\n    this.$CarouselIndicators.children().each(function (i, el) {\n      $(el).toggleClass('active', i === index);\n    });\n  },\n\n  getCurrentSlideIndex: function () {\n    return this.$CarouselHeaderWrapper.find('.carousel-item.active').index();\n  },\n\n  setup: function () {\n    const me = this;\n\n    me.$CarouselHeaderWrapper = $('#carousel-wrapper-header');\n    me.$Slides = me.$CarouselHeaderWrapper.find('.carousel-item');\n\n    me.$CarouselHeaderWrapper.find('img').on('load', function () {\n      const current_img_src = $(this).get(0).currentSrc;\n      const current_bg_img = $(this).parent().css('background-image').replace(/.*\\s?url\\(['\"]?/, '').replace(/['\"]?\\).*/, '');\n      if (current_img_src !== current_bg_img) {\n        $(this).parent().css('background-image', 'url(' + $(this).get(0).currentSrc + ')');\n      }\n    });\n\n    me.$CarouselIndicators = me.$CarouselHeaderWrapper.find('.carousel-indicators');\n\n    me.$CarouselIndicators.find('li').remove(); // Empty the indicators list\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n\n      // Populate carousel indicators list\n      $('<li>')\n        .attr('data-target', '#carousel-wrapper-header')\n        .attr('data-slide-to', i)\n        .toggleClass('active', i === 0)\n        .appendTo(me.$CarouselIndicators);\n\n      // Convert the provided image tag into background image styles.\n      const $img = $slide.find('img');\n      const img_src = $img.get(0).currentSrc || $img.attr('src');\n      $slide.find('.background-holder')\n        .css('background-image', 'url(' + img_src + ')')\n        .css('background-position', $img.data('background-position'));\n\n      // Populate carousel slide index\n      $slide.attr('data-slide', i);\n    });\n\n    // Bind mouse interaction events\n    const clickTargets = ['.carousel-control-next', '.carousel-control-prev'];\n    if ($('html').attr('dir') == 'rtl') {\n      clickTargets.reverse();\n    }\n    me.$CarouselHeaderWrapper.on('click', clickTargets[0], function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.advanceCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', clickTargets[1], function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.backwardsCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', '.carousel-indicators li', function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.activate($(evt.target).data('slide-to'));\n    });\n\n    /* Carousel header swipe on mobile */\n    if ($('.carousel-header_full-width-classic').length > 0 && me.$Slides.length > 1) {\n      const carousel_element = $('.carousel-header_full-width-classic')[0];\n      const carousel_head_hammer = new Hammer(carousel_element, {recognizers: []});\n      const hammer = new Hammer.Manager(carousel_head_hammer.element);\n      const swipe = new Hammer.Swipe();\n      hammer.add(swipe);\n\n      hammer.on('swipeleft', function () {\n        me.cancelAutoplayInterval();\n        me.advanceCarousel();\n      });\n\n      hammer.on('swiperight', function () {\n        me.cancelAutoplayInterval();\n        me.backwardsCarousel();\n      });\n\n      // Vertical swiping on carousel should scroll the page\n      hammer.on('swipeup', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y + 200});\n      });\n      hammer.on('swipedown', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y - 200});\n      });\n    }\n\n    me.positionIndicators();\n    me.setCarouselHeight(me.$Slides.first());\n\n    me.$CarouselHeaderWrapper.find('.initial').on('transitionend', function () {\n      $(this).removeClass('initial');\n    });\n\n    $(window).on('resize', function () {\n      const $currentSlide = $('.carousel-item.active');\n      me.setCarouselHeight($currentSlide);\n      me.positionIndicators();\n    });\n\n    me.autoplayPaused = false;\n    me.autoplayEnabled = me.$CarouselHeaderWrapper.data('carousel-autoplay') == true;\n\n    if (me.$Slides.length > 1 && me.autoplayEnabled) {\n      me.startAutoplayInterval();\n\n      me.$CarouselHeaderWrapper.on('mouseenter', function () {\n        me.autoplayPaused = true;\n      });\n\n      me.$CarouselHeaderWrapper.on('mouseleave', function () {\n        me.autoplayPaused = false;\n      });\n    }\n\n    $(window).on('scroll', function () {\n      me.cancelAutoplayInterval();\n      $(window).off('scroll');\n    });\n  },\n\n  startAutoplayInterval: function () {\n    const me = this;\n    me.autoplayInterval = window.setInterval(function () {\n      if (!me.autoplayPaused) {\n        me.advanceCarousel();\n      }\n    }, 6000);\n  },\n\n  cancelAutoplayInterval: function () {\n    window.clearInterval(this.autoplayInterval);\n  },\n\n  /**\n   * Switch to a specific slide.\n   *\n   * @param {Number} slideIndex The index of a slide in the carousel.\n   */\n  activate: function (slideIndex) {\n    const me = this;\n    const $slide = me.$Slides.eq(slideIndex);\n    const currentIndex = me.getCurrentSlideIndex();\n\n    if (slideIndex == currentIndex) {\n      return;\n    }\n\n    if (slideIndex > currentIndex) {\n      me.advanceCarousel($slide);\n    } else {\n      me.backwardsCarousel($slide);\n    }\n  },\n\n  positionIndicators: function () {\n    const $indicators = this.$CarouselHeaderWrapper.find('.carousel-indicators');\n    const $header = this.$CarouselHeaderWrapper.find('.carousel-item.active .action-button');\n    const isRTL = $('html').attr('dir') == 'rtl';\n    const rightSide = (window.matchMedia('(min-width: 992px)').matches && isRTL)\n      || (window.matchMedia('(min-width: 768px) and (max-width: 992px)').matches && !isRTL);\n\n    if (window.matchMedia('(min-width: 768px)').matches && $header.length) {\n      let leftOffset = $header.offset().left;\n\n      if (rightSide) {\n        const rightOffset = leftOffset + (isRTL ? $header.width() : $header.parent().width());\n        const indicatorsRight = $(window).width() - rightOffset;\n        $indicators.css('right', indicatorsRight + 'px')\n          .css('left', '')\n          .css('margin-left', '0')\n          .css('margin-right', '3px'); // same as indicators x margin\n      } else {\n        leftOffset = isRTL ? $header.parent().offset().left : $header.offset().left;\n        $indicators.css('left', leftOffset + 'px')\n          .css('right', '')\n          .css('margin-right', '0')\n          .css('margin-left', '3px');\n      }\n    } else {\n      $indicators.css('right', '');\n      $indicators.css('left', '');\n    }\n  },\n\n  getSlideHeight: function ($slide) {\n    return $slide.find('.carousel-item-mask .background-holder').outerHeight() + $slide.find('.carousel-caption').outerHeight() + 'px';\n  },\n\n  setCarouselHeight: function ($currentSlide) {\n    const me = this;\n    if (window.matchMedia('(max-width: 992px)').matches) {\n      me.$CarouselHeaderWrapper.find('.carousel-inner, .carousel-item-mask').css('height', this.getSlideHeight($currentSlide));\n    } else {\n      me.$CarouselHeaderWrapper.find('.carousel-inner, .carousel-item-mask').css('height', '');\n    }\n  },\n\n  backwardsCarousel: function ($slide) {\n    const me = this;\n    const $activeSlide = me.$Slides.filter('.active');\n    let $previousSlide = null;\n    if ($slide) {\n      $previousSlide = $slide;\n    } else {\n      $previousSlide = me.previousSlide($activeSlide);\n    }\n\n    $activeSlide.addClass('slide-right');\n    $previousSlide.addClass('prev');\n\n    function unsetTransitionClasses() {\n      $activeSlide.removeClass('slide-right active');\n      $previousSlide.addClass('active').removeClass('prev');\n      $activeSlide.off('transitionend');\n    }\n\n    me.setCarouselHeight($previousSlide);\n    $activeSlide.on('transitionend', unsetTransitionClasses);\n    me.switchIndicator(me.$Slides.index($previousSlide));\n  },\n\n  /**\n   * Advance to the next slide in the carousel.\n   */\n  advanceCarousel: function ($slide) {\n    const me = this;\n    const $activeSlide = me.$Slides.filter('.active');\n    let $nextSlide = null;\n    if ($slide) {\n      $nextSlide = $slide;\n    } else {\n      $nextSlide = me.nextSlide($activeSlide);\n    }\n\n    $activeSlide.addClass('slide-left');\n    $nextSlide.addClass('next');\n\n    function unsetTransitionClasses() {\n      $activeSlide.removeClass('slide-left active');\n      $nextSlide.addClass('active').removeClass('next');\n      $activeSlide.off('transitionend');\n    }\n\n    $activeSlide.on('transitionend', unsetTransitionClasses);\n    $activeSlide.find('.btn').fadeIn();\n\n    me.setCarouselHeight($nextSlide);\n    me.switchIndicator(me.$Slides.index($nextSlide));\n  },\n};\n\nexport const initializeCarouselHeader = function() {\n  const $CarouselHeaderWrapper = $('#carousel-wrapper-header');\n  if ($CarouselHeaderWrapper.length > 0) {\n    switch ($CarouselHeaderWrapper.data('block-style')) {\n    case 'full-width-classic':\n      FullWidthClassicCarouselHeader.setup();\n      break;\n    default:\n      ZoomAndSlideToGrayCarouselHeader.setup();\n      break;\n    }\n  }\n};\n","import {React, Component, Fragment} from 'react';\nimport {\n  Dashicon,\n  FocalPointPicker\n} from '@wordpress/components';\nimport {MediaUpload} from \"@wordpress/editor\";\nimport ImagePlaceholder from './ImagePlaceholder';\n\nexport class CarouselHeaderImage extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {onChange, onRemove, image_id, image_url, onFocalPointsChange, focal_points} = this.props;\n    let   hasRemove = true;\n\n    let imageClass = [];\n    if (!image_url) {\n      imageClass.push('ch-image-upload-placeholder');\n      imageClass.push('ch-image-upload-has-placeholder');\n    } else {\n      imageClass.push('carousel-header-image-container');\n    }\n    imageClass = imageClass.join(' ');\n\n\n    return (\n      <Fragment>\n        <MediaUpload\n          onSelect={onChange}\n          allowedTypes={['image']}\n          value={image_id}\n          render={obj => {\n            if (image_url) {\n              return (\n                <div\n                  className={imageClass}\n                  tabIndex={0}\n                >\n                  {image_url && onRemove && hasRemove && (\n                    <button className=\"ch-image-upload-remove\" onClick={ev => {\n                      onRemove();\n                      ev.stopPropagation()\n                    }}><Dashicon icon=\"no\"/></button>\n                  )}\n                  <FocalPointPicker\n                    url={image_url}\n                    value={focal_points}\n                    onChange={(focalPoints) => onFocalPointsChange(focalPoints)}\n                  />\n\n                </div>\n              )\n            }\n            return (\n              <div\n                className={imageClass}\n                onClick={obj.open}\n                onKeyDown={event => {\n                  if (event.keyCode === 13) {\n                    obj.open()\n                  }\n                }}\n                role=\"button\"\n                tabIndex={0}\n                >\n                {image_url && onRemove && hasRemove && (\n                  <button className=\"ch-image-upload-remove\" onClick={ev => {\n                    onRemove();\n                    ev.stopPropagation()\n                  }}><Dashicon icon=\"no\"/></button>\n                )}\n                <ImagePlaceholder/>\n              </div>\n            )\n          }}\n        />\n\n      </Fragment>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  Dashicon,\n  SelectControl,\n  TextareaControl,\n  TextControl,\n  ToggleControl\n} from '@wordpress/components';\nimport {URLInput} from '@wordpress/block-editor'\nimport {CarouselHeaderImage} from \"./CarouselHeaderImage\";\n\nconst {apiFetch} = wp;\n\nexport class CarouselHeaderSlide extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      image_id: null,\n      image_url: null,\n      focal_points: props.focal_points,\n      isHidden: false,\n    };\n    this.getMedia();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  getMedia() {\n\n    if (this.props.image) {\n\n      apiFetch(\n        {\n          path: `/wp/v2/media/${this.props.image}`\n        }\n      ).then(media => {\n        this.setState({\n          image_id: media.id,\n          image_url: media.source_url\n        });\n      });\n    }\n  }\n\n  onImageChange(image) {\n    this.props.onImageChange(this.props.index, image.id);\n    this.setState({image_id: image.id, image_url: image.url});\n  }\n\n  onImageRemove() {\n    this.props.onImageChange(this.props.index, null);\n    this.setState({image_id: null, image_url: null});\n  }\n\n  onFocalPointsChange(value) {\n    this.props.onFocalPointsChange(this.props.index, value);\n    this.setState({focal_points: value});\n  }\n\n  collapseSlide() {\n    this.setState({isHidden: true});\n  }\n\n  openSlide() {\n    this.setState({isHidden: false});\n  }\n\n  toggleSlide() {\n    this.setState({isHidden: !this.state.isHidden});\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div className={this.state.isHidden ? '' : 'carousel-header-slide-container'}>\n          <div onClick={ev => this.toggleSlide()} className='slide-number-row'>\n            <span>\n              {__('Slide', 'p4ge')} {this.props.index + 1}\n            </span>\n            <span className={this.state.isHidden ? 'slide-arrow' : 'slide-arrow slide-open'}>\n              <Dashicon icon=\"arrow-down-alt2\"/>\n            </span>\n          </div>\n\n          {!this.state.isHidden &&\n\n          <Fragment>\n            <div className='carousel-header-slide-options-wrapper'>\n              <div>{__('Select image and focal point', 'p4ge')}</div>\n              <CarouselHeaderImage\n                image_id={this.state.image_id}\n                image_url={this.state.image_url}\n                focal_points={this.state.focal_points}\n                onRemove={() => this.onImageRemove()}\n                onChange={(image) => this.onImageChange(image)}\n                onFocalPointsChange={(f) => this.onFocalPointsChange(f)}\n              />\n              <div className=\"ch-url-input-control__wrapper\">\n\n                <TextControl\n                  className=\"carouselh-header-input\"\n                  label={__('Header', 'p4ge')}\n                  placeholder={__('Enter header', 'p4ge')}\n                  value={this.props.header}\n                  onChange={(e) => this.props.onHeaderChange(this.props.index, e)}\n                />\n                <SelectControl\n                  label={__('Header text size', 'p4ge')}\n                  value={this.props.header_size}\n                  options={[\n                    {label: 'h1', value: 'h1'},\n                    {label: 'h2', value: 'h2'},\n                    {label: 'h3', value: 'h3'},\n                  ]}\n                  onChange={(e) => this.props.onHeaderSizeChange(this.props.index, e)}\n                />\n              </div>\n              {this.props.hasSubheader &&\n              <TextControl\n                label={__('Subheader', 'p4ge')}\n                placeholder={__('Enter subheader', 'p4ge')}\n                value={this.props.subheader}\n                onChange={(e) => this.props.onSubheaderChange(this.props.index, e)}\n              />\n              }\n              <TextareaControl\n                label={__('Description', 'p4ge')}\n                placeholder={__('Enter description of image', 'p4ge')}\n                value={this.props.description}\n                onChange={(e) => this.props.onDescriptionChange(this.props.index, e)}\n              />\n              <div className=\"ch-url-input-control__wrapper\">\n\n                <TextControl\n                  label={__('Link text and url', 'p4ge')}\n                  placeholder={__('Enter link text for image', 'p4ge')}\n                  value={this.props.link_text}\n                  onChange={(e) => this.props.onLinkTextChange(this.props.index, e)}\n                  className='carousel-header-link-text-input'\n                />\n                <form\n                  className=\"ch-url-input-control\"\n                  onSubmit={event => event.preventDefault()}>\n                  <div className=\"ch-url-input-control__wrapper\">\n                    <URLInput\n                      label={__('Url for link', 'p4ge')}\n                      className=\"ch-url-input-control__input\"\n                      value={this.props.link_url}\n                      onChange={(e) => this.props.onLinkUrlChange(this.props.index, e)}\n                      autoFocus={false}\n                    />\n                    <div className=\"ch-url-input-control__new-tab\">\n                      <ToggleControl\n                        help={__('New Tab', 'p4ge')}\n                        checked={this.props.link_url_new_tab}\n                        onChange={(e) => this.props.onLinkNewTabChange(this.props.index, e)}\n                      />\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </Fragment>\n          }\n        </div>\n      </Fragment>\n    );\n  };\n}\n","import {React, Component} from 'react';\n\nexport default class ImagePlaceholder extends Component {\n  render() {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 512 376\">\n      <path d=\"M0,0v376h512V0H0z M480,344H32V32h448V344z\"/>\n      <circle cx=\"409.1\" cy=\"102.9\" r=\"40.9\"/>\n      <polygon\n        points=\"480,344 32,344 118.3,179.8 140,191.1 189,113.8 289,226.9 297.9,217.6 315,239.9 341,193.5 393.9,264.7 409,248.8\"/>\n    </svg>\n  }\n}\n","import { React } from 'react';\nimport {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender,\n  Dashicon,\n  Tooltip,\n  ToggleControl, Button\n} from '@wordpress/components';\nimport {MediaPlaceholder, MediaUpload, MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Columns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {columns_title,columns_description,columns_block_style,columns,column_img,onDeleteImage} = this.props;\n\n      const getImageOrButton = (openEvent, index) => {\n        if ( columns[index] && columns[index]['attachment'] && ( 0 <  columns[index]['attachment'] ) ) {\n\n          return (\n\n            <div align='center'>\n              <div>{__('Column %s: Image', 'p4ge').replace('%s', index+1)}</div>\n              <div className=\"img-wrap\">\n                <Tooltip text={__('Remove Column Image', 'p4ge')}>\n                  <span className=\"close\" onClick={ev => {\n                    onDeleteImage(index);\n                    ev.stopPropagation()\n                  }}>&times;</span>\n                </Tooltip>\n              <img\n                src={ column_img[columns[index]['attachment']] }\n                onClick={ openEvent }\n                className='Columns__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n              </div>\n            </div>\n\n          );\n        }\n        else {\n\n          return (\n            <div className='column-img-btn-container'>\n              <div className='column-img-label'>{__('Column %s: Image', 'p4ge').replace('%s', index+1)}</div>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Column %s: Image', 'p4ge').replace('%s', index+1)}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <h3>{__('What style of column do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={columns_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('No Image', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-no_images.jpg',\n                  value: 'no_image',\n                  help: __('Optional headers, description text and buttons in a column display.', 'p4ge')\n                },\n                {\n                  label: __('Tasks', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-tasks.jpg',\n                  value: 'tasks',\n                  help: __('Used on Take Action pages, this display has ordered tasks, and call to action buttons.', 'p4ge')\n                },\n                {\n                  label: __('Icons', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-icons.jpg',\n                  value: 'icons',\n                  help: __('For more static content, this display has an icon, header, description and text link.', 'p4ge')\n                },\n                {\n                  label: __('Images', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-images.jpg',\n                  value: 'image',\n                  help: __('For more static content, this display has an image, header, description and text link.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter block title', 'p4ge')}\n              value={columns_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter block description', 'p4ge')}\n              value={columns_description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n          <div>\n\n            {columns.map((item, index) => {\n              return (\n                <div key={index}>\n                  <div><hr /></div>\n                  { !item.title && !item.description &&\n                   <div><b>{__('Please provide a header or a body for this column to be displayed.', 'p4ge')}</b></div>\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Header', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter header of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.title}\n                    onChange={this.props.onColumnHeaderChange.bind(this,index)}\n                  />\n                  <TextareaControl\n                    label={__('Column %s: Body', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter body of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.description}\n                    onChange={this.props.onColumnDescriptionChange.bind(this,index)}\n                  />\n\n                  { 'no_image' != columns_block_style &&\n                    <div className='components-base-control'>\n                      <MediaUploadCheck>\n                        <MediaUpload\n                          type='image'\n                          onSelect={this.props.onSelectImage.bind(this,index)}\n                          value={item.attachment}\n                          allowedTypes={columns_block_style === 'icons' ? ['image/png'] : ['image']}\n                          render={ ({ open }) => getImageOrButton(open, index) }\n                        />\n                      </MediaUploadCheck>\n                      { columns_block_style === 'icons' && item.attachment > 0 && typeof column_img[item.attachment] !== 'undefined' && !column_img[item.attachment].endsWith('.png') &&\n                       <div><b>{__('Please select another image for this column, as the current image is not an icon and you have chosen columns style icons. ', 'p4ge')}</b></div>\n                      }\n                    </div>\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Button/CtA Link', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_link}\n                    onChange={this.props.onCTALinkChange.bind(this,index)}\n                  />\n                  <ToggleControl\n                    label={__('Open link in new tab', 'p4ge')}\n                    help={__('Open Column %s: Button/CtA Link in a new tab', 'p4ge').replace('%s', index+1)}\n                    value={item.link_new_tab}\n                    checked={item.link_new_tab}\n                    onChange={this.props.onLinkNewTabChange.bind(this,index)}\n                  />\n                  <TextControl\n                    label={__('Column %s: Button/CtA Text', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter text of button/link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_text}\n                    onChange={this.props.onCTAButtonTextChange.bind(this,index)}\n                  />\n                </div>\n              );\n            })}\n\n            { columns.length < 4 && (\n              <Tooltip text={__('Add Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__addIcon\"\n                  }\n                  onClick={this.props.addColumn}\n                >\n                  {__('Add Column', 'p4ge')} <Dashicon icon={\"plus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n\n            { columns.length > 0 && (\n              <Tooltip text={__('Remove Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__removeIcon\"\n                  }\n                  onClick={this.props.removeColumn}\n                >\n                  {__('Remove Column', 'p4ge')} <Dashicon icon={\"minus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/columns'}\n                  attributes={{\n                    columns_block_style: this.props.columns_block_style,\n                    columns_title: this.props.columns_title,\n                    columns_description: this.props.columns_description,\n                    columns: this.props.columns,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Columns} from './Columns.js';\nimport {withSelect} from '@wordpress/data';\n\nconst {__} = wp.i18n;\n\nexport class ColumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/columns', {\n        title: __('Columns', 'p4ge'),\n        icon: \"grid-view\",\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_columns columns_block_style=\"image\" columns_title=\"Lorem Ipsum\" columns_description=\"Lorem Ipsum\"\n         *                    title_1=\"col1\" description_1=\"col1 body\" attachment_1=\"5096\" link_1=\"cta link1\" link_new_tab_1=\"true\" cta_text_1=\"cta text\"\n         *                    title_2=\"col2\" description_2=\"col2 body\" attachment_2=\"5186\" link_2=\"cta link2\" link_new_tab_2=\"true\" cta_text_2=\"cta text 2\" link_new_tab_3=\"false\" link_new_tab_4=\"false\" /]\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/columns {\"columns_block_style\":\"image\",\"columns_title\":\"Lorem Ipsum\",\"columns_description\":\"Lorem Ipsum\",\n         *      \"columns\":[{\"title\":\"col1\",\"description\":\"col1 body\",\"attachment\":5096,\"cta_link\":\"cta link1\",\"cta_text\":\"cta text 1\",\"link_new_tab\":true},{\"title\":\"col2\",\"description\":\"col2 body\",\"attachment\":5186,\"cta_link\":\"cta link2\",\"cta_text\":\"cta text 2\",\"link_new_tab\":true}]} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_columns',\n              attributes: {\n                columns_block_style: {\n                  type: 'string',\n                  shortcode: ({named: {columns_block_style = ''}}) => columns_block_style,\n                },\n                columns_title: {\n                  type: 'string',\n                  shortcode: ({named: {columns_title = ''}}) => columns_title,\n                },\n                columns_description: {\n                  type: 'string',\n                  shortcode: ({named: {columns_description = ''}}) => columns_description,\n                },\n                columns: {\n                  type: 'array',\n                  shortcode: function (attributes) {\n                    let columns = [];\n                    if (attributes.named.title_1) {\n                      let column = {\n                        title: attributes.named.title_1,\n                        description: attributes.named.description_1 || ''\n                      };\n                      if (attributes.named.columns_block_style !== 'no_image') {\n                        column.attachment = attributes.named.attachment_1 || false;\n                      }\n                      column.cta_link = attributes.named.link_1 || '';\n                      column.link_new_tab = attributes.named.link_new_tab_1 || false;\n                      column.cta_text = attributes.named.cta_text_1 || '';\n                      columns.push(Object.assign({}, column));\n\n                      if (attributes.named.title_2) {\n                        let column = {\n                          title: attributes.named.title_2,\n                          description: attributes.named.description_2 || ''\n                        };\n                        if (attributes.named.columns_block_style !== 'no_image') {\n                          column.attachment = attributes.named.attachment_2 || false;\n                        }\n                        column.cta_link = attributes.named.link_2 || '';\n                        column.link_new_tab = attributes.named.link_new_tab_2 || false;\n                        column.cta_text = attributes.named.cta_text_2 || '';\n                        columns.push(Object.assign({}, column));\n\n\n                        if (attributes.named.title_3) {\n                          let column = {\n                            title: attributes.named.title_3,\n                            description: attributes.named.description_3 || ''\n                          };\n                          if (attributes.named.columns_block_style !== 'no_image') {\n                            column.attachment = attributes.named.attachment_3 || false;\n                          }\n                          column.cta_link = attributes.named.link_3 || '';\n                          column.link_new_tab = attributes.named.link_new_tab_3 || false;\n                          column.cta_text = attributes.named.cta_text_3 || '';\n                          columns.push(Object.assign({}, column));\n\n                          if (attributes.named.title_4) {\n                            let column = {\n                              title: attributes.named.title_4,\n                              description: attributes.named.description_4 || ''\n                            };\n                            if (attributes.named.columns_block_style !== 'no_image') {\n                              column.attachment = attributes.named.attachment_4 || false;\n                            }\n                            column.cta_link = attributes.named.link_4 || '';\n                            column.link_new_tab = attributes.named.link_new_tab_4 || false;\n                            column.cta_text = attributes.named.cta_text_4 || '';\n                            columns.push(Object.assign({}, column));\n                          }\n                        }\n                      }\n                    }\n                    return columns;\n                  },\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          columns_block_style: {\n            type: 'string',\n          },\n          columns_title: {\n            type: 'string'\n          },\n          columns_description: {\n            type: 'string'\n          },\n          columns: {\n            type: \"array\",\n            default: [],\n            title:{\n              type: 'string'\n            },\n            description:{\n              type: 'string'\n            },\n            attachment:{\n              type: 'integer'\n            },\n            cta_link:{\n              type: 'string'\n            },\n            link_new_tab:{\n              type: 'string'\n            },\n            cta_text:{\n              type: 'string'\n            },\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { columns } = attributes;\n          let column_img = [];\n\n          if ( columns && 0 < columns.length ) {\n\n            for ( let column of columns ) {\n              if ( column['attachment'] && ( 0 < column['attachment'] ) ) {\n\n                let media_details = select('core').getMedia( column['attachment'] );\n                if (media_details) {\n                  column_img[column['attachment']] = select('core').getMedia( column['attachment'] ).source_url;\n                }\n              }\n            }\n          }\n\n          return { column_img };\n\n        } )( ( { isSelected, attributes, setAttributes, column_img} ) => {\n\n          function onTitleChange(value) {\n            setAttributes({columns_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({columns_description: value});\n          }\n\n          function onSelectImage(index, value) {\n            let {id}          = value;\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].attachment = id;\n            setAttributes({columns});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({columns_block_style: value});\n\n            if ( 'no_image' === value ) {\n              const {columns} = attributes;\n              if ( 0 < columns.length ) {\n                let new_columns = [...columns];\n                let i;\n                for ( i = 0; i < columns.length; i++ ) {\n                  new_columns[i]['attachment'] = 0;\n                }\n                setAttributes({columns: new_columns});\n              }\n            }\n          }\n\n          function addColumn() {\n            const {columns} = attributes;\n\n            if ( columns.length < 4 ) {\n              setAttributes({\n                columns: [...columns, {\n                  title:'',\n                  description:'',\n                  attachment:0,\n                  cta_link:'',\n                  cta_text:'',\n                  link_new_tab:'',\n                }]\n              });\n            }\n          }\n\n          function removeColumn() {\n            setAttributes({columns: attributes.columns.slice(0, -1) });\n          }\n\n          function onColumnHeaderChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].title = value;\n            setAttributes({columns});\n          }\n\n          function onColumnDescriptionChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].description = value;\n            setAttributes({columns});\n          }\n\n          function onCTALinkChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_link = value;\n            setAttributes({columns});\n          }\n\n          function onLinkNewTabChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].link_new_tab = value;\n            setAttributes({columns});\n          }\n\n          function onCTAButtonTextChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_text = value;\n            setAttributes({columns});\n          }\n\n          function onDeleteImage(index) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].attachment = 0;\n            setAttributes({columns});\n          }\n\n          return <Columns\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onSelectImage={onSelectImage}\n            addColumn={addColumn}\n            removeColumn={removeColumn}\n            onColumnHeaderChange={onColumnHeaderChange}\n            onColumnDescriptionChange={onColumnDescriptionChange}\n            onCTALinkChange={onCTALinkChange}\n            onLinkNewTabChange={onLinkNewTabChange}\n            onCTAButtonTextChange={onCTAButtonTextChange}\n            column_img={column_img}\n            onDeleteImage={onDeleteImage}\n          />\n        } ),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\nexport class Cookies extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Cookies options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display opt-in options for cookies',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={this.props.title}\n              onChange={this.props.onTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"Necessary Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.necessary_cookies_name}\n              onChange={this.props.onNecessaryCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Necessary Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.necessary_cookies_description}\n              onChange={this.props.onNecessaryCookiesDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"All Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.all_cookies_name}\n              onChange={this.props.onAllCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"All Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.all_cookies_description}\n              onChange={this.props.onAllCookiesDescriptionChange}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/cookies'}\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              necessary_cookies_name: this.props.necessary_cookies_name,\n              necessary_cookies_description: this.props.necessary_cookies_description,\n              all_cookies_name: this.props.all_cookies_name,\n              all_cookies_description: this.props.all_cookies_description,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Cookies} from './Cookies.js';\n\nexport class CookiesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/cookies', {\n      title: 'Cookies',\n      icon: 'welcome-view-site',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_cookies',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              necessary_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_name;\n                }\n              },\n              necessary_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_description;\n                }\n              },\n              all_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_name;\n                }\n              },\n              all_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_description;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        necessary_cookies_name: {\n          type: 'string',\n        },\n        necessary_cookies_description: {\n          type: 'string',\n        },\n        all_cookies_name: {\n          type: 'string',\n        },\n        all_cookies_description: {\n          type: 'string',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onNecessaryCookiesNameChange(value) {\n          setAttributes({necessary_cookies_name: value});\n        }\n\n        function onNecessaryCookiesDescriptionChange(value) {\n          setAttributes({necessary_cookies_description: value});\n        }\n\n        function onAllCookiesNameChange(value) {\n          setAttributes({all_cookies_name: value});\n        }\n\n        function onAllCookiesDescriptionChange(value) {\n          setAttributes({all_cookies_description: value});\n        }\n\n        return <Cookies\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onNecessaryCookiesNameChange={onNecessaryCookiesNameChange}\n          onNecessaryCookiesDescriptionChange={onNecessaryCookiesDescriptionChange}\n          onAllCookiesNameChange={onAllCookiesNameChange}\n          onAllCookiesDescriptionChange={onAllCookiesDescriptionChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import { React, Component } from 'react';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nexport class Counter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const { __ } = wp.i18n;\n\n    return (\n      <div>\n        <h3>{ __('What style of counter do you need?', 'p4ge') }</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={ this.props.style }\n            onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n            options={[\n              {\n                label: __('Text Only', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_text.png',\n                value: 'plain',\n                help: __('Text to describe your progress', 'p4ge')\n              },\n              {\n                label: __('Progress Bar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'bar',\n                help: __('A bar to visualise the progress.', 'p4ge'),\n              },\n              {\n                label: __('Progress Dial', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_arc.png',\n                value: 'arc',\n                help: __('A dial to visualise the progress.', 'p4ge')\n              },\n              {\n                label: __('Progress bar inside EN Form', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'en-forms-bar',\n                help: __('A bar inside an En Form. Select this only if you are adding an EN Form to the same page.', 'p4ge')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Title', 'p4ge') }\n            placeholder= { __('Enter title', 'p4ge') }\n            value={ this.props.title }\n            onChange={ this.props.onTitleChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Description', 'p4ge') }\n            placeholder= { __('Enter description', 'p4ge') }\n            value={ this.props.description }\n            onChange={ this.props.onDescriptionChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed', 'p4ge') }\n            placeholder= { __('e.g. number of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.completed }\n            onChange={ this.props.onCompletedChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed API URL', 'p4ge') }\n            placeholder= { __('API URL of completed number. If filled in will overide the \\'Completed\\' field', 'p4ge') }\n            value={ this.props.completed_api }\n            onChange={ this.props.onCompletedAPIChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Target', 'p4ge') }\n            placeholder= { __('e.g. target no. of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.target }\n            onChange={ this.props.onTargetChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Text', 'p4ge') }\n            placeholder= { __('e.g. \"signatures collected of %target%\"', 'p4ge') }\n            value={ this.props.text }\n            onChange={ this.props.onTextChange }\n          />\n          <p className='FieldHelp'>These placeholders can be used: <code>%completed%</code>, <code>%target%</code>, <code>%remaining%</code> </p>\n        </div>\n\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={ this.props.isSelected }>\n          <ServerSideRender\n            block={ 'planet4-blocks/counter' }\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              style: this.props.style,\n              completed: this.props.completed,\n              completed_api: this.props.completed_api,\n              target: this.props.target,\n              text: this.props.text,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n};","import { Counter } from './Counter.js';\n\nexport class CounterBlock {\n  constructor() {\n    const { registerBlockType } = wp.blocks;\n    const { withSelect } = wp.data;\n\n    registerBlockType( 'planet4-blocks/counter', {\n      title: 'Counter',\n      icon: 'dashboard',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_counter',\n            attributes: {\n              style: {\n                type: 'string',\n                shortcode: ( { named: { style = 'plain' } } ) => style,\n              },\n              title: {\n                type: 'string',\n                shortcode: ( { named: { title = '' } } ) => title,\n              },\n              description: {\n                type: 'string',\n                shortcode: ( { named: { description = '' } } ) => description,\n              },\n              completed: {\n                type: 'integer',\n                shortcode: ( { named: { completed = 0 } } ) => Number(completed),\n              },\n              completed_api: {\n                type: 'string',\n                shortcode: ( { named: { completed_api = '' } } ) => completed_api === '' ? null : completed_api,\n              },\n              target: {\n                type: 'integer',\n                shortcode: ( { named: { target = 0 } } ) => Number(target),\n              },\n              text: {\n                type: 'string',\n                shortcode: ( { named: { text = '' } } ) => text,\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        style: {\n          type: 'string',\n          default: 'plain'\n        },\n        completed: {\n          type: 'integer',\n        },\n        completed_api: {\n          type: 'string',\n        },\n        target: {\n          type: 'integer',\n        },\n        text: {\n          type: 'string',\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange( value ) {\n          setAttributes( { title: value } );\n        }\n\n        function onDescriptionChange( value ) {\n          setAttributes( { description: value } );\n        }\n\n        function onSelectedLayoutChange( value ) {\n          setAttributes( { style: value } );\n        }\n\n        function onCompletedChange( value ) {\n          setAttributes( { completed: Number(value) } );\n        }\n\n        function onCompletedAPIChange( value ) {\n          setAttributes( { completed_api: value } );\n        }\n\n        function onTargetChange( value ) {\n          setAttributes( { target: Number(value) } );\n        }\n\n        function onTextChange( value ) {\n          setAttributes( { text: value } );\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Counter\n          { ...attributes }\n          isSelected={ isSelected }\n          onTitleChange={ onTitleChange }\n          onDescriptionChange={ onDescriptionChange }\n          onSelectedLayoutChange={ onSelectedLayoutChange }\n          onCompletedChange={ onCompletedChange }\n          onCompletedAPIChange={ onCompletedAPIChange }\n          onTargetChange={ onTargetChange }\n          onTextChange={ onTextChange }   />\n      },\n      save() {\n        return null;\n      }\n    } );\n  };\n}\n\n","import React, { Component } from 'react';\n\nimport {\n  FormTokenField,\n  SelectControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\n\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Covers extends Component {\n    constructor(props) {\n      super(props);\n\n      // Populate tag tokens for saved tags.\n      let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n      // Populate post types tokens for saved post types.\n      let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n      // Populate component state with block's saved tags tokens and post type tokens\n      this.state = {\n        tagTokens: tagTokens,\n        postTypeTokens: postTypeTokens,\n        selectedPosts: [],\n      };\n\n      this.populatePostsToken();\n      this.searchTimeout = null;\n    }\n\n    static getDerivedStateFromProps(props, state) {\n\n      // Post types should be available for cover_type 3\n      // If cover_type is not 3, reset post types tokens.\n      if ('1' === props.cover_type || '2' === props.cover_type) {\n        state.postTypeTokens= [];\n      }\n\n      // If posts attribute was reset, reset also the posts tokens.\n      if (0 === props.posts.length) {\n        state.postsTokens= [];\n      }\n      return state;\n    }\n\n\n    /**\n     * Set component's state for existing blocks.\n     */\n    populatePostsToken() {\n\n      if (this.props.posts.length > 0) {\n\n        let post_type = this.props.cover_type === '1' ? 'pages' : 'posts';\n        apiFetch(\n          {\n            path: addQueryArgs('/wp/v2/'+ post_type, {\n              per_page: 50,\n              page: 1,\n              include: this.props.posts\n            })\n          }\n        ).then(posts => {\n          const postsTokens = posts.map(post => post.title.rendered);\n          const postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({\n              postsTokens: postsTokens,\n              postsList: posts,\n              postsSuggestions: postsSuggestions,\n              selectedPosts: posts,\n            }\n          );\n        });\n      } else {\n        this.setState(\n          {\n            postsTokens: [],\n            postsList: [],\n            postsSuggestions: [],\n            selectedPosts: [],\n          }\n        );\n      }\n    }\n\n    /**\n     * Search posts using wp api.\n     *\n     * @param tokens\n     */\n    searchPosts(tokens) {\n\n      let queryArgs;\n      if ('1' === this.props.cover_type) {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/pages', {\n            per_page: -1,\n            post_type: 'page',\n            post_parent: window.p4ge_vars.planet4_options.act_page,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      } else {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      }\n\n\n      apiFetch(queryArgs)\n        .then(posts => {\n          let postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n        });\n    }\n\n    onPostsSearch(token) {\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(function () {\n        this.searchPosts(token);\n      }.bind(this), 500);\n    }\n\n    onSelectedTagsChange(tokens) {\n      const tagIds = tokens.map( token => {\n        return this.props.tagsList.filter( tag => tag.name === token )[0].id;\n      });\n      this.props.onSelectedTagsChange(tagIds);\n      this.setState({ tagTokens: tokens })\n    }\n\n    onSelectedPostTypesChange(tokens) {\n      const postTypeIds = tokens.map( token => {\n        return this.props.postTypesList.filter( postType => postType.name === token )[0].id;\n      });\n      this.props.onSelectedPostTypesChange(postTypeIds);\n      this.setState({ postTypeTokens: tokens })\n    }\n\n    onSelectedPostsChange(tokens) {\n      // Array to hold references to selected posts objects.\n      let currentSelectedPosts = [];\n      tokens.forEach(token => {\n        let f = this.state.postsList.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n        f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n      });\n\n      const postIds = currentSelectedPosts.map(post => post.id);\n      this.props.onSelectedPostsChange(postIds);\n      this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n    }\n\n    renderEdit() {\n      const { __ } = wp.i18n;\n\n      const tagSuggestions = this.props.tagsList.map( tag => tag.name );\n      const postTypeSuggestions = this.props.postTypesList.map( postType => postType.name );\n\n      return (\n        <div>\n          <h3>{ __('What style of cover do you need?', 'p4ge') }</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={ this.props.cover_type }\n              onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n              options={[\n                {\n                  label: __('Take Action Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/take_action_covers.png',\n                  value: '1',\n                  help: __('Take action covers pull the featured image, tags, have a 25 character excerpt and have a call to action button')\n                },\n                {\n                  label: __('Campaign Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/campaign_covers.png',\n                  value: '2',\n                  help: __('Campaign covers pull the associated image and hashtag from the system tag definitions.'),\n                },\n                {\n                  label: __('Content Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/content_covers.png',\n                  value: '3',\n                  help: __('Content covers pull the image from the post.')\n                },\n              ]}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label=\"Rows to display\"\n              value={ this.props.covers_view }\n              options={ [\n                { label: '1 Row', value: '1' },\n                { label: '2 Rows', value: '2' },\n                { label: 'All rows', value: '3' },\n              ] }\n              onChange={ this.props.onRowsChange }\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={ this.props.title }\n              onChange={ this.props.onTitleChange }\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={ this.props.description }\n              onChange={ this.props.onDescriptionChange }\n            />\n          </div>\n\n          {\n            this.props.posts !== 'undefined' && this.props.posts.length === 0\n              ?\n              <div>\n\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label='Select Tags'\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                  placeholder=\"Select Tags\"\n                />\n                <p class='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              : null\n          }\n\n          {\n            this.props.cover_type === '3' && this.props.posts.length === 0\n              ? <FormTokenField\n                value={this.state.postTypeTokens}\n                suggestions={postTypeSuggestions}\n                label='Post Types'\n                onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                placeholder=\"Select Tags\"\n              />\n              : null\n          }\n\n          {\n            (this.props.cover_type === '1' || this.props.cover_type === '3') &&\n            (this.props.tags.length === 0 && this.props.post_types.length === 0)\n              ? <div>\n                <label>Manual override</label>\n                <FormTokenField\n                  value={this.state.postsTokens}\n                  suggestions={this.state.postsSuggestions}\n                  label='CAUTION: Adding covers manually will override the automatic functionality.'\n                  onChange={tokens => this.onSelectedPostsChange(tokens)}\n                  onInputChange={token => this.onPostsSearch(token)}\n                  placeholder=\"Select Tags\"\n                />\n              </div>\n              : null\n          }\n\n        </div>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={ this.props.isSelected }>\n                <ServerSideRender\n                  block={ 'planet4-blocks/covers' }\n                  attributes={{\n                    cover_type: this.props.cover_type,\n                    covers_view: this.props.covers_view,\n                    tags: this.props.tags,\n                    post_types: this.props.post_types,\n                    posts: this.props.posts,\n                    title: this.props.title,\n                    description: this.props.description,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n};\n","import { CoversIcon } from './CoversIcon.js';\nimport { Covers } from './Covers.js';\n\nexport class CoversBlock {\n    constructor() {\n      const { registerBlockType } = wp.blocks;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/covers', {\n        title: 'Covers',\n        icon: 'slides',\n        category: 'planet4-blocks',\n\n        // Transform the shortcode into a Gutenberg block\n        // this is used when a user clicks \"Convert to blocks\"\n        // on the \"Classic Editor\" block\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_newcovers',\n              attributes: {\n                cover_type: {\n                  type: 'string',\n                  // This `shortcode` definition will be used as a callback,\n                  // it is a function which expects an object with at least\n                  // a `named` key with `cover_type` property whose default value is 1.\n                  // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n                  shortcode: ({named: {cover_type = '1'}}) => cover_type,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                covers_view: {\n                  type: 'string',\n                  shortcode: ({named: {covers_view}}) => {\n                    switch (covers_view) {\n                      case '0':\n                        return '1';\n                      case '3':\n                        return '2';\n                      case '1':\n                        return '3';\n                    }\n                    return '1';\n                  },\n                },\n                tags: {\n                  type: 'array',\n                  shortcode: ({named: {tags = ''}}) => tags.split(',').map(tag => Number(tag)).filter(tag => tag > 0),\n                },\n                post_types: {\n                  type: 'array',\n                  shortcode: ({named: {post_types = ''}}) => post_types.split(',').map(post_type => Number(post_type)).filter(post_type => post_type > 0),\n                },\n                posts: {\n                  type: 'array',\n                  shortcode: ({named: {posts = ''}}) => posts.split(',').map(post => Number(post)).filter(post => post > 0),\n                },\n              },\n            },\n          ]\n        },\n        // This attributes definition mimics the one in the PHP side.\n        attributes: {\n          title: {\n            type: 'string',\n          },\n          description: {\n            type: 'string',\n          },\n          tags: {\n            type: 'array',\n            default: []\n          },\n          posts: {\n            type: 'array',\n            default: []\n          },\n          post_types: {\n            type: 'array',\n            default: []\n          },\n          covers_view: {\n            type: 'string',\n            default: '1'\n          },\n          cover_type: {\n            type: 'string',\n          }\n        },\n        // withSelect is a \"Higher Order Component\", it works as\n        // a Decorator, it will provide some basic API functionality\n        // through `select`.\n        edit: withSelect( ( select ) => {\n          const tagsTaxonomy = 'post_tag';\n          const postTypesTaxonomy = 'p4-page-type';\n          const args = {\n            hide_empty: false,\n            per_page: -1,\n          };\n\n          const { getEntityRecords } = select( 'core' );\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords( 'taxonomy', tagsTaxonomy, args );\n          const postTypesList = getEntityRecords( 'taxonomy', postTypesTaxonomy );\n\n          return {\n            postTypesList,\n            tagsList,\n          };\n        } )( ( {\n          postTypesList,\n          tagsList,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n            if ( !tagsList || !postTypesList ) {\n                return \"Populating block's fields...\";\n            }\n\n            // TO-DO: Check for posts types and posts too...\n            if ( !tagsList && !tagsList.length === 0 ) {\n                return \"No tags...\";\n            }\n\n            // These methods are passed down to the\n            // Covers component, they update the corresponding attribute.\n\n            function onRowsChange( value ) {\n              setAttributes( { covers_view: value } );\n            }\n\n            function onTitleChange( value ) {\n              setAttributes( { title: value } );\n            }\n\n            function onDescriptionChange( value ) {\n              setAttributes( { description: value } );\n            }\n\n            function onSelectedTagsChange( tagIds ) {\n              setAttributes( { tags: tagIds } );\n            }\n\n            function onSelectedPostsChange(value) {\n              setAttributes({posts: value});\n            }\n\n            function onSelectedPostTypesChange( postTypeIds ) {\n              setAttributes( { post_types: postTypeIds } );\n            }\n\n            function onSelectedLayoutChange( value ) {\n\n              // Post types are available only on cover_type 3, so we reset the post_types attribute in the other 2 cases.\n              if ( '1' === value) {\n                setAttributes( { post_types: [] } );\n              }\n              if ( '2' === value) {\n                setAttributes( { post_types: []} );\n              }\n              // Reset posts attribute when changing layout also.\n              setAttributes({cover_type: value, posts: []});\n            }\n\n            // We pass down all the attributes to Covers as props using\n            // the spread operator. Then we selectively add more\n            // props.\n            return <Covers\n              { ...attributes }\n              isSelected={ isSelected }\n              tagsList={ tagsList }\n              postTypesList={ postTypesList }\n              onSelectedTagsChange={ onSelectedTagsChange }\n              onSelectedLayoutChange={ onSelectedLayoutChange }\n              onTitleChange={ onTitleChange }\n              onDescriptionChange={ onDescriptionChange }\n              onSelectedPostsChange={ onSelectedPostsChange }\n              onSelectedPostTypesChange={ onSelectedPostTypesChange }\n              onRowsChange={ onRowsChange } />\n        } ),\n        save() {\n          return null;\n        }\n      } );\n    };\n}\n\n","import { React, Component } from 'react';\n\nexport class CoversIcon extends Component {\n\trender() {\n\t\treturn <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 66 82.5\" enable-background=\"new 0 0 66 66\"><g><g><path d=\"M8.193,37.334l23.804-10.512v-8.007L6.099,30.093c-0.24,0.11-0.44,0.31-0.53,0.56c-0.1,0.24-0.09,0.52,0.01,0.76    L8.193,37.334z\"/><path d=\"M8.999,39.163l4.9,11.08c4.55-1.49,7.1,2.61,8.76,3.78c1.51-1.01,4.47-5.71,9.34-3.55v-21.47L8.999,39.163z     M21.059,42.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49    C21.779,42.033,21.559,42.623,21.059,42.853z M27.059,39.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33    l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49C27.779,39.033,27.559,39.623,27.059,39.853z\"/><path d=\"M33.998,26.816l24.005,10.392l2.416-5.816c0.21-0.5-0.02-1.08-0.52-1.3L33.998,18.813V26.816z\"/><path d=\"M33.999,28.993v22.77c0.95,0.8,2.02,2.26,2.44,2.26c1.97-1.66,3.56-4.08,6.88-4.08c4.21,0,6.03,4.07,6.9,4.07    c0.1-0.087,0.722-0.298,1.25-1.09l5.77-13.87L33.999,28.993z M41.269,39.823c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46    c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.83-0.72,1.33-0.49l1,0.46C41.279,38.733,41.499,39.323,41.269,39.823z M47.269,42.823    c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.82-0.72,1.33-0.49l1,0.46    C47.279,41.733,47.499,42.323,47.269,42.823z\"/></g><g><path d=\"M37.999,2.983v5.63h-10v-5.63c0-1.1,0.9-2,2-2h6C37.099,0.983,37.999,1.883,37.999,2.983z\"/></g><path d=\"M48.319,13.823c-0.38-1.86-2.03-3.21-3.93-3.21h-22.78c-1.9,0-3.55,1.35-3.92,3.21l-1.98,9.91   c5.27-2.31,11.32-4.94,17.29-7.54c1.02,0.45,9.84,4.29,17.29,7.54L48.319,13.823z M24.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1   h2c0.55,0,1,0.45,1,1S25.549,17.233,24.999,17.233z M42.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1h2c0.55,0,1,0.45,1,1   S43.549,17.233,42.999,17.233z\"/><path d=\"M64,62.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1C65,63.43,64.552,62.982,64,62.982z\"/><path d=\"M64,55.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1S64.552,55.982,64,55.982z\"/></g></svg>\n\t}\n}\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  Toolbar,\n  IconButton,\n  Button\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Gallery extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const getImageOrButton = (openEvent) => {\n        if ( 0 < this.props.image_data.length ) {\n\n          return (\n\n            this.props.image_data.map((item, index) => {\n              return (\n                <span>\n                  <img\n                    src={ item.url }\n                    onClick={ openEvent }\n                    className=\"gallery__imgs\"\n                    key={index}\n                    width='150 px'\n                    style={{padding: '10px 10px'}}\n                  />\n                </span>\n              );\n            })\n\n          );\n        }\n        else {\n          return (\n            <div className=\"button-container\">\n              <Button\n                onClick={ openEvent }\n                className=\"button\">\n                + {__('Select Gallery Images', 'p4ge')}\n              </Button>\n\n              <div>{__('Select images in the order you want them to appear.', 'p4ge')}</div>\n            </div>\n          );\n        }\n      };\n\n      const {__} = wp.i18n;\n\n      const {gallery_block_style , gallery_block_title , gallery_block_description , multiple_image , image_data} = this.props;\n\n      const dimensions = {width: 400, height: 100};\n\n      let multiple_image_array = multiple_image ? multiple_image.split(',') : [];\n\n      return (\n        <Fragment>\n          <BlockControls>\n            { 0 < image_data.length && (\n              <Toolbar>\n                { 0 < multiple_image_array.length && (\n                  <MediaUploadCheck>\n                    <MediaUpload\n                      onSelect={this.props.onSelectImage}\n                      allowedTypes={[\"image\"]}\n                      value={multiple_image_array}\n                      type=\"image\"\n                      multiple=\"true\"\n                      render={({ open }) => {\n                        return (\n                          <IconButton\n                            className=\"components-icon-button components-toolbar__control\"\n                            label={__(\n                              \"Edit Images\",\n                              \"mytheme-blocks\"\n                            )}\n                            onClick={open}\n                            icon=\"edit\"\n                          />\n                        );\n                      }}\n                    />\n                  </MediaUploadCheck>\n                )}\n                <IconButton\n                  className=\"components-icon-button components-toolbar__control\"\n                  label={__(\"Remove Images\", \"mytheme-blocks\")}\n                  onClick={this.props.onRemoveImages}\n                  icon=\"trash\"\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          <h3>{__('What style of gallery do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={gallery_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('Slider', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-slider.jpg',\n                  value: 1,\n                  help: __('The slider is a carousel of images. For more than 5 images, consider using a grid.', 'p4ge')\n                },\n                {\n                  label: __('3 Column', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-3-column.jpg',\n                  value: 2,\n                  help: __('The 3 column image display is great for accentuating text, and telling a visual story.', 'p4ge')\n                },\n                {\n                  label: __('Grid', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-grid.jpg',\n                  value: 3,\n                  help: __('The grid shows thumbnails of lots of images. Good to use when showing lots of activity.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={gallery_block_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('Please Enter Description', 'p4ge')}\n              value={gallery_block_description}\n              onChange={this.props.onDescriptionChange}\n            />\n\n            {__('Select Gallery Images', 'p4ge')}\n            <div>\n              <MediaUploadCheck>\n                <MediaUpload\n                  title={__('Select Gallery Images', 'p4ge')}\n                  type=\"image\"\n                  onSelect={this.props.onSelectImage}\n                  value={multiple_image_array}\n                  allowedTypes={[\"image\"]}\n                  multiple=\"true\"\n                  render={ ({ open }) => getImageOrButton(open) }\n                />\n              </MediaUploadCheck>\n            </div>\n\n            {image_data &&\n            <div\n              className={\n                \"wp-block-master-theme-gallery__FocalPointPicker\"\n              }\n            >\n              <ul>\n                {image_data.map((item, index) => {\n                  return (\n                    <li\n                      key={index}\n                    >\n                      {__('Select gallery image focal point', 'p4ge')}\n                      <FocalPointPicker\n                        url={item.url}\n                        dimensions={dimensions}\n                        value={item.focalPoint}\n                        onChange={this.props.onFocalPointChange.bind(this,item.id)}\n                        key={item.id}\n                      />\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n            }\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/gallery'}\n                  attributes={{\n                    gallery_block_style: this.props.gallery_block_style,\n                    gallery_block_title: this.props.gallery_block_title,\n                    gallery_block_description: this.props.gallery_block_description,\n                    multiple_image: this.props.multiple_image,\n                    gallery_block_focus_points: this.props.gallery_block_focus_points,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Gallery} from './Gallery';\n\nconst {__} = wp.i18n;\n\nexport class GalleryBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/gallery', {\n        title: __('Gallery', 'p4ge'),\n        icon: 'format-gallery',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_gallery gallery_block_style=\"2\" gallery_block_title=\"test title\"\n         *                    gallery_block_description=\"test desc\" multiple_image=\"23603,23602,23600,23596\"\n         *                    gallery_block_focus_points=\"{'23596':'left top','23597':'left top','23599':'left top'}\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/gallery {\"gallery_block_style\":3,\"gallery_block_title\":\"test title\",\"gallery_block_description\":\"test desc\",\n         *      \"multiple_image\":\"23603,23602,23600,23596\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_gallery',\n              attributes: {\n                gallery_block_style: {\n                  type: 'integer',\n                  shortcode: ({named: {gallery_block_style = ''}}) => Number(gallery_block_style),\n                },\n                gallery_block_title: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_title = ''}}) => gallery_block_title,\n                },\n                gallery_block_description: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_description = ''}}) => gallery_block_description,\n                },\n                multiple_image: {\n                  type: 'string',\n                  shortcode: ({named: {multiple_image = ''}}) => multiple_image,\n                },\n                gallery_block_focus_points: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_focus_points = ''}}) => gallery_block_focus_points,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          gallery_block_style: {\n            type: 'number',\n            default: 1\n          },\n          gallery_block_title: {\n            type: 'string',\n          },\n          gallery_block_description: {\n            type: 'string',\n          },\n          multiple_image: {\n            type: 'string',\n          },\n          gallery_block_focus_points: {\n            type: 'string',\n          },\n          image_data: {\n            type: 'object',\n            default: []\n          },\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { multiple_image } = attributes;\n\n          let image_urls_array = [];\n\n          if ( multiple_image ) {\n            let image_id_array = multiple_image.split(',');\n\n            $.each(image_id_array, function( index, img_id ) {\n              let img_url = select('core').getMedia(img_id);\n              if ( img_url ) {\n                image_urls_array[img_id] = img_url.media_details.sizes.medium.source_url;\n              }\n            });\n          }\n\n          return {\n            image_urls_array\n          };\n        } )( ( {\n          image_urls_array,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          let {image_data,gallery_block_focus_points} = attributes;\n\n          // Prepare image_data array on edit gallery block.\n          if (0 == image_data.length && 0 < image_urls_array.length) {\n            let new_image_data = [];\n            let focal_points_json = gallery_block_focus_points ? JSON.parse(gallery_block_focus_points):{};\n\n            for (const img_id in image_urls_array) {\n\n              let x,y;\n              if ($.isEmptyObject(focal_points_json)) {\n                [x,y] = [50,50];\n              } else {\n                [x,y] = focal_points_json[img_id].replace(/\\%/g, '').split(' ');\n              }\n\n              new_image_data.push({\n                url: image_urls_array[img_id],\n                focalPoint: {\n                  x:parseInt(x)/100,\n                  y:parseInt(y)/100\n                },\n                id: img_id\n              });\n            }\n\n            setAttributes({image_data: new_image_data});\n          }\n\n          function onTitleChange( value ) {\n            setAttributes({gallery_block_title: value});\n          }\n\n          function onDescriptionChange( value ) {\n            setAttributes({gallery_block_description: value });\n          }\n\n          function onSelectImage(value) {\n            let image_ids = [];\n            let image_data = [];\n            for (const key in value) {\n              image_ids.push(value[key].id);\n              let img_id = value[key].id;\n              image_data.push({url: value[key].url, focalPoint: {x:0.5, y:0.5}, id: img_id});\n            }\n            setAttributes({multiple_image: image_ids.join(',')});\n            setAttributes({image_data: image_data});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({gallery_block_style: Number(value)});\n          }\n\n          function onFocalPointChange( image_id, value ) {\n\n            let updated_image_data = [];\n            let gallery_block_focus_points = {};\n\n            image_data.map(function(object){\n              if (object.id === image_id) {\n                let x = parseFloat(value.x).toFixed(2);\n                let y = parseFloat(value.y).toFixed(2);\n\n                updated_image_data.push({url: object.url, focalPoint: {x,y}, id: image_id});\n                gallery_block_focus_points[image_id] = (x*100)+'% '+(y*100)+'%';\n\n              } else {\n                updated_image_data.push(object);\n                let img_id = object.id;\n                gallery_block_focus_points[img_id] = parseInt(object.focalPoint.x*100)+'% '+parseInt(object.focalPoint.y*100)+'%';\n              }\n            });\n\n            setAttributes({gallery_block_focus_points: JSON.stringify(gallery_block_focus_points)});\n            setAttributes({image_data: updated_image_data});\n          }\n\n          function onRemoveImages() {\n            setAttributes({multiple_image: ''});\n            setAttributes({gallery_block_focus_points: ''});\n            setAttributes({image_data: []});\n          }\n\n          return <Gallery\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onSelectImage={onSelectImage}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {Component,Fragment} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\n\nimport {\n  MediaPlaceholder,\n  InspectorControls,\n  BlockControls,\n  MediaUpload,\n  MediaUploadCheck\n} from '@wordpress/editor';\n\nimport {\n  TextControl,\n  ServerSideRender,\n  FocalPointPicker,\n  ToggleControl,\n  RangeControl,\n  PanelBody,\n  Button,\n  Toolbar,\n  IconButton\n} from '@wordpress/components';\n\nexport class Happypoint extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const dimensions = {width: 400, height: 100};\n\n      const {focus_image, opacity, mailing_list_iframe, iframe_url, url, id} = this.props;\n\n      let focal_point_params = {x:'',y:''};\n\n      if (focus_image) {\n        let focus_image_str = focus_image.replace(/%/g, '');\n        let [x, y] = focus_image_str.split(' ');\n        focal_point_params = {x: x/100,y: y/100};\n      } else {\n        focal_point_params = {x:0.5, y:0.5};\n      }\n\n      const getImageOrButton = (openEvent) => {\n        if ( this.props.id && ( 0 < this.props.id ) ) {\n\n          return (\n\n            <div align='center'>\n              <img\n                src={ this.props.url }\n                onClick={ openEvent }\n                className='happypoint__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n            </div>\n\n          );\n        }\n        else {\n          return (\n            <div className='button-container'>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Background Image', 'p4ge')}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <InspectorControls>\n            <PanelBody title={__('Setting', 'p4ge')}>\n              <RangeControl\n                label={__('Opacity', 'p4ge')}\n                value={opacity}\n                onChange={this.props.onOpacityChange}\n                min={1}\n                max={100}\n                initialPosition={opacity}\n                help={__('We use an overlay to fade the image back. Use a number between 1 and 100, the higher the number, the more faded the image will look. If you leave this empty, the default of 30 will be used.', 'p4ge')}\n              />\n              <ToggleControl\n                label={__('Use mailing list iframe', 'p4ge')}\n                help={__('Use mailing list iframe', 'p4ge')}\n                value={mailing_list_iframe}\n                checked={this.props.mailing_list_iframe}\n                onChange={this.props.onMailingListIframeChange}\n              />\n              <TextControl\n                label={__('Iframe url', 'p4ge')}\n                placeholder={__('Enter Iframe url', 'p4ge')}\n                help={__('If a url is set in this field and the \\'mailing list iframe\\' option is enabled, it will override the planet4 engaging network setting.', 'p4ge')}\n                value={iframe_url}\n                onChange={this.props.onIframeUrlChange}\n              />\n            </PanelBody>\n          </InspectorControls>\n          <BlockControls>\n            { this.props.id && ( 0 < this.props.id ) && (\n              <Toolbar>\n                <MediaUploadCheck>\n                  <MediaUpload\n                    onSelect={this.props.onSelectImage}\n                    allowedTypes={['image']}\n                    value={id}\n                    type='image'\n                    render={({ open }) => {\n                      return (\n                        <IconButton\n                          className='components-icon-button components-toolbar__control'\n                          label={__('Edit Image', 'p4ge')}\n                          onClick={open}\n                          icon='edit'\n                        />\n                      );\n                    }}\n                  />\n                </MediaUploadCheck>\n                <IconButton\n                  className='components-icon-button components-toolbar__control'\n                  label={__('Remove Image', 'p4ge')}\n                  onClick={this.props.onRemoveImages}\n                  icon='trash'\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          {__('Select Background Image', 'p4ge')}\n          <div>\n            <MediaUploadCheck>\n              <MediaUpload\n                title={__('Select Background Image', 'p4ge')}\n                type='image'\n                onSelect={this.props.onSelectImage}\n                value={id}\n                allowedTypes={['image']}\n                render={ ({ open }) => getImageOrButton(open) }\n              />\n            </MediaUploadCheck>\n          </div>\n          {id && 0 < id &&\n            <div>\n              {__('Select focus point for background image', 'p4ge')}\n              <FocalPointPicker\n                url={url}\n                dimensions={dimensions}\n                value={focal_point_params}\n                onChange={this.props.onFocalPointChange}\n              />\n            </div>\n          }\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/happypoint'}\n                  attributes={{\n                    id: this.props.id,\n                    focus_image: this.props.focus_image,\n                    opacity: this.props.opacity,\n                    mailing_list_iframe: this.props.mailing_list_iframe,\n                    iframe_url: this.props.iframe_url,\n                    load_iframe: true,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Happypoint} from './Happypoint';\n\nexport class HappypointBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/happypoint', {\n        title: __('Happypoint', 'p4ge'),\n        icon: 'format-image',\n        category: 'planet4-blocks',\n\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_happy_point background=\"4968\" focus_image=\"center center\" opacity=\"60\" mailing_list_iframe=\"true\" iframe_url=\"https%3A%2F%2Fact.greenpeace.org%2Fpage%2F34215%2Fsubscribe%2F1\" /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/happypoint {\"focus_image\":\"50% 50%\",\"opacity\":60,\"mailing_list_iframe\":true,\"iframe_url\":\"https://act.greenpeace.org/page/34215/subscribe/1\",\"id\":4968} /-->\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_happy_point',\n              attributes: {\n                opacity: {\n                  type: 'integer',\n                  shortcode: ({named: {opacity = ''}}) => opacity,\n                },\n                id: {\n                  type: 'integer',\n                  shortcode: ({named: {background}}) => Number(background),\n                },\n                focus_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_image = ''}}) => focus_image,\n                },\n                mailing_list_iframe: {\n                  type: 'boolean',\n                  shortcode: ({named: {mailing_list_iframe}}) => mailing_list_iframe == 'true',\n                },\n                iframe_url: {\n                  type: 'string',\n                  shortcode: ({named: {iframe_url = ''}}) => iframe_url,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          focus_image: {\n            type: 'string',\n          },\n          opacity: {\n            type: 'number',\n            default: 60\n          },\n          mailing_list_iframe: {\n            type: 'boolean',\n          },\n          iframe_url: {\n            type: 'string',\n          },\n          id: {\n            type: 'number',\n          },\n          load_iframe: {\n            type: 'boolean',\n            default: false\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n          const { attributes } = props;\n          const { id } = attributes;\n          let img_url = '';\n\n          if (id && (0 < id)) {\n            img_url = select('core').getMedia(id);\n            if(img_url){\n              img_url = img_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          return {\n            img_url\n          };\n        } )( ( {\n          img_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n          function onBackgroundChange( value ) {\n            setAttributes({background: value});\n          }\n\n          function onOpacityChange( value ) {\n            setAttributes({opacity: value});\n          }\n\n          function onMailingListIframeChange( value ) {\n            setAttributes({mailing_list_iframe: value});\n          }\n\n          function onIframeUrlChange( value ) {\n            setAttributes({iframe_url: value});\n          }\n\n          function onFocalPointChange( {x,y} ) {\n            x = parseFloat(x).toFixed(2);\n            y = parseFloat(y).toFixed(2);\n            setAttributes({focus_image: (x*100)+'% '+(y*100)+'%'});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({id});\n          }\n\n          function onRemoveImages() {\n            setAttributes({id: -1});\n            setAttributes({focus_image: ''});\n          }\n\n          return <Happypoint\n            {...attributes}\n            isSelected={isSelected}\n            url={img_url}\n            onSelectImage={onSelectImage}\n            onOpacityChange={onOpacityChange}\n            onMailingListIframeChange={onMailingListIframeChange}\n            onIframeUrlChange={onIframeUrlChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\n\nexport class Media extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {video_title,description,youtube_id} = this.props;\n\n      return (\n        <Fragment>\n          <div>\n            <TextControl\n              label={__('Media Title', 'p4ge')}\n              placeholder={__('Enter video title', 'p4ge')}\n              value={video_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={description}\n              onChange={this.props.onDescriptionChange}\n            />\n            <TextControl\n              label={__('Media URL/ID', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              value={youtube_id}\n              onChange={this.props.onMediaUrlChange}\n              help={__('Can be a YouTube, Vimeo or Soundcloud URL or an mp4, mp3 or wav file URL.', 'p4ge')}\n            />\n            <MediaPlaceholder\n              labels={{ title: __('Video poster image [Optional]', 'p4ge'), instructions: __('Applicable for .mp4 video URLs only.', 'p4ge')}}\n              icon=\"format-image\"\n              onSelect={this.props.onSelectImage}\n              onSelectURL={this.props.onSelectURL}\n              onError={this.props.onUploadError}\n              accept=\"image/*\"\n              allowedTypes={[\"image\"]}\n            />\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                { this.props.youtube_id &&\n                  <ServerSideRender\n                    block={'planet4-blocks/media-video'}\n                    attributes={{\n                      video_title: this.props.video_title,\n                      description: this.props.description,\n                      youtube_id: this.props.youtube_id,\n                      video_poster_img: this.props.video_poster_img,\n                    }}>\n                  </ServerSideRender>\n                }\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Media} from './Media';\n\nconst {__} = wp.i18n;\n\nexport class MediaBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/media-video', {\n        title: __('Media block', 'p4ge'),\n        icon: 'format-video',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_media_video video_title=\"Lorem Ipsum\"\n         *                        description=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\"\n         *                        youtube_id=\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\"\n         *                        video_poster_img=\"23241\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/media-video {\"video_title\":\"Lorem Ipsum\",\"description\":\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\",\"youtube_id\":\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\"video_poster_img\":23241} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_media_video',\n              attributes: {\n                video_title: {\n                  type: 'string',\n                  shortcode: ({named: {video_title = ''}}) => video_title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                youtube_id: {\n                  type: 'string',\n                  shortcode: ({named: {youtube_id = ''}}) => youtube_id,\n                },\n                video_poster_img: {\n                  type: 'integer',\n                  shortcode: ({named: {video_poster_img = ''}}) => video_poster_img,\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          video_title: {\n            type: 'string'\n          },\n          description: {\n            type: 'string'\n          },\n          youtube_id: {\n            type: 'string'\n          },\n          video_poster_img: {\n            type: 'integer'\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n          function onTitleChange(value) {\n            setAttributes({video_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({description: value});\n          }\n\n          function onMediaUrlChange(value) {\n            setAttributes({youtube_id: value});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({video_poster_img: id});\n          }\n\n          function onSelectURL({url}) {\n            setAttributes({id: null});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          return <Media\n            {...attributes}\n            isSelected={isSelected}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onMediaUrlChange={onMediaUrlChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            onUploadError={onUploadError}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\nimport {\n  RadioControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Socialmedia extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  componentDidUpdate() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  /**\n   * Check if twitter embeds script is loaded and initiliaze it.\n   */\n  checkTwitterScript() {\n    if (this.props.social_media_url.includes('twitter')) {\n      let twitterScript = document.querySelector('script[src=\"https://platform.twitter.com/widgets.js\"]');\n\n      if (null === twitterScript) {\n        let scriptLoaded = this.loadScriptAsync('https://platform.twitter.com/widgets.js');\n        scriptLoaded.then(function () {\n          this.initializeTwitterEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeTwitterEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Check if instgram embeds script is loaded and initiliaze it.\n   */\n  checkInstagramScript() {\n    if (this.props.social_media_url.includes('instagram')) {\n      let instaScript = document.querySelector('script[src=\"https://www.instagram.com/embed.js\"]');\n\n      if (null === instaScript) {\n        let scriptLoaded = this.loadScriptAsync('https://www.instagram.com/embed.js');\n        scriptLoaded.then(function () {\n          this.initializeInstagramEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeInstagramEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Initialize twitter embeds.\n   */\n  initializeTwitterEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.twttr) {\n        window.twttr.widgets.load();\n      }\n    }, 2000);\n  }\n\n  /**\n   * Initialize instagram embeds.\n   */\n  initializeInstagramEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.instgrm) {\n        window.instgrm.Embeds.process();\n      }\n    }, 3000);\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const embed_type_help = __('Select oEmbed for the following types of social media<br>- Twitter: tweet, profile, list, collection, likes, moment<br>- Facebook: post, activity, photo, video, media, question, note<br>- Instagram: image', 'planet4-blocks-backend');\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'planet4-blocks-backend')}\n            placeholder={__('Enter title', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'planet4-blocks-backend')}\n            placeholder={__('Enter description', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <RadioControl\n            label={__('Embed type', 'planet4-blocks-backend')}\n            help={\n              <RawHTML>{embed_type_help}</RawHTML>\n            }\n            options={[\n              {label: 'oEmbed', value: 'oembed'},\n              {label: 'Facebook page', value: 'facebook_page'},\n            ]}\n            selected={this.props.embed_type}\n            onChange={this.props.onEmbedTypeChange}\n          />\n        </div>\n\n        {\n          this.props.embed_type === 'facebook_page'\n            ?\n            <div>\n              <SelectControl\n                label={__('What Facebook page content would you like to display?', 'planet4-blocks-backend')}\n                value={this.props.facebook_page_tab}\n                options={[\n                  {label: 'Timeline', value: 'timeline'},\n                  {label: 'Events', value: 'events'},\n                  {label: 'Mesages', value: 'messages'},\n                ]}\n                onChange={this.props.onFacebookPageTabChange}\n              />\n            </div>\n            : null\n        }\n\n        <div>\n          <TextControl\n            label={__('URL', 'planet4-blocks-backend')}\n            placeholder={__('Enter URL', 'planet4-blocks-backend')}\n            value={this.props.social_media_url}\n            onChange={this.props.onSocialMediaUrlChange}\n          />\n        </div>\n\n        <div>\n          <SelectControl\n            label={__('Alignment', 'planet4-blocks-backend')}\n            value={this.props.alignment_class}\n            options={[\n              {label: 'None', value: ''},\n              {label: 'Left', value: 'alignleft'},\n              {label: 'Center', value: 'aligncenter'},\n              {label: 'Right', value: 'alignright'},\n            ]}\n            onChange={this.props.onAlignmentChange}\n          />\n        </div>\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n            <ServerSideRender\n              block={'planet4-blocks/social-media'}\n              attributes={{\n                title: this.props.title,\n                description: this.props.description,\n                embed_type: this.props.embed_type,\n                facebook_page_tab: this.props.facebook_page_tab,\n                social_media_url: this.props.social_media_url,\n                alignment_class: this.props.alignment_class,\n              }}>\n            </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Socialmedia} from './Socialmedia.js';\n\nexport class SocialmediaBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {__} = wp.i18n;\n\n    registerBlockType('planet4-blocks/social-media', {\n      title: __('Social Media', 'p4ge'),\n      icon: 'share',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_social_media',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              embed_type: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.embed_type;\n                }\n              },\n              facebook_page_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.facebook_page_tab;\n                }\n              },\n              social_media_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.social_media_url;\n                }\n              },\n              alignment_class: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.alignment_class;\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        title: {\n          type: 'string',\n          default: '',\n        },\n        description: {\n          type: 'string',\n          default: '',\n        },\n        embed_type: {\n          type: 'string',\n          default: 'oembed'\n        },\n        facebook_page_tab: {\n          type: 'string',\n          default: 'timeline'\n        },\n        social_media_url: {\n          type: 'string',\n          default: ''\n        },\n        alignment_class: {\n          type: 'string',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        // These methods are passed down to the\n        // Socialmedia component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onEmbedTypeChange(value) {\n          setAttributes({embed_type: value});\n        }\n\n        function onFacebookPageTabChange(value) {\n          setAttributes({facebook_page_tab: value});\n        }\n\n        function onSocialMediaUrlChange(value) {\n          setAttributes({social_media_url: value});\n        }\n\n        function onAlignmentChange(value) {\n          setAttributes({alignment_class: value});\n        }\n\n\n        // We pass down all the attributes to Socialmedia as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Socialmedia\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onEmbedTypeChange={onEmbedTypeChange}\n          onFacebookPageTabChange={onFacebookPageTabChange}\n          onSocialMediaUrlChange={onSocialMediaUrlChange}\n          onAlignmentChange={onAlignmentChange} />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import { Component, Fragment } from '@wordpress/element';\nimport { Preview } from '../../components/Preview';\n\n\nimport {\n  MediaPlaceholder,\n  InspectorControls,\n  BlockControls,\n  MediaUpload,\n  MediaUploadCheck\n} from '@wordpress/editor';\n\nimport {\n  TextControl,\n  ServerSideRender,\n  FocalPointPicker,\n  ToggleControl,\n  RangeControl,\n  PanelBody,\n  Button,\n  Toolbar,\n  IconButton\n} from '@wordpress/components';\n\nexport class Socialshare extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const { __ } = wp.i18n;\n\n    const dimensions = { width: 212, height: 212 };\n\n    const { focus_image, id, multiple_image, image_data } = this.props;\n\n    let focal_point_params = { x: '', y: '' };\n\n    if (focus_image) {\n      let focus_image_str = focus_image.replace(/%/g, '');\n      let [x, y] = focus_image_str.split(' ');\n      focal_point_params = { x: x / 100, y: y / 100 };\n    } else {\n      focal_point_params = { x: 0.5, y: 0.5 };\n    }\n\n    const getImageOrButton = (openEvent) => {\n      if (0 < this.props.image_data.length) {\n\n        return (\n\n          this.props.image_data.map((item, index) => {\n            return (\n              <span>\n                <img\n                  src={item.url}\n                  onClick={openEvent}\n                  className=\"gallery__imgs\"\n                  key={index}\n                  width='150 px'\n                  style={{ padding: '10px 10px' }}\n                />\n              </span>\n            );\n          })\n\n        );\n      }\n      else {\n        return (\n          <div className=\"button-container\">\n            <Button\n              onClick={openEvent}\n              className=\"button\">\n              + {__('Select Gallery Images', 'p4ge')}\n            </Button>\n\n            <div>{__('Select images in the order you want them to appear.', 'p4ge')}</div>\n          </div>\n        );\n      }\n    };\n\n\n\n    let multiple_image_array = multiple_image ? multiple_image.split(',') : [];\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'planet4-blocks-backend')}\n            placeholder={__('Enter title', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n          <TextControl\n            label={__('Subtitle', 'planet4-blocks-backend')}\n            placeholder={__('Enter subtitle', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.subtitle}\n            onChange={this.props.onSubTitleChange}\n          />\n        </div>\n        <BlockControls>\n          {this.props.id && (0 < this.props.id) && (\n            <Toolbar>\n\n              {__('Select Gallery Images', 'p4ge')}\n              <div>\n                <MediaUploadCheck>\n                  <MediaUpload\n                    title={__('Select Gallery Images', 'p4ge')}\n                    type=\"image\"\n                    onSelect={this.props.onSelectImage}\n                    value={multiple_image_array}\n                    allowedTypes={[\"image\"]}\n                    multiple=\"true\"\n                    render={({ open }) => getImageOrButton(open)}\n                  />\n                </MediaUploadCheck>\n              </div>\n              <IconButton\n                className='components-icon-button components-toolbar__control'\n                label={__('Remove Image', 'p4ge')}\n                onClick={this.props.onRemoveImages}\n                icon='trash'\n              />\n            </Toolbar>\n          )}\n        </BlockControls>\n        {__('Select Gallery Images', 'p4ge')}\n        <div>\n          <MediaUploadCheck>\n            <MediaUpload\n              title={__('Select Gallery Images', 'p4ge')}\n              type=\"image\"\n              onSelect={this.props.onSelectImage}\n              value={multiple_image_array}\n              allowedTypes={[\"image\"]}\n              multiple=\"true\"\n              render={({ open }) => getImageOrButton(open)}\n            />\n          </MediaUploadCheck>\n        </div>\n\n        {image_data &&\n          <div\n            className={\n              \"wp-block-master-theme-gallery__FocalPointPicker\"\n            }\n          >\n            <ul>\n              {image_data.map((item, index) => {\n                return (\n                  <li\n                    key={index}\n                  >\n                    {__('Select gallery image focal point', 'p4ge')}\n                    <FocalPointPicker\n                      url={item.url}\n                      dimensions={dimensions}\n                      value={item.focalPoint}\n                      onChange={this.props.onFocalPointChange.bind(this, item.id)}\n                      key={item.id}\n                    />\n                    {__('Enter message for social media', 'p4ge')}\n                    <TextControl\n                      label={__('Social message', 'planet4-blocks-backend')}\n                      placeholder={__('Enter message', 'planet4-blocks-backend')}\n                      help={__('Optional', 'planet4-blocks-backend')}\n                      value={item.message}\n                      onChange={this.props.onMessageChange.bind(this, item.id)}\n                      key={item.id + 't1'}\n\n                    />\n\n                    {__('Enter URL to share', 'p4ge')}\n                    <TextControl\n                      label={__('Social URL', 'planet4-blocks-backend')}\n                      placeholder={__('Enter URL to share', 'planet4-blocks-backend')}\n                      help={__('Optional', 'planet4-blocks-backend')}\n                      value={item.social_url}\n                      onChange={this.props.onURLChange.bind(this, item.id)}\n                      key={item.id + 't2'}\n                    />\n                  </li>\n                );\n              })}\n            </ul>\n          </div>\n        }\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/socialshare'}\n            attributes={{\n              multiple_image: this.props.multiple_image,\n              gallery_block_focus_points: this.props.gallery_block_focus_points,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import { Socialshare } from './Socialshare';\n\nexport class SocialshareBlock {\n  constructor() {\n    const { registerBlockType } = wp.blocks;\n    const { __ } = wp.i18n;\n    const { withSelect } = wp.data;\n\n    registerBlockType('planet4-blocks/socialshare', {\n      title: __('Socialshare', 'p4ge'),\n      icon: 'format-image',\n      category: 'planet4-blocks',\n\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_socail_share',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              subtitle: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.subtitle;\n                }\n              },\n              id: {\n                type: 'integer',\n                shortcode: ({ named: { id = '' } }) => id,\n              },\n              multiple_image: {\n                type: 'string',\n                shortcode: ({ named: { multiple_image = '' } }) => multiple_image,\n              },\n              gallery_block_focus_points: {\n                type: 'string',\n                shortcode: ({ named: { gallery_block_focus_points = '' } }) => gallery_block_focus_points,\n              },\n              messages: {\n                type: 'string',\n                shortcode: ({ named: { messages = '' } }) => messages,\n              },\n              urls: {\n                type: 'string',\n                shortcode: ({ named: { urls = '' } }) => urls,\n              },\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n          default: '',\n        },\n        subtitle: {\n          type: 'string',\n          default: '',\n        },\n        id: {\n          type: 'number',\n        },\n\n        multiple_image: {\n          type: 'string',\n        },\n        image_data: {\n          type: 'object',\n          default: []\n        },\n        gallery_block_focus_points: {\n          type: 'string',\n        },\n        messages: {\n          type: 'string',\n        },\n        urls: {\n          type: 'string',\n        },\n      },\n      edit: withSelect((select, props) => {\n\n        const { attributes } = props;\n        const { multiple_image } = attributes;\n\n        let image_urls_array = [];\n\n        if (multiple_image) {\n          let image_id_array = multiple_image.split(',');\n\n          $.each(image_id_array, function (index, img_id) {\n            let img_url = select('core').getMedia(img_id);\n            if (img_url) {\n              image_urls_array[img_id] = img_url.media_details.sizes.medium.source_url;\n            }\n          });\n        }\n\n        return {\n          image_urls_array\n        };\n      })(({\n        image_urls_array,\n        isSelected,\n        attributes,\n        setAttributes\n      }) => {\n\n        let { image_data, gallery_block_focus_points, messages, urls } = attributes;\n\n        // Prepare image_data array on edit gallery block.\n        if (0 == image_data.length && 0 < image_urls_array.length) {\n          let new_image_data = [];\n          let focal_points_json = gallery_block_focus_points ? JSON.parse(gallery_block_focus_points) : {};\n          let messages_json = messages ? JSON.parse(messages) : {};\n          debugger;\n          let urlss_json = urls ? JSON.parse(urls) : {};\n          for (const img_id in image_urls_array) {\n\n            let x, y;\n            if ($.isEmptyObject(focal_points_json)) {\n              [x, y] = [50, 50];\n            } else {\n              [x, y] = focal_points_json[img_id].replace(/\\%/g, '').split(' ');\n            }\n\n            let mes;\n\n            if ($.isEmptyObject(messages_json)) {\n              mes = '';\n            } else {\n              mes = messages_json[img_id];\n            }\n\n            let url;\n\n            if ($.isEmptyObject(urlss_json)) {\n              url = '';\n            } else {\n              url = urlss_json[img_id];\n            }\n\n            new_image_data.push({\n              url: image_urls_array[img_id],\n              focalPoint: {\n                x: parseInt(x) / 100,\n                y: parseInt(y) / 100\n              },\n              id: img_id,\n              message: mes,\n              social_url: url\n            });\n          }\n\n          setAttributes({ image_data: new_image_data });\n        }\n\n        function onTitleChange(value) {\n          setAttributes({ title: value });\n        }\n\n        function onSubTitleChange(value) {\n          setAttributes({ subtitle: value });\n        }\n\n        function onFocalPointChange(image_id, value) {\n\n          let updated_image_data = [];\n          let gallery_block_focus_points = {};\n\n          image_data.map(function (object) {\n            if (object.id === image_id) {\n              let x = parseFloat(value.x).toFixed(2);\n              let y = parseFloat(value.y).toFixed(2);\n\n              updated_image_data.push({ url: object.url, social_url: object.social_url, focalPoint: { x, y }, id: image_id, message: object.message });\n              gallery_block_focus_points[image_id] = (x * 100) + '% ' + (y * 100) + '%';\n\n            } else {\n              updated_image_data.push(object);\n              let img_id = object.id;\n              gallery_block_focus_points[img_id] = parseInt(object.focalPoint.x * 100) + '% ' + parseInt(object.focalPoint.y * 100) + '%';\n            }\n          });\n\n          setAttributes({ gallery_block_focus_points: JSON.stringify(gallery_block_focus_points) });\n          setAttributes({ image_data: updated_image_data });\n        }\n\n        function onMessageChange(image_id, value) {\n\n          let updated_image_data = [];\n          let messages = {};\n          image_data.map(function (object) {\n            if (object.id === image_id) {\n              updated_image_data.push({ url: object.url, social_url: object.social_url, focalPoint: object.focalPoint, id: image_id, message: value });\n              messages[image_id] = value;\n            } else {\n              updated_image_data.push(object);\n              let img_id = object.id;\n              messages[img_id] = object.message;\n            }\n          });\n          setAttributes({ messages: JSON.stringify(messages) });\n          setAttributes({ image_data: updated_image_data });\n        }\n\n        function onURLChange(image_id, value) {\n\n          let updated_image_data = [];\n          let urls = {};\n          image_data.map(function (object) {\n            if (object.id === image_id) {\n              updated_image_data.push({ url: object.url, focalPoint: object.focalPoint, id: image_id, message: object.message, social_url: value });\n              urls[image_id] = value;\n            } else {\n              updated_image_data.push(object);\n              let img_id = object.id;\n              urls[img_id] = object.social_url;\n            }\n          });\n          setAttributes({ urls: JSON.stringify(urls) });\n          setAttributes({ image_data: updated_image_data });\n        }\n\n        function onSelectImage(value) {\n          let image_ids = [];\n          let image_data = [];\n          for (const key in value) {\n            image_ids.push(value[key].id);\n            let img_id = value[key].id;\n            let message = value[key].message;\n            let surl = value[key].social_url;\n            image_data.push({ url: value[key].url, focalPoint: { x: 0.5, y: 0.5 }, id: img_id, message: message, social_url: surl });\n          }\n          setAttributes({ multiple_image: image_ids.join(',') });\n          setAttributes({ image_data: image_data });\n        }\n\n        function onRemoveImages() {\n          setAttributes({ multiple_image: '' });\n          setAttributes({ gallery_block_focus_points: '' });\n          setAttributes({ image_data: [] });\n        }\n\n        return <Socialshare\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onSubTitleChange={onSubTitleChange}\n          onSelectImage={onSelectImage}\n          onMessageChange={onMessageChange}\n          onURLChange={onURLChange}\n          onFocalPointChange={onFocalPointChange}\n          onRemoveImages={onRemoveImages}\n        />\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  SelectControl\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\n\nexport class Splittwocolumns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      let tag_list   = this.props.tagsList.map((tag) => ({label: tag.name, value: tag.id}));\n      tag_list.unshift({label: '--Select Tag--', value: 0});\n\n      let issuepage_list = this.props.issuepageList.map((issue) => ({label: issue.title.raw, value: issue.id}));\n      issuepage_list.unshift({label: '--Select Issue--', value: 0});\n\n      const {__} = wp.i18n;\n\n      const {\n        select_issue,\n        title,\n        issue_description,\n        issue_link_text,\n        issue_link_path,\n        issue_image,\n        focus_issue_image,\n        select_tag,\n        tag_description,\n        button_text,\n        button_link,\n        tag_image,\n        focus_tag_image,\n        issue_image_url,\n        tag_image_url\n      } = this.props;\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_issue_image_obj = {x: 0.5,y: 0.5};\n      if (focus_issue_image) {\n        let [x,y] = focus_issue_image.replace(/\\%/g, '').split(' ');\n        focus_issue_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_tag_image_obj = {x: 0.5,y: 0.5};\n      if (focus_tag_image) {\n        let [x,y] = focus_tag_image.replace(/\\%/g, '').split(' ');\n        focus_tag_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      const dimensions = {width: 400, height: 100};\n\n      return (\n        <Fragment>\n          <h3>{__('Issue fields (Column 1 - Left side)', 'p4ge')}</h3>\n          <div>\n            {issuepage_list &&\n              <SelectControl\n                label={__('Select an issue', 'p4ge')}\n                value={select_issue}\n                options={issuepage_list}\n                onChange={this.props.onSelectIssue}\n              />\n            }\n            <TextControl\n              label={__('Issue Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={title}\n              onChange={this.props.onIssueTitleChange}\n              help={__('(Optional) Fill this only if you need to override issue title.', 'p4ge')}\n            />\n            <TextareaControl\n              label={__('Issue Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional) Fill this only if you need to override issue description.', 'p4ge')}\n              value={issue_description}\n              onChange={this.props.onIssueDescriptionChange}\n            />\n            <TextControl\n              label={__('Issue link text', 'p4ge')}\n              placeholder={__('Enter link text', 'p4ge')}\n              value={issue_link_text}\n              onChange={this.props.onIssueLinkTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Issue link path', 'p4ge')}\n              placeholder={__('Enter link path', 'p4ge')}\n              value={issue_link_path}\n              onChange={this.props.onIssueLinkPathChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Issue Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Issue', 'p4ge')}\n              onSelectImage={this.props.onSelectIssueImage}\n              imageId={issue_image}\n              imageUrl={issue_image_url}\n              buttonLabel={__('+ Select Image for Issue', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-issue-imgs'\n            />\n\n            {issue_image &&\n            <div>\n              {__('Select focal point for issue image', 'p4ge')}\n              <FocalPointPicker\n                url={issue_image_url}\n                dimensions={dimensions}\n                value={focus_issue_image_obj}\n                onChange={this.props.onIssueImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n          <h3>{__('Campaign fields (Column 2 - Right side)', 'p4ge')}</h3>\n          <div>\n            {tag_list &&\n              <SelectControl\n                label={__('Select a tag', 'p4ge')}\n                value={select_tag}\n                options={tag_list}\n                onChange={this.props.onSelectTag}\n              />\n            }\n            <TextareaControl\n              label={__('Campaign Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={tag_description}\n              onChange={this.props.onTagDescriptionChange}\n            />\n            <TextControl\n              label={__('Campaign button text', 'p4ge')}\n              placeholder={__('Enter button text', 'p4ge')}\n              value={button_text}\n              onChange={this.props.onButtonTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Campaign button link', 'p4ge')}\n              placeholder={__('Enter button link', 'p4ge')}\n              value={button_link}\n              onChange={this.props.onButtonLinkChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Campaign Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Campaign', 'p4ge')}\n              onSelectImage={this.props.onSelectCampaignImage}\n              imageId={tag_image}\n              imageUrl={tag_image_url}\n              buttonLabel={__('+ Select Image for Campaign', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-tag_imgs'\n            />\n\n            {tag_image &&\n            <div>\n              {__('Select focal point for campaign image', 'p4ge')}\n              <FocalPointPicker\n                url={tag_image_url}\n                dimensions={dimensions}\n                value={focus_tag_image_obj}\n                onChange={this.props.onCampaignImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/split-two-columns'}\n                  attributes={{\n                    select_issue: this.props.select_issue,\n                    title: this.props.title,\n                    issue_description: this.props.issue_description,\n                    issue_link_text: this.props.issue_link_text,\n                    issue_link_path: this.props.issue_link_path,\n                    issue_image: this.props.issue_image,\n                    focus_issue_image: this.props.focus_issue_image,\n                    select_tag: this.props.select_tag,\n                    tag_description: this.props.tag_description,\n                    button_text: this.props.button_text,\n                    button_link: this.props.button_link,\n                    tag_image: this.props.tag_image,\n                    focus_tag_image: this.props.focus_tag_image,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Splittwocolumns} from './Splittwocolumns';\n\nconst {__} = wp.i18n;\n\nexport class SplittwocolumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/split-two-columns', {\n        title: __('Split Two Columns', 'p4ge'),\n        icon: 'editor-table',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_split_two_columns select_issue=\"13813\" title=\"lorem ipsum\" issue_description=\"lorem ipsum\" issue_link_text=\"test link\"\n         *        issue_link_path=\"http://www.googlw.com\" issue_image=\"23634\" focus_issue_image=\"right top\" select_tag=\"19\"\n         *        tag_description=\"lorem ipsum\" button_text=\"btn text\" button_link=\"http://www.google.com\" tag_image=\"23634\" focus_tag_image=\"right top\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/split-two-columns {\"select_issue\":2079,\"title\":\"Lorem Ipsum\",\"issue_description\":\"Lorem Ipsum\",\"issue_link_text\":\"tets link\",\"issue_link_path\":\"http://www.google.com\",\"issue_image\":23634,\"focus_issue_image\":\"33% 60%\",\"select_tag\":65,\"tag_description\":\"Lorem Ipsum\",\"button_text\":\"btn text\",\"button_link\":\"http://www.google.com\",\"tag_image\":23634,\"focus_tag_image\":\"30% 79%\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_split_two_columns',\n              attributes: {\n                select_issue: {\n                  type: 'integer',\n                  shortcode: ({named: {select_issue = ''}}) => Number(select_issue) > 0 ? Number(select_issue) : null,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                issue_description: {\n                  type: 'string',\n                  shortcode: ({named: {issue_description = ''}}) => issue_description,\n                },\n                issue_link_text: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_text = ''}}) => issue_link_text,\n                },\n                issue_link_path: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_path = ''}}) => issue_link_path,\n                },\n                issue_image: {\n                  type: 'integer',\n                  shortcode: ({named: {issue_image = ''}}) => Number(issue_image) > 0 ? Number(issue_image) : null,\n                },\n                focus_issue_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_issue_image = ''}}) => focus_issue_image,\n                },\n                select_tag: {\n                  type: 'integer',\n                  shortcode: ({named: {select_tag = ''}}) => Number(select_tag) > 0 ? Number(select_tag) : null,\n                },\n                tag_description: {\n                  type: 'string',\n                  shortcode: ({named: {tag_description = ''}}) => tag_description,\n                },\n                button_text: {\n                  type: 'string',\n                  shortcode: ({named: {button_text = ''}}) => button_text,\n                },\n                button_link: {\n                  type: 'string',\n                  shortcode: ({named: {button_link = ''}}) => button_link,\n                },\n                tag_image: {\n                  type: 'integer',\n                  shortcode: ({named: {tag_image = ''}}) => Number(tag_image) > 0 ? Number(tag_image) : null,\n                },\n                focus_tag_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_tag_image = ''}}) => focus_tag_image,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          select_issue: {\n            type: 'number',\n            default: 0,\n          },\n          title: {\n            type: 'string',\n          },\n          issue_description: {\n            type: 'string',\n          },\n          issue_link_text: {\n            type: 'string',\n          },\n          issue_link_path: {\n            type: 'string',\n          },\n          issue_image: {\n            type: 'number',\n          },\n          focus_issue_image: {\n            type: 'string',\n          },\n          select_tag: {\n            type: 'number',\n            default: 0,\n          },\n          tag_description: {\n            type: 'string',\n          },\n          button_text: {\n            type: 'string',\n          },\n          button_link: {\n            type: 'string',\n          },\n          tag_image: {\n            type: 'number',\n          },\n          focus_tag_image: {\n            type: 'string',\n          },\n        },\n        edit: withSelect((select,props) => {\n          const tagsTaxonomy = 'post_tag';\n          const issuePage    = 'page';\n\n          const taxonomy_args = {\n            hide_empty: false,\n            per_page: 50,\n          };\n          const {getEntityRecords} = select('core');\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, taxonomy_args);\n\n          const issue_page_args = {\n            per_page: -1,\n            sort_order: 'asc',\n            sort_column: 'post_title',\n            parent: window.p4ge_vars.planet4_options.explore_page,\n            post_status: 'publish',\n          };\n          const issuepageList = getEntityRecords('postType', issuePage, issue_page_args);\n\n          const { attributes } = props;\n          const { issue_image,tag_image } = attributes;\n\n          let issue_image_url = '';\n          if (issue_image) {\n            issue_image_url = select('core').getMedia(issue_image);\n            if ( issue_image_url ) {\n              issue_image_url = issue_image_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          let tag_image_url = '';\n          if (tag_image) {\n            tag_image_url = select('core').getMedia(tag_image);\n            if ( tag_image_url ) {\n              tag_image_url = tag_image_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          return {\n            tagsList,\n            issuepageList,\n            issue_image_url,\n            tag_image_url,\n          };\n\n        } )( ( {\n          tagsList,\n          issuepageList,\n          issue_image_url,\n          tag_image_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          if (!tagsList || !issuepageList) {\n            return \"Populating block's fields...\";\n          }\n\n          if ((tagsList && tagsList.length === 0) || (issuepageList && issuepageList.length === 0)) {\n            return \"Populating block's fields...\";\n          }\n\n          function onSelectIssue( value ) {\n            setAttributes({select_issue: parseInt(value)});\n          }\n\n          function onIssueTitleChange( value ) {\n            setAttributes({title: value });\n          }\n\n          function onIssueDescriptionChange( value ) {\n            setAttributes({issue_description: value});\n          }\n\n          function onIssueLinkTextChange( value ) {\n            setAttributes({issue_link_text: value });\n          }\n\n          function onIssueLinkPathChange( value ) {\n            setAttributes({issue_link_path: value});\n          }\n\n          function onSelectIssueImage( {id} ) {\n            setAttributes({issue_image: id});\n          }\n\n          function onIssueImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_issue_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          function onSelectTag( value ) {\n            setAttributes({select_tag: parseInt(value)});\n          }\n\n          function onTagDescriptionChange( value ) {\n            setAttributes({tag_description: value});\n          }\n\n          function onButtonTextChange( value ) {\n            setAttributes({button_text: value });\n          }\n\n          function onButtonLinkChange( value ) {\n            setAttributes({button_link: value});\n          }\n\n          function onSelectCampaignImage( {id} ) {\n            setAttributes({tag_image: id});\n          }\n\n          function onCampaignImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_tag_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          return <Splittwocolumns\n            {...attributes}\n            isSelected={isSelected}\n            tagsList={tagsList}\n            issuepageList={issuepageList}\n            issue_image_url={issue_image_url}\n            tag_image_url={tag_image_url}\n            onSelectIssue={onSelectIssue}\n            onIssueTitleChange={onIssueTitleChange}\n            onIssueDescriptionChange={onIssueDescriptionChange}\n            onIssueLinkTextChange={onIssueLinkTextChange}\n            onIssueLinkPathChange={onIssueLinkPathChange}\n            onSelectIssueImage={onSelectIssueImage}\n            onIssueImageFocalPointChange={onIssueImageFocalPointChange}\n            onSelectTag={onSelectTag}\n            onTagDescriptionChange={onTagDescriptionChange}\n            onButtonTextChange={onButtonTextChange}\n            onButtonLinkChange={onButtonLinkChange}\n            onSelectCampaignImage={onSelectCampaignImage}\n            onCampaignImageFocalPointChange={onCampaignImageFocalPointChange}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component} from 'react';\nimport {\n  CheckboxControl,\n  SelectControl,\n} from '@wordpress/components';\n\nexport class MenuLevel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>Level {this.props.index + 1}</div>\n        <SelectControl\n          label=\"Submenu item\"\n          help=\"Submenu item\"\n          value={this.props.heading}\n          options={[\n            {label: 'None', value: '0'},\n            {label: 'Heading 1', value: '1'},\n            {label: 'Heading 2', value: '2'},\n            {label: 'Heading 3', value: '3'},\n            {label: 'Heading 4', value: '4'},\n            {label: 'Heading 5', value: '5'},\n            {label: 'Heading 6', value: '6'},\n          ]}\n          onChange={(e) => this.props.onHeadingChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n\n        <CheckboxControl\n          heading=\"Link\"\n          help=\"Link item\"\n          value={this.props.link}\n          checked={this.props.link}\n          onChange={(e) => this.props.onLinkChange(this.props.index, e)}\n          className=\"submenu-level-link\"\n        />\n\n        <SelectControl\n          label=\"List style\"\n          help=\"List style\"\n          value={this.props.style}\n          options={[\n            {label: 'None', value: 'none'},\n            {label: 'Bullet', value: 'bullet'},\n            {label: 'Number', value: 'number'},\n          ]}\n          onChange={(e) => this.props.onStyleChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n      </div>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  TextControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {MenuLevel} from \"./MenuLevel\";\n\nexport class Submenu extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h2>{__('Anchor Link Submenu', 'p4ge')}</h2>\n        <p><i>{__(\n          'An in-page table of contents to help users have a sense of what\\'s on the page and let them jump to a topic they are interested in.',\n          'p4ge'\n        )}</i></p>\n        <h3>{__('What style of menu do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.submenu_style}\n            onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n            options={[\n              {\n                label: __('Long full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-long.jpg',\n                value: 1,\n                help: __('Use: on long pages (more than 5 screens) when list items are long (+ 10 words)<br>No max items<br>recommended.')\n              }, {\n                label: __('Short full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-short.jpg',\n                value: 2,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 5 words)<br>No max items<br>recommended.'),\n              },\n              {\n                label: __('Short sidebar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-sidebar.jpg',\n                value: 3,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 10 words)<br>Max items<br>recommended: 9')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label=\"Submenu Title\"\n            placeholder=\"Enter title\"\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <hr/>\n        {this.props.levels.map((heading, i) => {\n          return (\n            <MenuLevel\n              {...heading}\n              onHeadingChange={this.props.onHeadingChange}\n              onLinkChange={this.props.onLinkChange}\n              onStyleChange={this.props.onStyleChange}\n              index={i}\n              key={i}\n            />\n          );\n        })}\n\n        <div>\n          <Button isPrimary\n                  onClick={this.props.addLevel}\n                  disabled={this.props.levels.length >= 3 || this.props.levels.slice(-1)[0].heading === 0}\n          >\n            Add level\n          </Button>\n          <Button isDefault\n                  onClick={this.props.removeLevel} disabled={this.props.levels.length <= 1}\n          >\n            Remove level\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/submenu'}\n            attributes={{\n              submenu_style: this.props.submenu_style,\n              title: this.props.title,\n              levels: this.props.levels,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {Submenu} from './Submenu.js';\n\nexport class SubmenuBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/submenu', {\n      title: 'Submenu',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_submenu submenu_style=\"3\" title=\"title22\" heading1=\"2\"\n       *                    link1=\"true\" style1=\"bullet\" heading2=\"3\" link2=\"true\" style2=\"number\"\n       *                    heading3=\"4\" link3=\"false\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/submenu {\"submenu_style\":3,\"title\":\"title22\",\"levels\":[{\"heading\":\"2\",\"link\":\"true\",\"style\":\"bullet\"},\n       *    {\"heading\":\"3\",\"link\":\"true\",\"style\":\"number\"},{\"heading\":\"4\",\"link\":\"false\",\"style\":\"none\"}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_submenu',\n            attributes: {\n              submenu_style: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.submenu_style);\n                }\n              },\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              levels: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  let levels = [];\n                  if (attributes.named.heading1 > 0) {\n                    let level = {\n                      heading: Number(attributes.named.heading1),\n                      link: Boolean(attributes.named.link1) || false,\n                      style: attributes.named.style1 || 'none'\n                    };\n                    levels.push(Object.assign({}, level));\n\n                    if (attributes.named.heading2 > 0) {\n                      let level = {\n                        heading: Number(attributes.named.heading2),\n                        link: Boolean(attributes.named.link2) || false,\n                        style: attributes.named.style2 || 'none'\n                      };\n                      levels.push(Object.assign({}, level));\n\n                      if (attributes.named.heading3 > 0) {\n                        let level = {\n                          heading: Number(attributes.named.heading3),\n                          link: Boolean(attributes.named.link3) || false,\n                          style: attributes.named.style3 || 'none'\n                        };\n                        levels.push(Object.assign({}, level));\n                      }\n                    }\n                  }\n                  return levels;\n                },\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        submenu_style: {\n          type: 'integer',\n          default: 1\n        },\n        title: {\n          type: 'string',\n        },\n        levels: {\n          type: 'array',\n          default: [ {heading: 0, link: false, style: 'none'}]\n        },\n      },\n      edit: withSelect((select) => {\n\n      })(({\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        function addLevel() {\n          setAttributes({levels: attributes.levels.concat({heading: 0, link: false, style: 'none'})});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onHeadingChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].heading = Number(value);\n          setAttributes({levels: levels});\n        }\n\n        function onLayoutChange(value) {\n          setAttributes({submenu_style: Number(value)});\n        }\n\n        function onLinkChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].link = value;\n          setAttributes({levels: levels});\n        }\n\n        function onStyleChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].style = value;\n          setAttributes({levels: levels});\n        }\n\n        function removeLevel() {\n          setAttributes({levels: attributes.levels.slice(0, -1)});\n        }\n\n        return <Submenu\n          {...attributes}\n          isSelected={isSelected}\n          onSelectedLayoutChange={onLayoutChange}\n          onTitleChange={onTitleChange}\n          onHeadingChange={onHeadingChange}\n          onLinkChange={onLinkChange}\n          onStyleChange={onStyleChange}\n          addLevel={addLevel}\n          removeLevel={removeLevel}\n        />\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\nimport {\n\tFormTokenField,\n\tTextControl,\n\tTextareaControl,\n\tServerSideRender,\n\tToggleControl,\n\tSelectControl,\n\tCheckboxControl,\n\tToolbar,\n\tIconButton, Button\n} from '@wordpress/components';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Takeactionboxout extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// Populate tag tokens for saved tags.\n\t\tlet tagTokens = props.tagsList.filter(tag => props.tag_ids.includes(tag.id)).map(tag => tag.name);\n\n\t\tthis.state = {\n\t\t\ttagTokens: tagTokens,\n\t\t};\n\t}\n\n\tonSelectedTagsChange(tokens) {\n\t\tconst tagIds = tokens.map(token => {\n\t\t\treturn this.props.tagsList.filter(tag => tag.name === token)[0].id;\n\t\t});\n\t\tthis.props.onSelectedTagsChange(tagIds);\n\t\tthis.setState({tagTokens: tokens})\n\t}\n\n\tisCustomised() {\n\t\treturn ( this.props.custom_title || this.props.custom_excerpt || this.props.custom_link || this.props.custom_link_text || this.props.custom_link_new_tab || this.state.tagTokens.length > 0 || ( this.props.background_image && 0 < this.props.background_image ) );\n\t}\n\n\ttakeActionPageSelected() {\n\t\treturn ( this.props.take_action_page && this.props.take_action_page !== '0' );\n\t}\n\n\trenderEdit() {\n\t\tconst tagSuggestions = this.props.tagsList.map(tag => tag.name);\n\n\t\tlet actpage_list = this.props.actPageList.map((actPage) => ({label: actPage.title.raw, value: actPage.id}));\n\t\tconst {__} = wp.i18n;\n\n\t\tactpage_list.unshift({label: __('--Select Take Action Page--'), value: 0});\n\n\t\tconst getImageOrButton = (openEvent) => {\n\t\t\tif ( this.props.background_image && ( 0 < this.props.background_image ) ) {\n\n\t\t\t\treturn (\n\n\t\t\t\t\t<div align='center'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ this.props.background_image_url }\n\t\t\t\t\t\t\tonClick={ openEvent }\n\t\t\t\t\t\t\tclassName='takeactionboxout-block-background-img'\n\t\t\t\t\t\t\twidth={'400px'}\n\t\t\t\t\t\t\tstyle={{padding: '10px 10px'}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t\t<div className='button-container'>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={ openEvent }\n\t\t\t\t\t\t\tclassName='button'\n\t\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}>\n\t\t\t\t\t\t\t+ {__('Select Background Image', 'p4ge')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<h3>{__('Take Action Boxout', 'p4ge')}</h3>\n\t\t\t\t<div>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={__('Select Take Action Page', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.take_action_page}\n\t\t\t\t\t\toptions={actpage_list}\n\t\t\t\t\t\tonChange={this.props.onSelectTakeActoinPage}\n\t\t\t\t\t\tdisabled={this.isCustomised()}\n\t\t\t\t\t/>\n\t\t\t\t\t<h5>{__('Or customise your take action boxout (if inserted in POSTS, the block will float on the side, if inserted in PAGES, it will appear in the page body)', 'p4ge')}</h5>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Title', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Title', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_title}\n\t\t\t\t\t\tonChange={this.props.onCustomTitleChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\tlabel={__('Custom Excerpt', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Excerpt', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_excerpt}\n\t\t\t\t\t\tonChange={this.props.onCustomExcerptChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Link', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Link', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link}\n\t\t\t\t\t\tonChange={this.props.onCustomLinkChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Link Text', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Link Text', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link_text}\n\t\t\t\t\t\tonChange={this.props.onCustomLinkTextChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tlabel={__('Open in a new Tab', 'p4ge')}\n\t\t\t\t\t\thelp={__('Open custom link in new tab', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link_new_tab}\n\t\t\t\t\t\tchecked={this.props.custom_link_new_tab}\n\t\t\t\t\t\tonChange={(e) => this.props.onCustomLinkNewTabChange(e)}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormTokenField\n\t\t\t\t\t\tvalue={this.state.tagTokens}\n\t\t\t\t\t\tsuggestions={tagSuggestions}\n\t\t\t\t\t\tlabel={__('Select Tags', 'p4ge')}\n\t\t\t\t\t\tonChange={tokens => this.onSelectedTagsChange(tokens)}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t{__('Select Background Image', 'p4ge')}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\ttitle={__('Select Background Image', 'p4ge')}\n\t\t\t\t\t\t\t\ttype='image'\n\t\t\t\t\t\t\t\tonSelect={this.props.onSelectBackGroundImage}\n\t\t\t\t\t\t\t\tvalue={this.props.background_image}\n\t\t\t\t\t\t\t\tallowedTypes={['image']}\n\t\t\t\t\t\t\t\trender={ ({ open }) => getImageOrButton(open) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t</div>\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t{ this.props.background_image && ( 0 < this.props.background_image ) && (\n\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tclassName='components-icon-button components-toolbar__control'\n\t\t\t\t\t\t\t\t\tlabel={__('Remove Image', 'p4ge')}\n\t\t\t\t\t\t\t\t\tonClick={this.props.onRemoveBackGroundImage}\n\t\t\t\t\t\t\t\t\ticon='trash'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</BlockControls>\n\t\t\t\t</div>\n\t\t\t\t<hr />\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\tthis.props.isSelected\n\t\t\t\t\t\t? this.renderEdit()\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t<Preview showBar={this.props.isSelected}>\n\t\t\t\t\t<ServerSideRender\n\t\t\t\t\t\tblock={'planet4-blocks/take-action-boxout'}\n\t\t\t\t\t\tattributes={{\n\t\t\t\t\t\t\ttake_action_page: this.props.take_action_page,\n\t\t\t\t\t\t\tcustom_title: this.props.custom_title,\n\t\t\t\t\t\t\tcustom_excerpt: this.props.custom_excerpt,\n\t\t\t\t\t\t\tcustom_link: this.props.custom_link,\n\t\t\t\t\t\t\tcustom_link_text: this.props.custom_link_text,\n\t\t\t\t\t\t\tcustom_link_new_tab: this.props.custom_link_new_tab,\n\t\t\t\t\t\t\ttag_ids: this.props.tag_ids,\n\t\t\t\t\t\t\tbackground_image: this.props.background_image,\n\t\t\t\t\t\t}}>\n\t\t\t\t\t</ServerSideRender>\n\t\t\t\t</Preview>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import {Takeactionboxout} from './Takeactionboxout.js';\n\nexport class TakeactionboxoutBlock {\n\tconstructor() {\n\t\tconst {registerBlockType} = wp.blocks;\n\t\tconst {__} = wp.i18n;\n\t\tconst {withSelect} = wp.data;\n\n\t\tregisterBlockType('planet4-blocks/take-action-boxout', {\n\t\t\ttitle: __('Take Action Boxout'),\n\t\t\ticon: 'welcome-widgets-menus',\n\t\t\tcategory: 'planet4-blocks',\n\t\t\tsupports: {\n\t\t\t\tmultiple: false, // Use the block just once per post.\n\t\t\t},\n\n\t\t\t// Transform the shortcode into a Gutenberg block\n\t\t\t// this is used when a user clicks \"Convert to blocks\"\n\t\t\t// on the \"Classic Editor\" block\n\t\t\ttransforms: {\n\t\t\t\tfrom: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'shortcode',\n\t\t\t\t\t\t// Shortcode tag can also be an array of shortcode aliases\n\t\t\t\t\t\ttag: 'shortcake_take_action_boxout',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\ttake_action_page: {\n\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn Number(attributes.named.take_action_page);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_title: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_title;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_excerpt: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_excerpt;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link_text: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link_text;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link_new_tab: {\n\t\t\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link_new_tab;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttag_ids: {\n\t\t\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.tag_ids ?\n                    attributes.named.tag_ids.split(',').map(tag => Number(tag)).filter(tag => tag > 0)\n                    : [];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbackground_image: {\n\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\tshortcode: ({named: {background_image = ''}}) => Number(background_image) > 0 ? Number(background_image) : 0,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t},\n\t\t\t// This attributes definition mimics the one in the PHP side.\n\t\t\tattributes: {\n\t\t\t\ttake_action_page: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t\tcustom_title: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_excerpt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link_text: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link_new_tab: {\n\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\tdefault: false\n\t\t\t\t},\n\t\t\t\ttag_ids: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: []\n\t\t\t\t},\n\t\t\t\tbackground_image: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t},\n\t\t\t// withSelect is a \"Higher Order Component\", it works as\n\t\t\t// a Decorator, it will provide some basic API functionality\n\t\t\t// through `select`.\n\t\t\tedit: withSelect( ( select, props ) => {\n\t\t\t\tconst tagsTaxonomy = 'post_tag';\n\t\t\t\tconst actPage = 'page';\n\n\t\t\t\tconst args = {\n\t\t\t\t\thide_empty: false,\n\t\t\t\t\tper_page: 50,\n\t\t\t\t};\n\t\t\t\tconst {getEntityRecords, getMedia} = select('core');\n\n\t\t\t\tconst tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n\n\t\t\t\tconst act_page_args = {\n\t\t\t\t\tper_page: -1,\n\t\t\t\t\tsort_order: 'asc',\n\t\t\t\t\tsort_column: 'post_title',\n\t\t\t\t\tparent: window.p4ge_vars.planet4_options.act_page,\n\t\t\t\t\tpost_status: 'publish',\n\t\t\t\t};\n\n\t\t\t\tconst actPageList = getEntityRecords('postType', actPage, act_page_args);\n\n\t\t\t\tconst { attributes } = props;\n\t\t\t\tconst { background_image } = attributes;\n\n\t\t\t\tlet background_image_url = '';\n\t\t\t\tif (background_image) {\n\t\t\t\t\tbackground_image_url = select('core').getMedia(background_image);\n\t\t\t\t\tif ( background_image_url ) {\n\t\t\t\t\t\tbackground_image_url = background_image_url.media_details.sizes.medium.source_url;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tactPageList,\n\t\t\t\t\ttagsList,\n\t\t\t\t\tbackground_image_url,\n\t\t\t\t};\n\t\t\t} )( ( {\n\t\t\t\ttagsList,\n\t\t\t\tactPageList,\n\t\t\t\tbackground_image_url,\n\t\t\t\tisSelected,\n\t\t\t\tattributes,\n\t\t\t\tsetAttributes\n\t\t\t} ) => {\n\n\t\t\t\tif (!tagsList || !actPageList) {\n\t\t\t\t\treturn \"Populating block's fields...\";\n\t\t\t\t}\n\n\t\t\t\tif ((tagsList && tagsList.length === 0) || (actPageList && actPageList.length === 0)) {\n\t\t\t\t\treturn \"Populating block's fields...\";\n\t\t\t\t}\n\n\t\t\t\t// These methods are passed down to the\n\t\t\t\t// Articles component, they update the corresponding attribute.\n\t\t\t\tfunction onSelectTakeActoinPage( value ) {\n\t\t\t\t\tsetAttributes({ take_action_page: value });\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomTitleChange(value) {\n\t\t\t\t\tsetAttributes({custom_title: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomExcerptChange(value) {\n\t\t\t\t\tsetAttributes({custom_excerpt: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkChange(value) {\n\t\t\t\t\tsetAttributes({custom_link: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkTextChange(value) {\n\t\t\t\t\tsetAttributes({custom_link_text: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkNewTabChange(value) {\n\t\t\t\t\tsetAttributes({custom_link_new_tab: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onButtonLinkTabChange(value) {\n\t\t\t\t\tsetAttributes({button_link_new_tab: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onSelectedTagsChange(tagIds) {\n\t\t\t\t\tsetAttributes({tag_ids: tagIds});\n\t\t\t\t}\n\n\t\t\t\tfunction onSelectBackGroundImage( {id} ) {\n\t\t\t\t\tsetAttributes({background_image: id});\n\t\t\t\t}\n\n\t\t\t\tfunction onRemoveBackGroundImage() {\n\t\t\t\t\tsetAttributes({background_image: -1});\n\t\t\t\t}\n\n\t\t\t\t// We pass down all the attributes to Covers as props using\n\t\t\t\t// the spread operator. Then we selectively add more\n\t\t\t\t// props.\n\t\t\t\treturn <Takeactionboxout\n\t\t\t\t\t{...attributes}\n\t\t\t\t\tisSelected={isSelected}\n\t\t\t\t\ttagsList={tagsList}\n\t\t\t\t\tactPageList={actPageList}\n\t\t\t\t\tbackground_image_url={background_image_url}\n\t\t\t\t\tonSelectTakeActoinPage={onSelectTakeActoinPage}\n\t\t\t\t\tonCustomTitleChange={onCustomTitleChange}\n\t\t\t\t\tonCustomExcerptChange={onCustomExcerptChange}\n\t\t\t\t\tonCustomLinkChange={onCustomLinkChange}\n\t\t\t\t\tonCustomLinkTextChange={onCustomLinkTextChange}\n\t\t\t\t\tonCustomLinkNewTabChange={onCustomLinkNewTabChange}\n\t\t\t\t\tonButtonLinkTabChange={onButtonLinkTabChange}\n\t\t\t\t\tonSelectedTagsChange={onSelectedTagsChange}\n\t\t\t\t\tonSelectBackGroundImage={onSelectBackGroundImage}\n\t\t\t\t\tonRemoveBackGroundImage={onRemoveBackGroundImage}/>\n\t\t\t}),\n\t\t\tsave() {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} );\n\t};\n}\n\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from \"@wordpress/element\";\nimport {\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {Preview} from '../../components/Preview';\n\nexport class Timeline extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.loadTimeline(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    this.loadTimeline(prevProps);\n  }\n\n  loadTimeline(data) {\n    const timelinejs_version = '3.6.3';\n\n    let js = 'https://cdn.knightlab.com/libs/timeline3/' + timelinejs_version + '/js/timeline-min.js';\n    let scriptLoaded = this.loadScriptAsync(js);\n    scriptLoaded.then(function () {\n      new TL.Timeline('timeline-1', data.google_sheets_url, {\n        \"timenav_position\": data.timenav_position,\n        \"start_at_end\": data.start_at_end,\n        \"language\": data.language\n      });\n    }.bind(this));\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const position = [\n      {label: 'Bottom', value: 'bottom'},\n      {label: 'Top', value: 'top'},\n    ]\n\n    const languages = [\n      {label: 'Afrikaans', value: 'af'},\n      {label: 'Arabic', value: 'ar'},\n      {label: 'Armenian', value: 'hy'},\n      {label: 'Basque', value: 'eu'},\n      {label: 'Belarusian', value: 'be'},\n      {label: 'Bulgarian', value: 'bg'},\n      {label: 'Catalan', value: 'ca'},\n      {label: 'Chinese', value: 'zh-cn'},\n      {label: 'Croatian / Hrvatski', value: 'hr'},\n      {label: 'Czech', value: 'cz'},\n      {label: 'Danish', value: 'da'},\n      {label: 'Dutch', value: 'nl'},\n      {label: 'English', value: 'en'},\n      {label: 'English (24-hour time)', value: 'en-24hr'},\n      {label: 'Esperanto', value: 'eo'},\n      {label: 'Estonian', value: 'et'},\n      {label: 'Faroese', value: 'fo'},\n      {label: 'Farsi', value: 'fa'},\n      {label: 'Finnish', value: 'fi'},\n      {label: 'French', value: 'fr'},\n      {label: 'Frisian', value: 'fy'},\n      {label: 'Galician', value: 'gl'},\n      {label: 'Georgian', value: 'ka'},\n      {label: 'German / Deutsch', value: 'de'},\n      {label: 'Greek', value: 'el'},\n      {label: 'Hebrew', value: 'he'},\n      {label: 'Hindi', value: 'hi'},\n      {label: 'Hungarian', value: 'hu'},\n      {label: 'Icelandic', value: 'is'},\n      {label: 'Indonesian', value: 'id'},\n      {label: 'Irish', value: 'ga'},\n      {label: 'Italian', value: 'it'},\n      {label: 'Japanese', value: 'ja'},\n      {label: 'Korean', value: 'ko'},\n      {label: 'Latvian', value: 'lv'},\n      {label: 'Lithuanian', value: 'lt'},\n      {label: 'Luxembourgish', value: 'lb'},\n      {label: 'Malay', value: 'ms'},\n      {label: 'Myanmar', value: 'my'},\n      {label: 'Nepali', value: 'ne'},\n      {label: 'Norwegian', value: 'no'},\n      {label: 'Polish', value: 'pl'},\n      {label: 'Portuguese', value: 'pt'},\n      {label: 'pt-br', value: 'Portuguese (Brazilian)'},\n      {label: 'Romanian', value: 'ro'},\n      {label: 'Romansh', value: 'rm'},\n      {label: 'Russian', value: 'ru'},\n      {label: 'Serbian - Cyrillic', value: 'sr-cy'},\n      {label: 'Serbian - Latin', value: 'sr'},\n      {label: 'Sinhalese', value: 'si'},\n      {label: 'Slovak', value: 'sk'},\n      {label: 'Slovenian', value: 'sl'},\n      {label: 'Spanish', value: 'es'},\n      {label: 'Swedish', value: 'sv'},\n      {label: 'Tagalog', value: 'tl'},\n      {label: 'Tamil', value: 'ta'},\n      {label: 'Taiwanese', value: 'zh-tw'},\n      {label: 'Telugu', value: 'te'},\n      {label: 'Thai', value: 'th'},\n      {label: 'Turkish', value: 'tr'},\n      {label: 'Ukrainian', value: 'uk'},\n      {label: 'Urdu', value: 'ur'},\n    ]\n\n    let url_desc  = __(\n      'Enter the URL of the Google Sheets spreadsheet containing your timeline data.',\n      'p4ge'\n    );\n    url_desc += '<br><a href=\"https://timeline.knightlab.com/#make\" target=\"_blank\" rel=\"noopener noreferrer\">';\n    url_desc += __(\n      'See the TimelineJS website for a template GSheet.',\n      'p4ge'\n    );\n    url_desc += '</a><br>';\n    url_desc += __(\n      'Copy this, add your own timeline data, and publish to the web.',\n      'p4ge'\n    );\n    url_desc += '<br>';\n    url_desc += __(\n      \"Once you have done so, use the URL from your address bar (not the one provided in Google's 'publish to web' dialog).\",\n      'p4ge'\n    );\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Timeline options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display a timeline from a Google Sheet',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label={__('Timeline Title', 'p4ge')}\n              placeholder={__('Enter title', 'p4ge')}\n              value={this.props.timeline_title}\n              onChange={this.props.onTimelineTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter description', 'p4ge')}\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label={__('Google Sheets URL', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              help=<RawHTML>{url_desc}</RawHTML>\n              value={this.props.google_sheets_url}\n              onChange={this.props.onGoogleSheetsUrlChange}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Language', 'p4ge')}\n              value={this.props.language}\n              options={languages}\n              onChange={(e) => this.props.onLanguageChange(e)}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Timeline navigation position', 'p4ge')}\n              value={this.props.timenav_position}\n              options={position}\n              onChange={(e) => this.props.onTimenavPositionChange(e)}\n            />\n          </div>\n\n          <div>\n            <CheckboxControl\n              label={__('Start at end', 'p4ge')}\n              help={__('Begin at the end of the timeline', 'p4ge')}\n              value={this.props.start_at_end}\n              checked={this.props.start_at_end}\n              onChange={(e) => this.props.onStartAtEndChange(e)}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/timeline'}\n            attributes={{\n              timeline_title: this.props.timeline_title,\n              description: this.props.description,\n              google_sheets_url: this.props.google_sheets_url,\n              language: this.props.language,\n              timenav_position: this.props.timenav_position,\n              start_at_end: this.props.start_at_end,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Timeline} from './Timeline.js';\n\nconst {__} = wp.i18n;\n\nexport class TimelineBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/timeline', {\n      title: __('Timeline', 'p4ge'),\n      icon: 'clock',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_timeline',\n            attributes: {\n              timeline_title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.timeline_title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              google_sheets_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.google_sheets_url;\n                }\n              },\n              language: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.language;\n                }\n              },\n              timenav_position: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.timenav_position;\n                }\n              },\n              start_at_end: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.start_at_end;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        timeline_title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        google_sheets_url: {\n          type: 'string',\n        },\n        language: {\n          type: 'string',\n          default: 'en',\n        },\n        timenav_position: {\n          type: 'string',\n        },\n        start_at_end: {\n          type: 'boolean',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTimelineTitleChange(value) {\n          setAttributes({timeline_title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onGoogleSheetsUrlChange(value) {\n          setAttributes({google_sheets_url: value});\n        }\n\n        function onLanguageChange(value) {\n          setAttributes({language: value});\n        }\n\n        function onTimenavPositionChange(value) {\n          setAttributes({timenav_position: value});\n        }\n\n        function onStartAtEndChange(value) {\n          setAttributes({start_at_end: value});\n        }\n\n        return <Timeline\n          {...attributes}\n          isSelected={isSelected}\n          onTimelineTitleChange={onTimelineTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onGoogleSheetsUrlChange={onGoogleSheetsUrlChange}\n          onLanguageChange={onLanguageChange}\n          onTimenavPositionChange={onTimenavPositionChange}\n          onStartAtEndChange={onStartAtEndChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import {\n  find,\n  get,\n  invoke,\n  isEmpty,\n  map,\n  throttle,\n  unescape as unescapeString,\n  uniqBy,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { FormTokenField} from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Module constants\n */\nconst DEFAULT_QUERY = {\n  per_page: -1,\n  orderby: 'count',\n  order: 'desc',\n  _fields: 'id,name',\n};\nconst MAX_TERMS_SUGGESTIONS = 20;\nconst isSameTermName = ( termA, termB ) => termA.toLowerCase() === termB.toLowerCase();\n\n/**\n * Returns a term object with name unescaped.\n * The unescape of the name property is done using lodash unescape function.\n *\n * @param {Object} term The term object to unescape.\n *\n * @return {Object} Term object with name property unescaped.\n */\nconst unescapeTerm = ( term ) => {\n  return {\n    ...term,\n    name: unescapeString( term.name ),\n  };\n};\n\n/**\n * Returns an array of term objects with names unescaped.\n * The unescape of each term is performed using the unescapeTerm function.\n *\n * @param {Object[]} terms Array of term objects to unescape.\n *\n * @return {Object[]} Array of term objects unescaped.\n */\nconst unescapeTerms = ( terms ) => {\n  return map( terms, unescapeTerm );\n};\n\n/**\n * The logic of this component was copied from https://github.com/WordPress/gutenberg/blob/master/packages/editor/src/components/post-taxonomies/flat-term-selector.js\n * initially, then the functionality of creating non-existing terms was removed from it.\n *\n * I considered extending the component instead, but that seemed inappropriate as we're not adding behavior but removing some.\n * Additionally this makes it easier to further customize this component.\n */\nclass AssignOnlyFlatTermSelector extends Component {\n  constructor() {\n    super( ...arguments );\n    this.onChange = this.onChange.bind( this );\n    this.searchTerms = throttle( this.searchTerms.bind( this ), 500 );\n    this.state = {\n      loading: ! isEmpty( this.props.terms ),\n      availableTerms: [],\n      selectedTerms: [],\n    };\n  }\n\n  componentDidMount() {\n    if ( isEmpty( this.props.terms ) ) {\n      return\n    }\n\n    this.initRequest = this.fetchTerms( {\n      include: this.props.terms.join( ',' ),\n      per_page: -1,\n    } );\n    this.initRequest.then(\n      () => {\n        this.setState( {loading: false} );\n      },\n      ( xhr ) => {\n        if ( xhr.statusText === 'abort' ) {\n          return;\n        }\n        this.setState( {\n          loading: false,\n        } );\n      }\n    );\n  }\n\n  componentWillUnmount() {\n    invoke( this.initRequest, [ 'abort' ] );\n    invoke( this.searchRequest, [ 'abort' ] );\n  }\n\n  componentDidUpdate( prevProps ) {\n    if ( prevProps.terms !== this.props.terms ) {\n      this.updateSelectedTerms( this.props.terms );\n    }\n  }\n\n  fetchTerms( params = {} ) {\n    const { taxonomy } = this.props;\n    const query = Object.assign({}, DEFAULT_QUERY, params);\n\n    const request = apiFetch( {\n      path: addQueryArgs( `/wp/v2/${ taxonomy.rest_base }`, query ),\n    } );\n    request.then( unescapeTerms ).then( ( terms ) => {\n      this.setState( ( state ) => ( {\n        availableTerms: state.availableTerms.concat(\n          terms.filter( ( term ) => ! find( state.availableTerms, ( availableTerm ) => availableTerm.id === term.id ) )\n        ),\n      } ) );\n      this.updateSelectedTerms( this.props.terms );\n    } );\n\n    return request;\n  }\n\n  updateSelectedTerms( terms = [] ) {\n    const selectedTerms = terms.reduce( ( accumulator, termId ) => {\n      const termObject = find( this.state.availableTerms, ( term ) => term.id === termId );\n      if ( termObject ) {\n        accumulator.push( termObject.name );\n      }\n\n      return accumulator;\n    }, [] );\n    this.setState( {\n      selectedTerms,\n    } );\n  }\n\n  onChange( termNames ) {\n    const uniqueTerms = uniqBy( termNames, ( term ) => term.toLowerCase() );\n    const allowedTerms = uniqueTerms.filter( ( termName ) =>\n      find( this.state.availableTerms, ( term ) => isSameTermName( term.name, termName ) )\n    );\n    this.setState( { selectedTerms: allowedTerms } );\n    const termNamesToIds = ( names, availableTerms ) => {\n      return names\n        .map( ( termName ) =>\n          find( availableTerms, ( term ) => isSameTermName( term.name, termName ) ).id\n        );\n    };\n\n    return this.props.onUpdateTerms(\n      termNamesToIds( allowedTerms, this.state.availableTerms ),\n      this.props.taxonomy.rest_base\n    );\n  }\n\n  searchTerms( search = '' ) {\n    invoke( this.searchRequest, [ 'abort' ] );\n    this.searchRequest = this.fetchTerms( { search } );\n  }\n\n  render() {\n    const { slug, taxonomy, hasAssignAction } = this.props;\n\n    if ( ! hasAssignAction ) {\n      return null;\n    }\n\n    const { loading, availableTerms, selectedTerms } = this.state;\n    const termNames = availableTerms.map( ( term ) => term.name );\n    const newTermLabel = get(\n      taxonomy,\n      [ 'labels', 'add_new_item' ],\n      slug === 'post_tag' ? __( 'Add New Tag' ) : __( 'Add New Term' )\n    );\n    const singularName = get(\n      taxonomy,\n      [ 'labels', 'singular_name' ],\n      slug === 'post_tag' ? __( 'Tag' ) : __( 'Term' )\n    );\n    const termAddedLabel = sprintf( _x( '%s added', 'term' ), singularName );\n    const termRemovedLabel = sprintf( _x( '%s removed', 'term' ), singularName );\n    const removeTermLabel = sprintf( _x( 'Remove %s', 'term' ), singularName );\n\n    return (\n      <FormTokenField\n        value={ selectedTerms }\n        suggestions={ termNames }\n        onChange={ this.onChange }\n        onInputChange={ this.searchTerms }\n        maxSuggestions={ MAX_TERMS_SUGGESTIONS }\n        disabled={ loading }\n        label={ newTermLabel }\n        messages={ {\n          added: termAddedLabel,\n          removed: termRemovedLabel,\n          remove: removeTermLabel,\n        } }\n      />\n    );\n  }\n}\n\nexport default compose(\n  withSelect( ( select, { slug } ) => {\n    const { getCurrentPost } = select( 'core/editor' );\n    const { getTaxonomy } = select( 'core' );\n    const taxonomy = getTaxonomy( slug );\n    return {\n      hasCreateAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-create-' + taxonomy.rest_base ], false ) : false,\n      hasAssignAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-assign-' + taxonomy.rest_base ], false ) : false,\n      terms: taxonomy ? select( 'core/editor' ).getEditedPostAttribute( taxonomy.rest_base ) : [],\n      taxonomy,\n    };\n  } ),\n  withDispatch( ( dispatch ) => {\n    return {\n      onUpdateTerms( terms, restBase ) {\n        dispatch( 'core/editor' ).editPost( { [ restBase ]: terms } );\n      },\n    };\n  } ),\n)( AssignOnlyFlatTermSelector );\n","import {React, Component} from 'react';\nimport {Button} from '@wordpress/components';\nimport {MediaUpload,MediaUploadCheck} from '@wordpress/editor';\n\nexport class ImageOrButton extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    if ( typeof this.props.disabled == 'undefined' ) {\n      this.props.disabled = false;\n    }\n\n    const getImageOrButton = (openEvent) => {\n      if ( this.props.imageId ) {\n\n        return (\n\n          <img\n            src={ this.props.imageUrl }\n            onClick={ openEvent }\n            className={ this.props.imgClass }\n          />\n\n        );\n      }\n      else {\n        return (\n          <div className='button-container'>\n            <Button\n              onClick={ openEvent }\n              className='button'\n              disabled={ this.props.disabled }>\n              { this.props.buttonLabel }\n            </Button>\n\n            <div>{ this.props.help }</div>\n          </div>\n        );\n      }\n    };\n\n    return <div className='ImageOrButton'>\n      <MediaUploadCheck>\n        <MediaUpload\n          title={this.props.title}\n          type='image'\n          onSelect={this.props.onSelectImage}\n          value={this.props.imageId}\n          allowedTypes={['image']}\n          render={ ({ open }) => getImageOrButton(open) }\n        />\n      </MediaUploadCheck>\n    </div>;\n  }\n}\n","import {React, Component} from 'react';\nimport {RadioControl} from '@wordpress/components';\n\nexport class LayoutSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: props.selectedOption\n    };\n    this.setSelected = this.setSelected.bind(this);\n  }\n\n  setSelected(option) {\n    this.setState({selectedOption: option});\n    this.props.onSelectedLayoutChange(option);\n  }\n\n  render() {\n    return <div className='LayoutSelector'>\n      {\n        this.props.options.map((layoutOption, i) => {\n\n          if ( 'number' == typeof layoutOption.value ) {\n            this.state.selectedOption = Number( this.state.selectedOption );\n          }\n\n          return (\n            <label className='LayoutOption' key={i}>\n              <div style={{display: 'flex'}}>\n                <RadioControl\n                  name={'layoutOption'}\n                  selected={this.state.selectedOption}\n                  options={[\n                    {value: layoutOption.value}\n                  ]}\n                  onChange={this.setSelected}\n                />\n                {layoutOption.label}\n              </div>\n              {\n                layoutOption.image\n                  ? <img src={layoutOption.image}/>\n                  : null\n              }\n              {\n                layoutOption.help\n                  ? <p className='help' dangerouslySetInnerHTML={{__html: layoutOption.help}}/>\n                  : null\n              }\n            </label>\n          )\n        })\n      }\n    </div>;\n  }\n}\n","import { React, Component } from 'react';\n\nexport class Preview extends Component {\n\trender() {\n\t\treturn <div className='Preview'>\n\t\t\t{\n\t\t\t\tthis.props.showBar\n\t\t\t\t? <div className='PreviewBar'>Preview</div>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{ this.props.children }\n\t\t</div>\n\t}\n}","import { ArticlesBlock } from './blocks/Articles/ArticlesBlock';\nimport { CarouselHeaderBlock } from './blocks/Carouselheader/CarouselHeaderBlock';\nimport { ColumnsBlock } from './blocks/Columns/ColumnsBlock';\nimport { CookiesBlock } from './blocks/Cookies/CookiesBlock';\nimport { CounterBlock } from './blocks/Counter/CounterBlock';\nimport { CoversBlock } from './blocks/Covers/CoversBlock';\nimport { GalleryBlock } from './blocks/Gallery/GalleryBlock';\nimport { HappypointBlock } from './blocks/Happypoint/HappypointBlock';\nimport { MediaBlock } from './blocks/Media/MediaBlock';\nimport { SocialmediaBlock } from './blocks/Socialmedia/SocialmediaBlock';\nimport { SocialshareBlock } from './blocks/Socialshare/SocialshareBlock';\nimport { SplittwocolumnsBlock } from './blocks/Splittwocolumns/SplittwocolumnsBlock';\nimport { SubmenuBlock } from './blocks/Submenu/SubmenuBlock';\nimport { TakeactionboxoutBlock } from './blocks/Takeactionboxout/TakeactionboxoutBlock';\nimport { TimelineBlock } from './blocks/Timeline/TimelineBlock';\n\n//Filters\nimport { addBlockFilters } from './BlockFilters';\nimport { setupImageBlockExtension } from './ImageBlockExtension';\nimport { replaceTaxonomyTermSelectors } from \"./replaceTaxonomyTermSelectors\"\nimport { addSubAndSuperscript } from './RichTextEnhancements';\n\nconst articlesBlock = new ArticlesBlock();\nconst carouselHeaderBlock = new CarouselHeaderBlock();\nconst columnsBlock = new ColumnsBlock();\nconst cookiesBlock = new CookiesBlock();\nconst counterBlock = new CounterBlock();\nconst coversBlock = new CoversBlock();\nconst galleryBlock = new GalleryBlock();\nconst happypointBlock = new HappypointBlock();\nconst mediaBlock = new MediaBlock();\nconst socialmediaBlock = new SocialmediaBlock();\nconst socailshareBlock = new SocialshareBlock();\nconst splittwocolumnsBlock = new SplittwocolumnsBlock();\nconst submenuBlock = new SubmenuBlock();\nconst takeActionBoxoutBlock = new TakeactionboxoutBlock();\nconst timelineBlock = new TimelineBlock();\n\naddBlockFilters();\naddSubAndSuperscript(window.wp);\nsetupImageBlockExtension();\nreplaceTaxonomyTermSelectors()\n","import AssignOnlyFlatTermSelector from \"./components/AssignOnlyFlatTermSelector/AssignOnlyFlatTermSelector\"\n\nfunction customizeTaxonomySelectors( OriginalComponent ) {\n  return function( props ) {\n    // For following taxonomies it should not be possible to create new terms on the post edit page\n    const isAssignOnlyTaxonomy = ['p4-page-type', 'post_tag'].includes(props.slug)\n\n    return wp.element.createElement(\n      isAssignOnlyTaxonomy ? AssignOnlyFlatTermSelector : OriginalComponent,\n      props\n    );\n  }\n\n}\n\nexport const replaceTaxonomyTermSelectors = () =>  {\n  wp.hooks.addFilter(\n    'editor.PostTaxonomyType',\n    'planet4-gutenberg-blocks',\n    customizeTaxonomySelectors\n  );\n}\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = assign;\n","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"data\"]; }());","(function() { module.exports = this[\"wp\"][\"editor\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"url\"]; }());","(function() { module.exports = this[\"lodash\"]; }());","(function() { module.exports = this[\"React\"]; }());"],"sourceRoot":""}
>>>>>>> PLANET-4448 Implemet Social Share block
>>>>>>> PLANET-4448 Implemet Social Share block
=======
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///external {\"this\":\"React\"}","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///external {\"this\":[\"wp\",\"editor\"]}","webpack:///external {\"this\":\"lodash\"}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderFront.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///external {\"this\":[\"wp\",\"data\"]}","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///external {\"this\":[\"wp\",\"url\"]}","webpack:///external {\"this\":[\"wp\",\"apiFetch\"]}","webpack:///external {\"this\":[\"wp\",\"compose\"]}","webpack:///./node_modules/@babel/runtime/helpers/objectSpread.js","webpack:///./node_modules/lodash.assign/index.js","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///./assets/src/components/Preview.js","webpack:///./assets/src/blocks/Articles/Articles.js","webpack:///./assets/src/components/LayoutSelector/LayoutSelector.js","webpack:///./assets/src/blocks/Carouselheader/ImagePlaceholder.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderImage.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderSlide.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeader.js","webpack:///./assets/src/blocks/Columns/Columns.js","webpack:///./assets/src/blocks/Columns/ColumnsBlock.js","webpack:///./assets/src/blocks/Cookies/Cookies.js","webpack:///./assets/src/blocks/Counter/Counter.js","webpack:///./assets/src/blocks/Covers/Covers.js","webpack:///./assets/src/blocks/Covers/CoversIcon.js","webpack:///./assets/src/blocks/Gallery/Gallery.js","webpack:///./assets/src/blocks/Happypoint/Happypoint.js","webpack:///./assets/src/blocks/Gallery/GalleryBlock.js","webpack:///./assets/src/blocks/Media/Media.js","webpack:///./assets/src/blocks/Media/MediaBlock.js","webpack:///./assets/src/blocks/Socialmedia/Socialmedia.js","webpack:///./assets/src/components/ImageOrButton/ImageOrButton.js","webpack:///./assets/src/blocks/Splittwocolumns/Splittwocolumns.js","webpack:///./assets/src/blocks/Submenu/MenuLevel.js","webpack:///./assets/src/blocks/Splittwocolumns/SplittwocolumnsBlock.js","webpack:///./assets/src/blocks/Submenu/Submenu.js","webpack:///./assets/src/blocks/Takeactionboxout/Takeactionboxout.js","webpack:///./assets/src/blocks/Timeline/Timeline.js","webpack:///./assets/src/blocks/Timeline/TimelineBlock.js","webpack:///./assets/src/BlockFilters.js","webpack:///./assets/src/ImageBlockExtension.js","webpack:///./assets/src/components/AssignOnlyFlatTermSelector/AssignOnlyFlatTermSelector.js","webpack:///./assets/src/replaceTaxonomyTermSelectors.js","webpack:///./assets/src/editorIndex.js","webpack:///./assets/src/blocks/Articles/ArticlesBlock.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderBlock.js","webpack:///./assets/src/blocks/Cookies/CookiesBlock.js","webpack:///./assets/src/blocks/Counter/CounterBlock.js","webpack:///./assets/src/blocks/Covers/CoversBlock.js","webpack:///./assets/src/blocks/Happypoint/HappypointBlock.js","webpack:///./assets/src/blocks/Socialmedia/SocialmediaBlock.js","webpack:///./assets/src/blocks/Submenu/SubmenuBlock.js","webpack:///./assets/src/blocks/Takeactionboxout/TakeactionboxoutBlock.js","webpack:///./assets/src/RichTextEnhancements.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js"],"names":["value","module","Object","prototype","hasOwnProperty","call","object","property","exports","this","instance","Constructor","TypeError","setPrototypeOf","subClass","superClass","create","constructor","writable","configurable","_getPrototypeOf","o","getPrototypeOf","__proto__","_typeof","assertThisInitialized","self","_defineProperties","target","props","i","length","descriptor","enumerable","defineProperty","key","protoProps","staticProps","_extends","assign","arguments","source","apply","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arr","ZoomAndSlideToGrayCarouselHeader","SLIDE_TRANSITION_SPEED","activeTransition","nextSlide","el","$el","$","$nextSlide","next","prevAll","last","previousSlide","$previousSlide","prev","nextAll","switchIndicator","index","$CarouselIndicators","children","each","toggleClass","setup","me","$CarouselHeaderWrapper","find","$Slides","on","get","currentSrc","parent","css","replace","remove","$slide","attr","appendTo","$img","img_src","data","clickTargets","evt","preventDefault","advanceCarousel","activate","carousel_element","carousel_head_hammer","Hammer","recognizers","hammer","Manager","element","swipe","Swipe","add","backwardsCarousel","event","y","window","scrollTop","animate","$nextImg","$preview","addClass","prependTo","next_img_src","$active","filter","$previous","slideIndex","eq","hasClass","clearTimeout","removeClass","$next","setTimeout","FullWidthClassicCarouselHeader","getCurrentSlideIndex","reverse","cancelAutoplayInterval","positionIndicators","setCarouselHeight","first","$currentSlide","autoplayPaused","autoplayEnabled","startAutoplayInterval","off","autoplayInterval","setInterval","clearInterval","currentIndex","$indicators","$header","isRTL","rightSide","matchMedia","matches","leftOffset","offset","left","rightOffset","width","indicatorsRight","getSlideHeight","outerHeight","$activeSlide","fadeIn","initializeCarouselHeader","ReferenceError","obj","arrayWithoutHoles","iterableToArray","nonIterableSpread","ownKeys","keys","getOwnPropertySymbols","concat","sym","getOwnPropertyDescriptor","forEach","MAX_SAFE_INTEGER","argsTag","funcTag","genTag","reIsUint","func","thisArg","args","transform","objectProto","objectToString","toString","propertyIsEnumerable","nativeKeys","arg","nativeMax","Math","max","nonEnumShadows","arrayLikeKeys","inherited","result","isArray","isObjectLike","isArrayLike","isArrayLikeObject","isArguments","n","iteratee","Array","baseTimes","String","skipIndexes","isIndex","push","assignValue","objValue","undefined","test","isPrototype","Ctor","other","isLength","tag","isObject","isFunction","type","assigner","customizer","newValue","copyObject","baseKeys","start","array","otherArgs","baseRest","sources","guard","isIterateeCall","Preview","className","showBar","Component","apiFetch","wp","addQueryArgs","url","Articles","tagTokens","tagsList","tags","includes","id","map","name","postTypeTokens","postTypesList","post_type","post_types","state","selectedPosts","populatePostsToken","posts","path","per_page","page","include","then","postsTokens","post","title","rendered","postsSuggestions","setState","postsList","tokens","search","orderby","post_status","tagIds","token","onSelectedTagsChange","postTypeIds","postType","onSelectedPostTypesChange","currentSelectedPosts","f","postIds","onSelectedPostsChange","__","i18n","tagSuggestions","postTypeSuggestions","label","placeholder","help","article_heading","onChange","onTitleChange","articles_description","onDescriptionChange","read_more_text","onReadmoretextChange","read_more_link","onReadmorelinkChange","button_link_new_tab","checked","e","onButtonLinkTabChange","article_count","onCountChange","suggestions","ignore_categories","onIgnoreCategoriesChange","onInputChange","onPostsSearch","maxLength","maxSuggestions","isSelected","renderEdit","block","attributes","LayoutSelector","selectedOption","setSelected","bind","option","onSelectedLayoutChange","options","layoutOption","Number","style","display","selected","image","src","dangerouslySetInnerHTML","__html","ImagePlaceholder","xmlns","version","viewBox","d","cx","cy","r","points","CarouselHeaderImage","onRemove","image_id","image_url","onFocalPointsChange","focal_points","imageClass","join","onSelect","allowedTypes","render","tabIndex","onClick","ev","stopPropagation","icon","focalPoints","open","onKeyDown","keyCode","role","CarouselHeaderSlide","isHidden","getMedia","media","source_url","onImageChange","toggleSlide","onImageRemove","header","onHeaderChange","header_size","onHeaderSizeChange","hasSubheader","subheader","onSubheaderChange","description","link_text","onLinkTextChange","onSubmit","link_url","onLinkUrlChange","autoFocus","link_url_new_tab","onLinkNewTabChange","CarouselHeader","refs","ssrRef","React","createRef","firstRender","collapseSlides","current","currentFetchRequest","prevProps","prevState","collapseSlide","addSlide","removeSlide","block_style","onBlockStyleChange","p4ge_vars","home","carousel_autoplay","onCarouselAutoplayChange","slides","slide","onStyleChange","ref","isPrimary","addNewSlide","disabled","isDefault","Columns","columns_title","columns_description","columns_block_style","columns","column_img","onDeleteImage","item","onColumnHeaderChange","onColumnDescriptionChange","onSelectImage","attachment","openEvent","align","text","padding","getImageOrButton","endsWith","cta_link","onCTALinkChange","link_new_tab","cta_text","onCTAButtonTextChange","addColumn","size","removeColumn","Cookies","necessary_cookies_name","onNecessaryCookiesNameChange","necessary_cookies_description","onNecessaryCookiesDescriptionChange","all_cookies_name","onAllCookiesNameChange","all_cookies_description","onAllCookiesDescriptionChange","urlQueryArgs","post_id","document","querySelector","Counter","completed","onCompletedChange","completed_api","onCompletedAPIChange","onTargetChange","onTextChange","Covers","searchTimeout","cover_type","queryArgs","post_parent","planet4_options","act_page","searchPosts","covers_view","onRowsChange","class","Gallery","gallery_block_style","gallery_block_title","gallery_block_description","multiple_image","image_data","dimensions","height","multiple_image_array","split","multiple","onRemoveImages","focalPoint","onFocalPointChange","gallery_block_focus_points","Happypoint","focus_image","opacity","mailing_list_iframe","iframe_url","focal_point_params","x","onOpacityChange","min","initialPosition","onMailingListIframeChange","onIframeUrlChange","load_iframe","Media","video_title","youtube_id","onMediaUrlChange","labels","instructions","onSelectURL","onError","onUploadError","accept","video_poster_img","Socialmedia","checkTwitterScript","checkInstagramScript","social_media_url","loadScriptAsync","initializeTwitterEmbeds","initializeInstagramEmbeds","twttr","widgets","load","instgrm","Embeds","process","uri","Promise","resolve","reject","createElement","async","onload","getElementsByTagName","appendChild","embed_type_help","embed_type","onEmbedTypeChange","facebook_page_tab","onFacebookPageTabChange","onSocialMediaUrlChange","alignment_class","onAlignmentChange","ImageOrButton","imageId","imageUrl","imgClass","buttonLabel","Splittwocolumns","tag_list","unshift","issuepage_list","issuepageList","issue","raw","select_issue","issue_description","issue_link_text","issue_link_path","issue_image","focus_issue_image","select_tag","tag_description","button_text","button_link","tag_image","focus_tag_image","issue_image_url","tag_image_url","focus_issue_image_obj","focus_tag_image_obj","onSelectIssue","onIssueTitleChange","onIssueDescriptionChange","onIssueLinkTextChange","onIssueLinkPathChange","onSelectIssueImage","onIssueImageFocalPointChange","onSelectTag","onTagDescriptionChange","onButtonTextChange","onButtonLinkChange","onSelectCampaignImage","onCampaignImageFocalPointChange","MenuLevel","heading","onHeadingChange","link","onLinkChange","Submenu","submenu_style","levels","addLevel","slice","removeLevel","Takeactionboxout","tag_ids","custom_title","custom_excerpt","custom_link","custom_link_text","custom_link_new_tab","background_image","take_action_page","actpage_list","actPageList","actPage","onSelectTakeActoinPage","isCustomised","onCustomTitleChange","takeActionPageSelected","onCustomExcerptChange","onCustomLinkChange","onCustomLinkTextChange","onCustomLinkNewTabChange","onSelectBackGroundImage","background_image_url","onRemoveBackGroundImage","Timeline","loadTimeline","TL","google_sheets_url","timenav_position","start_at_end","language","url_desc","timeline_title","onTimelineTitleChange","onGoogleSheetsUrlChange","onLanguageChange","onTimenavPositionChange","onStartAtEndChange","addFilter","hooks","addFileBlockFilter","settings","targetBlocks","captionStyleOptions","captionAlignmentOptions","addExtraAttributes","captionStyle","default","captionAlignment","addExtraControls","createHigherOrderComponent","compose","Fragment","InspectorControls","editor","withCaptionStyle","BlockEdit","initialOpen","selectedCaptionStyle","setAttributes","isLarge","DEFAULT_QUERY","order","_fields","isSameTermName","termA","termB","toLowerCase","unescapeTerm","term","unescapeString","unescapeTerms","terms","AssignOnlyFlatTermSelector","searchTerms","throttle","loading","isEmpty","availableTerms","selectedTerms","initRequest","fetchTerms","xhr","statusText","invoke","searchRequest","updateSelectedTerms","params","taxonomy","query","request","rest_base","availableTerm","reduce","accumulator","termId","termObject","termNames","allowedTerms","uniqBy","termName","names","onUpdateTerms","slug","hasAssignAction","newTermLabel","singularName","termAddedLabel","sprintf","_x","termRemovedLabel","removeTermLabel","messages","added","removed","withSelect","select","getCurrentPost","getTaxonomy","hasCreateAction","getEditedPostAttribute","withDispatch","dispatch","restBase","editPost","customizeTaxonomySelectors","OriginalComponent","isAssignOnlyTaxonomy","registerBlockType","blocks","category","transforms","from","shortcode","named","exclude_post_id","edit","hide_empty","getEntityRecords","save","supports","convert_position","position","image_1","header_1","header_size_1","subheader_1","description_1","link_text_1","link_url_1","focus_image_1","image_2","header_2","header_size_2","subheader_2","description_2","link_text_2","link_url_2","focus_image_2","image_3","header_3","header_size_3","subheader_3","description_3","link_text_3","link_url_3","focus_image_3","image_4","header_4","header_size_4","subheader_4","description_4","link_text_4","link_url_4","focus_image_4","JSON","parse","stringify","fo","title_1","column","attachment_1","link_1","link_new_tab_1","cta_text_1","title_2","attachment_2","link_2","link_new_tab_2","cta_text_2","title_3","attachment_3","link_3","link_new_tab_3","cta_text_3","title_4","attachment_4","link_4","link_new_tab_4","cta_text_4","new_columns","image_urls_array","image_id_array","img_id","img_url","media_details","sizes","medium","new_image_data","focal_points_json","isEmptyObject","parseInt","image_ids","updated_image_data","parseFloat","toFixed","background","message","console","log","sort_order","sort_column","explore_page","heading1","level","Boolean","link1","style1","heading2","link2","style2","heading3","link3","style3","superscriptIcon","subscriptIcon","richText","registerFormatType","tagName","RichTextToolbarButton","isActive","toggleFormat","addSubAndSuperscript","_arr","_n","_d","_e","_s","_i","Symbol","iterator","done","err","iter","arr2","_setPrototypeOf","p","_typeof2"],"mappings":"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","file":"editorIndex.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 24);\n","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","(function() { module.exports = this[\"React\"]; }());","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","(function() { module.exports = this[\"wp\"][\"editor\"]; }());","(function() { module.exports = this[\"lodash\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","/* global Hammer */\nconst ZoomAndSlideToGrayCarouselHeader = {\n  /**\n   * This module provides a custom slideshow mechanism for use with the header carousel.\n   * The transition behavior in this block is too complex to be easily layered upon the\n   * default bootstrap carousel.\n   */\n\n  // SLIDE_TRANSITION_SPEED should match $slide-transition-speed in _carousel_header.scss.\n  SLIDE_TRANSITION_SPEED: 500,\n  activeTransition: null,\n\n\n  /**\n   * Given an active slide return the next slide, wrapping around the end of the carousel.\n   *\n   * @param {HTMLElement|jQuery} slide A slide in the carousel.\n   * @returns {jQuery} A jQuery selection of the next slide.\n   */\n  nextSlide: function (el) {\n    const $el = $(el);\n    const $nextSlide = $el.next('.carousel-item');\n    // prevAll returns items in reverse DOM order: the first slide is the last element.\n    return $nextSlide.length ? $nextSlide : $el.prevAll('.carousel-item').last();\n  },\n\n  previousSlide: function (el) {\n    const $el = $(el);\n    const $previousSlide = $el.prev('.carousel-item');\n    return $previousSlide.length ? $previousSlide : $el.nextAll('.carousel-item').last();\n  },\n\n  // Update active slide indicators\n  switchIndicator: function (index) {\n    this.$CarouselIndicators.children().each(function (i, el) {\n      $(el).toggleClass('active', i === index);\n    });\n  },\n\n  setup: function () {\n    const me = this;\n\n    me.$CarouselHeaderWrapper = $('#carousel-wrapper-header');\n\n    me.$CarouselIndicators = me.$CarouselHeaderWrapper.find('.carousel-indicators');\n    me.$Slides = me.$CarouselHeaderWrapper.find('.carousel-item');\n\n    me.$CarouselHeaderWrapper.find('img').on('load', function () {\n      const current_img_src = $(this).get(0).currentSrc;\n      const current_bg_img = $(this).parent().css('background-image').replace(/.*\\s?url\\(['\"]?/, '').replace(/['\"]?\\).*/, '');\n      if (current_img_src !== current_bg_img) {\n        $(this).parent().css('background-image', 'url(' + $(this).get(0).currentSrc + ')');\n      }\n    });\n\n    me.$CarouselIndicators.find('li').remove(); // Empty the indicators list\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n\n      // Populate carousel indicators list\n      $('<li>')\n        .attr('data-target', '#carousel-wrapper-header')\n        .attr('data-slide-to', i)\n        .toggleClass('active', i === 0)\n        .appendTo(me.$CarouselIndicators);\n\n      // Convert the provided image tag into background image styles.\n      const $img = $slide.find('img');\n      const img_src = $img.get(0).currentSrc || $img.attr('src');\n      $slide\n        .css('background-image', 'url(' + img_src + ')')\n        .css('background-position', $img.data('background-position'));\n\n      // Populate carousel slide index\n      $slide.attr('data-slide', i);\n    });\n\n    // Bind mouse interaction events\n    let clickTargets = '.carousel-control-next';\n    if ($('html').attr('dir') == 'rtl') {\n      clickTargets += ', .carousel-control-prev';\n    }\n    me.$CarouselHeaderWrapper.on('click', clickTargets, function (evt) {\n      evt.preventDefault();\n      me.advanceCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', '.carousel-indicators li', function (evt) {\n      evt.preventDefault();\n      me.activate($(evt.target).data('slide-to'));\n    });\n\n    /* Carousel header swipe on mobile */\n    if ($('.carousel-header').length > 0 && me.$Slides.length > 1) {\n      const carousel_element = $('.carousel-header')[0];\n      const carousel_head_hammer = new Hammer(carousel_element, {recognizers: []});\n      const hammer = new Hammer.Manager(carousel_head_hammer.element);\n      const swipe = new Hammer.Swipe();\n      hammer.add(swipe);\n\n      hammer.on('swipeleft', function () {\n        me.advanceCarousel();\n      });\n\n      hammer.on('swiperight', function () {\n        me.backwardsCarousel();\n      });\n\n      // Vertical swiping on carousel should scroll the page\n      hammer.on('swipeup', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y + 200});\n      });\n      hammer.on('swipedown', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y - 200});\n      });\n    }\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n      const $nextImg = me.nextSlide($slide).find('img');\n\n      if ($nextImg.length > 0) {\n        // Add an element within the slide to hold the next slide preview.\n        const $preview = $('<div>')\n          .addClass('carousel-preview-wrap')\n          .prependTo($slide);\n\n        const next_img_src = $nextImg.get(0).currentSrc || $nextImg.attr('src');\n        $('<div>')\n          .addClass('carousel-preview')\n          .css('background-image', 'url(' + next_img_src + ')')\n          .css('background-position', $nextImg.data('background-position'))\n          .appendTo($preview);\n      }\n    });\n  },\n\n  backwardsCarousel: function () {\n    const $active = this.$Slides.filter('.active');\n    const $previous = this.previousSlide($active);\n    this.activate($previous.data('slide'));\n  },\n\n  /**\n   * Switch to a specific slide.\n   *\n   * @param {Number} slideIndex The index of a slide in the carousel.\n   */\n  activate: function (slideIndex) {\n    const me = this;\n    const $slide = me.$Slides.eq(slideIndex);\n\n    if ($slide.hasClass('active') && !$slide.hasClass('slide-over')) {\n      // If the requested slide is active and not transitioning, do nothing.\n      return;\n    }\n\n    if (me.$CarouselHeaderWrapper.data('block-style') != 'full-width-classic') {\n      if ($slide.hasClass('next')) {\n        // If the slide being requested is next, transition normally.\n        me.advanceCarousel();\n        return;\n      }\n    }\n\n    if (me.activeTransition) {\n      clearTimeout(me.activeTransition);\n    }\n\n    me.switchIndicator(slideIndex);\n\n    me.$Slides.removeClass('active next slide-over fade-out');\n    $slide.addClass('active');\n    me.nextSlide($slide).addClass('next');\n  },\n\n  /**\n   * Advance to the next slide in the carousel.\n   */\n  advanceCarousel: function () {\n    const me = this;\n    const $active = me.$Slides.filter('.active');\n\n    me.$Slides.removeClass('next');\n    const $next = me.nextSlide($active).addClass('next');\n\n    if (me.activeTransition) {\n      // A transition is in progress, so proceed to the next pair of slides\n      clearTimeout(me.activeTransition);\n      me.activeTransition = null;\n      me.$Slides.removeClass('fade-out slide-over active');\n      $next.addClass('active');\n      me.nextSlide($next).addClass('next');\n      me.advanceCarousel();\n      return;\n    }\n\n    // Transition out the active slide\n    $active.addClass('slide-over');\n\n    me.switchIndicator(me.$Slides.index($next));\n\n    // When transition is done, swap out the slides\n    me.activeTransition = setTimeout(function beginTransition() {\n      $active.addClass('fade-out');\n      me.activeTransition = setTimeout(function completeTransition() {\n        $active.removeClass('active');\n        me.$Slides.removeClass('slide-over fade-out');\n        $next.removeClass('next').addClass('active');\n        // Ensure the new upcoming slide has .next\n        me.nextSlide($next).addClass('next');\n        me.activeTransition = null;\n      }, me.SLIDE_TRANSITION_SPEED / 2);\n    }, me.SLIDE_TRANSITION_SPEED);\n  },\n};\n\nconst FullWidthClassicCarouselHeader = {\n  /**\n   * Given an active slide return the next slide, wrapping around the end of the carousel.\n   *\n   * @param {HTMLElement|jQuery} slide A slide in the carousel.\n   * @returns {jQuery} A jQuery selection of the next slide.\n   */\n  nextSlide: function (el) {\n    const $el = $(el);\n    const $nextSlide = $el.next('.carousel-item');\n    // prevAll returns items in reverse DOM order: the first slide is the last element.\n    return $nextSlide.length ? $nextSlide : $el.prevAll('.carousel-item').last();\n  },\n\n  previousSlide: function (el) {\n    const $el = $(el);\n    const $previousSlide = $el.prev('.carousel-item');\n    return $previousSlide.length ? $previousSlide : $el.nextAll('.carousel-item').last();\n  },\n\n  // Update active slide indicators\n  switchIndicator: function (index) {\n    this.$CarouselIndicators.children().each(function (i, el) {\n      $(el).toggleClass('active', i === index);\n    });\n  },\n\n  getCurrentSlideIndex: function () {\n    return this.$CarouselHeaderWrapper.find('.carousel-item.active').index();\n  },\n\n  setup: function () {\n    const me = this;\n\n    me.$CarouselHeaderWrapper = $('#carousel-wrapper-header');\n    me.$Slides = me.$CarouselHeaderWrapper.find('.carousel-item');\n\n    me.$CarouselHeaderWrapper.find('img').on('load', function () {\n      const current_img_src = $(this).get(0).currentSrc;\n      const current_bg_img = $(this).parent().css('background-image').replace(/.*\\s?url\\(['\"]?/, '').replace(/['\"]?\\).*/, '');\n      if (current_img_src !== current_bg_img) {\n        $(this).parent().css('background-image', 'url(' + $(this).get(0).currentSrc + ')');\n      }\n    });\n\n    me.$CarouselIndicators = me.$CarouselHeaderWrapper.find('.carousel-indicators');\n\n    me.$CarouselIndicators.find('li').remove(); // Empty the indicators list\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n\n      // Populate carousel indicators list\n      $('<li>')\n        .attr('data-target', '#carousel-wrapper-header')\n        .attr('data-slide-to', i)\n        .toggleClass('active', i === 0)\n        .appendTo(me.$CarouselIndicators);\n\n      // Convert the provided image tag into background image styles.\n      const $img = $slide.find('img');\n      const img_src = $img.get(0).currentSrc || $img.attr('src');\n      $slide.find('.background-holder')\n        .css('background-image', 'url(' + img_src + ')')\n        .css('background-position', $img.data('background-position'));\n\n      // Populate carousel slide index\n      $slide.attr('data-slide', i);\n    });\n\n    // Bind mouse interaction events\n    const clickTargets = ['.carousel-control-next', '.carousel-control-prev'];\n    if ($('html').attr('dir') == 'rtl') {\n      clickTargets.reverse();\n    }\n    me.$CarouselHeaderWrapper.on('click', clickTargets[0], function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.advanceCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', clickTargets[1], function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.backwardsCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', '.carousel-indicators li', function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.activate($(evt.target).data('slide-to'));\n    });\n\n    /* Carousel header swipe on mobile */\n    if ($('.carousel-header_full-width-classic').length > 0 && me.$Slides.length > 1) {\n      const carousel_element = $('.carousel-header_full-width-classic')[0];\n      const carousel_head_hammer = new Hammer(carousel_element, {recognizers: []});\n      const hammer = new Hammer.Manager(carousel_head_hammer.element);\n      const swipe = new Hammer.Swipe();\n      hammer.add(swipe);\n\n      hammer.on('swipeleft', function () {\n        me.cancelAutoplayInterval();\n        me.advanceCarousel();\n      });\n\n      hammer.on('swiperight', function () {\n        me.cancelAutoplayInterval();\n        me.backwardsCarousel();\n      });\n\n      // Vertical swiping on carousel should scroll the page\n      hammer.on('swipeup', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y + 200});\n      });\n      hammer.on('swipedown', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y - 200});\n      });\n    }\n\n    me.positionIndicators();\n    me.setCarouselHeight(me.$Slides.first());\n\n    me.$CarouselHeaderWrapper.find('.initial').on('transitionend', function () {\n      $(this).removeClass('initial');\n    });\n\n    $(window).on('resize', function () {\n      const $currentSlide = $('.carousel-item.active');\n      me.setCarouselHeight($currentSlide);\n      me.positionIndicators();\n    });\n\n    me.autoplayPaused = false;\n    me.autoplayEnabled = me.$CarouselHeaderWrapper.data('carousel-autoplay') == true;\n\n    if (me.$Slides.length > 1 && me.autoplayEnabled) {\n      me.startAutoplayInterval();\n\n      me.$CarouselHeaderWrapper.on('mouseenter', function () {\n        me.autoplayPaused = true;\n      });\n\n      me.$CarouselHeaderWrapper.on('mouseleave', function () {\n        me.autoplayPaused = false;\n      });\n    }\n\n    $(window).on('scroll', function () {\n      me.cancelAutoplayInterval();\n      $(window).off('scroll');\n    });\n  },\n\n  startAutoplayInterval: function () {\n    const me = this;\n    me.autoplayInterval = window.setInterval(function () {\n      if (!me.autoplayPaused) {\n        me.advanceCarousel();\n      }\n    }, 6000);\n  },\n\n  cancelAutoplayInterval: function () {\n    window.clearInterval(this.autoplayInterval);\n  },\n\n  /**\n   * Switch to a specific slide.\n   *\n   * @param {Number} slideIndex The index of a slide in the carousel.\n   */\n  activate: function (slideIndex) {\n    const me = this;\n    const $slide = me.$Slides.eq(slideIndex);\n    const currentIndex = me.getCurrentSlideIndex();\n\n    if (slideIndex == currentIndex) {\n      return;\n    }\n\n    if (slideIndex > currentIndex) {\n      me.advanceCarousel($slide);\n    } else {\n      me.backwardsCarousel($slide);\n    }\n  },\n\n  positionIndicators: function () {\n    const $indicators = this.$CarouselHeaderWrapper.find('.carousel-indicators');\n    const $header = this.$CarouselHeaderWrapper.find('.carousel-item.active .action-button');\n    const isRTL = $('html').attr('dir') == 'rtl';\n    const rightSide = (window.matchMedia('(min-width: 992px)').matches && isRTL)\n      || (window.matchMedia('(min-width: 768px) and (max-width: 992px)').matches && !isRTL);\n\n    if (window.matchMedia('(min-width: 768px)').matches && $header.length) {\n      let leftOffset = $header.offset().left;\n\n      if (rightSide) {\n        const rightOffset = leftOffset + (isRTL ? $header.width() : $header.parent().width());\n        const indicatorsRight = $(window).width() - rightOffset;\n        $indicators.css('right', indicatorsRight + 'px')\n          .css('left', '')\n          .css('margin-left', '0')\n          .css('margin-right', '3px'); // same as indicators x margin\n      } else {\n        leftOffset = isRTL ? $header.parent().offset().left : $header.offset().left;\n        $indicators.css('left', leftOffset + 'px')\n          .css('right', '')\n          .css('margin-right', '0')\n          .css('margin-left', '3px');\n      }\n    } else {\n      $indicators.css('right', '');\n      $indicators.css('left', '');\n    }\n  },\n\n  getSlideHeight: function ($slide) {\n    return $slide.find('.carousel-item-mask .background-holder').outerHeight() + $slide.find('.carousel-caption').outerHeight() + 'px';\n  },\n\n  setCarouselHeight: function ($currentSlide) {\n    const me = this;\n    if (window.matchMedia('(max-width: 992px)').matches) {\n      me.$CarouselHeaderWrapper.find('.carousel-inner, .carousel-item-mask').css('height', this.getSlideHeight($currentSlide));\n    } else {\n      me.$CarouselHeaderWrapper.find('.carousel-inner, .carousel-item-mask').css('height', '');\n    }\n  },\n\n  backwardsCarousel: function ($slide) {\n    const me = this;\n    const $activeSlide = me.$Slides.filter('.active');\n    let $previousSlide = null;\n    if ($slide) {\n      $previousSlide = $slide;\n    } else {\n      $previousSlide = me.previousSlide($activeSlide);\n    }\n\n    $activeSlide.addClass('slide-right');\n    $previousSlide.addClass('prev');\n\n    function unsetTransitionClasses() {\n      $activeSlide.removeClass('slide-right active');\n      $previousSlide.addClass('active').removeClass('prev');\n      $activeSlide.off('transitionend');\n    }\n\n    me.setCarouselHeight($previousSlide);\n    $activeSlide.on('transitionend', unsetTransitionClasses);\n    me.switchIndicator(me.$Slides.index($previousSlide));\n  },\n\n  /**\n   * Advance to the next slide in the carousel.\n   */\n  advanceCarousel: function ($slide) {\n    const me = this;\n    const $activeSlide = me.$Slides.filter('.active');\n    let $nextSlide = null;\n    if ($slide) {\n      $nextSlide = $slide;\n    } else {\n      $nextSlide = me.nextSlide($activeSlide);\n    }\n\n    $activeSlide.addClass('slide-left');\n    $nextSlide.addClass('next');\n\n    function unsetTransitionClasses() {\n      $activeSlide.removeClass('slide-left active');\n      $nextSlide.addClass('active').removeClass('next');\n      $activeSlide.off('transitionend');\n    }\n\n    $activeSlide.on('transitionend', unsetTransitionClasses);\n    $activeSlide.find('.btn').fadeIn();\n\n    me.setCarouselHeight($nextSlide);\n    me.switchIndicator(me.$Slides.index($nextSlide));\n  },\n};\n\nexport const initializeCarouselHeader = function() {\n  const $CarouselHeaderWrapper = $('#carousel-wrapper-header');\n  if ($CarouselHeaderWrapper.length > 0) {\n    switch ($CarouselHeaderWrapper.data('block-style')) {\n    case 'full-width-classic':\n      FullWidthClassicCarouselHeader.setup();\n      break;\n    default:\n      ZoomAndSlideToGrayCarouselHeader.setup();\n      break;\n    }\n  }\n};\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","(function() { module.exports = this[\"wp\"][\"data\"]; }());","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","(function() { module.exports = this[\"wp\"][\"url\"]; }());","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = assign;\n","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","import { React, Component } from 'react';\n\nexport class Preview extends Component {\n\trender() {\n\t\treturn <div className='Preview'>\n\t\t\t{\n\t\t\t\tthis.props.showBar\n\t\t\t\t? <div className='PreviewBar'>Preview</div>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{ this.props.children }\n\t\t</div>\n\t}\n}","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  FormTokenField,\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Articles extends Component {\n  constructor(props) {\n    super(props);\n\n    // Populate tag tokens for saved tags.\n    let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n    // Populate post types tokens for saved post types.\n    let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n    this.state = {\n      tagTokens: tagTokens,\n      postTypeTokens: postTypeTokens,\n      selectedPosts: [],\n    };\n\n    this.populatePostsToken();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  populatePostsToken() {\n\n    if (this.props.posts.length > 0) {\n\n      apiFetch(\n        {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            include: this.props.posts\n          })\n        }\n      ).then(posts => {\n        const postsTokens = posts.map(post => post.title.rendered);\n        const postsSuggestions = posts.map(post => post.title.rendered);\n        this.setState({\n            postsTokens: postsTokens,\n            postsList: posts,\n            postsSuggestions: postsSuggestions,\n            selectedPosts: posts,\n          }\n        );\n      });\n    } else {\n      this.setState(\n        {\n          postsTokens: [],\n          postsList: [],\n          postsSuggestions: [],\n          selectedPosts: [],\n        }\n      );\n    }\n  }\n\n  /**\n   * Search posts using wp api.\n   *\n   * @param tokens\n   */\n  onPostsSearch(tokens) {\n\n    apiFetch(\n      {\n        path: addQueryArgs('/wp/v2/posts', {\n          per_page: 50,\n          page: 1,\n          search: tokens,\n          orderby: 'title',\n          post_status: 'publish',\n\n        })\n      }\n    ).then(posts => {\n      let postsSuggestions = posts.map(post => post.title.rendered);\n      this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n    });\n  }\n\n  onSelectedTagsChange(tokens) {\n    const tagIds = tokens.map(token => {\n      return this.props.tagsList.filter(tag => tag.name === token)[0].id;\n    });\n    this.props.onSelectedTagsChange(tagIds);\n    this.setState({tagTokens: tokens})\n  }\n\n  onSelectedPostTypesChange(tokens) {\n    const postTypeIds = tokens.map(token => {\n      return this.props.postTypesList.filter(postType => postType.name === token)[0].id;\n    });\n    this.props.onSelectedPostTypesChange(postTypeIds);\n    this.setState({postTypeTokens: tokens})\n  }\n\n  onSelectedPostsChange(tokens) {\n    // Array to hold references to selected posts objects.\n    let currentSelectedPosts = [];\n    tokens.forEach(token => {\n      let f = this.state.postsList.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n      f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n    });\n\n    const postIds = currentSelectedPosts.map(post => post.id);\n    this.props.onSelectedPostsChange(postIds);\n    this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const tagSuggestions = this.props.tagsList.map(tag => tag.name);\n    const postTypeSuggestions = this.props.postTypesList.map(postType => postType.name);\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'p4ge')}\n            placeholder={__('Enter title', 'p4ge')}\n            help={__('Your default is set to [ Latest Articles ]', 'p4ge')}\n            value={this.props.article_heading}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'p4ge')}\n            placeholder={__('Enter description', 'p4ge')}\n            value={this.props.articles_description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label={__('Button Text', 'p4ge')}\n            placeholder={__('Override button text', 'p4ge')}\n            help={__('Your default is set to [ Load More ]', 'p4ge')}\n            value={this.props.read_more_text}\n            onChange={this.props.onReadmoretextChange}\n          />\n        </div>\n\n\n        <div>\n          <TextControl\n            label={__('Button Link', 'p4ge')}\n            placeholder={__('Add read more button link', 'p4ge')}\n            value={this.props.read_more_link}\n            onChange={this.props.onReadmorelinkChange}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Open in a new Tab', 'p4ge')}\n            help={__('Open button link in new tab', 'p4ge')}\n            value={this.props.button_link_new_tab}\n            checked={this.props.button_link_new_tab}\n            onChange={(e) => this.props.onButtonLinkTabChange(e)}\n          />\n        </div>\n\n        {\n          this.props.posts !== 'undefined' && this.props.posts.length === 0\n            ?\n            <Fragment>\n              <div>\n                <TextControl\n                  label={__('Articles count', 'p4ge')}\n                  help={__('Number of articles', 'p4ge')}\n                  type=\"number\"\n                  value={this.props.article_count}\n                  onChange={this.props.onCountChange}\n                />\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label={__('Select Tags', 'p4ge')}\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                />\n                <p className='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.postTypeTokens}\n                  suggestions={postTypeSuggestions}\n                  label={__('Post Types', 'p4ge')}\n                  onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                />\n              </div>\n              <div className=\"ignore-categories-wrapper\">\n                <CheckboxControl\n                  label={__('Ignore categories', 'p4ge')}\n                  help={__('Ignore categories when filtering posts to populate the content of this block', 'p4ge')}\n                  value={this.props.ignore_categories}\n                  checked={this.props.ignore_categories}\n                  onChange={(e) => this.props.onIgnoreCategoriesChange(e)}\n                />\n              </div>\n            </Fragment>\n            : null\n        }\n\n        {\n          (this.props.tags.length === 0 && this.props.post_types.length === 0)\n            ? <div>\n              <hr/>\n              <label>{__('Manual override', 'p4ge')}</label>\n              <FormTokenField\n                value={this.state.postsTokens}\n                suggestions={this.state.postsSuggestions}\n                label={__('CAUTION: Adding articles individually will override the automatic functionality of this block. For good user experience, please include at least three articles so that spacing and alignment of the design remains in tact.', 'p4ge')}\n                onChange={tokens => this.onSelectedPostsChange(tokens)}\n                onInputChange={tokens => this.onPostsSearch(tokens)}\n                placeholder=\"Select Posts\"\n                maxLength=\"10\"\n                maxSuggestions=\"20\"\n              />\n            </div>\n            : null\n        }\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/articles'}\n            attributes={{\n              read_more_text: this.props.read_more_text,\n              read_more_link: this.props.read_more_link,\n              tags: this.props.tags,\n              post_types: this.props.post_types,\n              posts: this.props.posts,\n              article_heading: this.props.article_heading,\n              articles_description: this.props.articles_description,\n              article_count: this.props.article_count,\n              ignore_categories: this.props.ignore_categories,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {React, Component} from 'react';\nimport {RadioControl} from '@wordpress/components';\n\nexport class LayoutSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: props.selectedOption\n    };\n    this.setSelected = this.setSelected.bind(this);\n  }\n\n  setSelected(option) {\n    this.setState({selectedOption: option});\n    this.props.onSelectedLayoutChange(option);\n  }\n\n  render() {\n    return <div className='LayoutSelector'>\n      {\n        this.props.options.map((layoutOption, i) => {\n\n          if ( 'number' == typeof layoutOption.value ) {\n            this.state.selectedOption = Number( this.state.selectedOption );\n          }\n\n          return (\n            <label className='LayoutOption' key={i}>\n              <div style={{display: 'flex'}}>\n                <RadioControl\n                  name={'layoutOption'}\n                  selected={this.state.selectedOption}\n                  options={[\n                    {value: layoutOption.value}\n                  ]}\n                  onChange={this.setSelected}\n                />\n                {layoutOption.label}\n              </div>\n              {\n                layoutOption.image\n                  ? <img src={layoutOption.image}/>\n                  : null\n              }\n              {\n                layoutOption.help\n                  ? <p className='help' dangerouslySetInnerHTML={{__html: layoutOption.help}}/>\n                  : null\n              }\n            </label>\n          )\n        })\n      }\n    </div>;\n  }\n}\n","import {React, Component} from 'react';\n\nexport default class ImagePlaceholder extends Component {\n  render() {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 512 376\">\n      <path d=\"M0,0v376h512V0H0z M480,344H32V32h448V344z\"/>\n      <circle cx=\"409.1\" cy=\"102.9\" r=\"40.9\"/>\n      <polygon\n        points=\"480,344 32,344 118.3,179.8 140,191.1 189,113.8 289,226.9 297.9,217.6 315,239.9 341,193.5 393.9,264.7 409,248.8\"/>\n    </svg>\n  }\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Dashicon,\n  FocalPointPicker\n} from '@wordpress/components';\nimport {MediaUpload} from \"@wordpress/editor\";\nimport ImagePlaceholder from './ImagePlaceholder';\n\nexport class CarouselHeaderImage extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {onChange, onRemove, image_id, image_url, onFocalPointsChange, focal_points} = this.props;\n    let   hasRemove = true;\n\n    let imageClass = [];\n    if (!image_url) {\n      imageClass.push('ch-image-upload-placeholder');\n      imageClass.push('ch-image-upload-has-placeholder');\n    } else {\n      imageClass.push('carousel-header-image-container');\n    }\n    imageClass = imageClass.join(' ');\n\n\n    return (\n      <Fragment>\n        <MediaUpload\n          onSelect={onChange}\n          allowedTypes={['image']}\n          value={image_id}\n          render={obj => {\n            if (image_url) {\n              return (\n                <div\n                  className={imageClass}\n                  tabIndex={0}\n                >\n                  {image_url && onRemove && hasRemove && (\n                    <button className=\"ch-image-upload-remove\" onClick={ev => {\n                      onRemove();\n                      ev.stopPropagation()\n                    }}><Dashicon icon=\"no\"/></button>\n                  )}\n                  <FocalPointPicker\n                    url={image_url}\n                    value={focal_points}\n                    onChange={(focalPoints) => onFocalPointsChange(focalPoints)}\n                  />\n\n                </div>\n              )\n            }\n            return (\n              <div\n                className={imageClass}\n                onClick={obj.open}\n                onKeyDown={event => {\n                  if (event.keyCode === 13) {\n                    obj.open()\n                  }\n                }}\n                role=\"button\"\n                tabIndex={0}\n                >\n                {image_url && onRemove && hasRemove && (\n                  <button className=\"ch-image-upload-remove\" onClick={ev => {\n                    onRemove();\n                    ev.stopPropagation()\n                  }}><Dashicon icon=\"no\"/></button>\n                )}\n                <ImagePlaceholder/>\n              </div>\n            )\n          }}\n        />\n\n      </Fragment>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  Dashicon,\n  SelectControl,\n  TextareaControl,\n  TextControl,\n  ToggleControl\n} from '@wordpress/components';\nimport {URLInput} from '@wordpress/block-editor'\nimport {CarouselHeaderImage} from \"./CarouselHeaderImage\";\n\nconst {apiFetch} = wp;\n\nexport class CarouselHeaderSlide extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      image_id: null,\n      image_url: null,\n      focal_points: props.focal_points,\n      isHidden: false,\n    };\n    this.getMedia();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  getMedia() {\n\n    if (this.props.image) {\n\n      apiFetch(\n        {\n          path: `/wp/v2/media/${this.props.image}`\n        }\n      ).then(media => {\n        this.setState({\n          image_id: media.id,\n          image_url: media.source_url\n        });\n      });\n    }\n  }\n\n  onImageChange(image) {\n    this.props.onImageChange(this.props.index, image.id);\n    this.setState({image_id: image.id, image_url: image.url});\n  }\n\n  onImageRemove() {\n    this.props.onImageChange(this.props.index, null);\n    this.setState({image_id: null, image_url: null});\n  }\n\n  onFocalPointsChange(value) {\n    this.props.onFocalPointsChange(this.props.index, value);\n    this.setState({focal_points: value});\n  }\n\n  collapseSlide() {\n    this.setState({isHidden: true});\n  }\n\n  openSlide() {\n    this.setState({isHidden: false});\n  }\n\n  toggleSlide() {\n    this.setState({isHidden: !this.state.isHidden});\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div className={this.state.isHidden ? '' : 'carousel-header-slide-container'}>\n          <div onClick={ev => this.toggleSlide()} className='slide-number-row'>\n            <span>\n              {__('Slide', 'p4ge')} {this.props.index + 1}\n            </span>\n            <span className={this.state.isHidden ? 'slide-arrow' : 'slide-arrow slide-open'}>\n              <Dashicon icon=\"arrow-down-alt2\"/>\n            </span>\n          </div>\n\n          {!this.state.isHidden &&\n\n          <Fragment>\n            <div className='carousel-header-slide-options-wrapper'>\n              <div>{__('Select image and focal point', 'p4ge')}</div>\n              <CarouselHeaderImage\n                image_id={this.state.image_id}\n                image_url={this.state.image_url}\n                focal_points={this.state.focal_points}\n                onRemove={() => this.onImageRemove()}\n                onChange={(image) => this.onImageChange(image)}\n                onFocalPointsChange={(f) => this.onFocalPointsChange(f)}\n              />\n              <div className=\"ch-url-input-control__wrapper\">\n\n                <TextControl\n                  className=\"carouselh-header-input\"\n                  label={__('Header', 'p4ge')}\n                  placeholder={__('Enter header', 'p4ge')}\n                  value={this.props.header}\n                  onChange={(e) => this.props.onHeaderChange(this.props.index, e)}\n                />\n                <SelectControl\n                  label={__('Header text size', 'p4ge')}\n                  value={this.props.header_size}\n                  options={[\n                    {label: 'h1', value: 'h1'},\n                    {label: 'h2', value: 'h2'},\n                    {label: 'h3', value: 'h3'},\n                  ]}\n                  onChange={(e) => this.props.onHeaderSizeChange(this.props.index, e)}\n                />\n              </div>\n              {this.props.hasSubheader &&\n              <TextControl\n                label={__('Subheader', 'p4ge')}\n                placeholder={__('Enter subheader', 'p4ge')}\n                value={this.props.subheader}\n                onChange={(e) => this.props.onSubheaderChange(this.props.index, e)}\n              />\n              }\n              <TextareaControl\n                label={__('Description', 'p4ge')}\n                placeholder={__('Enter description of image', 'p4ge')}\n                value={this.props.description}\n                onChange={(e) => this.props.onDescriptionChange(this.props.index, e)}\n              />\n              <div className=\"ch-url-input-control__wrapper\">\n\n                <TextControl\n                  label={__('Link text and url', 'p4ge')}\n                  placeholder={__('Enter link text for image', 'p4ge')}\n                  value={this.props.link_text}\n                  onChange={(e) => this.props.onLinkTextChange(this.props.index, e)}\n                  className='carousel-header-link-text-input'\n                />\n                <form\n                  className=\"ch-url-input-control\"\n                  onSubmit={event => event.preventDefault()}>\n                  <div className=\"ch-url-input-control__wrapper\">\n                    <URLInput\n                      label={__('Url for link', 'p4ge')}\n                      className=\"ch-url-input-control__input\"\n                      value={this.props.link_url}\n                      onChange={(e) => this.props.onLinkUrlChange(this.props.index, e)}\n                      autoFocus={false}\n                    />\n                    <div className=\"ch-url-input-control__new-tab\">\n                      <ToggleControl\n                        help={__('New Tab', 'p4ge')}\n                        checked={this.props.link_url_new_tab}\n                        onChange={(e) => this.props.onLinkNewTabChange(this.props.index, e)}\n                      />\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </Fragment>\n          }\n        </div>\n      </Fragment>\n    );\n  };\n}\n","import React, {Component, Fragment} from 'react';\nimport {\n  Button,\n  CheckboxControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {CarouselHeaderSlide} from \"./CarouselHeaderSlide\";\nimport {initializeCarouselHeader} from \"./CarouselHeaderFront\";\n\nexport class CarouselHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.refs = [];\n    this.ssrRef = React.createRef();\n    this.firstRender = true;\n  }\n\n  componentDidMount() {\n    this.collapseSlides();\n    if (this.ssrRef.current && this.ssrRef.current.currentFetchRequest) {\n      // Get ServerSideRender component fetch request and attach resolve function.\n      this.ssrRef.current.currentFetchRequest.then(function () {\n        setTimeout(function () {\n          initializeCarouselHeader();\n        }, 1000);\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.firstRender) {\n      this.collapseSlides();\n      this.firstRender = false;\n    }\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (this.ssrRef.current && this.ssrRef.current.currentFetchRequest) {\n      this.ssrRef.current.currentFetchRequest.then(function() {\n        setTimeout(function () {\n          initializeCarouselHeader();\n        }, 1000);\n      });\n    }\n  }\n\n  /**\n   * Collapse all active slides.\n   */\n  collapseSlides() {\n    let refs = this.refs;\n    Object.keys(this.refs).forEach(function (index) {\n      if (null !== refs[index]) {\n        refs[index].collapseSlide();\n      }\n    }.bind(refs));\n  }\n\n  /**\n   * Add new slide to carousel header.\n   */\n  addNewSlide() {\n    this.collapseSlides();\n    this.props.addSlide();\n  }\n\n  /**\n   * Remove slide to carousel header.\n   */\n  removeSlide() {\n    this.props.removeSlide();\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h3>{__('What style of carousel do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.block_style}\n            onSelectedLayoutChange={this.props.onBlockStyleChange}\n            options={[\n              {\n                label: __('Zoom and slide to gray', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/carousel-with-preview.png',\n                value: 'zoom-and-slide-to-gray',\n                help: __('This carousel provides a fancy transition, and a preview for the next slide in an oblique shape.')\n              }, {\n                label: __('Full width classic', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/carousel-classic.png',\n                value: 'full-width-classic',\n                help: __('This is a full width slider with a classic look: big slides, fade transition, and no subheaders.'),\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Carousel Autoplay', 'p4ge')}\n            help={__('Select to trigger images autoslide', 'p4ge')}\n            value={this.props.carousel_autoplay}\n            checked={this.props.carousel_autoplay}\n            onChange={(e) => this.props.onCarouselAutoplayChange(e)}\n          />\n        </div>\n\n        {this.props.slides.map((slide, i) => {\n          return (\n            <Fragment>\n              <CarouselHeaderSlide\n                {...slide}\n                onImageChange={this.props.onImageChange}\n                onHeaderChange={this.props.onHeaderChange}\n                onHeaderSizeChange={this.props.onHeaderSizeChange}\n                onSubheaderChange={this.props.onSubheaderChange}\n                onDescriptionChange={this.props.onDescriptionChange}\n                onLinkTextChange={this.props.onLinkTextChange}\n                onLinkUrlChange={this.props.onLinkUrlChange}\n                onLinkNewTabChange={this.props.onLinkNewTabChange}\n                onStyleChange={this.props.onStyleChange}\n                onFocalPointsChange={this.props.onFocalPointsChange}\n                hasSubheader={this.props.block_style !== 'full-width-classic'}\n                index={i}\n                key={i}\n                ref={(instance) => {\n                  this.refs[i] = instance\n                }}\n              />\n            </Fragment>\n          );\n        })}\n\n        <div className='carousel-header-add-remove-slide'>\n          <Button isPrimary\n                  onClick={this.addNewSlide.bind(this)}\n                  disabled={this.props.slides.length >= 4}\n          >\n            Add Slide\n          </Button>\n          <Button isDefault\n                  onClick={this.removeSlide.bind(this)} disabled={this.props.slides.length <= 1}\n          >\n            Remove Slide\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          {\n            this.props.slides.length && this.props.slides[0].image > 0\n            ? <ServerSideRender\n                block={'planet4-blocks/carousel-header'}\n                attributes={{\n                  block_style: this.props.block_style,\n                  carousel_autoplay: this.props.carousel_autoplay,\n                  slides: this.props.slides,\n                }}\n                ref={this.ssrRef}\n              >\n              </ServerSideRender>\n            : <div>Not enough data available to render the block yet.</div>\n          }\n\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import { React } from 'react';\nimport {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender,\n  Dashicon,\n  Tooltip,\n  ToggleControl, Button\n} from '@wordpress/components';\nimport {MediaPlaceholder, MediaUpload, MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Columns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {columns_title,columns_description,columns_block_style,columns,column_img,onDeleteImage} = this.props;\n\n      const getImageOrButton = (openEvent, index) => {\n        if ( columns[index] && columns[index]['attachment'] && ( 0 <  columns[index]['attachment'] ) ) {\n\n          return (\n\n            <div align='center'>\n              <div>{__('Column %s: Image', 'p4ge').replace('%s', index+1)}</div>\n              <div className=\"img-wrap\">\n                <Tooltip text={__('Remove Column Image', 'p4ge')}>\n                  <span className=\"close\" onClick={ev => {\n                    onDeleteImage(index);\n                    ev.stopPropagation()\n                  }}>&times;</span>\n                </Tooltip>\n              <img\n                src={ column_img[columns[index]['attachment']] }\n                onClick={ openEvent }\n                className='Columns__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n              </div>\n            </div>\n\n          );\n        }\n        else {\n\n          return (\n            <div className='column-img-btn-container'>\n              <div className='column-img-label'>{__('Column %s: Image', 'p4ge').replace('%s', index+1)}</div>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Column %s: Image', 'p4ge').replace('%s', index+1)}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <h3>{__('What style of column do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={columns_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('No Image', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-no_images.jpg',\n                  value: 'no_image',\n                  help: __('Optional headers, description text and buttons in a column display.', 'p4ge')\n                },\n                {\n                  label: __('Tasks', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-tasks.jpg',\n                  value: 'tasks',\n                  help: __('Used on Take Action pages, this display has ordered tasks, and call to action buttons.', 'p4ge')\n                },\n                {\n                  label: __('Icons', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-icons.jpg',\n                  value: 'icons',\n                  help: __('For more static content, this display has an icon, header, description and text link.', 'p4ge')\n                },\n                {\n                  label: __('Images', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-images.jpg',\n                  value: 'image',\n                  help: __('For more static content, this display has an image, header, description and text link.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter block title', 'p4ge')}\n              value={columns_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter block description', 'p4ge')}\n              value={columns_description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n          <div>\n\n            {columns.map((item, index) => {\n              return (\n                <div key={index}>\n                  <div><hr /></div>\n                  { !item.title && !item.description &&\n                   <div><b>{__('Please provide a header or a body for this column to be displayed.', 'p4ge')}</b></div>\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Header', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter header of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.title}\n                    onChange={this.props.onColumnHeaderChange.bind(this,index)}\n                  />\n                  <TextareaControl\n                    label={__('Column %s: Body', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter body of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.description}\n                    onChange={this.props.onColumnDescriptionChange.bind(this,index)}\n                  />\n\n                  { 'no_image' != columns_block_style &&\n                    <div className='components-base-control'>\n                      <MediaUploadCheck>\n                        <MediaUpload\n                          type='image'\n                          onSelect={this.props.onSelectImage.bind(this,index)}\n                          value={item.attachment}\n                          allowedTypes={columns_block_style === 'icons' ? ['image/png'] : ['image']}\n                          render={ ({ open }) => getImageOrButton(open, index) }\n                        />\n                      </MediaUploadCheck>\n                      { columns_block_style === 'icons' && item.attachment > 0 && typeof column_img[item.attachment] !== 'undefined' && !column_img[item.attachment].endsWith('.png') &&\n                       <div><b>{__('Please select another image for this column, as the current image is not an icon and you have chosen columns style icons. ', 'p4ge')}</b></div>\n                      }\n                    </div>\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Button/CtA Link', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_link}\n                    onChange={this.props.onCTALinkChange.bind(this,index)}\n                  />\n                  <ToggleControl\n                    label={__('Open link in new tab', 'p4ge')}\n                    help={__('Open Column %s: Button/CtA Link in a new tab', 'p4ge').replace('%s', index+1)}\n                    value={item.link_new_tab}\n                    checked={item.link_new_tab}\n                    onChange={this.props.onLinkNewTabChange.bind(this,index)}\n                  />\n                  <TextControl\n                    label={__('Column %s: Button/CtA Text', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter text of button/link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_text}\n                    onChange={this.props.onCTAButtonTextChange.bind(this,index)}\n                  />\n                </div>\n              );\n            })}\n\n            { columns.length < 4 && (\n              <Tooltip text={__('Add Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__addIcon\"\n                  }\n                  onClick={this.props.addColumn}\n                >\n                  {__('Add Column', 'p4ge')} <Dashicon icon={\"plus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n\n            { columns.length > 0 && (\n              <Tooltip text={__('Remove Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__removeIcon\"\n                  }\n                  onClick={this.props.removeColumn}\n                >\n                  {__('Remove Column', 'p4ge')} <Dashicon icon={\"minus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/columns'}\n                  attributes={{\n                    columns_block_style: this.props.columns_block_style,\n                    columns_title: this.props.columns_title,\n                    columns_description: this.props.columns_description,\n                    columns: this.props.columns,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Columns} from './Columns.js';\nimport {withSelect} from '@wordpress/data';\n\nconst {__} = wp.i18n;\n\nexport class ColumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/columns', {\n        title: __('Columns', 'p4ge'),\n        icon: \"grid-view\",\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_columns columns_block_style=\"image\" columns_title=\"Lorem Ipsum\" columns_description=\"Lorem Ipsum\"\n         *                    title_1=\"col1\" description_1=\"col1 body\" attachment_1=\"5096\" link_1=\"cta link1\" link_new_tab_1=\"true\" cta_text_1=\"cta text\"\n         *                    title_2=\"col2\" description_2=\"col2 body\" attachment_2=\"5186\" link_2=\"cta link2\" link_new_tab_2=\"true\" cta_text_2=\"cta text 2\" link_new_tab_3=\"false\" link_new_tab_4=\"false\" /]\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/columns {\"columns_block_style\":\"image\",\"columns_title\":\"Lorem Ipsum\",\"columns_description\":\"Lorem Ipsum\",\n         *      \"columns\":[{\"title\":\"col1\",\"description\":\"col1 body\",\"attachment\":5096,\"cta_link\":\"cta link1\",\"cta_text\":\"cta text 1\",\"link_new_tab\":true},{\"title\":\"col2\",\"description\":\"col2 body\",\"attachment\":5186,\"cta_link\":\"cta link2\",\"cta_text\":\"cta text 2\",\"link_new_tab\":true}]} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_columns',\n              attributes: {\n                columns_block_style: {\n                  type: 'string',\n                  shortcode: ({named: {columns_block_style = ''}}) => columns_block_style,\n                },\n                columns_title: {\n                  type: 'string',\n                  shortcode: ({named: {columns_title = ''}}) => columns_title,\n                },\n                columns_description: {\n                  type: 'string',\n                  shortcode: ({named: {columns_description = ''}}) => columns_description,\n                },\n                columns: {\n                  type: 'array',\n                  shortcode: function (attributes) {\n                    let columns = [];\n                    if (attributes.named.title_1) {\n                      let column = {\n                        title: attributes.named.title_1,\n                        description: attributes.named.description_1 || ''\n                      };\n                      if (attributes.named.columns_block_style !== 'no_image') {\n                        column.attachment = attributes.named.attachment_1 || false;\n                      }\n                      column.cta_link = attributes.named.link_1 || '';\n                      column.link_new_tab = attributes.named.link_new_tab_1 || false;\n                      column.cta_text = attributes.named.cta_text_1 || '';\n                      columns.push(Object.assign({}, column));\n\n                      if (attributes.named.title_2) {\n                        let column = {\n                          title: attributes.named.title_2,\n                          description: attributes.named.description_2 || ''\n                        };\n                        if (attributes.named.columns_block_style !== 'no_image') {\n                          column.attachment = attributes.named.attachment_2 || false;\n                        }\n                        column.cta_link = attributes.named.link_2 || '';\n                        column.link_new_tab = attributes.named.link_new_tab_2 || false;\n                        column.cta_text = attributes.named.cta_text_2 || '';\n                        columns.push(Object.assign({}, column));\n\n\n                        if (attributes.named.title_3) {\n                          let column = {\n                            title: attributes.named.title_3,\n                            description: attributes.named.description_3 || ''\n                          };\n                          if (attributes.named.columns_block_style !== 'no_image') {\n                            column.attachment = attributes.named.attachment_3 || false;\n                          }\n                          column.cta_link = attributes.named.link_3 || '';\n                          column.link_new_tab = attributes.named.link_new_tab_3 || false;\n                          column.cta_text = attributes.named.cta_text_3 || '';\n                          columns.push(Object.assign({}, column));\n\n                          if (attributes.named.title_4) {\n                            let column = {\n                              title: attributes.named.title_4,\n                              description: attributes.named.description_4 || ''\n                            };\n                            if (attributes.named.columns_block_style !== 'no_image') {\n                              column.attachment = attributes.named.attachment_4 || false;\n                            }\n                            column.cta_link = attributes.named.link_4 || '';\n                            column.link_new_tab = attributes.named.link_new_tab_4 || false;\n                            column.cta_text = attributes.named.cta_text_4 || '';\n                            columns.push(Object.assign({}, column));\n                          }\n                        }\n                      }\n                    }\n                    return columns;\n                  },\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          columns_block_style: {\n            type: 'string',\n          },\n          columns_title: {\n            type: 'string'\n          },\n          columns_description: {\n            type: 'string'\n          },\n          columns: {\n            type: \"array\",\n            default: [],\n            title:{\n              type: 'string'\n            },\n            description:{\n              type: 'string'\n            },\n            attachment:{\n              type: 'integer'\n            },\n            cta_link:{\n              type: 'string'\n            },\n            link_new_tab:{\n              type: 'string'\n            },\n            cta_text:{\n              type: 'string'\n            },\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { columns } = attributes;\n          let column_img = [];\n\n          if ( columns && 0 < columns.length ) {\n\n            for ( let column of columns ) {\n              if ( column['attachment'] && ( 0 < column['attachment'] ) ) {\n\n                let media_details = select('core').getMedia( column['attachment'] );\n                if (media_details) {\n                  column_img[column['attachment']] = select('core').getMedia( column['attachment'] ).source_url;\n                }\n              }\n            }\n          }\n\n          return { column_img };\n\n        } )( ( { isSelected, attributes, setAttributes, column_img} ) => {\n\n          function onTitleChange(value) {\n            setAttributes({columns_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({columns_description: value});\n          }\n\n          function onSelectImage(index, value) {\n            let {id}          = value;\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].attachment = id;\n            setAttributes({columns});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({columns_block_style: value});\n\n            if ( 'no_image' === value ) {\n              const {columns} = attributes;\n              if ( 0 < columns.length ) {\n                let new_columns = [...columns];\n                let i;\n                for ( i = 0; i < columns.length; i++ ) {\n                  new_columns[i]['attachment'] = 0;\n                }\n                setAttributes({columns: new_columns});\n              }\n            }\n          }\n\n          function addColumn() {\n            const {columns} = attributes;\n\n            if ( columns.length < 4 ) {\n              setAttributes({\n                columns: [...columns, {\n                  title:'',\n                  description:'',\n                  attachment:0,\n                  cta_link:'',\n                  cta_text:'',\n                  link_new_tab:'',\n                }]\n              });\n            }\n          }\n\n          function removeColumn() {\n            setAttributes({columns: attributes.columns.slice(0, -1) });\n          }\n\n          function onColumnHeaderChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].title = value;\n            setAttributes({columns});\n          }\n\n          function onColumnDescriptionChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].description = value;\n            setAttributes({columns});\n          }\n\n          function onCTALinkChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_link = value;\n            setAttributes({columns});\n          }\n\n          function onLinkNewTabChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].link_new_tab = value;\n            setAttributes({columns});\n          }\n\n          function onCTAButtonTextChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_text = value;\n            setAttributes({columns});\n          }\n\n          function onDeleteImage(index) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].attachment = 0;\n            setAttributes({columns});\n          }\n\n          return <Columns\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onSelectImage={onSelectImage}\n            addColumn={addColumn}\n            removeColumn={removeColumn}\n            onColumnHeaderChange={onColumnHeaderChange}\n            onColumnDescriptionChange={onColumnDescriptionChange}\n            onCTALinkChange={onCTALinkChange}\n            onLinkNewTabChange={onLinkNewTabChange}\n            onCTAButtonTextChange={onCTAButtonTextChange}\n            column_img={column_img}\n            onDeleteImage={onDeleteImage}\n          />\n        } ),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\nexport class Cookies extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Cookies options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display opt-in options for cookies',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={this.props.title}\n              onChange={this.props.onTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"Necessary Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.necessary_cookies_name}\n              onChange={this.props.onNecessaryCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Necessary Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.necessary_cookies_description}\n              onChange={this.props.onNecessaryCookiesDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"All Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.all_cookies_name}\n              onChange={this.props.onAllCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"All Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.all_cookies_description}\n              onChange={this.props.onAllCookiesDescriptionChange}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/cookies'}\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              necessary_cookies_name: this.props.necessary_cookies_name,\n              necessary_cookies_description: this.props.necessary_cookies_description,\n              all_cookies_name: this.props.all_cookies_name,\n              all_cookies_description: this.props.all_cookies_description,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import { React, Component } from 'react';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nexport class Counter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const { __ } = wp.i18n;\n\n    return (\n      <div>\n        <h3>{ __('What style of counter do you need?', 'p4ge') }</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={ this.props.style }\n            onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n            options={[\n              {\n                label: __('Text Only', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_text.png',\n                value: 'plain',\n                help: __('Text to describe your progress', 'p4ge')\n              },\n              {\n                label: __('Progress Bar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'bar',\n                help: __('A bar to visualise the progress.', 'p4ge'),\n              },\n              {\n                label: __('Progress Dial', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_arc.png',\n                value: 'arc',\n                help: __('A dial to visualise the progress.', 'p4ge')\n              },\n              {\n                label: __('Progress bar inside EN Form', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'en-forms-bar',\n                help: __('A bar inside an En Form. Select this only if you are adding an EN Form to the same page.', 'p4ge')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Title', 'p4ge') }\n            placeholder= { __('Enter title', 'p4ge') }\n            value={ this.props.title }\n            onChange={ this.props.onTitleChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Description', 'p4ge') }\n            placeholder= { __('Enter description', 'p4ge') }\n            value={ this.props.description }\n            onChange={ this.props.onDescriptionChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed', 'p4ge') }\n            placeholder= { __('e.g. number of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.completed }\n            onChange={ this.props.onCompletedChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed API URL', 'p4ge') }\n            placeholder= { __('API URL of completed number. If filled in will overide the \\'Completed\\' field', 'p4ge') }\n            value={ this.props.completed_api }\n            onChange={ this.props.onCompletedAPIChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Target', 'p4ge') }\n            placeholder= { __('e.g. target no. of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.target }\n            onChange={ this.props.onTargetChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Text', 'p4ge') }\n            placeholder= { __('e.g. \"signatures collected of %target%\"', 'p4ge') }\n            value={ this.props.text }\n            onChange={ this.props.onTextChange }\n          />\n          <p className='FieldHelp'>These placeholders can be used: <code>%completed%</code>, <code>%target%</code>, <code>%remaining%</code> </p>\n        </div>\n\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={ this.props.isSelected }>\n          <ServerSideRender\n            block={ 'planet4-blocks/counter' }\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              style: this.props.style,\n              completed: this.props.completed,\n              completed_api: this.props.completed_api,\n              target: this.props.target,\n              text: this.props.text,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n};","import React, { Component } from 'react';\n\nimport {\n  FormTokenField,\n  SelectControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\n\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Covers extends Component {\n    constructor(props) {\n      super(props);\n\n      // Populate tag tokens for saved tags.\n      let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n      // Populate post types tokens for saved post types.\n      let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n      // Populate component state with block's saved tags tokens and post type tokens\n      this.state = {\n        tagTokens: tagTokens,\n        postTypeTokens: postTypeTokens,\n        selectedPosts: [],\n      };\n\n      this.populatePostsToken();\n      this.searchTimeout = null;\n    }\n\n    static getDerivedStateFromProps(props, state) {\n\n      // Post types should be available for cover_type 3\n      // If cover_type is not 3, reset post types tokens.\n      if ('1' === props.cover_type || '2' === props.cover_type) {\n        state.postTypeTokens= [];\n      }\n\n      // If posts attribute was reset, reset also the posts tokens.\n      if (0 === props.posts.length) {\n        state.postsTokens= [];\n      }\n      return state;\n    }\n\n\n    /**\n     * Set component's state for existing blocks.\n     */\n    populatePostsToken() {\n\n      if (this.props.posts.length > 0) {\n\n        let post_type = this.props.cover_type === '1' ? 'pages' : 'posts';\n        apiFetch(\n          {\n            path: addQueryArgs('/wp/v2/'+ post_type, {\n              per_page: 50,\n              page: 1,\n              include: this.props.posts\n            })\n          }\n        ).then(posts => {\n          const postsTokens = posts.map(post => post.title.rendered);\n          const postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({\n              postsTokens: postsTokens,\n              postsList: posts,\n              postsSuggestions: postsSuggestions,\n              selectedPosts: posts,\n            }\n          );\n        });\n      } else {\n        this.setState(\n          {\n            postsTokens: [],\n            postsList: [],\n            postsSuggestions: [],\n            selectedPosts: [],\n          }\n        );\n      }\n    }\n\n    /**\n     * Search posts using wp api.\n     *\n     * @param tokens\n     */\n    searchPosts(tokens) {\n\n      let queryArgs;\n      if ('1' === this.props.cover_type) {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/pages', {\n            per_page: -1,\n            post_type: 'page',\n            post_parent: window.p4ge_vars.planet4_options.act_page,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      } else {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      }\n\n\n      apiFetch(queryArgs)\n        .then(posts => {\n          let postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n        });\n    }\n\n    onPostsSearch(token) {\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(function () {\n        this.searchPosts(token);\n      }.bind(this), 500);\n    }\n\n    onSelectedTagsChange(tokens) {\n      const tagIds = tokens.map( token => {\n        return this.props.tagsList.filter( tag => tag.name === token )[0].id;\n      });\n      this.props.onSelectedTagsChange(tagIds);\n      this.setState({ tagTokens: tokens })\n    }\n\n    onSelectedPostTypesChange(tokens) {\n      const postTypeIds = tokens.map( token => {\n        return this.props.postTypesList.filter( postType => postType.name === token )[0].id;\n      });\n      this.props.onSelectedPostTypesChange(postTypeIds);\n      this.setState({ postTypeTokens: tokens })\n    }\n\n    onSelectedPostsChange(tokens) {\n      // Array to hold references to selected posts objects.\n      let currentSelectedPosts = [];\n      tokens.forEach(token => {\n        let f = this.state.postsList.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n        f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n      });\n\n      const postIds = currentSelectedPosts.map(post => post.id);\n      this.props.onSelectedPostsChange(postIds);\n      this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n    }\n\n    renderEdit() {\n      const { __ } = wp.i18n;\n\n      const tagSuggestions = this.props.tagsList.map( tag => tag.name );\n      const postTypeSuggestions = this.props.postTypesList.map( postType => postType.name );\n\n      return (\n        <div>\n          <h3>{ __('What style of cover do you need?', 'p4ge') }</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={ this.props.cover_type }\n              onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n              options={[\n                {\n                  label: __('Take Action Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/take_action_covers.png',\n                  value: '1',\n                  help: __('Take action covers pull the featured image, tags, have a 25 character excerpt and have a call to action button')\n                },\n                {\n                  label: __('Campaign Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/campaign_covers.png',\n                  value: '2',\n                  help: __('Campaign covers pull the associated image and hashtag from the system tag definitions.'),\n                },\n                {\n                  label: __('Content Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/content_covers.png',\n                  value: '3',\n                  help: __('Content covers pull the image from the post.')\n                },\n              ]}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label=\"Rows to display\"\n              value={ this.props.covers_view }\n              options={ [\n                { label: '1 Row', value: '1' },\n                { label: '2 Rows', value: '2' },\n                { label: 'All rows', value: '3' },\n              ] }\n              onChange={ this.props.onRowsChange }\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={ this.props.title }\n              onChange={ this.props.onTitleChange }\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={ this.props.description }\n              onChange={ this.props.onDescriptionChange }\n            />\n          </div>\n\n          {\n            this.props.posts !== 'undefined' && this.props.posts.length === 0\n              ?\n              <div>\n\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label='Select Tags'\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                  placeholder=\"Select Tags\"\n                />\n                <p class='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              : null\n          }\n\n          {\n            this.props.cover_type === '3' && this.props.posts.length === 0\n              ? <FormTokenField\n                value={this.state.postTypeTokens}\n                suggestions={postTypeSuggestions}\n                label='Post Types'\n                onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                placeholder=\"Select Tags\"\n              />\n              : null\n          }\n\n          {\n            (this.props.cover_type === '1' || this.props.cover_type === '3') &&\n            (this.props.tags.length === 0 && this.props.post_types.length === 0)\n              ? <div>\n                <label>Manual override</label>\n                <FormTokenField\n                  value={this.state.postsTokens}\n                  suggestions={this.state.postsSuggestions}\n                  label='CAUTION: Adding covers manually will override the automatic functionality.'\n                  onChange={tokens => this.onSelectedPostsChange(tokens)}\n                  onInputChange={token => this.onPostsSearch(token)}\n                  placeholder=\"Select Tags\"\n                />\n              </div>\n              : null\n          }\n\n        </div>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={ this.props.isSelected }>\n                <ServerSideRender\n                  block={ 'planet4-blocks/covers' }\n                  attributes={{\n                    cover_type: this.props.cover_type,\n                    covers_view: this.props.covers_view,\n                    tags: this.props.tags,\n                    post_types: this.props.post_types,\n                    posts: this.props.posts,\n                    title: this.props.title,\n                    description: this.props.description,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n};\n","import { React, Component } from 'react';\n\nexport class CoversIcon extends Component {\n\trender() {\n\t\treturn <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 66 82.5\" enable-background=\"new 0 0 66 66\"><g><g><path d=\"M8.193,37.334l23.804-10.512v-8.007L6.099,30.093c-0.24,0.11-0.44,0.31-0.53,0.56c-0.1,0.24-0.09,0.52,0.01,0.76    L8.193,37.334z\"/><path d=\"M8.999,39.163l4.9,11.08c4.55-1.49,7.1,2.61,8.76,3.78c1.51-1.01,4.47-5.71,9.34-3.55v-21.47L8.999,39.163z     M21.059,42.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49    C21.779,42.033,21.559,42.623,21.059,42.853z M27.059,39.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33    l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49C27.779,39.033,27.559,39.623,27.059,39.853z\"/><path d=\"M33.998,26.816l24.005,10.392l2.416-5.816c0.21-0.5-0.02-1.08-0.52-1.3L33.998,18.813V26.816z\"/><path d=\"M33.999,28.993v22.77c0.95,0.8,2.02,2.26,2.44,2.26c1.97-1.66,3.56-4.08,6.88-4.08c4.21,0,6.03,4.07,6.9,4.07    c0.1-0.087,0.722-0.298,1.25-1.09l5.77-13.87L33.999,28.993z M41.269,39.823c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46    c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.83-0.72,1.33-0.49l1,0.46C41.279,38.733,41.499,39.323,41.269,39.823z M47.269,42.823    c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.82-0.72,1.33-0.49l1,0.46    C47.279,41.733,47.499,42.323,47.269,42.823z\"/></g><g><path d=\"M37.999,2.983v5.63h-10v-5.63c0-1.1,0.9-2,2-2h6C37.099,0.983,37.999,1.883,37.999,2.983z\"/></g><path d=\"M48.319,13.823c-0.38-1.86-2.03-3.21-3.93-3.21h-22.78c-1.9,0-3.55,1.35-3.92,3.21l-1.98,9.91   c5.27-2.31,11.32-4.94,17.29-7.54c1.02,0.45,9.84,4.29,17.29,7.54L48.319,13.823z M24.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1   h2c0.55,0,1,0.45,1,1S25.549,17.233,24.999,17.233z M42.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1h2c0.55,0,1,0.45,1,1   S43.549,17.233,42.999,17.233z\"/><path d=\"M64,62.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1C65,63.43,64.552,62.982,64,62.982z\"/><path d=\"M64,55.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1S64.552,55.982,64,55.982z\"/></g></svg>\n\t}\n}\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  Toolbar,\n  IconButton,\n  Button\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Gallery extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const getImageOrButton = (openEvent) => {\n        if ( 0 < this.props.image_data.length ) {\n\n          return (\n\n            this.props.image_data.map((item, index) => {\n              return (\n                <span>\n                  <img\n                    src={ item.url }\n                    onClick={ openEvent }\n                    className=\"gallery__imgs\"\n                    key={index}\n                    width='150 px'\n                    style={{padding: '10px 10px'}}\n                  />\n                </span>\n              );\n            })\n\n          );\n        }\n        else {\n          return (\n            <div className=\"button-container\">\n              <Button\n                onClick={ openEvent }\n                className=\"button\">\n                + {__('Select Gallery Images', 'p4ge')}\n              </Button>\n\n              <div>{__('Select images in the order you want them to appear.', 'p4ge')}</div>\n            </div>\n          );\n        }\n      };\n\n      const {__} = wp.i18n;\n\n      const {gallery_block_style , gallery_block_title , gallery_block_description , multiple_image , image_data} = this.props;\n\n      const dimensions = {width: 400, height: 100};\n\n      let multiple_image_array = multiple_image ? multiple_image.split(',') : [];\n\n      return (\n        <Fragment>\n          <BlockControls>\n            { 0 < image_data.length && (\n              <Toolbar>\n                { 0 < multiple_image_array.length && (\n                  <MediaUploadCheck>\n                    <MediaUpload\n                      onSelect={this.props.onSelectImage}\n                      allowedTypes={[\"image\"]}\n                      value={multiple_image_array}\n                      type=\"image\"\n                      multiple=\"true\"\n                      render={({ open }) => {\n                        return (\n                          <IconButton\n                            className=\"components-icon-button components-toolbar__control\"\n                            label={__(\n                              \"Edit Images\",\n                              \"mytheme-blocks\"\n                            )}\n                            onClick={open}\n                            icon=\"edit\"\n                          />\n                        );\n                      }}\n                    />\n                  </MediaUploadCheck>\n                )}\n                <IconButton\n                  className=\"components-icon-button components-toolbar__control\"\n                  label={__(\"Remove Images\", \"mytheme-blocks\")}\n                  onClick={this.props.onRemoveImages}\n                  icon=\"trash\"\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          <h3>{__('What style of gallery do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={gallery_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('Slider', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-slider.jpg',\n                  value: 1,\n                  help: __('The slider is a carousel of images. For more than 5 images, consider using a grid.', 'p4ge')\n                },\n                {\n                  label: __('3 Column', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-3-column.jpg',\n                  value: 2,\n                  help: __('The 3 column image display is great for accentuating text, and telling a visual story.', 'p4ge')\n                },\n                {\n                  label: __('Grid', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-grid.jpg',\n                  value: 3,\n                  help: __('The grid shows thumbnails of lots of images. Good to use when showing lots of activity.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={gallery_block_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('Please Enter Description', 'p4ge')}\n              value={gallery_block_description}\n              onChange={this.props.onDescriptionChange}\n            />\n\n            {__('Select Gallery Images', 'p4ge')}\n            <div>\n              <MediaUploadCheck>\n                <MediaUpload\n                  title={__('Select Gallery Images', 'p4ge')}\n                  type=\"image\"\n                  onSelect={this.props.onSelectImage}\n                  value={multiple_image_array}\n                  allowedTypes={[\"image\"]}\n                  multiple=\"true\"\n                  render={ ({ open }) => getImageOrButton(open) }\n                />\n              </MediaUploadCheck>\n            </div>\n\n            {image_data &&\n            <div\n              className={\n                \"wp-block-master-theme-gallery__FocalPointPicker\"\n              }\n            >\n              <ul>\n                {image_data.map((item, index) => {\n                  return (\n                    <li\n                      key={index}\n                    >\n                      {__('Select gallery image focal point', 'p4ge')}\n                      <FocalPointPicker\n                        url={item.url}\n                        dimensions={dimensions}\n                        value={item.focalPoint}\n                        onChange={this.props.onFocalPointChange.bind(this,item.id)}\n                        key={item.id}\n                      />\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n            }\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/gallery'}\n                  attributes={{\n                    gallery_block_style: this.props.gallery_block_style,\n                    gallery_block_title: this.props.gallery_block_title,\n                    gallery_block_description: this.props.gallery_block_description,\n                    multiple_image: this.props.multiple_image,\n                    gallery_block_focus_points: this.props.gallery_block_focus_points,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Component,Fragment} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\n\nimport {\n  MediaPlaceholder,\n  InspectorControls,\n  BlockControls,\n  MediaUpload,\n  MediaUploadCheck\n} from '@wordpress/editor';\n\nimport {\n  TextControl,\n  ServerSideRender,\n  FocalPointPicker,\n  ToggleControl,\n  RangeControl,\n  PanelBody,\n  Button,\n  Toolbar,\n  IconButton\n} from '@wordpress/components';\n\nexport class Happypoint extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const dimensions = {width: 400, height: 100};\n\n      const {focus_image, opacity, mailing_list_iframe, iframe_url, url, id} = this.props;\n\n      let focal_point_params = {x:'',y:''};\n\n      if (focus_image) {\n        let focus_image_str = focus_image.replace(/%/g, '');\n        let [x, y] = focus_image_str.split(' ');\n        focal_point_params = {x: x/100,y: y/100};\n      } else {\n        focal_point_params = {x:0.5, y:0.5};\n      }\n\n      const getImageOrButton = (openEvent) => {\n        if ( this.props.id && ( 0 < this.props.id ) ) {\n\n          return (\n\n            <div align='center'>\n              <img\n                src={ this.props.url }\n                onClick={ openEvent }\n                className='happypoint__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n            </div>\n\n          );\n        }\n        else {\n          return (\n            <div className='button-container'>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Background Image', 'p4ge')}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <InspectorControls>\n            <PanelBody title={__('Setting', 'p4ge')}>\n              <RangeControl\n                label={__('Opacity', 'p4ge')}\n                value={opacity}\n                onChange={this.props.onOpacityChange}\n                min={1}\n                max={100}\n                initialPosition={opacity}\n                help={__('We use an overlay to fade the image back. Use a number between 1 and 100, the higher the number, the more faded the image will look. If you leave this empty, the default of 30 will be used.', 'p4ge')}\n              />\n              <ToggleControl\n                label={__('Use mailing list iframe', 'p4ge')}\n                help={__('Use mailing list iframe', 'p4ge')}\n                value={mailing_list_iframe}\n                checked={this.props.mailing_list_iframe}\n                onChange={this.props.onMailingListIframeChange}\n              />\n              <TextControl\n                label={__('Iframe url', 'p4ge')}\n                placeholder={__('Enter Iframe url', 'p4ge')}\n                help={__('If a url is set in this field and the \\'mailing list iframe\\' option is enabled, it will override the planet4 engaging network setting.', 'p4ge')}\n                value={iframe_url}\n                onChange={this.props.onIframeUrlChange}\n              />\n            </PanelBody>\n          </InspectorControls>\n          <BlockControls>\n            { this.props.id && ( 0 < this.props.id ) && (\n              <Toolbar>\n                <MediaUploadCheck>\n                  <MediaUpload\n                    onSelect={this.props.onSelectImage}\n                    allowedTypes={['image']}\n                    value={id}\n                    type='image'\n                    render={({ open }) => {\n                      return (\n                        <IconButton\n                          className='components-icon-button components-toolbar__control'\n                          label={__('Edit Image', 'p4ge')}\n                          onClick={open}\n                          icon='edit'\n                        />\n                      );\n                    }}\n                  />\n                </MediaUploadCheck>\n                <IconButton\n                  className='components-icon-button components-toolbar__control'\n                  label={__('Remove Image', 'p4ge')}\n                  onClick={this.props.onRemoveImages}\n                  icon='trash'\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          {__('Select Background Image', 'p4ge')}\n          <div>\n            <MediaUploadCheck>\n              <MediaUpload\n                title={__('Select Background Image', 'p4ge')}\n                type='image'\n                onSelect={this.props.onSelectImage}\n                value={id}\n                allowedTypes={['image']}\n                render={ ({ open }) => getImageOrButton(open) }\n              />\n            </MediaUploadCheck>\n          </div>\n          {id && 0 < id &&\n            <div>\n              {__('Select focus point for background image', 'p4ge')}\n              <FocalPointPicker\n                url={url}\n                dimensions={dimensions}\n                value={focal_point_params}\n                onChange={this.props.onFocalPointChange}\n              />\n            </div>\n          }\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/happypoint'}\n                  attributes={{\n                    id: this.props.id,\n                    focus_image: this.props.focus_image,\n                    opacity: this.props.opacity,\n                    mailing_list_iframe: this.props.mailing_list_iframe,\n                    iframe_url: this.props.iframe_url,\n                    load_iframe: true,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Gallery} from './Gallery';\n\nconst {__} = wp.i18n;\n\nexport class GalleryBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/gallery', {\n        title: __('Gallery', 'p4ge'),\n        icon: 'format-gallery',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_gallery gallery_block_style=\"2\" gallery_block_title=\"test title\"\n         *                    gallery_block_description=\"test desc\" multiple_image=\"23603,23602,23600,23596\"\n         *                    gallery_block_focus_points=\"{'23596':'left top','23597':'left top','23599':'left top'}\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/gallery {\"gallery_block_style\":3,\"gallery_block_title\":\"test title\",\"gallery_block_description\":\"test desc\",\n         *      \"multiple_image\":\"23603,23602,23600,23596\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_gallery',\n              attributes: {\n                gallery_block_style: {\n                  type: 'integer',\n                  shortcode: ({named: {gallery_block_style = ''}}) => Number(gallery_block_style),\n                },\n                gallery_block_title: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_title = ''}}) => gallery_block_title,\n                },\n                gallery_block_description: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_description = ''}}) => gallery_block_description,\n                },\n                multiple_image: {\n                  type: 'string',\n                  shortcode: ({named: {multiple_image = ''}}) => multiple_image,\n                },\n                gallery_block_focus_points: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_focus_points = ''}}) => gallery_block_focus_points,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          gallery_block_style: {\n            type: 'number',\n            default: 1\n          },\n          gallery_block_title: {\n            type: 'string',\n          },\n          gallery_block_description: {\n            type: 'string',\n          },\n          multiple_image: {\n            type: 'string',\n          },\n          gallery_block_focus_points: {\n            type: 'string',\n          },\n          image_data: {\n            type: 'object',\n            default: []\n          },\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { multiple_image } = attributes;\n\n          let image_urls_array = [];\n\n          if ( multiple_image ) {\n            let image_id_array = multiple_image.split(',');\n\n            $.each(image_id_array, function( index, img_id ) {\n              let img_url = select('core').getMedia(img_id);\n              if ( img_url ) {\n                image_urls_array[img_id] = img_url.media_details.sizes.medium.source_url;\n              }\n            });\n          }\n\n          return {\n            image_urls_array\n          };\n        } )( ( {\n          image_urls_array,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          let {image_data,gallery_block_focus_points} = attributes;\n\n          // Prepare image_data array on edit gallery block.\n          if (0 == image_data.length && 0 < image_urls_array.length) {\n            let new_image_data = [];\n            let focal_points_json = gallery_block_focus_points ? JSON.parse(gallery_block_focus_points):{};\n\n            for (const img_id in image_urls_array) {\n\n              let x,y;\n              if ($.isEmptyObject(focal_points_json)) {\n                [x,y] = [50,50];\n              } else {\n                [x,y] = focal_points_json[img_id].replace(/\\%/g, '').split(' ');\n              }\n\n              new_image_data.push({\n                url: image_urls_array[img_id],\n                focalPoint: {\n                  x:parseInt(x)/100,\n                  y:parseInt(y)/100\n                },\n                id: img_id\n              });\n            }\n\n            setAttributes({image_data: new_image_data});\n          }\n\n          function onTitleChange( value ) {\n            setAttributes({gallery_block_title: value});\n          }\n\n          function onDescriptionChange( value ) {\n            setAttributes({gallery_block_description: value });\n          }\n\n          function onSelectImage(value) {\n            let image_ids = [];\n            let image_data = [];\n            for (const key in value) {\n              image_ids.push(value[key].id);\n              let img_id = value[key].id;\n              image_data.push({url: value[key].url, focalPoint: {x:0.5, y:0.5}, id: img_id});\n            }\n            setAttributes({multiple_image: image_ids.join(',')});\n            setAttributes({image_data: image_data});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({gallery_block_style: Number(value)});\n          }\n\n          function onFocalPointChange( image_id, value ) {\n\n            let updated_image_data = [];\n            let gallery_block_focus_points = {};\n\n            image_data.map(function(object){\n              if (object.id === image_id) {\n                let x = parseFloat(value.x).toFixed(2);\n                let y = parseFloat(value.y).toFixed(2);\n\n                updated_image_data.push({url: object.url, focalPoint: {x,y}, id: image_id});\n                gallery_block_focus_points[image_id] = (x*100)+'% '+(y*100)+'%';\n\n              } else {\n                updated_image_data.push(object);\n                let img_id = object.id;\n                gallery_block_focus_points[img_id] = parseInt(object.focalPoint.x*100)+'% '+parseInt(object.focalPoint.y*100)+'%';\n              }\n            });\n\n            setAttributes({gallery_block_focus_points: JSON.stringify(gallery_block_focus_points)});\n            setAttributes({image_data: updated_image_data});\n          }\n\n          function onRemoveImages() {\n            setAttributes({multiple_image: ''});\n            setAttributes({gallery_block_focus_points: ''});\n            setAttributes({image_data: []});\n          }\n\n          return <Gallery\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onSelectImage={onSelectImage}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\n\nexport class Media extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {video_title,description,youtube_id} = this.props;\n\n      return (\n        <Fragment>\n          <div>\n            <TextControl\n              label={__('Media Title', 'p4ge')}\n              placeholder={__('Enter video title', 'p4ge')}\n              value={video_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={description}\n              onChange={this.props.onDescriptionChange}\n            />\n            <TextControl\n              label={__('Media URL/ID', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              value={youtube_id}\n              onChange={this.props.onMediaUrlChange}\n              help={__('Can be a YouTube, Vimeo or Soundcloud URL or an mp4, mp3 or wav file URL.', 'p4ge')}\n            />\n            <MediaPlaceholder\n              labels={{ title: __('Video poster image [Optional]', 'p4ge'), instructions: __('Applicable for .mp4 video URLs only.', 'p4ge')}}\n              icon=\"format-image\"\n              onSelect={this.props.onSelectImage}\n              onSelectURL={this.props.onSelectURL}\n              onError={this.props.onUploadError}\n              accept=\"image/*\"\n              allowedTypes={[\"image\"]}\n            />\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                { this.props.youtube_id &&\n                  <ServerSideRender\n                    block={'planet4-blocks/media-video'}\n                    attributes={{\n                      video_title: this.props.video_title,\n                      description: this.props.description,\n                      youtube_id: this.props.youtube_id,\n                      video_poster_img: this.props.video_poster_img,\n                    }}>\n                  </ServerSideRender>\n                }\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Media} from './Media';\n\nconst {__} = wp.i18n;\n\nexport class MediaBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/media-video', {\n        title: __('Media block', 'p4ge'),\n        icon: 'format-video',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_media_video video_title=\"Lorem Ipsum\"\n         *                        description=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\"\n         *                        youtube_id=\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\"\n         *                        video_poster_img=\"23241\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/media-video {\"video_title\":\"Lorem Ipsum\",\"description\":\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\",\"youtube_id\":\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\"video_poster_img\":23241} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_media_video',\n              attributes: {\n                video_title: {\n                  type: 'string',\n                  shortcode: ({named: {video_title = ''}}) => video_title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                youtube_id: {\n                  type: 'string',\n                  shortcode: ({named: {youtube_id = ''}}) => youtube_id,\n                },\n                video_poster_img: {\n                  type: 'integer',\n                  shortcode: ({named: {video_poster_img = ''}}) => video_poster_img,\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          video_title: {\n            type: 'string'\n          },\n          description: {\n            type: 'string'\n          },\n          youtube_id: {\n            type: 'string'\n          },\n          video_poster_img: {\n            type: 'integer'\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n          function onTitleChange(value) {\n            setAttributes({video_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({description: value});\n          }\n\n          function onMediaUrlChange(value) {\n            setAttributes({youtube_id: value});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({video_poster_img: id});\n          }\n\n          function onSelectURL({url}) {\n            setAttributes({id: null});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          return <Media\n            {...attributes}\n            isSelected={isSelected}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onMediaUrlChange={onMediaUrlChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            onUploadError={onUploadError}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\nimport {\n  RadioControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Socialmedia extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  componentDidUpdate() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  /**\n   * Check if twitter embeds script is loaded and initiliaze it.\n   */\n  checkTwitterScript() {\n    if (this.props.social_media_url.includes('twitter')) {\n      let twitterScript = document.querySelector('script[src=\"https://platform.twitter.com/widgets.js\"]');\n\n      if (null === twitterScript) {\n        let scriptLoaded = this.loadScriptAsync('https://platform.twitter.com/widgets.js');\n        scriptLoaded.then(function () {\n          this.initializeTwitterEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeTwitterEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Check if instgram embeds script is loaded and initiliaze it.\n   */\n  checkInstagramScript() {\n    if (this.props.social_media_url.includes('instagram')) {\n      let instaScript = document.querySelector('script[src=\"https://www.instagram.com/embed.js\"]');\n\n      if (null === instaScript) {\n        let scriptLoaded = this.loadScriptAsync('https://www.instagram.com/embed.js');\n        scriptLoaded.then(function () {\n          this.initializeInstagramEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeInstagramEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Initialize twitter embeds.\n   */\n  initializeTwitterEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.twttr) {\n        window.twttr.widgets.load();\n      }\n    }, 2000);\n  }\n\n  /**\n   * Initialize instagram embeds.\n   */\n  initializeInstagramEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.instgrm) {\n        window.instgrm.Embeds.process();\n      }\n    }, 3000);\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const embed_type_help = __('Select oEmbed for the following types of social media<br>- Twitter: tweet, profile, list, collection, likes, moment<br>- Facebook: post, activity, photo, video, media, question, note<br>- Instagram: image', 'planet4-blocks-backend');\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'planet4-blocks-backend')}\n            placeholder={__('Enter title', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'planet4-blocks-backend')}\n            placeholder={__('Enter description', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <RadioControl\n            label={__('Embed type', 'planet4-blocks-backend')}\n            help={\n              <RawHTML>{embed_type_help}</RawHTML>\n            }\n            options={[\n              {label: 'oEmbed', value: 'oembed'},\n              {label: 'Facebook page', value: 'facebook_page'},\n            ]}\n            selected={this.props.embed_type}\n            onChange={this.props.onEmbedTypeChange}\n          />\n        </div>\n\n        {\n          this.props.embed_type === 'facebook_page'\n            ?\n            <div>\n              <SelectControl\n                label={__('What Facebook page content would you like to display?', 'planet4-blocks-backend')}\n                value={this.props.facebook_page_tab}\n                options={[\n                  {label: 'Timeline', value: 'timeline'},\n                  {label: 'Events', value: 'events'},\n                  {label: 'Mesages', value: 'messages'},\n                ]}\n                onChange={this.props.onFacebookPageTabChange}\n              />\n            </div>\n            : null\n        }\n\n        <div>\n          <TextControl\n            label={__('URL', 'planet4-blocks-backend')}\n            placeholder={__('Enter URL', 'planet4-blocks-backend')}\n            value={this.props.social_media_url}\n            onChange={this.props.onSocialMediaUrlChange}\n          />\n        </div>\n\n        <div>\n          <SelectControl\n            label={__('Alignment', 'planet4-blocks-backend')}\n            value={this.props.alignment_class}\n            options={[\n              {label: 'None', value: ''},\n              {label: 'Left', value: 'alignleft'},\n              {label: 'Center', value: 'aligncenter'},\n              {label: 'Right', value: 'alignright'},\n            ]}\n            onChange={this.props.onAlignmentChange}\n          />\n        </div>\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n            <ServerSideRender\n              block={'planet4-blocks/social-media'}\n              attributes={{\n                title: this.props.title,\n                description: this.props.description,\n                embed_type: this.props.embed_type,\n                facebook_page_tab: this.props.facebook_page_tab,\n                social_media_url: this.props.social_media_url,\n                alignment_class: this.props.alignment_class,\n              }}>\n            </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {React, Component} from 'react';\nimport {Button} from '@wordpress/components';\nimport {MediaUpload,MediaUploadCheck} from '@wordpress/editor';\n\nexport class ImageOrButton extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    if ( typeof this.props.disabled == 'undefined' ) {\n      this.props.disabled = false;\n    }\n\n    const getImageOrButton = (openEvent) => {\n      if ( this.props.imageId ) {\n\n        return (\n\n          <img\n            src={ this.props.imageUrl }\n            onClick={ openEvent }\n            className={ this.props.imgClass }\n          />\n\n        );\n      }\n      else {\n        return (\n          <div className='button-container'>\n            <Button\n              onClick={ openEvent }\n              className='button'\n              disabled={ this.props.disabled }>\n              { this.props.buttonLabel }\n            </Button>\n\n            <div>{ this.props.help }</div>\n          </div>\n        );\n      }\n    };\n\n    return <div className='ImageOrButton'>\n      <MediaUploadCheck>\n        <MediaUpload\n          title={this.props.title}\n          type='image'\n          onSelect={this.props.onSelectImage}\n          value={this.props.imageId}\n          allowedTypes={['image']}\n          render={ ({ open }) => getImageOrButton(open) }\n        />\n      </MediaUploadCheck>\n    </div>;\n  }\n}\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  SelectControl\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\n\nexport class Splittwocolumns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      let tag_list   = this.props.tagsList.map((tag) => ({label: tag.name, value: tag.id}));\n      tag_list.unshift({label: '--Select Tag--', value: 0});\n\n      let issuepage_list = this.props.issuepageList.map((issue) => ({label: issue.title.raw, value: issue.id}));\n      issuepage_list.unshift({label: '--Select Issue--', value: 0});\n\n      const {__} = wp.i18n;\n\n      const {\n        select_issue,\n        title,\n        issue_description,\n        issue_link_text,\n        issue_link_path,\n        issue_image,\n        focus_issue_image,\n        select_tag,\n        tag_description,\n        button_text,\n        button_link,\n        tag_image,\n        focus_tag_image,\n        issue_image_url,\n        tag_image_url\n      } = this.props;\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_issue_image_obj = {x: 0.5,y: 0.5};\n      if (focus_issue_image) {\n        let [x,y] = focus_issue_image.replace(/\\%/g, '').split(' ');\n        focus_issue_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_tag_image_obj = {x: 0.5,y: 0.5};\n      if (focus_tag_image) {\n        let [x,y] = focus_tag_image.replace(/\\%/g, '').split(' ');\n        focus_tag_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      const dimensions = {width: 400, height: 100};\n\n      return (\n        <Fragment>\n          <h3>{__('Issue fields (Column 1 - Left side)', 'p4ge')}</h3>\n          <div>\n            {issuepage_list &&\n              <SelectControl\n                label={__('Select an issue', 'p4ge')}\n                value={select_issue}\n                options={issuepage_list}\n                onChange={this.props.onSelectIssue}\n              />\n            }\n            <TextControl\n              label={__('Issue Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={title}\n              onChange={this.props.onIssueTitleChange}\n              help={__('(Optional) Fill this only if you need to override issue title.', 'p4ge')}\n            />\n            <TextareaControl\n              label={__('Issue Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional) Fill this only if you need to override issue description.', 'p4ge')}\n              value={issue_description}\n              onChange={this.props.onIssueDescriptionChange}\n            />\n            <TextControl\n              label={__('Issue link text', 'p4ge')}\n              placeholder={__('Enter link text', 'p4ge')}\n              value={issue_link_text}\n              onChange={this.props.onIssueLinkTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Issue link path', 'p4ge')}\n              placeholder={__('Enter link path', 'p4ge')}\n              value={issue_link_path}\n              onChange={this.props.onIssueLinkPathChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Issue Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Issue', 'p4ge')}\n              onSelectImage={this.props.onSelectIssueImage}\n              imageId={issue_image}\n              imageUrl={issue_image_url}\n              buttonLabel={__('+ Select Image for Issue', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-issue-imgs'\n            />\n\n            {issue_image &&\n            <div>\n              {__('Select focal point for issue image', 'p4ge')}\n              <FocalPointPicker\n                url={issue_image_url}\n                dimensions={dimensions}\n                value={focus_issue_image_obj}\n                onChange={this.props.onIssueImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n          <h3>{__('Campaign fields (Column 2 - Right side)', 'p4ge')}</h3>\n          <div>\n            {tag_list &&\n              <SelectControl\n                label={__('Select a tag', 'p4ge')}\n                value={select_tag}\n                options={tag_list}\n                onChange={this.props.onSelectTag}\n              />\n            }\n            <TextareaControl\n              label={__('Campaign Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={tag_description}\n              onChange={this.props.onTagDescriptionChange}\n            />\n            <TextControl\n              label={__('Campaign button text', 'p4ge')}\n              placeholder={__('Enter button text', 'p4ge')}\n              value={button_text}\n              onChange={this.props.onButtonTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Campaign button link', 'p4ge')}\n              placeholder={__('Enter button link', 'p4ge')}\n              value={button_link}\n              onChange={this.props.onButtonLinkChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Campaign Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Campaign', 'p4ge')}\n              onSelectImage={this.props.onSelectCampaignImage}\n              imageId={tag_image}\n              imageUrl={tag_image_url}\n              buttonLabel={__('+ Select Image for Campaign', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-tag_imgs'\n            />\n\n            {tag_image &&\n            <div>\n              {__('Select focal point for campaign image', 'p4ge')}\n              <FocalPointPicker\n                url={tag_image_url}\n                dimensions={dimensions}\n                value={focus_tag_image_obj}\n                onChange={this.props.onCampaignImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/split-two-columns'}\n                  attributes={{\n                    select_issue: this.props.select_issue,\n                    title: this.props.title,\n                    issue_description: this.props.issue_description,\n                    issue_link_text: this.props.issue_link_text,\n                    issue_link_path: this.props.issue_link_path,\n                    issue_image: this.props.issue_image,\n                    focus_issue_image: this.props.focus_issue_image,\n                    select_tag: this.props.select_tag,\n                    tag_description: this.props.tag_description,\n                    button_text: this.props.button_text,\n                    button_link: this.props.button_link,\n                    tag_image: this.props.tag_image,\n                    focus_tag_image: this.props.focus_tag_image,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {React, Component} from 'react';\nimport {\n  CheckboxControl,\n  SelectControl,\n} from '@wordpress/components';\n\nexport class MenuLevel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>Level {this.props.index + 1}</div>\n        <SelectControl\n          label=\"Submenu item\"\n          help=\"Submenu item\"\n          value={this.props.heading}\n          options={[\n            {label: 'None', value: '0'},\n            {label: 'Heading 1', value: '1'},\n            {label: 'Heading 2', value: '2'},\n            {label: 'Heading 3', value: '3'},\n            {label: 'Heading 4', value: '4'},\n            {label: 'Heading 5', value: '5'},\n            {label: 'Heading 6', value: '6'},\n          ]}\n          onChange={(e) => this.props.onHeadingChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n\n        <CheckboxControl\n          heading=\"Link\"\n          help=\"Link item\"\n          value={this.props.link}\n          checked={this.props.link}\n          onChange={(e) => this.props.onLinkChange(this.props.index, e)}\n          className=\"submenu-level-link\"\n        />\n\n        <SelectControl\n          label=\"List style\"\n          help=\"List style\"\n          value={this.props.style}\n          options={[\n            {label: 'None', value: 'none'},\n            {label: 'Bullet', value: 'bullet'},\n            {label: 'Number', value: 'number'},\n          ]}\n          onChange={(e) => this.props.onStyleChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n      </div>\n    );\n  };\n}\n","import {Splittwocolumns} from './Splittwocolumns';\n\nconst {__} = wp.i18n;\n\nexport class SplittwocolumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/split-two-columns', {\n        title: __('Split Two Columns', 'p4ge'),\n        icon: 'editor-table',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_split_two_columns select_issue=\"13813\" title=\"lorem ipsum\" issue_description=\"lorem ipsum\" issue_link_text=\"test link\"\n         *        issue_link_path=\"http://www.googlw.com\" issue_image=\"23634\" focus_issue_image=\"right top\" select_tag=\"19\"\n         *        tag_description=\"lorem ipsum\" button_text=\"btn text\" button_link=\"http://www.google.com\" tag_image=\"23634\" focus_tag_image=\"right top\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/split-two-columns {\"select_issue\":2079,\"title\":\"Lorem Ipsum\",\"issue_description\":\"Lorem Ipsum\",\"issue_link_text\":\"tets link\",\"issue_link_path\":\"http://www.google.com\",\"issue_image\":23634,\"focus_issue_image\":\"33% 60%\",\"select_tag\":65,\"tag_description\":\"Lorem Ipsum\",\"button_text\":\"btn text\",\"button_link\":\"http://www.google.com\",\"tag_image\":23634,\"focus_tag_image\":\"30% 79%\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_split_two_columns',\n              attributes: {\n                select_issue: {\n                  type: 'integer',\n                  shortcode: ({named: {select_issue = ''}}) => Number(select_issue) > 0 ? Number(select_issue) : null,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                issue_description: {\n                  type: 'string',\n                  shortcode: ({named: {issue_description = ''}}) => issue_description,\n                },\n                issue_link_text: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_text = ''}}) => issue_link_text,\n                },\n                issue_link_path: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_path = ''}}) => issue_link_path,\n                },\n                issue_image: {\n                  type: 'integer',\n                  shortcode: ({named: {issue_image = ''}}) => Number(issue_image) > 0 ? Number(issue_image) : null,\n                },\n                focus_issue_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_issue_image = ''}}) => focus_issue_image,\n                },\n                select_tag: {\n                  type: 'integer',\n                  shortcode: ({named: {select_tag = ''}}) => Number(select_tag) > 0 ? Number(select_tag) : null,\n                },\n                tag_description: {\n                  type: 'string',\n                  shortcode: ({named: {tag_description = ''}}) => tag_description,\n                },\n                button_text: {\n                  type: 'string',\n                  shortcode: ({named: {button_text = ''}}) => button_text,\n                },\n                button_link: {\n                  type: 'string',\n                  shortcode: ({named: {button_link = ''}}) => button_link,\n                },\n                tag_image: {\n                  type: 'integer',\n                  shortcode: ({named: {tag_image = ''}}) => Number(tag_image) > 0 ? Number(tag_image) : null,\n                },\n                focus_tag_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_tag_image = ''}}) => focus_tag_image,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          select_issue: {\n            type: 'number',\n            default: 0,\n          },\n          title: {\n            type: 'string',\n          },\n          issue_description: {\n            type: 'string',\n          },\n          issue_link_text: {\n            type: 'string',\n          },\n          issue_link_path: {\n            type: 'string',\n          },\n          issue_image: {\n            type: 'number',\n          },\n          focus_issue_image: {\n            type: 'string',\n          },\n          select_tag: {\n            type: 'number',\n            default: 0,\n          },\n          tag_description: {\n            type: 'string',\n          },\n          button_text: {\n            type: 'string',\n          },\n          button_link: {\n            type: 'string',\n          },\n          tag_image: {\n            type: 'number',\n          },\n          focus_tag_image: {\n            type: 'string',\n          },\n        },\n        edit: withSelect((select,props) => {\n          const tagsTaxonomy = 'post_tag';\n          const issuePage    = 'page';\n\n          const taxonomy_args = {\n            hide_empty: false,\n            per_page: 50,\n          };\n          const {getEntityRecords} = select('core');\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, taxonomy_args);\n\n          const issue_page_args = {\n            per_page: -1,\n            sort_order: 'asc',\n            sort_column: 'post_title',\n            parent: window.p4ge_vars.planet4_options.explore_page,\n            post_status: 'publish',\n          };\n          const issuepageList = getEntityRecords('postType', issuePage, issue_page_args);\n\n          const { attributes } = props;\n          const { issue_image,tag_image } = attributes;\n\n          let issue_image_url = '';\n          if (issue_image) {\n            issue_image_url = select('core').getMedia(issue_image);\n            if ( issue_image_url ) {\n              issue_image_url = issue_image_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          let tag_image_url = '';\n          if (tag_image) {\n            tag_image_url = select('core').getMedia(tag_image);\n            if ( tag_image_url ) {\n              tag_image_url = tag_image_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          return {\n            tagsList,\n            issuepageList,\n            issue_image_url,\n            tag_image_url,\n          };\n\n        } )( ( {\n          tagsList,\n          issuepageList,\n          issue_image_url,\n          tag_image_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          if (!tagsList || !issuepageList) {\n            return \"Populating block's fields...\";\n          }\n\n          if ((tagsList && tagsList.length === 0) || (issuepageList && issuepageList.length === 0)) {\n            return \"Populating block's fields...\";\n          }\n\n          function onSelectIssue( value ) {\n            setAttributes({select_issue: parseInt(value)});\n          }\n\n          function onIssueTitleChange( value ) {\n            setAttributes({title: value });\n          }\n\n          function onIssueDescriptionChange( value ) {\n            setAttributes({issue_description: value});\n          }\n\n          function onIssueLinkTextChange( value ) {\n            setAttributes({issue_link_text: value });\n          }\n\n          function onIssueLinkPathChange( value ) {\n            setAttributes({issue_link_path: value});\n          }\n\n          function onSelectIssueImage( {id} ) {\n            setAttributes({issue_image: id});\n          }\n\n          function onIssueImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_issue_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          function onSelectTag( value ) {\n            setAttributes({select_tag: parseInt(value)});\n          }\n\n          function onTagDescriptionChange( value ) {\n            setAttributes({tag_description: value});\n          }\n\n          function onButtonTextChange( value ) {\n            setAttributes({button_text: value });\n          }\n\n          function onButtonLinkChange( value ) {\n            setAttributes({button_link: value});\n          }\n\n          function onSelectCampaignImage( {id} ) {\n            setAttributes({tag_image: id});\n          }\n\n          function onCampaignImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_tag_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          return <Splittwocolumns\n            {...attributes}\n            isSelected={isSelected}\n            tagsList={tagsList}\n            issuepageList={issuepageList}\n            issue_image_url={issue_image_url}\n            tag_image_url={tag_image_url}\n            onSelectIssue={onSelectIssue}\n            onIssueTitleChange={onIssueTitleChange}\n            onIssueDescriptionChange={onIssueDescriptionChange}\n            onIssueLinkTextChange={onIssueLinkTextChange}\n            onIssueLinkPathChange={onIssueLinkPathChange}\n            onSelectIssueImage={onSelectIssueImage}\n            onIssueImageFocalPointChange={onIssueImageFocalPointChange}\n            onSelectTag={onSelectTag}\n            onTagDescriptionChange={onTagDescriptionChange}\n            onButtonTextChange={onButtonTextChange}\n            onButtonLinkChange={onButtonLinkChange}\n            onSelectCampaignImage={onSelectCampaignImage}\n            onCampaignImageFocalPointChange={onCampaignImageFocalPointChange}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  TextControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {MenuLevel} from \"./MenuLevel\";\n\nexport class Submenu extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h2>{__('Anchor Link Submenu', 'p4ge')}</h2>\n        <p><i>{__(\n          'An in-page table of contents to help users have a sense of what\\'s on the page and let them jump to a topic they are interested in.',\n          'p4ge'\n        )}</i></p>\n        <h3>{__('What style of menu do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.submenu_style}\n            onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n            options={[\n              {\n                label: __('Long full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-long.jpg',\n                value: 1,\n                help: __('Use: on long pages (more than 5 screens) when list items are long (+ 10 words)<br>No max items<br>recommended.')\n              }, {\n                label: __('Short full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-short.jpg',\n                value: 2,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 5 words)<br>No max items<br>recommended.'),\n              },\n              {\n                label: __('Short sidebar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-sidebar.jpg',\n                value: 3,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 10 words)<br>Max items<br>recommended: 9')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label=\"Submenu Title\"\n            placeholder=\"Enter title\"\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <hr/>\n        {this.props.levels.map((heading, i) => {\n          return (\n            <MenuLevel\n              {...heading}\n              onHeadingChange={this.props.onHeadingChange}\n              onLinkChange={this.props.onLinkChange}\n              onStyleChange={this.props.onStyleChange}\n              index={i}\n              key={i}\n            />\n          );\n        })}\n\n        <div>\n          <Button isPrimary\n                  onClick={this.props.addLevel}\n                  disabled={this.props.levels.length >= 3 || this.props.levels.slice(-1)[0].heading === 0}\n          >\n            Add level\n          </Button>\n          <Button isDefault\n                  onClick={this.props.removeLevel} disabled={this.props.levels.length <= 1}\n          >\n            Remove level\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/submenu'}\n            attributes={{\n              submenu_style: this.props.submenu_style,\n              title: this.props.title,\n              levels: this.props.levels,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\nimport {\n\tFormTokenField,\n\tTextControl,\n\tTextareaControl,\n\tServerSideRender,\n\tToggleControl,\n\tSelectControl,\n\tCheckboxControl,\n\tToolbar,\n\tIconButton, Button\n} from '@wordpress/components';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Takeactionboxout extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// Populate tag tokens for saved tags.\n\t\tlet tagTokens = props.tagsList.filter(tag => props.tag_ids.includes(tag.id)).map(tag => tag.name);\n\n\t\tthis.state = {\n\t\t\ttagTokens: tagTokens,\n\t\t};\n\t}\n\n\tonSelectedTagsChange(tokens) {\n\t\tconst tagIds = tokens.map(token => {\n\t\t\treturn this.props.tagsList.filter(tag => tag.name === token)[0].id;\n\t\t});\n\t\tthis.props.onSelectedTagsChange(tagIds);\n\t\tthis.setState({tagTokens: tokens})\n\t}\n\n\tisCustomised() {\n\t\treturn ( this.props.custom_title || this.props.custom_excerpt || this.props.custom_link || this.props.custom_link_text || this.props.custom_link_new_tab || this.state.tagTokens.length > 0 || ( this.props.background_image && 0 < this.props.background_image ) );\n\t}\n\n\ttakeActionPageSelected() {\n\t\treturn ( this.props.take_action_page && this.props.take_action_page !== '0' );\n\t}\n\n\trenderEdit() {\n\t\tconst tagSuggestions = this.props.tagsList.map(tag => tag.name);\n\n\t\tlet actpage_list = this.props.actPageList.map((actPage) => ({label: actPage.title.raw, value: actPage.id}));\n\t\tconst {__} = wp.i18n;\n\n\t\tactpage_list.unshift({label: __('--Select Take Action Page--'), value: 0});\n\n\t\tconst getImageOrButton = (openEvent) => {\n\t\t\tif ( this.props.background_image && ( 0 < this.props.background_image ) ) {\n\n\t\t\t\treturn (\n\n\t\t\t\t\t<div align='center'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ this.props.background_image_url }\n\t\t\t\t\t\t\tonClick={ openEvent }\n\t\t\t\t\t\t\tclassName='takeactionboxout-block-background-img'\n\t\t\t\t\t\t\twidth={'400px'}\n\t\t\t\t\t\t\tstyle={{padding: '10px 10px'}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t\t<div className='button-container'>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={ openEvent }\n\t\t\t\t\t\t\tclassName='button'\n\t\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}>\n\t\t\t\t\t\t\t+ {__('Select Background Image', 'p4ge')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<h3>{__('Take Action Boxout', 'p4ge')}</h3>\n\t\t\t\t<div>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={__('Select Take Action Page', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.take_action_page}\n\t\t\t\t\t\toptions={actpage_list}\n\t\t\t\t\t\tonChange={this.props.onSelectTakeActoinPage}\n\t\t\t\t\t\tdisabled={this.isCustomised()}\n\t\t\t\t\t/>\n\t\t\t\t\t<h5>{__('Or customise your take action boxout (if inserted in POSTS, the block will float on the side, if inserted in PAGES, it will appear in the page body)', 'p4ge')}</h5>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Title', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Title', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_title}\n\t\t\t\t\t\tonChange={this.props.onCustomTitleChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\tlabel={__('Custom Excerpt', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Excerpt', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_excerpt}\n\t\t\t\t\t\tonChange={this.props.onCustomExcerptChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Link', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Link', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link}\n\t\t\t\t\t\tonChange={this.props.onCustomLinkChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Link Text', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Link Text', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link_text}\n\t\t\t\t\t\tonChange={this.props.onCustomLinkTextChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tlabel={__('Open in a new Tab', 'p4ge')}\n\t\t\t\t\t\thelp={__('Open custom link in new tab', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link_new_tab}\n\t\t\t\t\t\tchecked={this.props.custom_link_new_tab}\n\t\t\t\t\t\tonChange={(e) => this.props.onCustomLinkNewTabChange(e)}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormTokenField\n\t\t\t\t\t\tvalue={this.state.tagTokens}\n\t\t\t\t\t\tsuggestions={tagSuggestions}\n\t\t\t\t\t\tlabel={__('Select Tags', 'p4ge')}\n\t\t\t\t\t\tonChange={tokens => this.onSelectedTagsChange(tokens)}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t{__('Select Background Image', 'p4ge')}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\ttitle={__('Select Background Image', 'p4ge')}\n\t\t\t\t\t\t\t\ttype='image'\n\t\t\t\t\t\t\t\tonSelect={this.props.onSelectBackGroundImage}\n\t\t\t\t\t\t\t\tvalue={this.props.background_image}\n\t\t\t\t\t\t\t\tallowedTypes={['image']}\n\t\t\t\t\t\t\t\trender={ ({ open }) => getImageOrButton(open) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t</div>\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t{ this.props.background_image && ( 0 < this.props.background_image ) && (\n\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tclassName='components-icon-button components-toolbar__control'\n\t\t\t\t\t\t\t\t\tlabel={__('Remove Image', 'p4ge')}\n\t\t\t\t\t\t\t\t\tonClick={this.props.onRemoveBackGroundImage}\n\t\t\t\t\t\t\t\t\ticon='trash'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</BlockControls>\n\t\t\t\t</div>\n\t\t\t\t<hr />\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\tthis.props.isSelected\n\t\t\t\t\t\t? this.renderEdit()\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t<Preview showBar={this.props.isSelected}>\n\t\t\t\t\t<ServerSideRender\n\t\t\t\t\t\tblock={'planet4-blocks/take-action-boxout'}\n\t\t\t\t\t\tattributes={{\n\t\t\t\t\t\t\ttake_action_page: this.props.take_action_page,\n\t\t\t\t\t\t\tcustom_title: this.props.custom_title,\n\t\t\t\t\t\t\tcustom_excerpt: this.props.custom_excerpt,\n\t\t\t\t\t\t\tcustom_link: this.props.custom_link,\n\t\t\t\t\t\t\tcustom_link_text: this.props.custom_link_text,\n\t\t\t\t\t\t\tcustom_link_new_tab: this.props.custom_link_new_tab,\n\t\t\t\t\t\t\ttag_ids: this.props.tag_ids,\n\t\t\t\t\t\t\tbackground_image: this.props.background_image,\n\t\t\t\t\t\t}}>\n\t\t\t\t\t</ServerSideRender>\n\t\t\t\t</Preview>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from \"@wordpress/element\";\nimport {\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {Preview} from '../../components/Preview';\n\nexport class Timeline extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.loadTimeline(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    this.loadTimeline(prevProps);\n  }\n\n  loadTimeline(data) {\n    const timelinejs_version = '3.6.3';\n\n    let js = 'https://cdn.knightlab.com/libs/timeline3/' + timelinejs_version + '/js/timeline-min.js';\n    let scriptLoaded = this.loadScriptAsync(js);\n    scriptLoaded.then(function () {\n      new TL.Timeline('timeline-1', data.google_sheets_url, {\n        \"timenav_position\": data.timenav_position,\n        \"start_at_end\": data.start_at_end,\n        \"language\": data.language\n      });\n    }.bind(this));\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const position = [\n      {label: 'Bottom', value: 'bottom'},\n      {label: 'Top', value: 'top'},\n    ]\n\n    const languages = [\n      {label: 'Afrikaans', value: 'af'},\n      {label: 'Arabic', value: 'ar'},\n      {label: 'Armenian', value: 'hy'},\n      {label: 'Basque', value: 'eu'},\n      {label: 'Belarusian', value: 'be'},\n      {label: 'Bulgarian', value: 'bg'},\n      {label: 'Catalan', value: 'ca'},\n      {label: 'Chinese', value: 'zh-cn'},\n      {label: 'Croatian / Hrvatski', value: 'hr'},\n      {label: 'Czech', value: 'cz'},\n      {label: 'Danish', value: 'da'},\n      {label: 'Dutch', value: 'nl'},\n      {label: 'English', value: 'en'},\n      {label: 'English (24-hour time)', value: 'en-24hr'},\n      {label: 'Esperanto', value: 'eo'},\n      {label: 'Estonian', value: 'et'},\n      {label: 'Faroese', value: 'fo'},\n      {label: 'Farsi', value: 'fa'},\n      {label: 'Finnish', value: 'fi'},\n      {label: 'French', value: 'fr'},\n      {label: 'Frisian', value: 'fy'},\n      {label: 'Galician', value: 'gl'},\n      {label: 'Georgian', value: 'ka'},\n      {label: 'German / Deutsch', value: 'de'},\n      {label: 'Greek', value: 'el'},\n      {label: 'Hebrew', value: 'he'},\n      {label: 'Hindi', value: 'hi'},\n      {label: 'Hungarian', value: 'hu'},\n      {label: 'Icelandic', value: 'is'},\n      {label: 'Indonesian', value: 'id'},\n      {label: 'Irish', value: 'ga'},\n      {label: 'Italian', value: 'it'},\n      {label: 'Japanese', value: 'ja'},\n      {label: 'Korean', value: 'ko'},\n      {label: 'Latvian', value: 'lv'},\n      {label: 'Lithuanian', value: 'lt'},\n      {label: 'Luxembourgish', value: 'lb'},\n      {label: 'Malay', value: 'ms'},\n      {label: 'Myanmar', value: 'my'},\n      {label: 'Nepali', value: 'ne'},\n      {label: 'Norwegian', value: 'no'},\n      {label: 'Polish', value: 'pl'},\n      {label: 'Portuguese', value: 'pt'},\n      {label: 'pt-br', value: 'Portuguese (Brazilian)'},\n      {label: 'Romanian', value: 'ro'},\n      {label: 'Romansh', value: 'rm'},\n      {label: 'Russian', value: 'ru'},\n      {label: 'Serbian - Cyrillic', value: 'sr-cy'},\n      {label: 'Serbian - Latin', value: 'sr'},\n      {label: 'Sinhalese', value: 'si'},\n      {label: 'Slovak', value: 'sk'},\n      {label: 'Slovenian', value: 'sl'},\n      {label: 'Spanish', value: 'es'},\n      {label: 'Swedish', value: 'sv'},\n      {label: 'Tagalog', value: 'tl'},\n      {label: 'Tamil', value: 'ta'},\n      {label: 'Taiwanese', value: 'zh-tw'},\n      {label: 'Telugu', value: 'te'},\n      {label: 'Thai', value: 'th'},\n      {label: 'Turkish', value: 'tr'},\n      {label: 'Ukrainian', value: 'uk'},\n      {label: 'Urdu', value: 'ur'},\n    ]\n\n    let url_desc  = __(\n      'Enter the URL of the Google Sheets spreadsheet containing your timeline data.',\n      'p4ge'\n    );\n    url_desc += '<br><a href=\"https://timeline.knightlab.com/#make\" target=\"_blank\" rel=\"noopener noreferrer\">';\n    url_desc += __(\n      'See the TimelineJS website for a template GSheet.',\n      'p4ge'\n    );\n    url_desc += '</a><br>';\n    url_desc += __(\n      'Copy this, add your own timeline data, and publish to the web.',\n      'p4ge'\n    );\n    url_desc += '<br>';\n    url_desc += __(\n      \"Once you have done so, use the URL from your address bar (not the one provided in Google's 'publish to web' dialog).\",\n      'p4ge'\n    );\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Timeline options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display a timeline from a Google Sheet',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label={__('Timeline Title', 'p4ge')}\n              placeholder={__('Enter title', 'p4ge')}\n              value={this.props.timeline_title}\n              onChange={this.props.onTimelineTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter description', 'p4ge')}\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label={__('Google Sheets URL', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              help=<RawHTML>{url_desc}</RawHTML>\n              value={this.props.google_sheets_url}\n              onChange={this.props.onGoogleSheetsUrlChange}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Language', 'p4ge')}\n              value={this.props.language}\n              options={languages}\n              onChange={(e) => this.props.onLanguageChange(e)}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Timeline navigation position', 'p4ge')}\n              value={this.props.timenav_position}\n              options={position}\n              onChange={(e) => this.props.onTimenavPositionChange(e)}\n            />\n          </div>\n\n          <div>\n            <CheckboxControl\n              label={__('Start at end', 'p4ge')}\n              help={__('Begin at the end of the timeline', 'p4ge')}\n              value={this.props.start_at_end}\n              checked={this.props.start_at_end}\n              onChange={(e) => this.props.onStartAtEndChange(e)}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/timeline'}\n            attributes={{\n              timeline_title: this.props.timeline_title,\n              description: this.props.description,\n              google_sheets_url: this.props.google_sheets_url,\n              language: this.props.language,\n              timenav_position: this.props.timenav_position,\n              start_at_end: this.props.start_at_end,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Timeline} from './Timeline.js';\n\nconst {__} = wp.i18n;\n\nexport class TimelineBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/timeline', {\n      title: __('Timeline', 'p4ge'),\n      icon: 'clock',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_timeline',\n            attributes: {\n              timeline_title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.timeline_title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              google_sheets_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.google_sheets_url;\n                }\n              },\n              language: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.language;\n                }\n              },\n              timenav_position: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.timenav_position;\n                }\n              },\n              start_at_end: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.start_at_end;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        timeline_title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        google_sheets_url: {\n          type: 'string',\n        },\n        language: {\n          type: 'string',\n          default: 'en',\n        },\n        timenav_position: {\n          type: 'string',\n        },\n        start_at_end: {\n          type: 'boolean',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTimelineTitleChange(value) {\n          setAttributes({timeline_title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onGoogleSheetsUrlChange(value) {\n          setAttributes({google_sheets_url: value});\n        }\n\n        function onLanguageChange(value) {\n          setAttributes({language: value});\n        }\n\n        function onTimenavPositionChange(value) {\n          setAttributes({timenav_position: value});\n        }\n\n        function onStartAtEndChange(value) {\n          setAttributes({start_at_end: value});\n        }\n\n        return <Timeline\n          {...attributes}\n          isSelected={isSelected}\n          onTimelineTitleChange={onTimelineTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onGoogleSheetsUrlChange={onGoogleSheetsUrlChange}\n          onLanguageChange={onLanguageChange}\n          onTimenavPositionChange={onTimenavPositionChange}\n          onStartAtEndChange={onStartAtEndChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","const { addFilter } = wp.hooks;\n\n\nexport const addBlockFilters = () => {\n  addFileBlockFilter();\n};\n\n\nconst addFileBlockFilter = () => {\n  const setDownloadButtonToggleDefualtFalse = (settings, name) => {\n\n    if ('core/file' !== name) {\n      return settings;\n    }\n\n    settings.attributes['showDownloadButton']['default'] = false;\n\n    return settings;\n  };\n\n  addFilter('blocks.registerBlockType', 'planet4-blocks/filters/file', setDownloadButtonToggleDefualtFalse);\n};\n","import { Button, ButtonGroup, PanelBody, SelectControl } from '@wordpress/components';\nimport assign from 'lodash.assign';\n\nconst { addFilter } = wp.hooks;\nconst { __ } = wp.i18n;\n\n// Enable spacing control on the following blocks\nconst targetBlocks = [\n  'core/image',\n];\n\nconst captionStyleOptions = [\n  {\n  label: __( 'Blue Overlay (default)' ),\n  value: 'blue-overlay',\n  },\n  {\n  label: __( 'Medium' ),\n  value: 'medium',\n  },\n];\n\nconst captionAlignmentOptions = [\n  {\n  label: __( 'Left' ),\n  value: 'left',\n  },\n  {\n  label: __( 'Center' ),\n  value: 'center',\n  },\n  {\n  label: __( 'Right' ),\n  value: 'right',\n  },\n];\n\nexport const setupImageBlockExtension = function() {\n  addExtraAttributes();\n  addExtraControls();\n}\n\nconst addExtraAttributes = function() {\n  const addCaptionStyleAttributes = ( settings, name ) => {\n  // Do nothing if it's another block than our defined ones.\n  if ( ! targetBlocks.includes( name ) ) {\n    return settings;\n  }\n\n  // Use Lodash's assign to gracefully handle if attributes are undefined\n  settings.attributes = assign( settings.attributes, {\n    captionStyle: {\n    type: 'string',\n    default: captionStyleOptions[ 0 ].value,\n    },\n    captionAlignment: {\n    type: 'string',\n    default: captionAlignmentOptions[ 1 ].value,\n    }\n  } );\n\n  return settings;\n  };\n\n  addFilter( 'blocks.registerBlockType', 'planet4-blocks/overrides/image', addCaptionStyleAttributes );\n}\n\nconst addExtraControls = function() {\n  const { createHigherOrderComponent } = wp.compose;\n  const { Fragment } = wp.element;\n  const { InspectorControls } = wp.editor;\n\n  const withCaptionStyle = createHigherOrderComponent( ( BlockEdit ) => {\n    return ( props ) => {\n      // Do nothing if it's another block than our defined ones.\n      if ( ! targetBlocks.includes( props.name ) ) {\n        return (\n          <BlockEdit { ...props } />\n        );\n      }\n\n      const { captionStyle, captionAlignment } = props.attributes;\n\n\t\t\tprops.attributes.className = '';\n\n      if ( captionStyle ) {\n      \tprops.attributes.className += ` caption-style-${ captionStyle }`;\n      }\n\n      if ( captionAlignment ) {\n      \tprops.attributes.className += ` caption-alignment-${ captionAlignment }`;\n      }\n\n      return (\n        <Fragment>\n          <BlockEdit { ...props } />\n          <InspectorControls>\n            <PanelBody\n              title={ __( 'Planet4 Image Options' ) }\n              initialOpen={ true }\n            >\n              <SelectControl\n                label={ __( 'Caption Style' ) }\n                value={ captionStyle }\n                options={ captionStyleOptions }\n                onChange={ ( selectedCaptionStyle ) => {\n                  props.setAttributes( {\n                    captionStyle: selectedCaptionStyle,\n                  } );\n                } }\n              />\n\n              <label>Caption alignment</label>\n              <ButtonGroup>\n              {\n                captionAlignmentOptions.map((option, key) => {\n\t\t\t\t\t\t\t\t\treturn <Button\n\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tprops.setAttributes({\n\t\t\t\t\t\t\t\t\t\t\t\tcaptionAlignment: option.value,\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tisPrimary={ captionAlignment == option.value }\n\t\t\t\t\t\t\t\t\t\tisLarge isDefault>\n\t\t\t\t\t\t\t\t\t\t\t{ option.label }\n\t\t\t\t\t\t\t\t\t</Button>;\n                })\n              }\n              </ButtonGroup>\n            </PanelBody>\n          </InspectorControls>\n        </Fragment>\n      );\n    };\n  }, 'withCaptionStyle' );\n\n  addFilter( 'editor.BlockEdit', 'planet4-blocks/overrides/image-controls', withCaptionStyle );\n}\n","import {\n  find,\n  get,\n  invoke,\n  isEmpty,\n  map,\n  throttle,\n  unescape as unescapeString,\n  uniqBy,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { FormTokenField} from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Module constants\n */\nconst DEFAULT_QUERY = {\n  per_page: -1,\n  orderby: 'count',\n  order: 'desc',\n  _fields: 'id,name',\n};\nconst MAX_TERMS_SUGGESTIONS = 20;\nconst isSameTermName = ( termA, termB ) => termA.toLowerCase() === termB.toLowerCase();\n\n/**\n * Returns a term object with name unescaped.\n * The unescape of the name property is done using lodash unescape function.\n *\n * @param {Object} term The term object to unescape.\n *\n * @return {Object} Term object with name property unescaped.\n */\nconst unescapeTerm = ( term ) => {\n  return {\n    ...term,\n    name: unescapeString( term.name ),\n  };\n};\n\n/**\n * Returns an array of term objects with names unescaped.\n * The unescape of each term is performed using the unescapeTerm function.\n *\n * @param {Object[]} terms Array of term objects to unescape.\n *\n * @return {Object[]} Array of term objects unescaped.\n */\nconst unescapeTerms = ( terms ) => {\n  return map( terms, unescapeTerm );\n};\n\n/**\n * The logic of this component was copied from https://github.com/WordPress/gutenberg/blob/master/packages/editor/src/components/post-taxonomies/flat-term-selector.js\n * initially, then the functionality of creating non-existing terms was removed from it.\n *\n * I considered extending the component instead, but that seemed inappropriate as we're not adding behavior but removing some.\n * Additionally this makes it easier to further customize this component.\n */\nclass AssignOnlyFlatTermSelector extends Component {\n  constructor() {\n    super( ...arguments );\n    this.onChange = this.onChange.bind( this );\n    this.searchTerms = throttle( this.searchTerms.bind( this ), 500 );\n    this.state = {\n      loading: ! isEmpty( this.props.terms ),\n      availableTerms: [],\n      selectedTerms: [],\n    };\n  }\n\n  componentDidMount() {\n    if ( isEmpty( this.props.terms ) ) {\n      return\n    }\n\n    this.initRequest = this.fetchTerms( {\n      include: this.props.terms.join( ',' ),\n      per_page: -1,\n    } );\n    this.initRequest.then(\n      () => {\n        this.setState( {loading: false} );\n      },\n      ( xhr ) => {\n        if ( xhr.statusText === 'abort' ) {\n          return;\n        }\n        this.setState( {\n          loading: false,\n        } );\n      }\n    );\n  }\n\n  componentWillUnmount() {\n    invoke( this.initRequest, [ 'abort' ] );\n    invoke( this.searchRequest, [ 'abort' ] );\n  }\n\n  componentDidUpdate( prevProps ) {\n    if ( prevProps.terms !== this.props.terms ) {\n      this.updateSelectedTerms( this.props.terms );\n    }\n  }\n\n  fetchTerms( params = {} ) {\n    const { taxonomy } = this.props;\n    const query = Object.assign({}, DEFAULT_QUERY, params);\n\n    const request = apiFetch( {\n      path: addQueryArgs( `/wp/v2/${ taxonomy.rest_base }`, query ),\n    } );\n    request.then( unescapeTerms ).then( ( terms ) => {\n      this.setState( ( state ) => ( {\n        availableTerms: state.availableTerms.concat(\n          terms.filter( ( term ) => ! find( state.availableTerms, ( availableTerm ) => availableTerm.id === term.id ) )\n        ),\n      } ) );\n      this.updateSelectedTerms( this.props.terms );\n    } );\n\n    return request;\n  }\n\n  updateSelectedTerms( terms = [] ) {\n    const selectedTerms = terms.reduce( ( accumulator, termId ) => {\n      const termObject = find( this.state.availableTerms, ( term ) => term.id === termId );\n      if ( termObject ) {\n        accumulator.push( termObject.name );\n      }\n\n      return accumulator;\n    }, [] );\n    this.setState( {\n      selectedTerms,\n    } );\n  }\n\n  onChange( termNames ) {\n    const uniqueTerms = uniqBy( termNames, ( term ) => term.toLowerCase() );\n    const allowedTerms = uniqueTerms.filter( ( termName ) =>\n      find( this.state.availableTerms, ( term ) => isSameTermName( term.name, termName ) )\n    );\n    this.setState( { selectedTerms: allowedTerms } );\n    const termNamesToIds = ( names, availableTerms ) => {\n      return names\n        .map( ( termName ) =>\n          find( availableTerms, ( term ) => isSameTermName( term.name, termName ) ).id\n        );\n    };\n\n    return this.props.onUpdateTerms(\n      termNamesToIds( allowedTerms, this.state.availableTerms ),\n      this.props.taxonomy.rest_base\n    );\n  }\n\n  searchTerms( search = '' ) {\n    invoke( this.searchRequest, [ 'abort' ] );\n    this.searchRequest = this.fetchTerms( { search } );\n  }\n\n  render() {\n    const { slug, taxonomy, hasAssignAction } = this.props;\n\n    if ( ! hasAssignAction ) {\n      return null;\n    }\n\n    const { loading, availableTerms, selectedTerms } = this.state;\n    const termNames = availableTerms.map( ( term ) => term.name );\n    const newTermLabel = get(\n      taxonomy,\n      [ 'labels', 'add_new_item' ],\n      slug === 'post_tag' ? __( 'Add New Tag' ) : __( 'Add New Term' )\n    );\n    const singularName = get(\n      taxonomy,\n      [ 'labels', 'singular_name' ],\n      slug === 'post_tag' ? __( 'Tag' ) : __( 'Term' )\n    );\n    const termAddedLabel = sprintf( _x( '%s added', 'term' ), singularName );\n    const termRemovedLabel = sprintf( _x( '%s removed', 'term' ), singularName );\n    const removeTermLabel = sprintf( _x( 'Remove %s', 'term' ), singularName );\n\n    return (\n      <FormTokenField\n        value={ selectedTerms }\n        suggestions={ termNames }\n        onChange={ this.onChange }\n        onInputChange={ this.searchTerms }\n        maxSuggestions={ MAX_TERMS_SUGGESTIONS }\n        disabled={ loading }\n        label={ newTermLabel }\n        messages={ {\n          added: termAddedLabel,\n          removed: termRemovedLabel,\n          remove: removeTermLabel,\n        } }\n      />\n    );\n  }\n}\n\nexport default compose(\n  withSelect( ( select, { slug } ) => {\n    const { getCurrentPost } = select( 'core/editor' );\n    const { getTaxonomy } = select( 'core' );\n    const taxonomy = getTaxonomy( slug );\n    return {\n      hasCreateAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-create-' + taxonomy.rest_base ], false ) : false,\n      hasAssignAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-assign-' + taxonomy.rest_base ], false ) : false,\n      terms: taxonomy ? select( 'core/editor' ).getEditedPostAttribute( taxonomy.rest_base ) : [],\n      taxonomy,\n    };\n  } ),\n  withDispatch( ( dispatch ) => {\n    return {\n      onUpdateTerms( terms, restBase ) {\n        dispatch( 'core/editor' ).editPost( { [ restBase ]: terms } );\n      },\n    };\n  } ),\n)( AssignOnlyFlatTermSelector );\n","import AssignOnlyFlatTermSelector from \"./components/AssignOnlyFlatTermSelector/AssignOnlyFlatTermSelector\"\n\nfunction customizeTaxonomySelectors( OriginalComponent ) {\n  return function( props ) {\n    // For following taxonomies it should not be possible to create new terms on the post edit page\n    const isAssignOnlyTaxonomy = ['p4-page-type', 'post_tag'].includes(props.slug)\n\n    return wp.element.createElement(\n      isAssignOnlyTaxonomy ? AssignOnlyFlatTermSelector : OriginalComponent,\n      props\n    );\n  }\n\n}\n\nexport const replaceTaxonomyTermSelectors = () =>  {\n  wp.hooks.addFilter(\n    'editor.PostTaxonomyType',\n    'planet4-gutenberg-blocks',\n    customizeTaxonomySelectors\n  );\n}\n","import { ArticlesBlock } from './blocks/Articles/ArticlesBlock';\nimport { CarouselHeaderBlock } from './blocks/Carouselheader/CarouselHeaderBlock';\nimport { ColumnsBlock } from './blocks/Columns/ColumnsBlock';\nimport { CookiesBlock } from './blocks/Cookies/CookiesBlock';\nimport { CounterBlock } from './blocks/Counter/CounterBlock';\nimport { CoversBlock } from './blocks/Covers/CoversBlock';\nimport { GalleryBlock } from './blocks/Gallery/GalleryBlock';\nimport { HappypointBlock } from './blocks/Happypoint/HappypointBlock';\nimport { MediaBlock } from './blocks/Media/MediaBlock';\nimport { SocialmediaBlock } from './blocks/Socialmedia/SocialmediaBlock';\nimport { SplittwocolumnsBlock } from './blocks/Splittwocolumns/SplittwocolumnsBlock';\nimport { SubmenuBlock } from './blocks/Submenu/SubmenuBlock';\nimport { TakeactionboxoutBlock } from './blocks/Takeactionboxout/TakeactionboxoutBlock';\nimport { TimelineBlock } from './blocks/Timeline/TimelineBlock';\n\n//Filters\nimport { addBlockFilters } from './BlockFilters';\nimport { setupImageBlockExtension } from './ImageBlockExtension';\nimport { replaceTaxonomyTermSelectors } from \"./replaceTaxonomyTermSelectors\"\nimport { addSubAndSuperscript } from './RichTextEnhancements';\n\nconst articlesBlock = new ArticlesBlock();\nconst carouselHeaderBlock = new CarouselHeaderBlock();\nconst columnsBlock = new ColumnsBlock();\nconst cookiesBlock = new CookiesBlock();\nconst counterBlock = new CounterBlock();\nconst coversBlock = new CoversBlock();\nconst galleryBlock = new GalleryBlock();\nconst happypointBlock = new HappypointBlock();\nconst mediaBlock = new MediaBlock();\nconst socialmediaBlock = new SocialmediaBlock();\nconst splittwocolumnsBlock = new SplittwocolumnsBlock();\nconst submenuBlock = new SubmenuBlock();\nconst takeActionBoxoutBlock = new TakeactionboxoutBlock();\nconst timelineBlock = new TimelineBlock();\n\naddBlockFilters();\naddSubAndSuperscript(window.wp);\nsetupImageBlockExtension();\nreplaceTaxonomyTermSelectors()\n","import {Articles} from './Articles.js';\n\nexport class ArticlesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/articles', {\n      title: 'Articles',\n      icon: 'excerpt-view',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_articles',\n            attributes: {\n              article_heading: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_heading;\n                }\n              },\n              articles_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.articles_description;\n                }\n              },\n              article_count: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_count;\n                }\n              },\n              read_more_text: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_text;\n                }\n              },\n              read_more_link: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_link;\n                }\n              },\n              button_link_new_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.button_link_new_tab;\n                }\n              },\n              ignore_categories: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.ignore_categories;\n                }\n              },\n              tags: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.tags.split(',') : [];\n                }\n              },\n              post_types: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.post_types.split(',') : [];\n                }\n              },\n              posts: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.posts.split(',') : [];\n                }\n              },\n              exclude_post_id: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.exclude_post_id);\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        article_heading: {\n          type: 'string',\n        },\n        articles_description: {\n          type: 'string',\n        },\n        article_count: {\n          type: 'integer',\n          default: 3\n        },\n        tags: {\n          type: 'array',\n          default: []\n        },\n        posts: {\n          type: 'array',\n          default: []\n        },\n        post_types: {\n          type: 'array',\n          default: []\n        },\n        read_more_text: {\n          type: 'string'\n        },\n        read_more_link: {\n          type: 'string',\n          default: ''\n        },\n        button_link_new_tab: {\n          type: 'boolean',\n          default: false\n        },\n        ignore_categories: {\n          type: 'boolean',\n          default: false\n        },\n        exclude_post_id: {\n          type: 'integer',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: withSelect((select) => {\n        const tagsTaxonomy = 'post_tag';\n        const postTypesTaxonomy = 'p4-page-type';\n        const args = {\n          hide_empty: false,\n          per_page: 50,\n        };\n        const {getEntityRecords} = select('core');\n\n        // We should probably wrap all these in a single call,\n        // or maybe use our own way of retrieving data from the\n        // API, I don't know how this scales.\n        const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n        const postTypesList = getEntityRecords('taxonomy', postTypesTaxonomy, args);\n\n        return {\n          postTypesList,\n          tagsList,\n        };\n      })(({\n            postTypesList,\n            tagsList,\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        if (!tagsList || !postTypesList) {\n          return \"Populating block's fields...\";\n        }\n\n        // TO-DO: Check for posts types and posts too...\n        if ((tagsList && tagsList.length === 0) || (postTypesList && postTypesList.length === 0)) {\n          return \"Populating block's fields...\";\n        }\n\n        // These methods are passed down to the\n        // Articles component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({article_heading: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({articles_description: value});\n        }\n\n        function onReadmoretextChange(value) {\n          setAttributes({read_more_text: value});\n        }\n\n        function onCountChange(value) {\n          setAttributes({article_count: Number(value)});\n        }\n\n        function onReadmorelinkChange(value) {\n          setAttributes({read_more_link: value});\n        }\n\n        function onButtonLinkTabChange(value) {\n          setAttributes({button_link_new_tab: value});\n        }\n\n        function onSelectedTagsChange(tagIds) {\n          setAttributes({tags: tagIds});\n        }\n\n        function onSelectedPostsChange(value) {\n          setAttributes({posts: value});\n        }\n\n        function onSelectedPostTypesChange(postTypeIds) {\n          setAttributes({post_types: postTypeIds});\n        }\n\n        function onIgnoreCategoriesChange(value) {\n          setAttributes({ignore_categories: value});\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Articles\n          {...attributes}\n          isSelected={isSelected}\n          tagsList={tagsList}\n          postTypesList={postTypesList}\n          onSelectedTagsChange={onSelectedTagsChange}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onCountChange={onCountChange}\n          onSelectedPostsChange={onSelectedPostsChange}\n          onSelectedPostTypesChange={onSelectedPostTypesChange}\n          onReadmoretextChange={onReadmoretextChange}\n          onReadmorelinkChange={onReadmorelinkChange}\n          onButtonLinkTabChange={onButtonLinkTabChange}\n          onIgnoreCategoriesChange={onIgnoreCategoriesChange}/>\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {CarouselHeader} from './CarouselHeader.js';\n\nexport class CarouselHeaderBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/carousel-header', {\n      title: 'Carousel Header',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_carousel_header block_style=\"full-width-classic\" carousel_autoplay=\"true\" image_1=\"16\" focus_image_1=\"center center\"\n       *     header_1=\"Carousel header - full width  1\" description_1=\"Lorem ipsum \" link_text_1=\"Curabitur rutrum viverra\" image_2=\"348\"\n       *     focus_image_2=\"center center\"\n       *     header_2=\"Carousel header - full width  2\"\n       *     description_2=\"Pellentesque cursus\" link_text_2=\"Pellentesque cursus\"\n       *     image_3=\"357\" focus_image_3=\"left top\" header_3=\"Carousel header - full width  3\"\n       *     description_3=\"Nam condimentum\" focus_image_4=\"left top\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/carousel-header {\"carousel_autoplay\":\"true\",\"slides\":[{\"image\":16,\"header\":\"Carousel header - full width  1\",\"description\":\"Lorem ipsum\",\"link_text\":\"Curabitur rutrum viverra\",\"focal_points\":{\"x\":0.5,\"y\":0.5}},{\"image\":348,\"header\":\"Carousel header - full width  2\",\"description\":\"Pellentesque cursus\",\"link_text\":\"Pellentesque cursus\",\"focal_points\":{\"x\":0.5,\"y\":0.5}},{\"image\":357,\"header\":\"Carousel header - full width  3\",\"description\":\"Nam condimentum\",\"focal_points\":{\"x\":0,\"y\":0}}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_carousel_header',\n            attributes: {\n              block_style: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.block_style);\n                }\n              },\n              carousel_autoplay: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.carousel_autoplay;\n                }\n              },\n              slides: {\n                type: 'array',\n                shortcode: function (attributes) {\n\n                  const convert_position = function(position) {\n                    switch (position) {\n                    case 'left top':\n                      return {x: 0, y: 0};\n                    case 'center top':\n                      return {x: 0.5, y: 0};\n                    case 'right top':\n                      return {x: 1, y: 0};\n                    case 'left center':\n                      return {x: 0, y: 0.5};\n                    case 'center center':\n                      return {x: 0.5, y: 0.5};\n                    case 'right center':\n                      return {x: 1, y: 0.5};\n                    case 'left bottom':\n                      return {x: 0, y: 1};\n                    case 'center bottom':\n                      return {x: 0.5, y: 1};\n                    case 'right bottom':\n                      return {x: 1, y: 1};\n                    }\n                  };\n\n\n                  let slides = [];\n                  if (attributes.named.image_1) {\n                    let slide = {\n                      image: Number(attributes.named.image_1),\n                      header: attributes.named.header_1,\n                      header_size: attributes.named.header_size_1,\n                      subheader: attributes.named.subheader_1,\n                      description: attributes.named.description_1,\n                      link_text: attributes.named.link_text_1,\n                      link_url: attributes.named.link_url_1,\n                      focal_points: convert_position(attributes.named.focus_image_1)\n                    };\n                    slides.push(Object.assign({}, slide));\n\n                    if (attributes.named.image_2) {\n                      let slide = {\n                        image: Number(attributes.named.image_2),\n                        header: attributes.named.header_2,\n                        header_size: attributes.named.header_size_2,\n                        subheader: attributes.named.subheader_2,\n                        description: attributes.named.description_2,\n                        link_text: attributes.named.link_text_2,\n                        link_url: attributes.named.link_url_2,\n                        focal_points: convert_position(attributes.named.focus_image_2)\n                      };\n                      slides.push(Object.assign({}, slide));\n\n                      if (attributes.named.image_3) {\n                        let slide = {\n                          image: Number(attributes.named.image_3),\n                          header: attributes.named.header_3,\n                          header_size: attributes.named.header_size_3,\n                          subheader: attributes.named.subheader_3,\n                          description: attributes.named.description_3,\n                          link_text: attributes.named.link_text_3,\n                          link_url: attributes.named.link_url_3,\n                          focal_points: convert_position(attributes.named.focus_image_3)\n                        };\n                        slides.push(Object.assign({}, slide));\n\n                        if (attributes.named.image_4) {\n                          let slide = {\n                            image: Number(attributes.named.image_4),\n                            header: attributes.named.header_4,\n                            header_size: attributes.named.header_size_4,\n                            subheader: attributes.named.subheader_4,\n                            description: attributes.named.description_4,\n                            link_text: attributes.named.link_text_4,\n                            link_url: attributes.named.link_url_4,\n                            focal_points: convert_position(attributes.named.focus_image_4)\n                          };\n                          slides.push(Object.assign({}, slide));\n\n                        }\n                      }\n                    }\n                  }\n                  return slides;\n                }\n              }\n            }\n          }\n        ]\n      },\n      attributes: {\n        block_style: {\n          type: 'string',\n        },\n        carousel_autoplay: {\n          type: 'boolean',\n        },\n        slides: {\n          type: 'array',\n          default: [\n            {\n              image: null,\n              focal_points: {},\n              header: '',\n              header_size: 'h1',\n              subheader: '',\n              description: '',\n              link_text: '',\n              link_url: '',\n              link_url_new_tab: false,\n            }\n          ]\n        },\n      },\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        function addSlide() {\n          setAttributes({\n            slides: attributes.slides.concat({\n              image: null,\n              focal_points: {},\n              header: '',\n              header_size: 'h1',\n              subheader: '',\n              description: '',\n              link_text: '',\n              link_url: '',\n              link_url_new_tab: false,\n            })\n          });\n        }\n\n        function onCarouselAutoplayChange(value) {\n          setAttributes({carousel_autoplay: value});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onImageChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          if (null !== value) {\n            slides[index].image = value;\n          } else {\n            slides[index].image = null;\n          }\n          setAttributes({slides: slides});\n        }\n\n        function onFocalPointsChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          if (null !== value) {\n            const fo = JSON.parse(JSON.stringify(value));\n            slides[index].focal_points = fo;\n          } else {\n            slides[index].focal_points = null;\n          }\n          setAttributes({slides: slides});\n        }\n\n        function onHeaderChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].header = value;\n          setAttributes({slides: slides});\n        }\n\n        function onHeaderSizeChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].header_size = value;\n          setAttributes({slides: slides});\n        }\n\n        function onSubheaderChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].subheader = value;\n          setAttributes({slides: slides});\n        }\n\n        function onDescriptionChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].description = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkUrlChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_url = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkTextChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_text = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkNewTabChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_url_new_tab = value;\n          setAttributes({slides: slides});\n        }\n\n        function onBlockStyleChange(value) {\n          setAttributes({block_style: value});\n        }\n\n        function removeSlide() {\n          setAttributes({slides: attributes.slides.slice(0, -1)});\n        }\n\n        return <CarouselHeader\n          {...attributes}\n          isSelected={isSelected}\n          onBlockStyleChange={onBlockStyleChange}\n          onCarouselAutoplayChange={onCarouselAutoplayChange}\n          onTitleChange={onTitleChange}\n          onImageChange={onImageChange}\n          onHeaderChange={onHeaderChange}\n          onSubheaderChange={onSubheaderChange}\n          onHeaderSizeChange={onHeaderSizeChange}\n          onDescriptionChange={onDescriptionChange}\n          onLinkTextChange={onLinkTextChange}\n          onLinkUrlChange={onLinkUrlChange}\n          onLinkNewTabChange={onLinkNewTabChange}\n          onFocalPointsChange={onFocalPointsChange}\n          addSlide={addSlide}\n          removeSlide={removeSlide}\n        />;\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Cookies} from './Cookies.js';\n\nexport class CookiesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/cookies', {\n      title: 'Cookies',\n      icon: 'welcome-view-site',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_cookies',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              necessary_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_name;\n                }\n              },\n              necessary_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_description;\n                }\n              },\n              all_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_name;\n                }\n              },\n              all_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_description;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        necessary_cookies_name: {\n          type: 'string',\n        },\n        necessary_cookies_description: {\n          type: 'string',\n        },\n        all_cookies_name: {\n          type: 'string',\n        },\n        all_cookies_description: {\n          type: 'string',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onNecessaryCookiesNameChange(value) {\n          setAttributes({necessary_cookies_name: value});\n        }\n\n        function onNecessaryCookiesDescriptionChange(value) {\n          setAttributes({necessary_cookies_description: value});\n        }\n\n        function onAllCookiesNameChange(value) {\n          setAttributes({all_cookies_name: value});\n        }\n\n        function onAllCookiesDescriptionChange(value) {\n          setAttributes({all_cookies_description: value});\n        }\n\n        return <Cookies\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onNecessaryCookiesNameChange={onNecessaryCookiesNameChange}\n          onNecessaryCookiesDescriptionChange={onNecessaryCookiesDescriptionChange}\n          onAllCookiesNameChange={onAllCookiesNameChange}\n          onAllCookiesDescriptionChange={onAllCookiesDescriptionChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import { Counter } from './Counter.js';\n\nexport class CounterBlock {\n  constructor() {\n    const { registerBlockType } = wp.blocks;\n    const { withSelect } = wp.data;\n\n    registerBlockType( 'planet4-blocks/counter', {\n      title: 'Counter',\n      icon: 'dashboard',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_counter',\n            attributes: {\n              style: {\n                type: 'string',\n                shortcode: ( { named: { style = 'plain' } } ) => style,\n              },\n              title: {\n                type: 'string',\n                shortcode: ( { named: { title = '' } } ) => title,\n              },\n              description: {\n                type: 'string',\n                shortcode: ( { named: { description = '' } } ) => description,\n              },\n              completed: {\n                type: 'integer',\n                shortcode: ( { named: { completed = 0 } } ) => Number(completed),\n              },\n              completed_api: {\n                type: 'string',\n                shortcode: ( { named: { completed_api = '' } } ) => completed_api === '' ? null : completed_api,\n              },\n              target: {\n                type: 'integer',\n                shortcode: ( { named: { target = 0 } } ) => Number(target),\n              },\n              text: {\n                type: 'string',\n                shortcode: ( { named: { text = '' } } ) => text,\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        style: {\n          type: 'string',\n          default: 'plain'\n        },\n        completed: {\n          type: 'integer',\n        },\n        completed_api: {\n          type: 'string',\n        },\n        target: {\n          type: 'integer',\n        },\n        text: {\n          type: 'string',\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange( value ) {\n          setAttributes( { title: value } );\n        }\n\n        function onDescriptionChange( value ) {\n          setAttributes( { description: value } );\n        }\n\n        function onSelectedLayoutChange( value ) {\n          setAttributes( { style: value } );\n        }\n\n        function onCompletedChange( value ) {\n          setAttributes( { completed: Number(value) } );\n        }\n\n        function onCompletedAPIChange( value ) {\n          setAttributes( { completed_api: value } );\n        }\n\n        function onTargetChange( value ) {\n          setAttributes( { target: Number(value) } );\n        }\n\n        function onTextChange( value ) {\n          setAttributes( { text: value } );\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Counter\n          { ...attributes }\n          isSelected={ isSelected }\n          onTitleChange={ onTitleChange }\n          onDescriptionChange={ onDescriptionChange }\n          onSelectedLayoutChange={ onSelectedLayoutChange }\n          onCompletedChange={ onCompletedChange }\n          onCompletedAPIChange={ onCompletedAPIChange }\n          onTargetChange={ onTargetChange }\n          onTextChange={ onTextChange }   />\n      },\n      save() {\n        return null;\n      }\n    } );\n  };\n}\n\n","import { CoversIcon } from './CoversIcon.js';\nimport { Covers } from './Covers.js';\n\nexport class CoversBlock {\n    constructor() {\n      const { registerBlockType } = wp.blocks;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/covers', {\n        title: 'Covers',\n        icon: 'slides',\n        category: 'planet4-blocks',\n\n        // Transform the shortcode into a Gutenberg block\n        // this is used when a user clicks \"Convert to blocks\"\n        // on the \"Classic Editor\" block\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_newcovers',\n              attributes: {\n                cover_type: {\n                  type: 'string',\n                  // This `shortcode` definition will be used as a callback,\n                  // it is a function which expects an object with at least\n                  // a `named` key with `cover_type` property whose default value is 1.\n                  // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n                  shortcode: ({named: {cover_type = '1'}}) => cover_type,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                covers_view: {\n                  type: 'string',\n                  shortcode: ({named: {covers_view}}) => {\n                    switch (covers_view) {\n                      case '0':\n                        return '1';\n                      case '3':\n                        return '2';\n                      case '1':\n                        return '3';\n                    }\n                    return '1';\n                  },\n                },\n                tags: {\n                  type: 'array',\n                  shortcode: ({named: {tags = ''}}) => tags.split(',').map(tag => Number(tag)).filter(tag => tag > 0),\n                },\n                post_types: {\n                  type: 'array',\n                  shortcode: ({named: {post_types = ''}}) => post_types.split(',').map(post_type => Number(post_type)).filter(post_type => post_type > 0),\n                },\n                posts: {\n                  type: 'array',\n                  shortcode: ({named: {posts = ''}}) => posts.split(',').map(post => Number(post)).filter(post => post > 0),\n                },\n              },\n            },\n          ]\n        },\n        // This attributes definition mimics the one in the PHP side.\n        attributes: {\n          title: {\n            type: 'string',\n          },\n          description: {\n            type: 'string',\n          },\n          tags: {\n            type: 'array',\n            default: []\n          },\n          posts: {\n            type: 'array',\n            default: []\n          },\n          post_types: {\n            type: 'array',\n            default: []\n          },\n          covers_view: {\n            type: 'string',\n            default: '1'\n          },\n          cover_type: {\n            type: 'string',\n          }\n        },\n        // withSelect is a \"Higher Order Component\", it works as\n        // a Decorator, it will provide some basic API functionality\n        // through `select`.\n        edit: withSelect( ( select ) => {\n          const tagsTaxonomy = 'post_tag';\n          const postTypesTaxonomy = 'p4-page-type';\n          const args = {\n            hide_empty: false,\n            per_page: -1,\n          };\n\n          const { getEntityRecords } = select( 'core' );\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords( 'taxonomy', tagsTaxonomy, args );\n          const postTypesList = getEntityRecords( 'taxonomy', postTypesTaxonomy );\n\n          return {\n            postTypesList,\n            tagsList,\n          };\n        } )( ( {\n          postTypesList,\n          tagsList,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n            if ( !tagsList || !postTypesList ) {\n                return \"Populating block's fields...\";\n            }\n\n            // TO-DO: Check for posts types and posts too...\n            if ( !tagsList && !tagsList.length === 0 ) {\n                return \"No tags...\";\n            }\n\n            // These methods are passed down to the\n            // Covers component, they update the corresponding attribute.\n\n            function onRowsChange( value ) {\n              setAttributes( { covers_view: value } );\n            }\n\n            function onTitleChange( value ) {\n              setAttributes( { title: value } );\n            }\n\n            function onDescriptionChange( value ) {\n              setAttributes( { description: value } );\n            }\n\n            function onSelectedTagsChange( tagIds ) {\n              setAttributes( { tags: tagIds } );\n            }\n\n            function onSelectedPostsChange(value) {\n              setAttributes({posts: value});\n            }\n\n            function onSelectedPostTypesChange( postTypeIds ) {\n              setAttributes( { post_types: postTypeIds } );\n            }\n\n            function onSelectedLayoutChange( value ) {\n\n              // Post types are available only on cover_type 3, so we reset the post_types attribute in the other 2 cases.\n              if ( '1' === value) {\n                setAttributes( { post_types: [] } );\n              }\n              if ( '2' === value) {\n                setAttributes( { post_types: []} );\n              }\n              // Reset posts attribute when changing layout also.\n              setAttributes({cover_type: value, posts: []});\n            }\n\n            // We pass down all the attributes to Covers as props using\n            // the spread operator. Then we selectively add more\n            // props.\n            return <Covers\n              { ...attributes }\n              isSelected={ isSelected }\n              tagsList={ tagsList }\n              postTypesList={ postTypesList }\n              onSelectedTagsChange={ onSelectedTagsChange }\n              onSelectedLayoutChange={ onSelectedLayoutChange }\n              onTitleChange={ onTitleChange }\n              onDescriptionChange={ onDescriptionChange }\n              onSelectedPostsChange={ onSelectedPostsChange }\n              onSelectedPostTypesChange={ onSelectedPostTypesChange }\n              onRowsChange={ onRowsChange } />\n        } ),\n        save() {\n          return null;\n        }\n      } );\n    };\n}\n\n","import {Happypoint} from './Happypoint';\n\nexport class HappypointBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/happypoint', {\n        title: __('Happypoint', 'p4ge'),\n        icon: 'format-image',\n        category: 'planet4-blocks',\n\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_happy_point background=\"4968\" focus_image=\"center center\" opacity=\"60\" mailing_list_iframe=\"true\" iframe_url=\"https%3A%2F%2Fact.greenpeace.org%2Fpage%2F34215%2Fsubscribe%2F1\" /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/happypoint {\"focus_image\":\"50% 50%\",\"opacity\":60,\"mailing_list_iframe\":true,\"iframe_url\":\"https://act.greenpeace.org/page/34215/subscribe/1\",\"id\":4968} /-->\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_happy_point',\n              attributes: {\n                opacity: {\n                  type: 'integer',\n                  shortcode: ({named: {opacity = ''}}) => opacity,\n                },\n                id: {\n                  type: 'integer',\n                  shortcode: ({named: {background}}) => Number(background),\n                },\n                focus_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_image = ''}}) => focus_image,\n                },\n                mailing_list_iframe: {\n                  type: 'boolean',\n                  shortcode: ({named: {mailing_list_iframe}}) => mailing_list_iframe == 'true',\n                },\n                iframe_url: {\n                  type: 'string',\n                  shortcode: ({named: {iframe_url = ''}}) => iframe_url,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          focus_image: {\n            type: 'string',\n          },\n          opacity: {\n            type: 'number',\n            default: 60\n          },\n          mailing_list_iframe: {\n            type: 'boolean',\n          },\n          iframe_url: {\n            type: 'string',\n          },\n          id: {\n            type: 'number',\n          },\n          load_iframe: {\n            type: 'boolean',\n            default: false\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n          const { attributes } = props;\n          const { id } = attributes;\n          let img_url = '';\n\n          if (id && (0 < id)) {\n            img_url = select('core').getMedia(id);\n            if(img_url){\n              img_url = img_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          return {\n            img_url\n          };\n        } )( ( {\n          img_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n          function onBackgroundChange( value ) {\n            setAttributes({background: value});\n          }\n\n          function onOpacityChange( value ) {\n            setAttributes({opacity: value});\n          }\n\n          function onMailingListIframeChange( value ) {\n            setAttributes({mailing_list_iframe: value});\n          }\n\n          function onIframeUrlChange( value ) {\n            setAttributes({iframe_url: value});\n          }\n\n          function onFocalPointChange( {x,y} ) {\n            x = parseFloat(x).toFixed(2);\n            y = parseFloat(y).toFixed(2);\n            setAttributes({focus_image: (x*100)+'% '+(y*100)+'%'});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({id});\n          }\n\n          function onRemoveImages() {\n            setAttributes({id: -1});\n            setAttributes({focus_image: ''});\n          }\n\n          return <Happypoint\n            {...attributes}\n            isSelected={isSelected}\n            url={img_url}\n            onSelectImage={onSelectImage}\n            onOpacityChange={onOpacityChange}\n            onMailingListIframeChange={onMailingListIframeChange}\n            onIframeUrlChange={onIframeUrlChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n\n","import {Socialmedia} from './Socialmedia.js';\n\nexport class SocialmediaBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {__} = wp.i18n;\n\n    registerBlockType('planet4-blocks/social-media', {\n      title: __('Social Media', 'p4ge'),\n      icon: 'share',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_social_media',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              embed_type: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.embed_type;\n                }\n              },\n              facebook_page_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.facebook_page_tab;\n                }\n              },\n              social_media_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.social_media_url;\n                }\n              },\n              alignment_class: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.alignment_class;\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        title: {\n          type: 'string',\n          default: '',\n        },\n        description: {\n          type: 'string',\n          default: '',\n        },\n        embed_type: {\n          type: 'string',\n          default: 'oembed'\n        },\n        facebook_page_tab: {\n          type: 'string',\n          default: 'timeline'\n        },\n        social_media_url: {\n          type: 'string',\n          default: ''\n        },\n        alignment_class: {\n          type: 'string',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        // These methods are passed down to the\n        // Socialmedia component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onEmbedTypeChange(value) {\n          setAttributes({embed_type: value});\n        }\n\n        function onFacebookPageTabChange(value) {\n          setAttributes({facebook_page_tab: value});\n        }\n\n        function onSocialMediaUrlChange(value) {\n          setAttributes({social_media_url: value});\n        }\n\n        function onAlignmentChange(value) {\n          setAttributes({alignment_class: value});\n        }\n\n\n        // We pass down all the attributes to Socialmedia as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Socialmedia\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onEmbedTypeChange={onEmbedTypeChange}\n          onFacebookPageTabChange={onFacebookPageTabChange}\n          onSocialMediaUrlChange={onSocialMediaUrlChange}\n          onAlignmentChange={onAlignmentChange} />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Submenu} from './Submenu.js';\n\nexport class SubmenuBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/submenu', {\n      title: 'Submenu',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_submenu submenu_style=\"3\" title=\"title22\" heading1=\"2\"\n       *                    link1=\"true\" style1=\"bullet\" heading2=\"3\" link2=\"true\" style2=\"number\"\n       *                    heading3=\"4\" link3=\"false\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/submenu {\"submenu_style\":3,\"title\":\"title22\",\"levels\":[{\"heading\":\"2\",\"link\":\"true\",\"style\":\"bullet\"},\n       *    {\"heading\":\"3\",\"link\":\"true\",\"style\":\"number\"},{\"heading\":\"4\",\"link\":\"false\",\"style\":\"none\"}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_submenu',\n            attributes: {\n              submenu_style: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.submenu_style);\n                }\n              },\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              levels: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  let levels = [];\n                  if (attributes.named.heading1 > 0) {\n                    let level = {\n                      heading: Number(attributes.named.heading1),\n                      link: Boolean(attributes.named.link1) || false,\n                      style: attributes.named.style1 || 'none'\n                    };\n                    levels.push(Object.assign({}, level));\n\n                    if (attributes.named.heading2 > 0) {\n                      let level = {\n                        heading: Number(attributes.named.heading2),\n                        link: Boolean(attributes.named.link2) || false,\n                        style: attributes.named.style2 || 'none'\n                      };\n                      levels.push(Object.assign({}, level));\n\n                      if (attributes.named.heading3 > 0) {\n                        let level = {\n                          heading: Number(attributes.named.heading3),\n                          link: Boolean(attributes.named.link3) || false,\n                          style: attributes.named.style3 || 'none'\n                        };\n                        levels.push(Object.assign({}, level));\n                      }\n                    }\n                  }\n                  return levels;\n                },\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        submenu_style: {\n          type: 'integer',\n          default: 1\n        },\n        title: {\n          type: 'string',\n        },\n        levels: {\n          type: 'array',\n          default: [ {heading: 0, link: false, style: 'none'}]\n        },\n      },\n      edit: withSelect((select) => {\n\n      })(({\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        function addLevel() {\n          setAttributes({levels: attributes.levels.concat({heading: 0, link: false, style: 'none'})});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onHeadingChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].heading = Number(value);\n          setAttributes({levels: levels});\n        }\n\n        function onLayoutChange(value) {\n          setAttributes({submenu_style: Number(value)});\n        }\n\n        function onLinkChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].link = value;\n          setAttributes({levels: levels});\n        }\n\n        function onStyleChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].style = value;\n          setAttributes({levels: levels});\n        }\n\n        function removeLevel() {\n          setAttributes({levels: attributes.levels.slice(0, -1)});\n        }\n\n        return <Submenu\n          {...attributes}\n          isSelected={isSelected}\n          onSelectedLayoutChange={onLayoutChange}\n          onTitleChange={onTitleChange}\n          onHeadingChange={onHeadingChange}\n          onLinkChange={onLinkChange}\n          onStyleChange={onStyleChange}\n          addLevel={addLevel}\n          removeLevel={removeLevel}\n        />\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Takeactionboxout} from './Takeactionboxout.js';\n\nexport class TakeactionboxoutBlock {\n\tconstructor() {\n\t\tconst {registerBlockType} = wp.blocks;\n\t\tconst {__} = wp.i18n;\n\t\tconst {withSelect} = wp.data;\n\n\t\tregisterBlockType('planet4-blocks/take-action-boxout', {\n\t\t\ttitle: __('Take Action Boxout'),\n\t\t\ticon: 'welcome-widgets-menus',\n\t\t\tcategory: 'planet4-blocks',\n\t\t\tsupports: {\n\t\t\t\tmultiple: false, // Use the block just once per post.\n\t\t\t},\n\n\t\t\t// Transform the shortcode into a Gutenberg block\n\t\t\t// this is used when a user clicks \"Convert to blocks\"\n\t\t\t// on the \"Classic Editor\" block\n\t\t\ttransforms: {\n\t\t\t\tfrom: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'shortcode',\n\t\t\t\t\t\t// Shortcode tag can also be an array of shortcode aliases\n\t\t\t\t\t\ttag: 'shortcake_take_action_boxout',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\ttake_action_page: {\n\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn Number(attributes.named.take_action_page);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_title: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_title;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_excerpt: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_excerpt;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link_text: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link_text;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link_new_tab: {\n\t\t\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link_new_tab;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttag_ids: {\n\t\t\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.tag_ids ?\n                    attributes.named.tag_ids.split(',').map(tag => Number(tag)).filter(tag => tag > 0)\n                    : [];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbackground_image: {\n\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\tshortcode: ({named: {background_image = ''}}) => Number(background_image) > 0 ? Number(background_image) : 0,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t},\n\t\t\t// This attributes definition mimics the one in the PHP side.\n\t\t\tattributes: {\n\t\t\t\ttake_action_page: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t\tcustom_title: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_excerpt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link_text: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link_new_tab: {\n\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\tdefault: false\n\t\t\t\t},\n\t\t\t\ttag_ids: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: []\n\t\t\t\t},\n\t\t\t\tbackground_image: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t},\n\t\t\t// withSelect is a \"Higher Order Component\", it works as\n\t\t\t// a Decorator, it will provide some basic API functionality\n\t\t\t// through `select`.\n\t\t\tedit: withSelect( ( select, props ) => {\n\t\t\t\tconst tagsTaxonomy = 'post_tag';\n\t\t\t\tconst actPage = 'page';\n\n\t\t\t\tconst args = {\n\t\t\t\t\thide_empty: false,\n\t\t\t\t\tper_page: 50,\n\t\t\t\t};\n\t\t\t\tconst {getEntityRecords, getMedia} = select('core');\n\n\t\t\t\tconst tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n\n\t\t\t\tconst act_page_args = {\n\t\t\t\t\tper_page: -1,\n\t\t\t\t\tsort_order: 'asc',\n\t\t\t\t\tsort_column: 'post_title',\n\t\t\t\t\tparent: window.p4ge_vars.planet4_options.act_page,\n\t\t\t\t\tpost_status: 'publish',\n\t\t\t\t};\n\n\t\t\t\tconst actPageList = getEntityRecords('postType', actPage, act_page_args);\n\n\t\t\t\tconst { attributes } = props;\n\t\t\t\tconst { background_image } = attributes;\n\n\t\t\t\tlet background_image_url = '';\n\t\t\t\tif (background_image) {\n\t\t\t\t\tbackground_image_url = select('core').getMedia(background_image);\n\t\t\t\t\tif ( background_image_url ) {\n\t\t\t\t\t\tbackground_image_url = background_image_url.media_details.sizes.medium.source_url;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tactPageList,\n\t\t\t\t\ttagsList,\n\t\t\t\t\tbackground_image_url,\n\t\t\t\t};\n\t\t\t} )( ( {\n\t\t\t\ttagsList,\n\t\t\t\tactPageList,\n\t\t\t\tbackground_image_url,\n\t\t\t\tisSelected,\n\t\t\t\tattributes,\n\t\t\t\tsetAttributes\n\t\t\t} ) => {\n\n\t\t\t\tif (!tagsList || !actPageList) {\n\t\t\t\t\treturn \"Populating block's fields...\";\n\t\t\t\t}\n\n\t\t\t\tif ((tagsList && tagsList.length === 0) || (actPageList && actPageList.length === 0)) {\n\t\t\t\t\treturn \"Populating block's fields...\";\n\t\t\t\t}\n\n\t\t\t\t// These methods are passed down to the\n\t\t\t\t// Articles component, they update the corresponding attribute.\n\t\t\t\tfunction onSelectTakeActoinPage( value ) {\n\t\t\t\t\tsetAttributes({ take_action_page: value });\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomTitleChange(value) {\n\t\t\t\t\tsetAttributes({custom_title: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomExcerptChange(value) {\n\t\t\t\t\tsetAttributes({custom_excerpt: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkChange(value) {\n\t\t\t\t\tsetAttributes({custom_link: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkTextChange(value) {\n\t\t\t\t\tsetAttributes({custom_link_text: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkNewTabChange(value) {\n\t\t\t\t\tsetAttributes({custom_link_new_tab: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onButtonLinkTabChange(value) {\n\t\t\t\t\tsetAttributes({button_link_new_tab: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onSelectedTagsChange(tagIds) {\n\t\t\t\t\tsetAttributes({tag_ids: tagIds});\n\t\t\t\t}\n\n\t\t\t\tfunction onSelectBackGroundImage( {id} ) {\n\t\t\t\t\tsetAttributes({background_image: id});\n\t\t\t\t}\n\n\t\t\t\tfunction onRemoveBackGroundImage() {\n\t\t\t\t\tsetAttributes({background_image: -1});\n\t\t\t\t}\n\n\t\t\t\t// We pass down all the attributes to Covers as props using\n\t\t\t\t// the spread operator. Then we selectively add more\n\t\t\t\t// props.\n\t\t\t\treturn <Takeactionboxout\n\t\t\t\t\t{...attributes}\n\t\t\t\t\tisSelected={isSelected}\n\t\t\t\t\ttagsList={tagsList}\n\t\t\t\t\tactPageList={actPageList}\n\t\t\t\t\tbackground_image_url={background_image_url}\n\t\t\t\t\tonSelectTakeActoinPage={onSelectTakeActoinPage}\n\t\t\t\t\tonCustomTitleChange={onCustomTitleChange}\n\t\t\t\t\tonCustomExcerptChange={onCustomExcerptChange}\n\t\t\t\t\tonCustomLinkChange={onCustomLinkChange}\n\t\t\t\t\tonCustomLinkTextChange={onCustomLinkTextChange}\n\t\t\t\t\tonCustomLinkNewTabChange={onCustomLinkNewTabChange}\n\t\t\t\t\tonButtonLinkTabChange={onButtonLinkTabChange}\n\t\t\t\t\tonSelectedTagsChange={onSelectedTagsChange}\n\t\t\t\t\tonSelectBackGroundImage={onSelectBackGroundImage}\n\t\t\t\t\tonRemoveBackGroundImage={onRemoveBackGroundImage}/>\n\t\t\t}),\n\t\t\tsave() {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} );\n\t};\n}\n\n","export const addSubAndSuperscript = function (wp){\n\tconst el = wp.element.createElement\n\n\t/* Superscript icon */\n\tconst superscriptIcon = wp.element.createElement( 'svg',\n\t  {\n\t\t  width: 20,\n\t\t  height: 20,\n\t  },\n\t  wp.element.createElement( 'path',\n\t\t{\n\t\t\td: 'm 11.451024,15.991879 v 1.900559 H 8.6286372 L 6.8191261,15.024528 6.5459915,14.546546 Q 6.4549468,14.444115 6.4208029,14.307552 h -0.03414 l -0.1024233,0.238994 q -0.113806,0.227613 -0.284517,0.500744 L 4.2357343,17.892438 H 1.2995409 V 15.991879 H 2.7562552 L 4.9982324,12.68013 2.8928217,9.5846081 H 1.3336801 V 7.6726705 h 3.1410444 l 1.5819027,2.5947735 q 0.022772,0.04552 0.2617521,0.477987 0.091045,0.102421 0.1251849,0.23899 h 0.03414 q 0.034139,-0.102432 0.1251845,-0.23899 L 6.8874061,10.267444 8.4806875,7.6726705 H 11.405498 V 9.5846081 H 9.982924 l -2.0940281,3.0386179 2.3216401,3.368653 z m 7.249435,-7.7274175 v 2.3444015 h -5.849622 l -0.03415,-0.307279 q -0.04552,-0.318656 -0.04552,-0.5235031 0,-0.7283595 0.295896,-1.3315288 0.295896,-0.6031748 0.739738,-0.9844236 0.443844,-0.3812499 0.95597,-0.7397383 0.512126,-0.3584877 0.955968,-0.6202403 0.443845,-0.2617558 0.739742,-0.6145521 0.295891,-0.3527973 0.295891,-0.7283591 0,-0.4324593 -0.335727,-0.711285 -0.335727,-0.2788267 -0.80233,-0.2788267 -0.580409,0 -1.103918,0.4438464 Q 14.35307,4.3381578 14.102696,4.645436 L 12.907742,3.5984202 q 0.295895,-0.4210809 0.716976,-0.7511204 0.944588,-0.7397375 2.139551,-0.7397375 1.251867,0 2.025745,0.6771454 0.773881,0.6771454 0.773881,1.8038232 0,0.6373144 -0.278825,1.1722012 -0.278822,0.5348868 -0.705595,0.8706133 -0.426771,0.3357272 -0.927519,0.6657667 -0.500747,0.3300361 -0.933209,0.5747178 -0.43246,0.2446817 -0.74543,0.5861006 -0.312966,0.3414178 -0.347105,0.7169762 H 17.26651 V 8.2644615 Z',\n\t\t},\n\t  ),\n\t)\n\n\t/* Subscript icon */\n\tconst subscriptIcon = wp.element.createElement( 'svg',\n\t  {\n\t\t  width: 20,\n\t\t  height: 20,\n\t  },\n\t  wp.element.createElement( 'path',\n\t\t{\n\t\t\td: 'M 11.415572,11.723303 V 13.59208 H 8.6403806 L 6.8611266,10.772129 6.5925593,10.302137 Q 6.5030369,10.201425 6.4694659,10.067141 H 6.4358949 L 6.3351822,10.302137 Q 6.2232813,10.525943 6.0554268,10.79451 L 4.3209317,13.59208 H 1.4338398 V 11.723303 H 2.8661965 L 5.0706822,8.4669311 3.0004802,5.4231745 H 1.4674107 V 3.5432079 h 3.0885176 l 1.5554501,2.5513836 q 0.022381,0.044757 0.2573749,0.4699921 0.089522,0.1007124 0.1230932,0.2349956 h 0.033571 Q 6.5589882,6.6988668 6.6485107,6.5645836 L 6.9282683,6.0945915 8.4949066,3.5432079 H 11.370811 V 5.4231745 H 9.9720247 L 7.9130129,8.4109791 10.195831,11.723303 Z m 7.150588,2.428291 v 2.305198 h -5.751805 l -0.04476,-0.302137 q -0.03357,-0.503563 -0.03357,-0.514753 0,-0.716178 0.290947,-1.309263 0.290948,-0.593086 0.727368,-0.96796 0.436422,-0.374874 0.939986,-0.727368 0.503561,-0.352494 0.939983,-0.60987 0.43642,-0.257377 0.727368,-0.604275 0.290947,-0.3469 0.290947,-0.716178 0,-0.425232 -0.330112,-0.699394 -0.330115,-0.2741619 -0.788916,-0.2741619 -0.570706,0 -1.085457,0.4364219 -0.156665,0.123093 -0.402851,0.425231 L 12.870301,9.5635781 q 0.290948,-0.414039 0.70499,-0.738558 0.895222,-0.727368 2.103773,-0.727368 1.230931,0 1.991869,0.665822 0.760939,0.665821 0.760939,1.7736599 0,0.738558 -0.386064,1.326048 -0.386065,0.587489 -0.939984,0.962363 -0.553918,0.374875 -1.113434,0.699393 -0.559513,0.324518 -0.973554,0.704988 -0.41404,0.380469 -0.458801,0.816891 h 2.596145 v -0.895223 z',\n\t\t},\n\t  ),\n\t)\n\n\t/**\n\t * Add a button for subscript (<sub>) in Gutenberg rich text\n\t */\n\tvar SubscriptButton = function( props ) {\n\t\treturn wp.element.createElement(\n\t\t  wp.editor.RichTextToolbarButton, {\n\t\t\t  icon: subscriptIcon,\n\t\t\t  title: 'Subscript',\n\t\t\t  isActive: props.isActive,\n\t\t\t  onClick: function() {\n\t\t\t\t  props.onChange( wp.richText.toggleFormat(\n\t\t\t\t\tprops.value,\n\t\t\t\t\t{ type: 'planet4-blocks/subscript' },\n\t\t\t\t  ) )\n\t\t\t  },\n\t\t\t  className: 'toolbar-button-planet4-subscript',\n\t\t  },\n\t\t)\n\t}\n\n\twp.richText.registerFormatType(\n\t  'planet4-blocks/subscript', {\n\t\t  title: 'Subscript',\n\t\t  tagName: 'sub',\n\t\t  className: null,\n\t\t  edit: SubscriptButton,\n\t  },\n\t)\n\n\t/**\n\t * Add a button for superscript (<sup>) in Gutenberg rich text\n\t */\n\tvar SuperscriptButton = function( props ) {\n\t\treturn wp.element.createElement(\n\t\t  wp.editor.RichTextToolbarButton, {\n\t\t\t  icon: superscriptIcon,\n\t\t\t  title: 'Superscript',\n\t\t\t  isActive: props.isActive,\n\t\t\t  onClick: function() {\n\t\t\t\t  props.onChange( wp.richText.toggleFormat(\n\t\t\t\t\tprops.value,\n\t\t\t\t\t{ type: 'planet4-blocks/superscript' },\n\t\t\t\t  ) )\n\t\t\t  },\n\t\t  },\n\t\t)\n\t}\n\n\twp.richText.registerFormatType(\n\t  'planet4-blocks/superscript', {\n\t\t  title: 'Superscript',\n\t\t  tagName: 'sup',\n\t\t  className: null,\n\t\t  edit: SuperscriptButton,\n\t  },\n\t)\n};\n","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;"],"sourceRoot":""}
>>>>>>> Use relative image paths in the minified files and move them back to the build folder. Fix webpack config.
=======
<<<<<<< Updated upstream
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/src/BlockFilters.js","webpack:///./assets/src/ImageBlockExtension.js","webpack:///./assets/src/RichTextEnhancements.js","webpack:///./assets/src/blocks/Articles/Articles.js","webpack:///./assets/src/blocks/Articles/ArticlesBlock.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeader.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderBlock.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderFront.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderImage.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderSlide.js","webpack:///./assets/src/blocks/Carouselheader/ImagePlaceholder.js","webpack:///./assets/src/blocks/Columns/Columns.js","webpack:///./assets/src/blocks/Columns/ColumnsBlock.js","webpack:///./assets/src/blocks/Cookies/Cookies.js","webpack:///./assets/src/blocks/Cookies/CookiesBlock.js","webpack:///./assets/src/blocks/Counter/Counter.js","webpack:///./assets/src/blocks/Counter/CounterBlock.js","webpack:///./assets/src/blocks/Covers/Covers.js","webpack:///./assets/src/blocks/Covers/CoversBlock.js","webpack:///./assets/src/blocks/Covers/CoversIcon.js","webpack:///./assets/src/blocks/Gallery/Gallery.js","webpack:///./assets/src/blocks/Gallery/GalleryBlock.js","webpack:///./assets/src/blocks/Happypoint/Happypoint.js","webpack:///./assets/src/blocks/Happypoint/HappypointBlock.js","webpack:///./assets/src/blocks/Media/Media.js","webpack:///./assets/src/blocks/Media/MediaBlock.js","webpack:///./assets/src/blocks/Socialmedia/Socialmedia.js","webpack:///./assets/src/blocks/Socialmedia/SocialmediaBlock.js","webpack:///./assets/src/blocks/Socialshare/Socialshare.js","webpack:///./assets/src/blocks/Socialshare/SocialshareBlock.js","webpack:///./assets/src/blocks/Splittwocolumns/Splittwocolumns.js","webpack:///./assets/src/blocks/Splittwocolumns/SplittwocolumnsBlock.js","webpack:///./assets/src/blocks/Submenu/MenuLevel.js","webpack:///./assets/src/blocks/Submenu/Submenu.js","webpack:///./assets/src/blocks/Submenu/SubmenuBlock.js","webpack:///./assets/src/blocks/Takeactionboxout/Takeactionboxout.js","webpack:///./assets/src/blocks/Takeactionboxout/TakeactionboxoutBlock.js","webpack:///./assets/src/blocks/Timeline/Timeline.js","webpack:///./assets/src/blocks/Timeline/TimelineBlock.js","webpack:///./assets/src/components/AssignOnlyFlatTermSelector/AssignOnlyFlatTermSelector.js","webpack:///./assets/src/components/ImageOrButton/ImageOrButton.js","webpack:///./assets/src/components/LayoutSelector/LayoutSelector.js","webpack:///./assets/src/components/Preview.js","webpack:///./assets/src/editorIndex.js","webpack:///./assets/src/replaceTaxonomyTermSelectors.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/objectSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/lodash.assign/index.js","webpack:///external {\"this\":[\"wp\",\"apiFetch\"]}","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"compose\"]}","webpack:///external {\"this\":[\"wp\",\"data\"]}","webpack:///external {\"this\":[\"wp\",\"editor\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":[\"wp\",\"url\"]}","webpack:///external {\"this\":\"lodash\"}","webpack:///external {\"this\":\"React\"}"],"names":["addFilter","wp","hooks","addBlockFilters","addFileBlockFilter","setDownloadButtonToggleDefualtFalse","settings","name","attributes","__","i18n","targetBlocks","captionStyleOptions","label","value","captionAlignmentOptions","setupImageBlockExtension","addExtraAttributes","addExtraControls","addCaptionStyleAttributes","includes","assign","captionStyle","type","default","captionAlignment","createHigherOrderComponent","compose","Fragment","element","InspectorControls","editor","withCaptionStyle","BlockEdit","props","className","selectedCaptionStyle","setAttributes","map","option","key","addSubAndSuperscript","el","createElement","superscriptIcon","width","height","d","subscriptIcon","SubscriptButton","RichTextToolbarButton","icon","title","isActive","onClick","onChange","richText","toggleFormat","registerFormatType","tagName","edit","SuperscriptButton","apiFetch","addQueryArgs","url","Articles","tagTokens","tagsList","filter","tag","tags","id","postTypeTokens","postTypesList","post_type","post_types","state","selectedPosts","populatePostsToken","posts","length","path","per_page","page","include","then","postsTokens","post","rendered","postsSuggestions","setState","postsList","tokens","search","orderby","post_status","tagIds","token","onSelectedTagsChange","postTypeIds","postType","onSelectedPostTypesChange","currentSelectedPosts","forEach","f","push","postIds","onSelectedPostsChange","tagSuggestions","postTypeSuggestions","article_heading","onTitleChange","articles_description","onDescriptionChange","read_more_text","onReadmoretextChange","read_more_link","onReadmorelinkChange","button_link_new_tab","e","onButtonLinkTabChange","article_count","onCountChange","ignore_categories","onIgnoreCategoriesChange","onPostsSearch","isSelected","renderEdit","Component","ArticlesBlock","registerBlockType","blocks","withSelect","data","category","transforms","from","shortcode","named","split","exclude_post_id","Number","select","tagsTaxonomy","postTypesTaxonomy","args","hide_empty","getEntityRecords","save","CarouselHeader","refs","firstRender","carouselInterval","window","setInterval","document","getElementById","clearInterval","initializeCarouselHeader","collapseSlides","setDOMListener","prevProps","prevState","Object","keys","index","collapseSlide","bind","addSlide","removeSlide","block_style","onBlockStyleChange","image","p4ge_vars","home","help","carousel_autoplay","onCarouselAutoplayChange","slides","slide","i","onImageChange","onHeaderChange","onHeaderSizeChange","onSubheaderChange","onLinkTextChange","onLinkUrlChange","onLinkNewTabChange","onStyleChange","onFocalPointsChange","instance","addNewSlide","CarouselHeaderBlock","supports","multiple","convert_position","position","x","y","image_1","header","header_1","header_size","header_size_1","subheader","subheader_1","description","description_1","link_text","link_text_1","link_url","link_url_1","focal_points","focus_image_1","image_2","header_2","header_size_2","subheader_2","description_2","link_text_2","link_url_2","focus_image_2","image_3","header_3","header_size_3","subheader_3","description_3","link_text_3","link_url_3","focus_image_3","image_4","header_4","header_size_4","subheader_4","description_4","link_text_4","link_url_4","focus_image_4","link_url_new_tab","concat","JSON","parse","stringify","fo","slice","ZoomAndSlideToGrayCarouselHeader","SLIDE_TRANSITION_SPEED","activeTransition","nextSlide","$el","$","$nextSlide","next","prevAll","last","previousSlide","$previousSlide","prev","nextAll","switchIndicator","$CarouselIndicators","children","each","toggleClass","setup","me","$CarouselHeaderWrapper","find","$Slides","on","current_img_src","get","currentSrc","current_bg_img","parent","css","replace","remove","$slide","attr","appendTo","$img","img_src","clickTargets","evt","preventDefault","advanceCarousel","activate","target","carousel_element","carousel_head_hammer","Hammer","recognizers","hammer","Manager","swipe","Swipe","add","backwardsCarousel","event","scrollTop","animate","$nextImg","$preview","addClass","prependTo","next_img_src","$active","$previous","slideIndex","eq","hasClass","clearTimeout","removeClass","$next","setTimeout","beginTransition","completeTransition","FullWidthClassicCarouselHeader","getCurrentSlideIndex","reverse","cancelAutoplayInterval","positionIndicators","setCarouselHeight","first","$currentSlide","autoplayPaused","autoplayEnabled","startAutoplayInterval","off","autoplayInterval","currentIndex","$indicators","$header","isRTL","rightSide","matchMedia","matches","leftOffset","offset","left","rightOffset","indicatorsRight","getSlideHeight","outerHeight","$activeSlide","unsetTransitionClasses","fadeIn","CarouselHeaderImage","onRemove","image_id","image_url","hasRemove","imageClass","join","obj","ev","stopPropagation","focalPoints","open","keyCode","CarouselHeaderSlide","isHidden","getMedia","media","source_url","toggleSlide","onImageRemove","hasSubheader","ImagePlaceholder","Columns","columns_title","columns_description","columns_block_style","columns","column_img","onDeleteImage","getImageOrButton","openEvent","padding","onSelectedLayoutChange","item","onColumnHeaderChange","onColumnDescriptionChange","onSelectImage","attachment","endsWith","cta_link","onCTALinkChange","link_new_tab","cta_text","onCTAButtonTextChange","addColumn","removeColumn","ColumnsBlock","title_1","column","attachment_1","link_1","link_new_tab_1","cta_text_1","title_2","attachment_2","link_2","link_new_tab_2","cta_text_2","title_3","attachment_3","link_3","link_new_tab_3","cta_text_3","title_4","attachment_4","link_4","link_new_tab_4","cta_text_4","media_details","new_columns","Cookies","necessary_cookies_name","onNecessaryCookiesNameChange","necessary_cookies_description","onNecessaryCookiesDescriptionChange","all_cookies_name","onAllCookiesNameChange","all_cookies_description","onAllCookiesDescriptionChange","post_id","querySelector","CookiesBlock","Counter","style","completed","onCompletedChange","completed_api","onCompletedAPIChange","onTargetChange","text","onTextChange","CounterBlock","Covers","searchTimeout","cover_type","queryArgs","post_parent","planet4_options","act_page","searchPosts","covers_view","onRowsChange","CoversBlock","CoversIcon","Gallery","image_data","gallery_block_style","gallery_block_title","gallery_block_description","multiple_image","dimensions","multiple_image_array","onRemoveImages","focalPoint","onFocalPointChange","gallery_block_focus_points","GalleryBlock","image_urls_array","image_id_array","img_id","img_details","new_image_data","focal_points_json","isEmptyObject","parseInt","image_ids","updated_image_data","object","parseFloat","toFixed","Happypoint","focus_image","opacity","mailing_list_iframe","iframe_url","focal_point_params","focus_image_str","onOpacityChange","onMailingListIframeChange","onIframeUrlChange","load_iframe","HappypointBlock","background","img_url","onBackgroundChange","Media","video_title","youtube_id","onMediaUrlChange","instructions","onSelectURL","onUploadError","video_poster_img","MediaBlock","message","console","log","Socialmedia","checkTwitterScript","checkInstagramScript","social_media_url","twitterScript","scriptLoaded","loadScriptAsync","initializeTwitterEmbeds","instaScript","initializeInstagramEmbeds","twttr","widgets","load","instgrm","Embeds","process","uri","Promise","resolve","reject","src","async","onload","body","getElementsByTagName","appendChild","embed_type_help","embed_type","onEmbedTypeChange","facebook_page_tab","onFacebookPageTabChange","onSocialMediaUrlChange","alignment_class","onAlignmentChange","SocialmediaBlock","Socialshare","onMessageChange","social_url","onURLChange","SocialshareBlock","messages","urls","sizes","medium","messages_json","urlss_json","mes","surl","Splittwocolumns","tag_list","unshift","issuepage_list","issuepageList","issue","raw","select_issue","issue_description","issue_link_text","issue_link_path","issue_image","focus_issue_image","select_tag","tag_description","button_text","button_link","tag_image","focus_tag_image","issue_image_url","tag_image_url","focus_issue_image_obj","focus_tag_image_obj","onSelectIssue","onIssueTitleChange","onIssueDescriptionChange","onIssueLinkTextChange","onIssueLinkPathChange","onSelectIssueImage","onIssueImageFocalPointChange","onSelectTag","onTagDescriptionChange","onButtonTextChange","onButtonLinkChange","onSelectCampaignImage","onCampaignImageFocalPointChange","SplittwocolumnsBlock","issuePage","taxonomy_args","issue_page_args","sort_order","sort_column","explore_page","MenuLevel","heading","onHeadingChange","link","onLinkChange","Submenu","submenu_style","levels","addLevel","removeLevel","SubmenuBlock","heading1","level","Boolean","link1","style1","heading2","link2","style2","heading3","link3","style3","onLayoutChange","Takeactionboxout","tag_ids","custom_title","custom_excerpt","custom_link","custom_link_text","custom_link_new_tab","background_image","take_action_page","actpage_list","actPageList","actPage","background_image_url","takeActionPageSelected","onSelectTakeActoinPage","isCustomised","onCustomTitleChange","onCustomExcerptChange","onCustomLinkChange","onCustomLinkTextChange","onCustomLinkNewTabChange","onSelectBackGroundImage","onRemoveBackGroundImage","TakeactionboxoutBlock","act_page_args","Timeline","loadTimeline","timelinejs_version","js","TL","google_sheets_url","timenav_position","start_at_end","language","languages","url_desc","timeline_title","onTimelineTitleChange","onGoogleSheetsUrlChange","onLanguageChange","onTimenavPositionChange","onStartAtEndChange","TimelineBlock","DEFAULT_QUERY","order","_fields","MAX_TERMS_SUGGESTIONS","isSameTermName","termA","termB","toLowerCase","unescapeTerm","term","unescapeString","unescapeTerms","terms","AssignOnlyFlatTermSelector","arguments","searchTerms","throttle","loading","isEmpty","availableTerms","selectedTerms","initRequest","fetchTerms","xhr","statusText","invoke","searchRequest","updateSelectedTerms","params","taxonomy","query","request","rest_base","availableTerm","reduce","accumulator","termId","termObject","termNames","uniqueTerms","uniqBy","allowedTerms","termName","termNamesToIds","names","onUpdateTerms","slug","hasAssignAction","newTermLabel","singularName","termAddedLabel","sprintf","_x","termRemovedLabel","removeTermLabel","added","removed","getCurrentPost","getTaxonomy","hasCreateAction","getEditedPostAttribute","withDispatch","dispatch","restBase","editPost","ImageOrButton","disabled","imageId","imageUrl","imgClass","buttonLabel","LayoutSelector","selectedOption","setSelected","options","layoutOption","display","__html","Preview","showBar","articlesBlock","carouselHeaderBlock","columnsBlock","cookiesBlock","counterBlock","coversBlock","galleryBlock","happypointBlock","mediaBlock","socialmediaBlock","socailshareBlock","splittwocolumnsBlock","submenuBlock","takeActionBoxoutBlock","timelineBlock","replaceTaxonomyTermSelectors","customizeTaxonomySelectors","OriginalComponent","isAssignOnlyTaxonomy"],"mappings":"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EA,iC;;;;;;;;;;;ACTA,qBAAqB,mBAAO,CAAC,iFAAkB;;AAE/C,2BAA2B,mBAAO,CAAC,6FAAwB;;AAE3D,sBAAsB,mBAAO,CAAC,mFAAmB;;AAEjD;AACA;AACA;;AAEA,gC;;;;;;;;;;;ACVA,wBAAwB,mBAAO,CAAC,uFAAqB;;AAErD,sBAAsB,mBAAO,CAAC,mFAAmB;;AAEjD,wBAAwB,mBAAO,CAAC,uFAAqB;;AAErD;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA,wBAAwB,2EAA2E,oCAAoC,mBAAmB,GAAG,EAAE,OAAO,oCAAoC,8HAA8H,GAAG,EAAE,sBAAsB;;AAEnW;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yB;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,MAAM;AACjB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iDAAiD,eAAe;;AAEhE;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,OAAO,WAAW;AAC7B,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5nBA,aAAa,yCAAyC,EAAE,I;;;;;;;;;;;ACAxD,aAAa,4CAA4C,EAAE,I;;;;;;;;;;;ACA3D,aAAa,2CAA2C,EAAE,I;;;;;;;;;;;ACA1D,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,uCAAuC,EAAE,I;;;;;;;;;;;ACAtD,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,oCAAoC,EAAE,I;;;;;;;;;;;ACAnD,aAAa,iCAAiC,EAAE,I;;;;;;;;;;;ACAhD,aAAa,gCAAgC,EAAE,I","file":"editorIndex.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/src/editorIndex.js\");\n","const { addFilter } = wp.hooks;\n\n\nexport const addBlockFilters = () => {\n  addFileBlockFilter();\n};\n\n\nconst addFileBlockFilter = () => {\n  const setDownloadButtonToggleDefualtFalse = (settings, name) => {\n\n    if ('core/file' !== name) {\n      return settings;\n    }\n\n    settings.attributes['showDownloadButton']['default'] = false;\n\n    return settings;\n  };\n\n  addFilter('blocks.registerBlockType', 'planet4-blocks/filters/file', setDownloadButtonToggleDefualtFalse);\n};\n","import { Button, ButtonGroup, PanelBody, SelectControl } from '@wordpress/components';\nimport assign from 'lodash.assign';\n\nconst { addFilter } = wp.hooks;\nconst { __ } = wp.i18n;\n\n// Enable spacing control on the following blocks\nconst targetBlocks = [\n  'core/image',\n];\n\nconst captionStyleOptions = [\n  {\n  label: __( 'Blue Overlay (default)' ),\n  value: 'blue-overlay',\n  },\n  {\n  label: __( 'Medium' ),\n  value: 'medium',\n  },\n];\n\nconst captionAlignmentOptions = [\n  {\n  label: __( 'Left' ),\n  value: 'left',\n  },\n  {\n  label: __( 'Center' ),\n  value: 'center',\n  },\n  {\n  label: __( 'Right' ),\n  value: 'right',\n  },\n];\n\nexport const setupImageBlockExtension = function() {\n  addExtraAttributes();\n  addExtraControls();\n}\n\nconst addExtraAttributes = function() {\n  const addCaptionStyleAttributes = ( settings, name ) => {\n  // Do nothing if it's another block than our defined ones.\n  if ( ! targetBlocks.includes( name ) ) {\n    return settings;\n  }\n\n  // Use Lodash's assign to gracefully handle if attributes are undefined\n  settings.attributes = assign( settings.attributes, {\n    captionStyle: {\n    type: 'string',\n    default: captionStyleOptions[ 0 ].value,\n    },\n    captionAlignment: {\n    type: 'string',\n    default: captionAlignmentOptions[ 1 ].value,\n    }\n  } );\n\n  return settings;\n  };\n\n  addFilter( 'blocks.registerBlockType', 'planet4-blocks/overrides/image', addCaptionStyleAttributes );\n}\n\nconst addExtraControls = function() {\n  const { createHigherOrderComponent } = wp.compose;\n  const { Fragment } = wp.element;\n  const { InspectorControls } = wp.editor;\n\n  const withCaptionStyle = createHigherOrderComponent( ( BlockEdit ) => {\n    return ( props ) => {\n      // Do nothing if it's another block than our defined ones.\n      if ( ! targetBlocks.includes( props.name ) ) {\n        return (\n          <BlockEdit { ...props } />\n        );\n      }\n\n      const { captionStyle, captionAlignment } = props.attributes;\n\n\t\t\tprops.attributes.className = '';\n\n      if ( captionStyle ) {\n      \tprops.attributes.className += ` caption-style-${ captionStyle }`;\n      }\n\n      if ( captionAlignment ) {\n      \tprops.attributes.className += ` caption-alignment-${ captionAlignment }`;\n      }\n\n      return (\n        <Fragment>\n          <BlockEdit { ...props } />\n          <InspectorControls>\n            <PanelBody\n              title={ __( 'Planet4 Image Options' ) }\n              initialOpen={ true }\n            >\n              <SelectControl\n                label={ __( 'Caption Style' ) }\n                value={ captionStyle }\n                options={ captionStyleOptions }\n                onChange={ ( selectedCaptionStyle ) => {\n                  props.setAttributes( {\n                    captionStyle: selectedCaptionStyle,\n                  } );\n                } }\n              />\n\n              <label>Caption alignment</label>\n              <ButtonGroup>\n              {\n                captionAlignmentOptions.map((option, key) => {\n\t\t\t\t\t\t\t\t\treturn <Button\n\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tprops.setAttributes({\n\t\t\t\t\t\t\t\t\t\t\t\tcaptionAlignment: option.value,\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tisPrimary={ captionAlignment == option.value }\n\t\t\t\t\t\t\t\t\t\tisLarge isDefault>\n\t\t\t\t\t\t\t\t\t\t\t{ option.label }\n\t\t\t\t\t\t\t\t\t</Button>;\n                })\n              }\n              </ButtonGroup>\n            </PanelBody>\n          </InspectorControls>\n        </Fragment>\n      );\n    };\n  }, 'withCaptionStyle' );\n\n  addFilter( 'editor.BlockEdit', 'planet4-blocks/overrides/image-controls', withCaptionStyle );\n}\n","export const addSubAndSuperscript = function (wp){\n\tconst el = wp.element.createElement\n\n\t/* Superscript icon */\n\tconst superscriptIcon = wp.element.createElement( 'svg',\n\t  {\n\t\t  width: 20,\n\t\t  height: 20,\n\t  },\n\t  wp.element.createElement( 'path',\n\t\t{\n\t\t\td: 'm 11.451024,15.991879 v 1.900559 H 8.6286372 L 6.8191261,15.024528 6.5459915,14.546546 Q 6.4549468,14.444115 6.4208029,14.307552 h -0.03414 l -0.1024233,0.238994 q -0.113806,0.227613 -0.284517,0.500744 L 4.2357343,17.892438 H 1.2995409 V 15.991879 H 2.7562552 L 4.9982324,12.68013 2.8928217,9.5846081 H 1.3336801 V 7.6726705 h 3.1410444 l 1.5819027,2.5947735 q 0.022772,0.04552 0.2617521,0.477987 0.091045,0.102421 0.1251849,0.23899 h 0.03414 q 0.034139,-0.102432 0.1251845,-0.23899 L 6.8874061,10.267444 8.4806875,7.6726705 H 11.405498 V 9.5846081 H 9.982924 l -2.0940281,3.0386179 2.3216401,3.368653 z m 7.249435,-7.7274175 v 2.3444015 h -5.849622 l -0.03415,-0.307279 q -0.04552,-0.318656 -0.04552,-0.5235031 0,-0.7283595 0.295896,-1.3315288 0.295896,-0.6031748 0.739738,-0.9844236 0.443844,-0.3812499 0.95597,-0.7397383 0.512126,-0.3584877 0.955968,-0.6202403 0.443845,-0.2617558 0.739742,-0.6145521 0.295891,-0.3527973 0.295891,-0.7283591 0,-0.4324593 -0.335727,-0.711285 -0.335727,-0.2788267 -0.80233,-0.2788267 -0.580409,0 -1.103918,0.4438464 Q 14.35307,4.3381578 14.102696,4.645436 L 12.907742,3.5984202 q 0.295895,-0.4210809 0.716976,-0.7511204 0.944588,-0.7397375 2.139551,-0.7397375 1.251867,0 2.025745,0.6771454 0.773881,0.6771454 0.773881,1.8038232 0,0.6373144 -0.278825,1.1722012 -0.278822,0.5348868 -0.705595,0.8706133 -0.426771,0.3357272 -0.927519,0.6657667 -0.500747,0.3300361 -0.933209,0.5747178 -0.43246,0.2446817 -0.74543,0.5861006 -0.312966,0.3414178 -0.347105,0.7169762 H 17.26651 V 8.2644615 Z',\n\t\t},\n\t  ),\n\t)\n\n\t/* Subscript icon */\n\tconst subscriptIcon = wp.element.createElement( 'svg',\n\t  {\n\t\t  width: 20,\n\t\t  height: 20,\n\t  },\n\t  wp.element.createElement( 'path',\n\t\t{\n\t\t\td: 'M 11.415572,11.723303 V 13.59208 H 8.6403806 L 6.8611266,10.772129 6.5925593,10.302137 Q 6.5030369,10.201425 6.4694659,10.067141 H 6.4358949 L 6.3351822,10.302137 Q 6.2232813,10.525943 6.0554268,10.79451 L 4.3209317,13.59208 H 1.4338398 V 11.723303 H 2.8661965 L 5.0706822,8.4669311 3.0004802,5.4231745 H 1.4674107 V 3.5432079 h 3.0885176 l 1.5554501,2.5513836 q 0.022381,0.044757 0.2573749,0.4699921 0.089522,0.1007124 0.1230932,0.2349956 h 0.033571 Q 6.5589882,6.6988668 6.6485107,6.5645836 L 6.9282683,6.0945915 8.4949066,3.5432079 H 11.370811 V 5.4231745 H 9.9720247 L 7.9130129,8.4109791 10.195831,11.723303 Z m 7.150588,2.428291 v 2.305198 h -5.751805 l -0.04476,-0.302137 q -0.03357,-0.503563 -0.03357,-0.514753 0,-0.716178 0.290947,-1.309263 0.290948,-0.593086 0.727368,-0.96796 0.436422,-0.374874 0.939986,-0.727368 0.503561,-0.352494 0.939983,-0.60987 0.43642,-0.257377 0.727368,-0.604275 0.290947,-0.3469 0.290947,-0.716178 0,-0.425232 -0.330112,-0.699394 -0.330115,-0.2741619 -0.788916,-0.2741619 -0.570706,0 -1.085457,0.4364219 -0.156665,0.123093 -0.402851,0.425231 L 12.870301,9.5635781 q 0.290948,-0.414039 0.70499,-0.738558 0.895222,-0.727368 2.103773,-0.727368 1.230931,0 1.991869,0.665822 0.760939,0.665821 0.760939,1.7736599 0,0.738558 -0.386064,1.326048 -0.386065,0.587489 -0.939984,0.962363 -0.553918,0.374875 -1.113434,0.699393 -0.559513,0.324518 -0.973554,0.704988 -0.41404,0.380469 -0.458801,0.816891 h 2.596145 v -0.895223 z',\n\t\t},\n\t  ),\n\t)\n\n\t/**\n\t * Add a button for subscript (<sub>) in Gutenberg rich text\n\t */\n\tvar SubscriptButton = function( props ) {\n\t\treturn wp.element.createElement(\n\t\t  wp.editor.RichTextToolbarButton, {\n\t\t\t  icon: subscriptIcon,\n\t\t\t  title: 'Subscript',\n\t\t\t  isActive: props.isActive,\n\t\t\t  onClick: function() {\n\t\t\t\t  props.onChange( wp.richText.toggleFormat(\n\t\t\t\t\tprops.value,\n\t\t\t\t\t{ type: 'planet4-blocks/subscript' },\n\t\t\t\t  ) )\n\t\t\t  },\n\t\t\t  className: 'toolbar-button-planet4-subscript',\n\t\t  },\n\t\t)\n\t}\n\n\twp.richText.registerFormatType(\n\t  'planet4-blocks/subscript', {\n\t\t  title: 'Subscript',\n\t\t  tagName: 'sub',\n\t\t  className: null,\n\t\t  edit: SubscriptButton,\n\t  },\n\t)\n\n\t/**\n\t * Add a button for superscript (<sup>) in Gutenberg rich text\n\t */\n\tvar SuperscriptButton = function( props ) {\n\t\treturn wp.element.createElement(\n\t\t  wp.editor.RichTextToolbarButton, {\n\t\t\t  icon: superscriptIcon,\n\t\t\t  title: 'Superscript',\n\t\t\t  isActive: props.isActive,\n\t\t\t  onClick: function() {\n\t\t\t\t  props.onChange( wp.richText.toggleFormat(\n\t\t\t\t\tprops.value,\n\t\t\t\t\t{ type: 'planet4-blocks/superscript' },\n\t\t\t\t  ) )\n\t\t\t  },\n\t\t  },\n\t\t)\n\t}\n\n\twp.richText.registerFormatType(\n\t  'planet4-blocks/superscript', {\n\t\t  title: 'Superscript',\n\t\t  tagName: 'sup',\n\t\t  className: null,\n\t\t  edit: SuperscriptButton,\n\t  },\n\t)\n};\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  FormTokenField,\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Articles extends Component {\n  constructor(props) {\n    super(props);\n\n    // Populate tag tokens for saved tags.\n    let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n    // Populate post types tokens for saved post types.\n    let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n    this.state = {\n      tagTokens: tagTokens,\n      postTypeTokens: postTypeTokens,\n      selectedPosts: [],\n    };\n\n    this.populatePostsToken();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  populatePostsToken() {\n\n    if (this.props.posts.length > 0) {\n\n      apiFetch(\n        {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            include: this.props.posts\n          })\n        }\n      ).then(posts => {\n        const postsTokens = posts.map(post => post.title.rendered);\n        const postsSuggestions = posts.map(post => post.title.rendered);\n        this.setState({\n            postsTokens: postsTokens,\n            postsList: posts,\n            postsSuggestions: postsSuggestions,\n            selectedPosts: posts,\n          }\n        );\n      });\n    } else {\n      this.setState(\n        {\n          postsTokens: [],\n          postsList: [],\n          postsSuggestions: [],\n          selectedPosts: [],\n        }\n      );\n    }\n  }\n\n  /**\n   * Search posts using wp api.\n   *\n   * @param tokens\n   */\n  onPostsSearch(tokens) {\n\n    apiFetch(\n      {\n        path: addQueryArgs('/wp/v2/posts', {\n          per_page: 50,\n          page: 1,\n          search: tokens,\n          orderby: 'title',\n          post_status: 'publish',\n\n        })\n      }\n    ).then(posts => {\n      let postsSuggestions = posts.map(post => post.title.rendered);\n      this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n    });\n  }\n\n  onSelectedTagsChange(tokens) {\n    const tagIds = tokens.map(token => {\n      return this.props.tagsList.filter(tag => tag.name === token)[0].id;\n    });\n    this.props.onSelectedTagsChange(tagIds);\n    this.setState({tagTokens: tokens})\n  }\n\n  onSelectedPostTypesChange(tokens) {\n    const postTypeIds = tokens.map(token => {\n      return this.props.postTypesList.filter(postType => postType.name === token)[0].id;\n    });\n    this.props.onSelectedPostTypesChange(postTypeIds);\n    this.setState({postTypeTokens: tokens})\n  }\n\n  onSelectedPostsChange(tokens) {\n    // Array to hold references to selected posts objects.\n    let currentSelectedPosts = [];\n    tokens.forEach(token => {\n      let f = this.state.postsList.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n      f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n    });\n\n    const postIds = currentSelectedPosts.map(post => post.id);\n    this.props.onSelectedPostsChange(postIds);\n    this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const tagSuggestions = this.props.tagsList.map(tag => tag.name);\n    const postTypeSuggestions = this.props.postTypesList.map(postType => postType.name);\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'p4ge')}\n            placeholder={__('Enter title', 'p4ge')}\n            help={__('Your default is set to [ Latest Articles ]', 'p4ge')}\n            value={this.props.article_heading}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'p4ge')}\n            placeholder={__('Enter description', 'p4ge')}\n            value={this.props.articles_description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label={__('Button Text', 'p4ge')}\n            placeholder={__('Override button text', 'p4ge')}\n            help={__('Your default is set to [ Load More ]', 'p4ge')}\n            value={this.props.read_more_text}\n            onChange={this.props.onReadmoretextChange}\n          />\n        </div>\n\n\n        <div>\n          <TextControl\n            label={__('Button Link', 'p4ge')}\n            placeholder={__('Add read more button link', 'p4ge')}\n            value={this.props.read_more_link}\n            onChange={this.props.onReadmorelinkChange}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Open in a new Tab', 'p4ge')}\n            help={__('Open button link in new tab', 'p4ge')}\n            value={this.props.button_link_new_tab}\n            checked={this.props.button_link_new_tab}\n            onChange={(e) => this.props.onButtonLinkTabChange(e)}\n          />\n        </div>\n\n        {\n          this.props.posts !== 'undefined' && this.props.posts.length === 0\n            ?\n            <Fragment>\n              <div>\n                <TextControl\n                  label={__('Articles count', 'p4ge')}\n                  help={__('Number of articles', 'p4ge')}\n                  type=\"number\"\n                  value={this.props.article_count}\n                  onChange={this.props.onCountChange}\n                />\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label={__('Select Tags', 'p4ge')}\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                />\n                <p className='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.postTypeTokens}\n                  suggestions={postTypeSuggestions}\n                  label={__('Post Types', 'p4ge')}\n                  onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                />\n              </div>\n              <div className=\"ignore-categories-wrapper\">\n                <CheckboxControl\n                  label={__('Ignore categories', 'p4ge')}\n                  help={__('Ignore categories when filtering posts to populate the content of this block', 'p4ge')}\n                  value={this.props.ignore_categories}\n                  checked={this.props.ignore_categories}\n                  onChange={(e) => this.props.onIgnoreCategoriesChange(e)}\n                />\n              </div>\n            </Fragment>\n            : null\n        }\n\n        {\n          (this.props.tags.length === 0 && this.props.post_types.length === 0)\n            ? <div>\n              <hr/>\n              <label>{__('Manual override', 'p4ge')}</label>\n              <FormTokenField\n                value={this.state.postsTokens}\n                suggestions={this.state.postsSuggestions}\n                label={__('CAUTION: Adding articles individually will override the automatic functionality of this block. For good user experience, please include at least three articles so that spacing and alignment of the design remains in tact.', 'p4ge')}\n                onChange={tokens => this.onSelectedPostsChange(tokens)}\n                onInputChange={tokens => this.onPostsSearch(tokens)}\n                placeholder=\"Select Posts\"\n                maxLength=\"10\"\n                maxSuggestions=\"20\"\n              />\n            </div>\n            : null\n        }\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/articles'}\n            attributes={{\n              read_more_text: this.props.read_more_text,\n              read_more_link: this.props.read_more_link,\n              tags: this.props.tags,\n              post_types: this.props.post_types,\n              posts: this.props.posts,\n              article_heading: this.props.article_heading,\n              articles_description: this.props.articles_description,\n              article_count: this.props.article_count,\n              ignore_categories: this.props.ignore_categories,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Articles} from './Articles.js';\n\nexport class ArticlesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/articles', {\n      title: 'Articles',\n      icon: 'excerpt-view',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_articles',\n            attributes: {\n              article_heading: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_heading;\n                }\n              },\n              articles_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.articles_description;\n                }\n              },\n              article_count: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_count;\n                }\n              },\n              read_more_text: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_text;\n                }\n              },\n              read_more_link: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_link;\n                }\n              },\n              button_link_new_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.button_link_new_tab;\n                }\n              },\n              ignore_categories: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.ignore_categories;\n                }\n              },\n              tags: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.tags.split(',') : [];\n                }\n              },\n              post_types: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.post_types.split(',') : [];\n                }\n              },\n              posts: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.posts.split(',') : [];\n                }\n              },\n              exclude_post_id: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.exclude_post_id);\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        article_heading: {\n          type: 'string',\n        },\n        articles_description: {\n          type: 'string',\n        },\n        article_count: {\n          type: 'integer',\n          default: 3\n        },\n        tags: {\n          type: 'array',\n          default: []\n        },\n        posts: {\n          type: 'array',\n          default: []\n        },\n        post_types: {\n          type: 'array',\n          default: []\n        },\n        read_more_text: {\n          type: 'string'\n        },\n        read_more_link: {\n          type: 'string',\n          default: ''\n        },\n        button_link_new_tab: {\n          type: 'boolean',\n          default: false\n        },\n        ignore_categories: {\n          type: 'boolean',\n          default: false\n        },\n        exclude_post_id: {\n          type: 'integer',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: withSelect((select) => {\n        const tagsTaxonomy = 'post_tag';\n        const postTypesTaxonomy = 'p4-page-type';\n        const args = {\n          hide_empty: false,\n          per_page: 50,\n        };\n        const {getEntityRecords} = select('core');\n\n        // We should probably wrap all these in a single call,\n        // or maybe use our own way of retrieving data from the\n        // API, I don't know how this scales.\n        const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n        const postTypesList = getEntityRecords('taxonomy', postTypesTaxonomy, args);\n\n        return {\n          postTypesList,\n          tagsList,\n        };\n      })(({\n            postTypesList,\n            tagsList,\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        if (!tagsList || !postTypesList) {\n          return \"Populating block's fields...\";\n        }\n\n        // TO-DO: Check for posts types and posts too...\n        if ((tagsList && tagsList.length === 0) || (postTypesList && postTypesList.length === 0)) {\n          return \"Populating block's fields...\";\n        }\n\n        // These methods are passed down to the\n        // Articles component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({article_heading: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({articles_description: value});\n        }\n\n        function onReadmoretextChange(value) {\n          setAttributes({read_more_text: value});\n        }\n\n        function onCountChange(value) {\n          setAttributes({article_count: Number(value)});\n        }\n\n        function onReadmorelinkChange(value) {\n          setAttributes({read_more_link: value});\n        }\n\n        function onButtonLinkTabChange(value) {\n          setAttributes({button_link_new_tab: value});\n        }\n\n        function onSelectedTagsChange(tagIds) {\n          setAttributes({tags: tagIds});\n        }\n\n        function onSelectedPostsChange(value) {\n          setAttributes({posts: value});\n        }\n\n        function onSelectedPostTypesChange(postTypeIds) {\n          setAttributes({post_types: postTypeIds});\n        }\n\n        function onIgnoreCategoriesChange(value) {\n          setAttributes({ignore_categories: value});\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Articles\n          {...attributes}\n          isSelected={isSelected}\n          tagsList={tagsList}\n          postTypesList={postTypesList}\n          onSelectedTagsChange={onSelectedTagsChange}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onCountChange={onCountChange}\n          onSelectedPostsChange={onSelectedPostsChange}\n          onSelectedPostTypesChange={onSelectedPostTypesChange}\n          onReadmoretextChange={onReadmoretextChange}\n          onReadmorelinkChange={onReadmorelinkChange}\n          onButtonLinkTabChange={onButtonLinkTabChange}\n          onIgnoreCategoriesChange={onIgnoreCategoriesChange}/>\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import React, {Component, Fragment} from 'react';\nimport {\n  Button,\n  CheckboxControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {CarouselHeaderSlide} from \"./CarouselHeaderSlide\";\nimport {initializeCarouselHeader} from \"./CarouselHeaderFront\";\n\nexport class CarouselHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.refs = [];\n    this.firstRender = true;\n  }\n\n  setDOMListener() {\n    const carouselInterval = window.setInterval(\n      () => {\n        if (document.getElementById('carousel-wrapper-header')) {\n          window.clearInterval(carouselInterval);\n          initializeCarouselHeader();\n        }\n      },\n      500\n    );\n  }\n\n  componentDidMount() {\n    this.collapseSlides();\n    this.setDOMListener();\n  }\n\n  componentDidUpdate() {\n    if (this.firstRender) {\n      this.collapseSlides();\n      this.firstRender = false;\n    }\n    this.setDOMListener();\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    this.setDOMListener();\n  }\n\n  /**\n   * Collapse all active slides.\n   */\n  collapseSlides() {\n    let refs = this.refs;\n    Object.keys(this.refs).forEach(function (index) {\n      if (null !== refs[index]) {\n        refs[index].collapseSlide();\n      }\n    }.bind(refs));\n  }\n\n  /**\n   * Add new slide to carousel header.\n   */\n  addNewSlide() {\n    this.collapseSlides();\n    this.props.addSlide();\n  }\n\n  /**\n   * Remove slide to carousel header.\n   */\n  removeSlide() {\n    this.props.removeSlide();\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h3>{__('What style of carousel do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.block_style}\n            onSelectedLayoutChange={this.props.onBlockStyleChange}\n            options={[\n              {\n                label: __('Zoom and slide to gray', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/carousel-with-preview.png',\n                value: 'zoom-and-slide-to-gray',\n                help: __('This carousel provides a fancy transition, and a preview for the next slide in an oblique shape.')\n              }, {\n                label: __('Full width classic', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/carousel-classic.png',\n                value: 'full-width-classic',\n                help: __('This is a full width slider with a classic look: big slides, fade transition, and no subheaders.'),\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Carousel Autoplay', 'p4ge')}\n            help={__('Select to trigger images autoslide', 'p4ge')}\n            value={this.props.carousel_autoplay}\n            checked={this.props.carousel_autoplay}\n            onChange={(e) => this.props.onCarouselAutoplayChange(e)}\n          />\n        </div>\n\n        {this.props.slides.map((slide, i) => {\n          return (\n            <Fragment>\n              <CarouselHeaderSlide\n                {...slide}\n                onImageChange={this.props.onImageChange}\n                onHeaderChange={this.props.onHeaderChange}\n                onHeaderSizeChange={this.props.onHeaderSizeChange}\n                onSubheaderChange={this.props.onSubheaderChange}\n                onDescriptionChange={this.props.onDescriptionChange}\n                onLinkTextChange={this.props.onLinkTextChange}\n                onLinkUrlChange={this.props.onLinkUrlChange}\n                onLinkNewTabChange={this.props.onLinkNewTabChange}\n                onStyleChange={this.props.onStyleChange}\n                onFocalPointsChange={this.props.onFocalPointsChange}\n                hasSubheader={this.props.block_style !== 'full-width-classic'}\n                index={i}\n                key={i}\n                ref={(instance) => {\n                  this.refs[i] = instance\n                }}\n              />\n            </Fragment>\n          );\n        })}\n\n        <div className='carousel-header-add-remove-slide'>\n          <Button isPrimary\n                  onClick={this.addNewSlide.bind(this)}\n                  disabled={this.props.slides.length >= 4}\n          >\n            Add Slide\n          </Button>\n          <Button isDefault\n                  onClick={this.removeSlide.bind(this)} disabled={this.props.slides.length <= 1}\n          >\n            Remove Slide\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          {\n            this.props.slides.length && this.props.slides[0].image > 0\n            ? <ServerSideRender\n                block={'planet4-blocks/carousel-header'}\n                attributes={{\n                  block_style: this.props.block_style,\n                  carousel_autoplay: this.props.carousel_autoplay,\n                  slides: this.props.slides,\n                }}\n              >\n              </ServerSideRender>\n            : <div>Not enough data available to render the block yet.</div>\n          }\n\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {CarouselHeader} from './CarouselHeader.js';\n\nexport class CarouselHeaderBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/carousel-header', {\n      title: 'Carousel Header',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_carousel_header block_style=\"full-width-classic\" carousel_autoplay=\"true\" image_1=\"16\" focus_image_1=\"center center\"\n       *     header_1=\"Carousel header - full width  1\" description_1=\"Lorem ipsum \" link_text_1=\"Curabitur rutrum viverra\" image_2=\"348\"\n       *     focus_image_2=\"center center\"\n       *     header_2=\"Carousel header - full width  2\"\n       *     description_2=\"Pellentesque cursus\" link_text_2=\"Pellentesque cursus\"\n       *     image_3=\"357\" focus_image_3=\"left top\" header_3=\"Carousel header - full width  3\"\n       *     description_3=\"Nam condimentum\" focus_image_4=\"left top\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/carousel-header {\"carousel_autoplay\":\"true\",\"slides\":[{\"image\":16,\"header\":\"Carousel header - full width  1\",\"description\":\"Lorem ipsum\",\"link_text\":\"Curabitur rutrum viverra\",\"focal_points\":{\"x\":0.5,\"y\":0.5}},{\"image\":348,\"header\":\"Carousel header - full width  2\",\"description\":\"Pellentesque cursus\",\"link_text\":\"Pellentesque cursus\",\"focal_points\":{\"x\":0.5,\"y\":0.5}},{\"image\":357,\"header\":\"Carousel header - full width  3\",\"description\":\"Nam condimentum\",\"focal_points\":{\"x\":0,\"y\":0}}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_carousel_header',\n            attributes: {\n              block_style: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.block_style);\n                }\n              },\n              carousel_autoplay: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.carousel_autoplay;\n                }\n              },\n              slides: {\n                type: 'array',\n                shortcode: function (attributes) {\n\n                  const convert_position = function(position) {\n                    switch (position) {\n                    case 'left top':\n                      return {x: 0, y: 0};\n                    case 'center top':\n                      return {x: 0.5, y: 0};\n                    case 'right top':\n                      return {x: 1, y: 0};\n                    case 'left center':\n                      return {x: 0, y: 0.5};\n                    case 'center center':\n                      return {x: 0.5, y: 0.5};\n                    case 'right center':\n                      return {x: 1, y: 0.5};\n                    case 'left bottom':\n                      return {x: 0, y: 1};\n                    case 'center bottom':\n                      return {x: 0.5, y: 1};\n                    case 'right bottom':\n                      return {x: 1, y: 1};\n                    }\n                  };\n\n\n                  let slides = [];\n                  if (attributes.named.image_1) {\n                    let slide = {\n                      image: Number(attributes.named.image_1),\n                      header: attributes.named.header_1,\n                      header_size: attributes.named.header_size_1,\n                      subheader: attributes.named.subheader_1,\n                      description: attributes.named.description_1,\n                      link_text: attributes.named.link_text_1,\n                      link_url: attributes.named.link_url_1,\n                      focal_points: convert_position(attributes.named.focus_image_1)\n                    };\n                    slides.push(Object.assign({}, slide));\n\n                    if (attributes.named.image_2) {\n                      let slide = {\n                        image: Number(attributes.named.image_2),\n                        header: attributes.named.header_2,\n                        header_size: attributes.named.header_size_2,\n                        subheader: attributes.named.subheader_2,\n                        description: attributes.named.description_2,\n                        link_text: attributes.named.link_text_2,\n                        link_url: attributes.named.link_url_2,\n                        focal_points: convert_position(attributes.named.focus_image_2)\n                      };\n                      slides.push(Object.assign({}, slide));\n\n                      if (attributes.named.image_3) {\n                        let slide = {\n                          image: Number(attributes.named.image_3),\n                          header: attributes.named.header_3,\n                          header_size: attributes.named.header_size_3,\n                          subheader: attributes.named.subheader_3,\n                          description: attributes.named.description_3,\n                          link_text: attributes.named.link_text_3,\n                          link_url: attributes.named.link_url_3,\n                          focal_points: convert_position(attributes.named.focus_image_3)\n                        };\n                        slides.push(Object.assign({}, slide));\n\n                        if (attributes.named.image_4) {\n                          let slide = {\n                            image: Number(attributes.named.image_4),\n                            header: attributes.named.header_4,\n                            header_size: attributes.named.header_size_4,\n                            subheader: attributes.named.subheader_4,\n                            description: attributes.named.description_4,\n                            link_text: attributes.named.link_text_4,\n                            link_url: attributes.named.link_url_4,\n                            focal_points: convert_position(attributes.named.focus_image_4)\n                          };\n                          slides.push(Object.assign({}, slide));\n\n                        }\n                      }\n                    }\n                  }\n                  return slides;\n                }\n              }\n            }\n          }\n        ]\n      },\n      attributes: {\n        block_style: {\n          type: 'string',\n        },\n        carousel_autoplay: {\n          type: 'boolean',\n        },\n        slides: {\n          type: 'array',\n          default: [\n            {\n              image: null,\n              focal_points: {},\n              header: '',\n              header_size: 'h1',\n              subheader: '',\n              description: '',\n              link_text: '',\n              link_url: '',\n              link_url_new_tab: false,\n            }\n          ]\n        },\n      },\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        function addSlide() {\n          setAttributes({\n            slides: attributes.slides.concat({\n              image: null,\n              focal_points: {},\n              header: '',\n              header_size: 'h1',\n              subheader: '',\n              description: '',\n              link_text: '',\n              link_url: '',\n              link_url_new_tab: false,\n            })\n          });\n        }\n\n        function onCarouselAutoplayChange(value) {\n          setAttributes({carousel_autoplay: value});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onImageChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          if (null !== value) {\n            slides[index].image = value;\n          } else {\n            slides[index].image = null;\n          }\n          setAttributes({slides: slides});\n        }\n\n        function onFocalPointsChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          if (null !== value) {\n            const fo = JSON.parse(JSON.stringify(value));\n            slides[index].focal_points = fo;\n          } else {\n            slides[index].focal_points = null;\n          }\n          setAttributes({slides: slides});\n        }\n\n        function onHeaderChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].header = value;\n          setAttributes({slides: slides});\n        }\n\n        function onHeaderSizeChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].header_size = value;\n          setAttributes({slides: slides});\n        }\n\n        function onSubheaderChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].subheader = value;\n          setAttributes({slides: slides});\n        }\n\n        function onDescriptionChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].description = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkUrlChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_url = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkTextChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_text = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkNewTabChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_url_new_tab = value;\n          setAttributes({slides: slides});\n        }\n\n        function onBlockStyleChange(value) {\n          setAttributes({block_style: value});\n        }\n\n        function removeSlide() {\n          setAttributes({slides: attributes.slides.slice(0, -1)});\n        }\n\n        return <CarouselHeader\n          {...attributes}\n          isSelected={isSelected}\n          onBlockStyleChange={onBlockStyleChange}\n          onCarouselAutoplayChange={onCarouselAutoplayChange}\n          onTitleChange={onTitleChange}\n          onImageChange={onImageChange}\n          onHeaderChange={onHeaderChange}\n          onSubheaderChange={onSubheaderChange}\n          onHeaderSizeChange={onHeaderSizeChange}\n          onDescriptionChange={onDescriptionChange}\n          onLinkTextChange={onLinkTextChange}\n          onLinkUrlChange={onLinkUrlChange}\n          onLinkNewTabChange={onLinkNewTabChange}\n          onFocalPointsChange={onFocalPointsChange}\n          addSlide={addSlide}\n          removeSlide={removeSlide}\n        />;\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","/* global Hammer */\nconst ZoomAndSlideToGrayCarouselHeader = {\n  /**\n   * This module provides a custom slideshow mechanism for use with the header carousel.\n   * The transition behavior in this block is too complex to be easily layered upon the\n   * default bootstrap carousel.\n   */\n\n  // SLIDE_TRANSITION_SPEED should match $slide-transition-speed in _carousel_header.scss.\n  SLIDE_TRANSITION_SPEED: 500,\n  activeTransition: null,\n\n\n  /**\n   * Given an active slide return the next slide, wrapping around the end of the carousel.\n   *\n   * @param {HTMLElement|jQuery} slide A slide in the carousel.\n   * @returns {jQuery} A jQuery selection of the next slide.\n   */\n  nextSlide: function (el) {\n    const $el = $(el);\n    const $nextSlide = $el.next('.carousel-item');\n    // prevAll returns items in reverse DOM order: the first slide is the last element.\n    return $nextSlide.length ? $nextSlide : $el.prevAll('.carousel-item').last();\n  },\n\n  previousSlide: function (el) {\n    const $el = $(el);\n    const $previousSlide = $el.prev('.carousel-item');\n    return $previousSlide.length ? $previousSlide : $el.nextAll('.carousel-item').last();\n  },\n\n  // Update active slide indicators\n  switchIndicator: function (index) {\n    this.$CarouselIndicators.children().each(function (i, el) {\n      $(el).toggleClass('active', i === index);\n    });\n  },\n\n  setup: function () {\n    const me = this;\n\n    me.$CarouselHeaderWrapper = $('#carousel-wrapper-header');\n\n    me.$CarouselIndicators = me.$CarouselHeaderWrapper.find('.carousel-indicators');\n    me.$Slides = me.$CarouselHeaderWrapper.find('.carousel-item');\n\n    me.$CarouselHeaderWrapper.find('img').on('load', function () {\n      const current_img_src = $(this).get(0).currentSrc;\n      const current_bg_img = $(this).parent().css('background-image').replace(/.*\\s?url\\(['\"]?/, '').replace(/['\"]?\\).*/, '');\n      if (current_img_src !== current_bg_img) {\n        $(this).parent().css('background-image', 'url(' + $(this).get(0).currentSrc + ')');\n      }\n    });\n\n    me.$CarouselIndicators.find('li').remove(); // Empty the indicators list\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n\n      // Populate carousel indicators list\n      $('<li>')\n        .attr('data-target', '#carousel-wrapper-header')\n        .attr('data-slide-to', i)\n        .toggleClass('active', i === 0)\n        .appendTo(me.$CarouselIndicators);\n\n      // Convert the provided image tag into background image styles.\n      const $img = $slide.find('img');\n      const img_src = $img.get(0).currentSrc || $img.attr('src');\n      $slide\n        .css('background-image', 'url(' + img_src + ')')\n        .css('background-position', $img.data('background-position'));\n\n      // Populate carousel slide index\n      $slide.attr('data-slide', i);\n    });\n\n    // Bind mouse interaction events\n    let clickTargets = '.carousel-control-next';\n    if ($('html').attr('dir') == 'rtl') {\n      clickTargets += ', .carousel-control-prev';\n    }\n    me.$CarouselHeaderWrapper.on('click', clickTargets, function (evt) {\n      evt.preventDefault();\n      me.advanceCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', '.carousel-indicators li', function (evt) {\n      evt.preventDefault();\n      me.activate($(evt.target).data('slide-to'));\n    });\n\n    /* Carousel header swipe on mobile */\n    if ($('.carousel-header').length > 0 && me.$Slides.length > 1) {\n      const carousel_element = $('.carousel-header')[0];\n      const carousel_head_hammer = new Hammer(carousel_element, {recognizers: []});\n      const hammer = new Hammer.Manager(carousel_head_hammer.element);\n      const swipe = new Hammer.Swipe();\n      hammer.add(swipe);\n\n      hammer.on('swipeleft', function () {\n        me.advanceCarousel();\n      });\n\n      hammer.on('swiperight', function () {\n        me.backwardsCarousel();\n      });\n\n      // Vertical swiping on carousel should scroll the page\n      hammer.on('swipeup', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y + 200});\n      });\n      hammer.on('swipedown', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y - 200});\n      });\n    }\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n      const $nextImg = me.nextSlide($slide).find('img');\n\n      if ($nextImg.length > 0) {\n        // Add an element within the slide to hold the next slide preview.\n        const $preview = $('<div>')\n          .addClass('carousel-preview-wrap')\n          .prependTo($slide);\n\n        const next_img_src = $nextImg.get(0).currentSrc || $nextImg.attr('src');\n        $('<div>')\n          .addClass('carousel-preview')\n          .css('background-image', 'url(' + next_img_src + ')')\n          .css('background-position', $nextImg.data('background-position'))\n          .appendTo($preview);\n      }\n    });\n  },\n\n  backwardsCarousel: function () {\n    const $active = this.$Slides.filter('.active');\n    const $previous = this.previousSlide($active);\n    this.activate($previous.data('slide'));\n  },\n\n  /**\n   * Switch to a specific slide.\n   *\n   * @param {Number} slideIndex The index of a slide in the carousel.\n   */\n  activate: function (slideIndex) {\n    const me = this;\n    const $slide = me.$Slides.eq(slideIndex);\n\n    if ($slide.hasClass('active') && !$slide.hasClass('slide-over')) {\n      // If the requested slide is active and not transitioning, do nothing.\n      return;\n    }\n\n    if (me.$CarouselHeaderWrapper.data('block-style') != 'full-width-classic') {\n      if ($slide.hasClass('next')) {\n        // If the slide being requested is next, transition normally.\n        me.advanceCarousel();\n        return;\n      }\n    }\n\n    if (me.activeTransition) {\n      clearTimeout(me.activeTransition);\n    }\n\n    me.switchIndicator(slideIndex);\n\n    me.$Slides.removeClass('active next slide-over fade-out');\n    $slide.addClass('active');\n    me.nextSlide($slide).addClass('next');\n  },\n\n  /**\n   * Advance to the next slide in the carousel.\n   */\n  advanceCarousel: function () {\n    const me = this;\n    const $active = me.$Slides.filter('.active');\n\n    me.$Slides.removeClass('next');\n    const $next = me.nextSlide($active).addClass('next');\n\n    if (me.activeTransition) {\n      // A transition is in progress, so proceed to the next pair of slides\n      clearTimeout(me.activeTransition);\n      me.activeTransition = null;\n      me.$Slides.removeClass('fade-out slide-over active');\n      $next.addClass('active');\n      me.nextSlide($next).addClass('next');\n      me.advanceCarousel();\n      return;\n    }\n\n    // Transition out the active slide\n    $active.addClass('slide-over');\n\n    me.switchIndicator(me.$Slides.index($next));\n\n    // When transition is done, swap out the slides\n    me.activeTransition = setTimeout(function beginTransition() {\n      $active.addClass('fade-out');\n      me.activeTransition = setTimeout(function completeTransition() {\n        $active.removeClass('active');\n        me.$Slides.removeClass('slide-over fade-out');\n        $next.removeClass('next').addClass('active');\n        // Ensure the new upcoming slide has .next\n        me.nextSlide($next).addClass('next');\n        me.activeTransition = null;\n      }, me.SLIDE_TRANSITION_SPEED / 2);\n    }, me.SLIDE_TRANSITION_SPEED);\n  },\n};\n\nconst FullWidthClassicCarouselHeader = {\n  /**\n   * Given an active slide return the next slide, wrapping around the end of the carousel.\n   *\n   * @param {HTMLElement|jQuery} slide A slide in the carousel.\n   * @returns {jQuery} A jQuery selection of the next slide.\n   */\n  nextSlide: function (el) {\n    const $el = $(el);\n    const $nextSlide = $el.next('.carousel-item');\n    // prevAll returns items in reverse DOM order: the first slide is the last element.\n    return $nextSlide.length ? $nextSlide : $el.prevAll('.carousel-item').last();\n  },\n\n  previousSlide: function (el) {\n    const $el = $(el);\n    const $previousSlide = $el.prev('.carousel-item');\n    return $previousSlide.length ? $previousSlide : $el.nextAll('.carousel-item').last();\n  },\n\n  // Update active slide indicators\n  switchIndicator: function (index) {\n    this.$CarouselIndicators.children().each(function (i, el) {\n      $(el).toggleClass('active', i === index);\n    });\n  },\n\n  getCurrentSlideIndex: function () {\n    return this.$CarouselHeaderWrapper.find('.carousel-item.active').index();\n  },\n\n  setup: function () {\n    const me = this;\n\n    me.$CarouselHeaderWrapper = $('#carousel-wrapper-header');\n    me.$Slides = me.$CarouselHeaderWrapper.find('.carousel-item');\n\n    me.$CarouselHeaderWrapper.find('img').on('load', function () {\n      const current_img_src = $(this).get(0).currentSrc;\n      const current_bg_img = $(this).parent().css('background-image').replace(/.*\\s?url\\(['\"]?/, '').replace(/['\"]?\\).*/, '');\n      if (current_img_src !== current_bg_img) {\n        $(this).parent().css('background-image', 'url(' + $(this).get(0).currentSrc + ')');\n      }\n    });\n\n    me.$CarouselIndicators = me.$CarouselHeaderWrapper.find('.carousel-indicators');\n\n    me.$CarouselIndicators.find('li').remove(); // Empty the indicators list\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n\n      // Populate carousel indicators list\n      $('<li>')\n        .attr('data-target', '#carousel-wrapper-header')\n        .attr('data-slide-to', i)\n        .toggleClass('active', i === 0)\n        .appendTo(me.$CarouselIndicators);\n\n      // Convert the provided image tag into background image styles.\n      const $img = $slide.find('img');\n      const img_src = $img.get(0).currentSrc || $img.attr('src');\n      $slide.find('.background-holder')\n        .css('background-image', 'url(' + img_src + ')')\n        .css('background-position', $img.data('background-position'));\n\n      // Populate carousel slide index\n      $slide.attr('data-slide', i);\n    });\n\n    // Bind mouse interaction events\n    const clickTargets = ['.carousel-control-next', '.carousel-control-prev'];\n    if ($('html').attr('dir') == 'rtl') {\n      clickTargets.reverse();\n    }\n    me.$CarouselHeaderWrapper.on('click', clickTargets[0], function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.advanceCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', clickTargets[1], function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.backwardsCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', '.carousel-indicators li', function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.activate($(evt.target).data('slide-to'));\n    });\n\n    /* Carousel header swipe on mobile */\n    if ($('.carousel-header_full-width-classic').length > 0 && me.$Slides.length > 1) {\n      const carousel_element = $('.carousel-header_full-width-classic')[0];\n      const carousel_head_hammer = new Hammer(carousel_element, {recognizers: []});\n      const hammer = new Hammer.Manager(carousel_head_hammer.element);\n      const swipe = new Hammer.Swipe();\n      hammer.add(swipe);\n\n      hammer.on('swipeleft', function () {\n        me.cancelAutoplayInterval();\n        me.advanceCarousel();\n      });\n\n      hammer.on('swiperight', function () {\n        me.cancelAutoplayInterval();\n        me.backwardsCarousel();\n      });\n\n      // Vertical swiping on carousel should scroll the page\n      hammer.on('swipeup', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y + 200});\n      });\n      hammer.on('swipedown', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y - 200});\n      });\n    }\n\n    me.positionIndicators();\n    me.setCarouselHeight(me.$Slides.first());\n\n    me.$CarouselHeaderWrapper.find('.initial').on('transitionend', function () {\n      $(this).removeClass('initial');\n    });\n\n    $(window).on('resize', function () {\n      const $currentSlide = $('.carousel-item.active');\n      me.setCarouselHeight($currentSlide);\n      me.positionIndicators();\n    });\n\n    me.autoplayPaused = false;\n    me.autoplayEnabled = me.$CarouselHeaderWrapper.data('carousel-autoplay') == true;\n\n    if (me.$Slides.length > 1 && me.autoplayEnabled) {\n      me.startAutoplayInterval();\n\n      me.$CarouselHeaderWrapper.on('mouseenter', function () {\n        me.autoplayPaused = true;\n      });\n\n      me.$CarouselHeaderWrapper.on('mouseleave', function () {\n        me.autoplayPaused = false;\n      });\n    }\n\n    $(window).on('scroll', function () {\n      me.cancelAutoplayInterval();\n      $(window).off('scroll');\n    });\n  },\n\n  startAutoplayInterval: function () {\n    const me = this;\n    me.autoplayInterval = window.setInterval(function () {\n      if (!me.autoplayPaused) {\n        me.advanceCarousel();\n      }\n    }, 6000);\n  },\n\n  cancelAutoplayInterval: function () {\n    window.clearInterval(this.autoplayInterval);\n  },\n\n  /**\n   * Switch to a specific slide.\n   *\n   * @param {Number} slideIndex The index of a slide in the carousel.\n   */\n  activate: function (slideIndex) {\n    const me = this;\n    const $slide = me.$Slides.eq(slideIndex);\n    const currentIndex = me.getCurrentSlideIndex();\n\n    if (slideIndex == currentIndex) {\n      return;\n    }\n\n    if (slideIndex > currentIndex) {\n      me.advanceCarousel($slide);\n    } else {\n      me.backwardsCarousel($slide);\n    }\n  },\n\n  positionIndicators: function () {\n    const $indicators = this.$CarouselHeaderWrapper.find('.carousel-indicators');\n    const $header = this.$CarouselHeaderWrapper.find('.carousel-item.active .action-button');\n    const isRTL = $('html').attr('dir') == 'rtl';\n    const rightSide = (window.matchMedia('(min-width: 992px)').matches && isRTL)\n      || (window.matchMedia('(min-width: 768px) and (max-width: 992px)').matches && !isRTL);\n\n    if (window.matchMedia('(min-width: 768px)').matches && $header.length) {\n      let leftOffset = $header.offset().left;\n\n      if (rightSide) {\n        const rightOffset = leftOffset + (isRTL ? $header.width() : $header.parent().width());\n        const indicatorsRight = $(window).width() - rightOffset;\n        $indicators.css('right', indicatorsRight + 'px')\n          .css('left', '')\n          .css('margin-left', '0')\n          .css('margin-right', '3px'); // same as indicators x margin\n      } else {\n        leftOffset = isRTL ? $header.parent().offset().left : $header.offset().left;\n        $indicators.css('left', leftOffset + 'px')\n          .css('right', '')\n          .css('margin-right', '0')\n          .css('margin-left', '3px');\n      }\n    } else {\n      $indicators.css('right', '');\n      $indicators.css('left', '');\n    }\n  },\n\n  getSlideHeight: function ($slide) {\n    return $slide.find('.carousel-item-mask .background-holder').outerHeight() + $slide.find('.carousel-caption').outerHeight() + 'px';\n  },\n\n  setCarouselHeight: function ($currentSlide) {\n    const me = this;\n    if (window.matchMedia('(max-width: 992px)').matches) {\n      me.$CarouselHeaderWrapper.find('.carousel-inner, .carousel-item-mask').css('height', this.getSlideHeight($currentSlide));\n    } else {\n      me.$CarouselHeaderWrapper.find('.carousel-inner, .carousel-item-mask').css('height', '');\n    }\n  },\n\n  backwardsCarousel: function ($slide) {\n    const me = this;\n    const $activeSlide = me.$Slides.filter('.active');\n    let $previousSlide = null;\n    if ($slide) {\n      $previousSlide = $slide;\n    } else {\n      $previousSlide = me.previousSlide($activeSlide);\n    }\n\n    $activeSlide.addClass('slide-right');\n    $previousSlide.addClass('prev');\n\n    function unsetTransitionClasses() {\n      $activeSlide.removeClass('slide-right active');\n      $previousSlide.addClass('active').removeClass('prev');\n      $activeSlide.off('transitionend');\n    }\n\n    me.setCarouselHeight($previousSlide);\n    $activeSlide.on('transitionend', unsetTransitionClasses);\n    me.switchIndicator(me.$Slides.index($previousSlide));\n  },\n\n  /**\n   * Advance to the next slide in the carousel.\n   */\n  advanceCarousel: function ($slide) {\n    const me = this;\n    const $activeSlide = me.$Slides.filter('.active');\n    let $nextSlide = null;\n    if ($slide) {\n      $nextSlide = $slide;\n    } else {\n      $nextSlide = me.nextSlide($activeSlide);\n    }\n\n    $activeSlide.addClass('slide-left');\n    $nextSlide.addClass('next');\n\n    function unsetTransitionClasses() {\n      $activeSlide.removeClass('slide-left active');\n      $nextSlide.addClass('active').removeClass('next');\n      $activeSlide.off('transitionend');\n    }\n\n    $activeSlide.on('transitionend', unsetTransitionClasses);\n    $activeSlide.find('.btn').fadeIn();\n\n    me.setCarouselHeight($nextSlide);\n    me.switchIndicator(me.$Slides.index($nextSlide));\n  },\n};\n\nexport const initializeCarouselHeader = function() {\n  const $CarouselHeaderWrapper = $('#carousel-wrapper-header');\n  if ($CarouselHeaderWrapper.length > 0) {\n    switch ($CarouselHeaderWrapper.data('block-style')) {\n    case 'full-width-classic':\n      FullWidthClassicCarouselHeader.setup();\n      break;\n    default:\n      ZoomAndSlideToGrayCarouselHeader.setup();\n      break;\n    }\n  }\n};\n","import {React, Component, Fragment} from 'react';\nimport {\n  Dashicon,\n  FocalPointPicker\n} from '@wordpress/components';\nimport {MediaUpload} from \"@wordpress/editor\";\nimport ImagePlaceholder from './ImagePlaceholder';\n\nexport class CarouselHeaderImage extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {onChange, onRemove, image_id, image_url, onFocalPointsChange, focal_points} = this.props;\n    let   hasRemove = true;\n\n    let imageClass = [];\n    if (!image_url) {\n      imageClass.push('ch-image-upload-placeholder');\n      imageClass.push('ch-image-upload-has-placeholder');\n    } else {\n      imageClass.push('carousel-header-image-container');\n    }\n    imageClass = imageClass.join(' ');\n\n\n    return (\n      <Fragment>\n        <MediaUpload\n          onSelect={onChange}\n          allowedTypes={['image']}\n          value={image_id}\n          render={obj => {\n            if (image_url) {\n              return (\n                <div\n                  className={imageClass}\n                  tabIndex={0}\n                >\n                  {image_url && onRemove && hasRemove && (\n                    <button className=\"ch-image-upload-remove\" onClick={ev => {\n                      onRemove();\n                      ev.stopPropagation()\n                    }}><Dashicon icon=\"no\"/></button>\n                  )}\n                  <FocalPointPicker\n                    url={image_url}\n                    value={focal_points}\n                    onChange={(focalPoints) => onFocalPointsChange(focalPoints)}\n                  />\n\n                </div>\n              )\n            }\n            return (\n              <div\n                className={imageClass}\n                onClick={obj.open}\n                onKeyDown={event => {\n                  if (event.keyCode === 13) {\n                    obj.open()\n                  }\n                }}\n                role=\"button\"\n                tabIndex={0}\n                >\n                {image_url && onRemove && hasRemove && (\n                  <button className=\"ch-image-upload-remove\" onClick={ev => {\n                    onRemove();\n                    ev.stopPropagation()\n                  }}><Dashicon icon=\"no\"/></button>\n                )}\n                <ImagePlaceholder/>\n              </div>\n            )\n          }}\n        />\n\n      </Fragment>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  Dashicon,\n  SelectControl,\n  TextareaControl,\n  TextControl,\n  ToggleControl\n} from '@wordpress/components';\nimport {URLInput} from '@wordpress/block-editor'\nimport {CarouselHeaderImage} from \"./CarouselHeaderImage\";\n\nconst {apiFetch} = wp;\n\nexport class CarouselHeaderSlide extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      image_id: null,\n      image_url: null,\n      focal_points: props.focal_points,\n      isHidden: false,\n    };\n    this.getMedia();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  getMedia() {\n\n    if (this.props.image) {\n\n      apiFetch(\n        {\n          path: `/wp/v2/media/${this.props.image}`\n        }\n      ).then(media => {\n        this.setState({\n          image_id: media.id,\n          image_url: media.source_url\n        });\n      });\n    }\n  }\n\n  onImageChange(image) {\n    this.props.onImageChange(this.props.index, image.id);\n    this.setState({image_id: image.id, image_url: image.url});\n  }\n\n  onImageRemove() {\n    this.props.onImageChange(this.props.index, null);\n    this.setState({image_id: null, image_url: null});\n  }\n\n  onFocalPointsChange(value) {\n    this.props.onFocalPointsChange(this.props.index, value);\n    this.setState({focal_points: value});\n  }\n\n  collapseSlide() {\n    this.setState({isHidden: true});\n  }\n\n  openSlide() {\n    this.setState({isHidden: false});\n  }\n\n  toggleSlide() {\n    this.setState({isHidden: !this.state.isHidden});\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div className={this.state.isHidden ? '' : 'carousel-header-slide-container'}>\n          <div onClick={ev => this.toggleSlide()} className='slide-number-row'>\n            <span>\n              {__('Slide', 'p4ge')} {this.props.index + 1}\n            </span>\n            <span className={this.state.isHidden ? 'slide-arrow' : 'slide-arrow slide-open'}>\n              <Dashicon icon=\"arrow-down-alt2\"/>\n            </span>\n          </div>\n\n          {!this.state.isHidden &&\n\n          <Fragment>\n            <div className='carousel-header-slide-options-wrapper'>\n              <div>{__('Select image and focal point', 'p4ge')}</div>\n              <CarouselHeaderImage\n                image_id={this.state.image_id}\n                image_url={this.state.image_url}\n                focal_points={this.state.focal_points}\n                onRemove={() => this.onImageRemove()}\n                onChange={(image) => this.onImageChange(image)}\n                onFocalPointsChange={(f) => this.onFocalPointsChange(f)}\n              />\n              <div className=\"ch-url-input-control__wrapper\">\n\n                <TextControl\n                  className=\"carouselh-header-input\"\n                  label={__('Header', 'p4ge')}\n                  placeholder={__('Enter header', 'p4ge')}\n                  value={this.props.header}\n                  onChange={(e) => this.props.onHeaderChange(this.props.index, e)}\n                />\n                <SelectControl\n                  label={__('Header text size', 'p4ge')}\n                  value={this.props.header_size}\n                  options={[\n                    {label: 'h1', value: 'h1'},\n                    {label: 'h2', value: 'h2'},\n                    {label: 'h3', value: 'h3'},\n                  ]}\n                  onChange={(e) => this.props.onHeaderSizeChange(this.props.index, e)}\n                />\n              </div>\n              {this.props.hasSubheader &&\n              <TextControl\n                label={__('Subheader', 'p4ge')}\n                placeholder={__('Enter subheader', 'p4ge')}\n                value={this.props.subheader}\n                onChange={(e) => this.props.onSubheaderChange(this.props.index, e)}\n              />\n              }\n              <TextareaControl\n                label={__('Description', 'p4ge')}\n                placeholder={__('Enter description of image', 'p4ge')}\n                value={this.props.description}\n                onChange={(e) => this.props.onDescriptionChange(this.props.index, e)}\n              />\n              <div className=\"ch-url-input-control__wrapper\">\n\n                <TextControl\n                  label={__('Link text and url', 'p4ge')}\n                  placeholder={__('Enter link text for image', 'p4ge')}\n                  value={this.props.link_text}\n                  onChange={(e) => this.props.onLinkTextChange(this.props.index, e)}\n                  className='carousel-header-link-text-input'\n                />\n                <form\n                  className=\"ch-url-input-control\"\n                  onSubmit={event => event.preventDefault()}>\n                  <div className=\"ch-url-input-control__wrapper\">\n                    <URLInput\n                      label={__('Url for link', 'p4ge')}\n                      className=\"ch-url-input-control__input\"\n                      value={this.props.link_url}\n                      onChange={(e) => this.props.onLinkUrlChange(this.props.index, e)}\n                      autoFocus={false}\n                    />\n                    <div className=\"ch-url-input-control__new-tab\">\n                      <ToggleControl\n                        help={__('New Tab', 'p4ge')}\n                        checked={this.props.link_url_new_tab}\n                        onChange={(e) => this.props.onLinkNewTabChange(this.props.index, e)}\n                      />\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </Fragment>\n          }\n        </div>\n      </Fragment>\n    );\n  };\n}\n","import {React, Component} from 'react';\n\nexport default class ImagePlaceholder extends Component {\n  render() {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 512 376\">\n      <path d=\"M0,0v376h512V0H0z M480,344H32V32h448V344z\"/>\n      <circle cx=\"409.1\" cy=\"102.9\" r=\"40.9\"/>\n      <polygon\n        points=\"480,344 32,344 118.3,179.8 140,191.1 189,113.8 289,226.9 297.9,217.6 315,239.9 341,193.5 393.9,264.7 409,248.8\"/>\n    </svg>\n  }\n}\n","import { React } from 'react';\nimport {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender,\n  Dashicon,\n  Tooltip,\n  ToggleControl, Button\n} from '@wordpress/components';\nimport {MediaPlaceholder, MediaUpload, MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Columns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {columns_title,columns_description,columns_block_style,columns,column_img,onDeleteImage} = this.props;\n\n      const getImageOrButton = (openEvent, index) => {\n        if ( columns[index] && columns[index]['attachment'] && ( 0 <  columns[index]['attachment'] ) ) {\n\n          return (\n\n            <div align='center'>\n              <div>{__('Column %s: Image', 'p4ge').replace('%s', index+1)}</div>\n              <div className=\"img-wrap\">\n                <Tooltip text={__('Remove Column Image', 'p4ge')}>\n                  <span className=\"close\" onClick={ev => {\n                    onDeleteImage(index);\n                    ev.stopPropagation()\n                  }}>&times;</span>\n                </Tooltip>\n              <img\n                src={ column_img[columns[index]['attachment']] }\n                onClick={ openEvent }\n                className='Columns__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n              </div>\n            </div>\n\n          );\n        }\n        else {\n\n          return (\n            <div className='column-img-btn-container'>\n              <div className='column-img-label'>{__('Column %s: Image', 'p4ge').replace('%s', index+1)}</div>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Column %s: Image', 'p4ge').replace('%s', index+1)}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <h3>{__('What style of column do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={columns_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('No Image', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-no_images.jpg',\n                  value: 'no_image',\n                  help: __('Optional headers, description text and buttons in a column display.', 'p4ge')\n                },\n                {\n                  label: __('Tasks', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-tasks.jpg',\n                  value: 'tasks',\n                  help: __('Used on Take Action pages, this display has ordered tasks, and call to action buttons.', 'p4ge')\n                },\n                {\n                  label: __('Icons', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-icons.jpg',\n                  value: 'icons',\n                  help: __('For more static content, this display has an icon, header, description and text link.', 'p4ge')\n                },\n                {\n                  label: __('Images', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-images.jpg',\n                  value: 'image',\n                  help: __('For more static content, this display has an image, header, description and text link.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter block title', 'p4ge')}\n              value={columns_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter block description', 'p4ge')}\n              value={columns_description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n          <div>\n\n            {columns.map((item, index) => {\n              return (\n                <div key={index}>\n                  <div><hr /></div>\n                  { !item.title && !item.description &&\n                   <div><b>{__('Please provide a header or a body for this column to be displayed.', 'p4ge')}</b></div>\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Header', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter header of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.title}\n                    onChange={this.props.onColumnHeaderChange.bind(this,index)}\n                  />\n                  <TextareaControl\n                    label={__('Column %s: Body', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter body of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.description}\n                    onChange={this.props.onColumnDescriptionChange.bind(this,index)}\n                  />\n\n                  { 'no_image' != columns_block_style &&\n                    <div className='components-base-control'>\n                      <MediaUploadCheck>\n                        <MediaUpload\n                          type='image'\n                          onSelect={this.props.onSelectImage.bind(this,index)}\n                          value={item.attachment}\n                          allowedTypes={columns_block_style === 'icons' ? ['image/png'] : ['image']}\n                          render={ ({ open }) => getImageOrButton(open, index) }\n                        />\n                      </MediaUploadCheck>\n                      { columns_block_style === 'icons' && item.attachment > 0 && typeof column_img[item.attachment] !== 'undefined' && !column_img[item.attachment].endsWith('.png') &&\n                       <div><b>{__('Please select another image for this column, as the current image is not an icon and you have chosen columns style icons. ', 'p4ge')}</b></div>\n                      }\n                    </div>\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Button/CtA Link', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_link}\n                    onChange={this.props.onCTALinkChange.bind(this,index)}\n                  />\n                  <ToggleControl\n                    label={__('Open link in new tab', 'p4ge')}\n                    help={__('Open Column %s: Button/CtA Link in a new tab', 'p4ge').replace('%s', index+1)}\n                    value={item.link_new_tab}\n                    checked={item.link_new_tab}\n                    onChange={this.props.onLinkNewTabChange.bind(this,index)}\n                  />\n                  <TextControl\n                    label={__('Column %s: Button/CtA Text', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter text of button/link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_text}\n                    onChange={this.props.onCTAButtonTextChange.bind(this,index)}\n                  />\n                </div>\n              );\n            })}\n\n            { columns.length < 4 && (\n              <Tooltip text={__('Add Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__addIcon\"\n                  }\n                  onClick={this.props.addColumn}\n                >\n                  {__('Add Column', 'p4ge')} <Dashicon icon={\"plus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n\n            { columns.length > 0 && (\n              <Tooltip text={__('Remove Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__removeIcon\"\n                  }\n                  onClick={this.props.removeColumn}\n                >\n                  {__('Remove Column', 'p4ge')} <Dashicon icon={\"minus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/columns'}\n                  attributes={{\n                    columns_block_style: this.props.columns_block_style,\n                    columns_title: this.props.columns_title,\n                    columns_description: this.props.columns_description,\n                    columns: this.props.columns,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Columns} from './Columns.js';\nimport {withSelect} from '@wordpress/data';\n\nconst {__} = wp.i18n;\n\nexport class ColumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/columns', {\n        title: __('Columns', 'p4ge'),\n        icon: \"grid-view\",\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_columns columns_block_style=\"image\" columns_title=\"Lorem Ipsum\" columns_description=\"Lorem Ipsum\"\n         *                    title_1=\"col1\" description_1=\"col1 body\" attachment_1=\"5096\" link_1=\"cta link1\" link_new_tab_1=\"true\" cta_text_1=\"cta text\"\n         *                    title_2=\"col2\" description_2=\"col2 body\" attachment_2=\"5186\" link_2=\"cta link2\" link_new_tab_2=\"true\" cta_text_2=\"cta text 2\" link_new_tab_3=\"false\" link_new_tab_4=\"false\" /]\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/columns {\"columns_block_style\":\"image\",\"columns_title\":\"Lorem Ipsum\",\"columns_description\":\"Lorem Ipsum\",\n         *      \"columns\":[{\"title\":\"col1\",\"description\":\"col1 body\",\"attachment\":5096,\"cta_link\":\"cta link1\",\"cta_text\":\"cta text 1\",\"link_new_tab\":true},{\"title\":\"col2\",\"description\":\"col2 body\",\"attachment\":5186,\"cta_link\":\"cta link2\",\"cta_text\":\"cta text 2\",\"link_new_tab\":true}]} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_columns',\n              attributes: {\n                columns_block_style: {\n                  type: 'string',\n                  shortcode: ({named: {columns_block_style = ''}}) => columns_block_style,\n                },\n                columns_title: {\n                  type: 'string',\n                  shortcode: ({named: {columns_title = ''}}) => columns_title,\n                },\n                columns_description: {\n                  type: 'string',\n                  shortcode: ({named: {columns_description = ''}}) => columns_description,\n                },\n                columns: {\n                  type: 'array',\n                  shortcode: function (attributes) {\n                    let columns = [];\n                    if (attributes.named.title_1) {\n                      let column = {\n                        title: attributes.named.title_1,\n                        description: attributes.named.description_1 || ''\n                      };\n                      if (attributes.named.columns_block_style !== 'no_image') {\n                        column.attachment = attributes.named.attachment_1 || false;\n                      }\n                      column.cta_link = attributes.named.link_1 || '';\n                      column.link_new_tab = attributes.named.link_new_tab_1 || false;\n                      column.cta_text = attributes.named.cta_text_1 || '';\n                      columns.push(Object.assign({}, column));\n\n                      if (attributes.named.title_2) {\n                        let column = {\n                          title: attributes.named.title_2,\n                          description: attributes.named.description_2 || ''\n                        };\n                        if (attributes.named.columns_block_style !== 'no_image') {\n                          column.attachment = attributes.named.attachment_2 || false;\n                        }\n                        column.cta_link = attributes.named.link_2 || '';\n                        column.link_new_tab = attributes.named.link_new_tab_2 || false;\n                        column.cta_text = attributes.named.cta_text_2 || '';\n                        columns.push(Object.assign({}, column));\n\n\n                        if (attributes.named.title_3) {\n                          let column = {\n                            title: attributes.named.title_3,\n                            description: attributes.named.description_3 || ''\n                          };\n                          if (attributes.named.columns_block_style !== 'no_image') {\n                            column.attachment = attributes.named.attachment_3 || false;\n                          }\n                          column.cta_link = attributes.named.link_3 || '';\n                          column.link_new_tab = attributes.named.link_new_tab_3 || false;\n                          column.cta_text = attributes.named.cta_text_3 || '';\n                          columns.push(Object.assign({}, column));\n\n                          if (attributes.named.title_4) {\n                            let column = {\n                              title: attributes.named.title_4,\n                              description: attributes.named.description_4 || ''\n                            };\n                            if (attributes.named.columns_block_style !== 'no_image') {\n                              column.attachment = attributes.named.attachment_4 || false;\n                            }\n                            column.cta_link = attributes.named.link_4 || '';\n                            column.link_new_tab = attributes.named.link_new_tab_4 || false;\n                            column.cta_text = attributes.named.cta_text_4 || '';\n                            columns.push(Object.assign({}, column));\n                          }\n                        }\n                      }\n                    }\n                    return columns;\n                  },\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          columns_block_style: {\n            type: 'string',\n          },\n          columns_title: {\n            type: 'string'\n          },\n          columns_description: {\n            type: 'string'\n          },\n          columns: {\n            type: \"array\",\n            default: [],\n            title:{\n              type: 'string'\n            },\n            description:{\n              type: 'string'\n            },\n            attachment:{\n              type: 'integer'\n            },\n            cta_link:{\n              type: 'string'\n            },\n            link_new_tab:{\n              type: 'string'\n            },\n            cta_text:{\n              type: 'string'\n            },\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { columns } = attributes;\n          let column_img = [];\n\n          if ( columns && 0 < columns.length ) {\n\n            for ( let column of columns ) {\n              if ( column['attachment'] && ( 0 < column['attachment'] ) ) {\n\n                let media_details = select('core').getMedia( column['attachment'] );\n                if (media_details) {\n                  column_img[column['attachment']] = select('core').getMedia( column['attachment'] ).source_url;\n                }\n              }\n            }\n          }\n\n          return { column_img };\n\n        } )( ( { isSelected, attributes, setAttributes, column_img} ) => {\n\n          function onTitleChange(value) {\n            setAttributes({columns_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({columns_description: value});\n          }\n\n          function onSelectImage(index, value) {\n            let {id}          = value;\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].attachment = id;\n            setAttributes({columns});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({columns_block_style: value});\n\n            if ( 'no_image' === value ) {\n              const {columns} = attributes;\n              if ( 0 < columns.length ) {\n                let new_columns = [...columns];\n                let i;\n                for ( i = 0; i < columns.length; i++ ) {\n                  new_columns[i]['attachment'] = 0;\n                }\n                setAttributes({columns: new_columns});\n              }\n            }\n          }\n\n          function addColumn() {\n            const {columns} = attributes;\n\n            if ( columns.length < 4 ) {\n              setAttributes({\n                columns: [...columns, {\n                  title:'',\n                  description:'',\n                  attachment:0,\n                  cta_link:'',\n                  cta_text:'',\n                  link_new_tab:'',\n                }]\n              });\n            }\n          }\n\n          function removeColumn() {\n            setAttributes({columns: attributes.columns.slice(0, -1) });\n          }\n\n          function onColumnHeaderChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].title = value;\n            setAttributes({columns});\n          }\n\n          function onColumnDescriptionChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].description = value;\n            setAttributes({columns});\n          }\n\n          function onCTALinkChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_link = value;\n            setAttributes({columns});\n          }\n\n          function onLinkNewTabChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].link_new_tab = value;\n            setAttributes({columns});\n          }\n\n          function onCTAButtonTextChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_text = value;\n            setAttributes({columns});\n          }\n\n          function onDeleteImage(index) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].attachment = 0;\n            setAttributes({columns});\n          }\n\n          return <Columns\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onSelectImage={onSelectImage}\n            addColumn={addColumn}\n            removeColumn={removeColumn}\n            onColumnHeaderChange={onColumnHeaderChange}\n            onColumnDescriptionChange={onColumnDescriptionChange}\n            onCTALinkChange={onCTALinkChange}\n            onLinkNewTabChange={onLinkNewTabChange}\n            onCTAButtonTextChange={onCTAButtonTextChange}\n            column_img={column_img}\n            onDeleteImage={onDeleteImage}\n          />\n        } ),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\nexport class Cookies extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Cookies options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display opt-in options for cookies',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={this.props.title}\n              onChange={this.props.onTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"Necessary Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.necessary_cookies_name}\n              onChange={this.props.onNecessaryCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Necessary Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.necessary_cookies_description}\n              onChange={this.props.onNecessaryCookiesDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"All Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.all_cookies_name}\n              onChange={this.props.onAllCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"All Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.all_cookies_description}\n              onChange={this.props.onAllCookiesDescriptionChange}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/cookies'}\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              necessary_cookies_name: this.props.necessary_cookies_name,\n              necessary_cookies_description: this.props.necessary_cookies_description,\n              all_cookies_name: this.props.all_cookies_name,\n              all_cookies_description: this.props.all_cookies_description,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Cookies} from './Cookies.js';\n\nexport class CookiesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/cookies', {\n      title: 'Cookies',\n      icon: 'welcome-view-site',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_cookies',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              necessary_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_name;\n                }\n              },\n              necessary_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_description;\n                }\n              },\n              all_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_name;\n                }\n              },\n              all_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_description;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        necessary_cookies_name: {\n          type: 'string',\n        },\n        necessary_cookies_description: {\n          type: 'string',\n        },\n        all_cookies_name: {\n          type: 'string',\n        },\n        all_cookies_description: {\n          type: 'string',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onNecessaryCookiesNameChange(value) {\n          setAttributes({necessary_cookies_name: value});\n        }\n\n        function onNecessaryCookiesDescriptionChange(value) {\n          setAttributes({necessary_cookies_description: value});\n        }\n\n        function onAllCookiesNameChange(value) {\n          setAttributes({all_cookies_name: value});\n        }\n\n        function onAllCookiesDescriptionChange(value) {\n          setAttributes({all_cookies_description: value});\n        }\n\n        return <Cookies\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onNecessaryCookiesNameChange={onNecessaryCookiesNameChange}\n          onNecessaryCookiesDescriptionChange={onNecessaryCookiesDescriptionChange}\n          onAllCookiesNameChange={onAllCookiesNameChange}\n          onAllCookiesDescriptionChange={onAllCookiesDescriptionChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import { React, Component } from 'react';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nexport class Counter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const { __ } = wp.i18n;\n\n    return (\n      <div>\n        <h3>{ __('What style of counter do you need?', 'p4ge') }</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={ this.props.style }\n            onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n            options={[\n              {\n                label: __('Text Only', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_text.png',\n                value: 'plain',\n                help: __('Text to describe your progress', 'p4ge')\n              },\n              {\n                label: __('Progress Bar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'bar',\n                help: __('A bar to visualise the progress.', 'p4ge'),\n              },\n              {\n                label: __('Progress Dial', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_arc.png',\n                value: 'arc',\n                help: __('A dial to visualise the progress.', 'p4ge')\n              },\n              {\n                label: __('Progress bar inside EN Form', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'en-forms-bar',\n                help: __('A bar inside an En Form. Select this only if you are adding an EN Form to the same page.', 'p4ge')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Title', 'p4ge') }\n            placeholder= { __('Enter title', 'p4ge') }\n            value={ this.props.title }\n            onChange={ this.props.onTitleChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Description', 'p4ge') }\n            placeholder= { __('Enter description', 'p4ge') }\n            value={ this.props.description }\n            onChange={ this.props.onDescriptionChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed', 'p4ge') }\n            placeholder= { __('e.g. number of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.completed }\n            onChange={ this.props.onCompletedChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed API URL', 'p4ge') }\n            placeholder= { __('API URL of completed number. If filled in will overide the \\'Completed\\' field', 'p4ge') }\n            value={ this.props.completed_api }\n            onChange={ this.props.onCompletedAPIChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Target', 'p4ge') }\n            placeholder= { __('e.g. target no. of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.target }\n            onChange={ this.props.onTargetChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Text', 'p4ge') }\n            placeholder= { __('e.g. \"signatures collected of %target%\"', 'p4ge') }\n            value={ this.props.text }\n            onChange={ this.props.onTextChange }\n          />\n          <p className='FieldHelp'>These placeholders can be used: <code>%completed%</code>, <code>%target%</code>, <code>%remaining%</code> </p>\n        </div>\n\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={ this.props.isSelected }>\n          <ServerSideRender\n            block={ 'planet4-blocks/counter' }\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              style: this.props.style,\n              completed: this.props.completed,\n              completed_api: this.props.completed_api,\n              target: this.props.target,\n              text: this.props.text,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n};","import { Counter } from './Counter.js';\n\nexport class CounterBlock {\n  constructor() {\n    const { registerBlockType } = wp.blocks;\n    const { withSelect } = wp.data;\n\n    registerBlockType( 'planet4-blocks/counter', {\n      title: 'Counter',\n      icon: 'dashboard',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_counter',\n            attributes: {\n              style: {\n                type: 'string',\n                shortcode: ( { named: { style = 'plain' } } ) => style,\n              },\n              title: {\n                type: 'string',\n                shortcode: ( { named: { title = '' } } ) => title,\n              },\n              description: {\n                type: 'string',\n                shortcode: ( { named: { description = '' } } ) => description,\n              },\n              completed: {\n                type: 'integer',\n                shortcode: ( { named: { completed = 0 } } ) => Number(completed),\n              },\n              completed_api: {\n                type: 'string',\n                shortcode: ( { named: { completed_api = '' } } ) => completed_api === '' ? null : completed_api,\n              },\n              target: {\n                type: 'integer',\n                shortcode: ( { named: { target = 0 } } ) => Number(target),\n              },\n              text: {\n                type: 'string',\n                shortcode: ( { named: { text = '' } } ) => text,\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        style: {\n          type: 'string',\n          default: 'plain'\n        },\n        completed: {\n          type: 'integer',\n        },\n        completed_api: {\n          type: 'string',\n        },\n        target: {\n          type: 'integer',\n        },\n        text: {\n          type: 'string',\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange( value ) {\n          setAttributes( { title: value } );\n        }\n\n        function onDescriptionChange( value ) {\n          setAttributes( { description: value } );\n        }\n\n        function onSelectedLayoutChange( value ) {\n          setAttributes( { style: value } );\n        }\n\n        function onCompletedChange( value ) {\n          setAttributes( { completed: Number(value) } );\n        }\n\n        function onCompletedAPIChange( value ) {\n          setAttributes( { completed_api: value } );\n        }\n\n        function onTargetChange( value ) {\n          setAttributes( { target: Number(value) } );\n        }\n\n        function onTextChange( value ) {\n          setAttributes( { text: value } );\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Counter\n          { ...attributes }\n          isSelected={ isSelected }\n          onTitleChange={ onTitleChange }\n          onDescriptionChange={ onDescriptionChange }\n          onSelectedLayoutChange={ onSelectedLayoutChange }\n          onCompletedChange={ onCompletedChange }\n          onCompletedAPIChange={ onCompletedAPIChange }\n          onTargetChange={ onTargetChange }\n          onTextChange={ onTextChange }   />\n      },\n      save() {\n        return null;\n      }\n    } );\n  };\n}\n\n","import React, { Component } from 'react';\n\nimport {\n  FormTokenField,\n  SelectControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\n\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Covers extends Component {\n    constructor(props) {\n      super(props);\n\n      // Populate tag tokens for saved tags.\n      let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n      // Populate post types tokens for saved post types.\n      let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n      // Populate component state with block's saved tags tokens and post type tokens\n      this.state = {\n        tagTokens: tagTokens,\n        postTypeTokens: postTypeTokens,\n        selectedPosts: [],\n      };\n\n      this.populatePostsToken();\n      this.searchTimeout = null;\n    }\n\n    static getDerivedStateFromProps(props, state) {\n\n      // Post types should be available for cover_type 3\n      // If cover_type is not 3, reset post types tokens.\n      if ('1' === props.cover_type || '2' === props.cover_type) {\n        state.postTypeTokens= [];\n      }\n\n      // If posts attribute was reset, reset also the posts tokens.\n      if (0 === props.posts.length) {\n        state.postsTokens= [];\n      }\n      return state;\n    }\n\n\n    /**\n     * Set component's state for existing blocks.\n     */\n    populatePostsToken() {\n\n      if (this.props.posts.length > 0) {\n\n        let post_type = this.props.cover_type === '1' ? 'pages' : 'posts';\n        apiFetch(\n          {\n            path: addQueryArgs('/wp/v2/'+ post_type, {\n              per_page: 50,\n              page: 1,\n              include: this.props.posts\n            })\n          }\n        ).then(posts => {\n          const postsTokens = posts.map(post => post.title.rendered);\n          const postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({\n              postsTokens: postsTokens,\n              postsList: posts,\n              postsSuggestions: postsSuggestions,\n              selectedPosts: posts,\n            }\n          );\n        });\n      } else {\n        this.setState(\n          {\n            postsTokens: [],\n            postsList: [],\n            postsSuggestions: [],\n            selectedPosts: [],\n          }\n        );\n      }\n    }\n\n    /**\n     * Search posts using wp api.\n     *\n     * @param tokens\n     */\n    searchPosts(tokens) {\n\n      let queryArgs;\n      if ('1' === this.props.cover_type) {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/pages', {\n            per_page: -1,\n            post_type: 'page',\n            post_parent: window.p4ge_vars.planet4_options.act_page,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      } else {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      }\n\n\n      apiFetch(queryArgs)\n        .then(posts => {\n          let postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n        });\n    }\n\n    onPostsSearch(token) {\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(function () {\n        this.searchPosts(token);\n      }.bind(this), 500);\n    }\n\n    onSelectedTagsChange(tokens) {\n      const tagIds = tokens.map( token => {\n        return this.props.tagsList.filter( tag => tag.name === token )[0].id;\n      });\n      this.props.onSelectedTagsChange(tagIds);\n      this.setState({ tagTokens: tokens })\n    }\n\n    onSelectedPostTypesChange(tokens) {\n      const postTypeIds = tokens.map( token => {\n        return this.props.postTypesList.filter( postType => postType.name === token )[0].id;\n      });\n      this.props.onSelectedPostTypesChange(postTypeIds);\n      this.setState({ postTypeTokens: tokens })\n    }\n\n    onSelectedPostsChange(tokens) {\n      // Array to hold references to selected posts objects.\n      let currentSelectedPosts = [];\n      tokens.forEach(token => {\n        let f = this.state.postsList.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n        f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n      });\n\n      const postIds = currentSelectedPosts.map(post => post.id);\n      this.props.onSelectedPostsChange(postIds);\n      this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n    }\n\n    renderEdit() {\n      const { __ } = wp.i18n;\n\n      const tagSuggestions = this.props.tagsList.map( tag => tag.name );\n      const postTypeSuggestions = this.props.postTypesList.map( postType => postType.name );\n\n      return (\n        <div>\n          <h3>{ __('What style of cover do you need?', 'p4ge') }</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={ this.props.cover_type }\n              onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n              options={[\n                {\n                  label: __('Take Action Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/take_action_covers.png',\n                  value: '1',\n                  help: __('Take action covers pull the featured image, tags, have a 25 character excerpt and have a call to action button')\n                },\n                {\n                  label: __('Campaign Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/campaign_covers.png',\n                  value: '2',\n                  help: __('Campaign covers pull the associated image and hashtag from the system tag definitions.'),\n                },\n                {\n                  label: __('Content Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/content_covers.png',\n                  value: '3',\n                  help: __('Content covers pull the image from the post.')\n                },\n              ]}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label=\"Rows to display\"\n              value={ this.props.covers_view }\n              options={ [\n                { label: '1 Row', value: '1' },\n                { label: '2 Rows', value: '2' },\n                { label: 'All rows', value: '3' },\n              ] }\n              onChange={ this.props.onRowsChange }\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={ this.props.title }\n              onChange={ this.props.onTitleChange }\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={ this.props.description }\n              onChange={ this.props.onDescriptionChange }\n            />\n          </div>\n\n          {\n            this.props.posts !== 'undefined' && this.props.posts.length === 0\n              ?\n              <div>\n\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label='Select Tags'\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                  placeholder=\"Select Tags\"\n                />\n                <p class='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              : null\n          }\n\n          {\n            this.props.cover_type === '3' && this.props.posts.length === 0\n              ? <FormTokenField\n                value={this.state.postTypeTokens}\n                suggestions={postTypeSuggestions}\n                label='Post Types'\n                onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                placeholder=\"Select Tags\"\n              />\n              : null\n          }\n\n          {\n            (this.props.cover_type === '1' || this.props.cover_type === '3') &&\n            (this.props.tags.length === 0 && this.props.post_types.length === 0)\n              ? <div>\n                <label>Manual override</label>\n                <FormTokenField\n                  value={this.state.postsTokens}\n                  suggestions={this.state.postsSuggestions}\n                  label='CAUTION: Adding covers manually will override the automatic functionality.'\n                  onChange={tokens => this.onSelectedPostsChange(tokens)}\n                  onInputChange={token => this.onPostsSearch(token)}\n                  placeholder=\"Select Tags\"\n                />\n              </div>\n              : null\n          }\n\n        </div>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={ this.props.isSelected }>\n                <ServerSideRender\n                  block={ 'planet4-blocks/covers' }\n                  attributes={{\n                    cover_type: this.props.cover_type,\n                    covers_view: this.props.covers_view,\n                    tags: this.props.tags,\n                    post_types: this.props.post_types,\n                    posts: this.props.posts,\n                    title: this.props.title,\n                    description: this.props.description,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n};\n","import { CoversIcon } from './CoversIcon.js';\nimport { Covers } from './Covers.js';\n\nexport class CoversBlock {\n    constructor() {\n      const { registerBlockType } = wp.blocks;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/covers', {\n        title: 'Covers',\n        icon: 'slides',\n        category: 'planet4-blocks',\n\n        // Transform the shortcode into a Gutenberg block\n        // this is used when a user clicks \"Convert to blocks\"\n        // on the \"Classic Editor\" block\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_newcovers',\n              attributes: {\n                cover_type: {\n                  type: 'string',\n                  // This `shortcode` definition will be used as a callback,\n                  // it is a function which expects an object with at least\n                  // a `named` key with `cover_type` property whose default value is 1.\n                  // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n                  shortcode: ({named: {cover_type = '1'}}) => cover_type,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                covers_view: {\n                  type: 'string',\n                  shortcode: ({named: {covers_view}}) => {\n                    switch (covers_view) {\n                      case '0':\n                        return '1';\n                      case '3':\n                        return '2';\n                      case '1':\n                        return '3';\n                    }\n                    return '1';\n                  },\n                },\n                tags: {\n                  type: 'array',\n                  shortcode: ({named: {tags = ''}}) => tags.split(',').map(tag => Number(tag)).filter(tag => tag > 0),\n                },\n                post_types: {\n                  type: 'array',\n                  shortcode: ({named: {post_types = ''}}) => post_types.split(',').map(post_type => Number(post_type)).filter(post_type => post_type > 0),\n                },\n                posts: {\n                  type: 'array',\n                  shortcode: ({named: {posts = ''}}) => posts.split(',').map(post => Number(post)).filter(post => post > 0),\n                },\n              },\n            },\n          ]\n        },\n        // This attributes definition mimics the one in the PHP side.\n        attributes: {\n          title: {\n            type: 'string',\n          },\n          description: {\n            type: 'string',\n          },\n          tags: {\n            type: 'array',\n            default: []\n          },\n          posts: {\n            type: 'array',\n            default: []\n          },\n          post_types: {\n            type: 'array',\n            default: []\n          },\n          covers_view: {\n            type: 'string',\n            default: '1'\n          },\n          cover_type: {\n            type: 'string',\n          }\n        },\n        // withSelect is a \"Higher Order Component\", it works as\n        // a Decorator, it will provide some basic API functionality\n        // through `select`.\n        edit: withSelect( ( select ) => {\n          const tagsTaxonomy = 'post_tag';\n          const postTypesTaxonomy = 'p4-page-type';\n          const args = {\n            hide_empty: false,\n            per_page: -1,\n          };\n\n          const { getEntityRecords } = select( 'core' );\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords( 'taxonomy', tagsTaxonomy, args );\n          const postTypesList = getEntityRecords( 'taxonomy', postTypesTaxonomy );\n\n          return {\n            postTypesList,\n            tagsList,\n          };\n        } )( ( {\n          postTypesList,\n          tagsList,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n            if ( !tagsList || !postTypesList ) {\n                return \"Populating block's fields...\";\n            }\n\n            // TO-DO: Check for posts types and posts too...\n            if ( !tagsList && !tagsList.length === 0 ) {\n                return \"No tags...\";\n            }\n\n            // These methods are passed down to the\n            // Covers component, they update the corresponding attribute.\n\n            function onRowsChange( value ) {\n              setAttributes( { covers_view: value } );\n            }\n\n            function onTitleChange( value ) {\n              setAttributes( { title: value } );\n            }\n\n            function onDescriptionChange( value ) {\n              setAttributes( { description: value } );\n            }\n\n            function onSelectedTagsChange( tagIds ) {\n              setAttributes( { tags: tagIds } );\n            }\n\n            function onSelectedPostsChange(value) {\n              setAttributes({posts: value});\n            }\n\n            function onSelectedPostTypesChange( postTypeIds ) {\n              setAttributes( { post_types: postTypeIds } );\n            }\n\n            function onSelectedLayoutChange( value ) {\n\n              // Post types are available only on cover_type 3, so we reset the post_types attribute in the other 2 cases.\n              if ( '1' === value) {\n                setAttributes( { post_types: [] } );\n              }\n              if ( '2' === value) {\n                setAttributes( { post_types: []} );\n              }\n              // Reset posts attribute when changing layout also.\n              setAttributes({cover_type: value, posts: []});\n            }\n\n            // We pass down all the attributes to Covers as props using\n            // the spread operator. Then we selectively add more\n            // props.\n            return <Covers\n              { ...attributes }\n              isSelected={ isSelected }\n              tagsList={ tagsList }\n              postTypesList={ postTypesList }\n              onSelectedTagsChange={ onSelectedTagsChange }\n              onSelectedLayoutChange={ onSelectedLayoutChange }\n              onTitleChange={ onTitleChange }\n              onDescriptionChange={ onDescriptionChange }\n              onSelectedPostsChange={ onSelectedPostsChange }\n              onSelectedPostTypesChange={ onSelectedPostTypesChange }\n              onRowsChange={ onRowsChange } />\n        } ),\n        save() {\n          return null;\n        }\n      } );\n    };\n}\n\n","import { React, Component } from 'react';\n\nexport class CoversIcon extends Component {\n\trender() {\n\t\treturn <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 66 82.5\" enable-background=\"new 0 0 66 66\"><g><g><path d=\"M8.193,37.334l23.804-10.512v-8.007L6.099,30.093c-0.24,0.11-0.44,0.31-0.53,0.56c-0.1,0.24-0.09,0.52,0.01,0.76    L8.193,37.334z\"/><path d=\"M8.999,39.163l4.9,11.08c4.55-1.49,7.1,2.61,8.76,3.78c1.51-1.01,4.47-5.71,9.34-3.55v-21.47L8.999,39.163z     M21.059,42.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49    C21.779,42.033,21.559,42.623,21.059,42.853z M27.059,39.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33    l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49C27.779,39.033,27.559,39.623,27.059,39.853z\"/><path d=\"M33.998,26.816l24.005,10.392l2.416-5.816c0.21-0.5-0.02-1.08-0.52-1.3L33.998,18.813V26.816z\"/><path d=\"M33.999,28.993v22.77c0.95,0.8,2.02,2.26,2.44,2.26c1.97-1.66,3.56-4.08,6.88-4.08c4.21,0,6.03,4.07,6.9,4.07    c0.1-0.087,0.722-0.298,1.25-1.09l5.77-13.87L33.999,28.993z M41.269,39.823c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46    c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.83-0.72,1.33-0.49l1,0.46C41.279,38.733,41.499,39.323,41.269,39.823z M47.269,42.823    c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.82-0.72,1.33-0.49l1,0.46    C47.279,41.733,47.499,42.323,47.269,42.823z\"/></g><g><path d=\"M37.999,2.983v5.63h-10v-5.63c0-1.1,0.9-2,2-2h6C37.099,0.983,37.999,1.883,37.999,2.983z\"/></g><path d=\"M48.319,13.823c-0.38-1.86-2.03-3.21-3.93-3.21h-22.78c-1.9,0-3.55,1.35-3.92,3.21l-1.98,9.91   c5.27-2.31,11.32-4.94,17.29-7.54c1.02,0.45,9.84,4.29,17.29,7.54L48.319,13.823z M24.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1   h2c0.55,0,1,0.45,1,1S25.549,17.233,24.999,17.233z M42.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1h2c0.55,0,1,0.45,1,1   S43.549,17.233,42.999,17.233z\"/><path d=\"M64,62.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1C65,63.43,64.552,62.982,64,62.982z\"/><path d=\"M64,55.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1S64.552,55.982,64,55.982z\"/></g></svg>\n\t}\n}\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  Toolbar,\n  IconButton,\n  Button\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Gallery extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const getImageOrButton = (openEvent) => {\n        if ( 0 < this.props.image_data.length ) {\n\n          return (\n\n            this.props.image_data.map((item, index) => {\n              return (\n                <span>\n                  <img\n                    src={ item.url }\n                    onClick={ openEvent }\n                    className=\"gallery__imgs\"\n                    key={index}\n                    width='150 px'\n                    style={{padding: '10px 10px'}}\n                  />\n                </span>\n              );\n            })\n\n          );\n        }\n        else {\n          return (\n            <div className=\"button-container\">\n              <Button\n                onClick={ openEvent }\n                className=\"button\">\n                + {__('Select Gallery Images', 'p4ge')}\n              </Button>\n\n              <div>{__('Select images in the order you want them to appear.', 'p4ge')}</div>\n            </div>\n          );\n        }\n      };\n\n      const {__} = wp.i18n;\n\n      const {gallery_block_style , gallery_block_title , gallery_block_description , multiple_image , image_data} = this.props;\n\n      const dimensions = {width: 400, height: 100};\n\n      let multiple_image_array = multiple_image ? multiple_image.split(',') : [];\n\n      return (\n        <Fragment>\n          <BlockControls>\n            { 0 < image_data.length && (\n              <Toolbar>\n                { 0 < multiple_image_array.length && (\n                  <MediaUploadCheck>\n                    <MediaUpload\n                      onSelect={this.props.onSelectImage}\n                      allowedTypes={[\"image\"]}\n                      value={multiple_image_array}\n                      type=\"image\"\n                      multiple=\"true\"\n                      render={({ open }) => {\n                        return (\n                          <IconButton\n                            className=\"components-icon-button components-toolbar__control\"\n                            label={__(\n                              \"Edit Images\",\n                              \"mytheme-blocks\"\n                            )}\n                            onClick={open}\n                            icon=\"edit\"\n                          />\n                        );\n                      }}\n                    />\n                  </MediaUploadCheck>\n                )}\n                <IconButton\n                  className=\"components-icon-button components-toolbar__control\"\n                  label={__(\"Remove Images\", \"mytheme-blocks\")}\n                  onClick={this.props.onRemoveImages}\n                  icon=\"trash\"\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          <h3>{__('What style of gallery do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={gallery_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('Slider', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-slider.jpg',\n                  value: 1,\n                  help: __('The slider is a carousel of images. For more than 5 images, consider using a grid.', 'p4ge')\n                },\n                {\n                  label: __('3 Column', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-3-column.jpg',\n                  value: 2,\n                  help: __('The 3 column image display is great for accentuating text, and telling a visual story.', 'p4ge')\n                },\n                {\n                  label: __('Grid', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-grid.jpg',\n                  value: 3,\n                  help: __('The grid shows thumbnails of lots of images. Good to use when showing lots of activity.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={gallery_block_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('Please Enter Description', 'p4ge')}\n              value={gallery_block_description}\n              onChange={this.props.onDescriptionChange}\n            />\n\n            {__('Select Gallery Images', 'p4ge')}\n            <div>\n              <MediaUploadCheck>\n                <MediaUpload\n                  title={__('Select Gallery Images', 'p4ge')}\n                  type=\"image\"\n                  onSelect={this.props.onSelectImage}\n                  value={multiple_image_array}\n                  allowedTypes={[\"image\"]}\n                  multiple=\"true\"\n                  render={ ({ open }) => getImageOrButton(open) }\n                />\n              </MediaUploadCheck>\n            </div>\n\n            {image_data &&\n            <div\n              className={\n                \"wp-block-master-theme-gallery__FocalPointPicker\"\n              }\n            >\n              <ul>\n                {image_data.map((item, index) => {\n                  return (\n                    <li\n                      key={index}\n                    >\n                      {__('Select gallery image focal point', 'p4ge')}\n                      <FocalPointPicker\n                        url={item.url}\n                        dimensions={dimensions}\n                        value={item.focalPoint}\n                        onChange={this.props.onFocalPointChange.bind(this,item.id)}\n                        key={item.id}\n                      />\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n            }\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/gallery'}\n                  attributes={{\n                    gallery_block_style: this.props.gallery_block_style,\n                    gallery_block_title: this.props.gallery_block_title,\n                    gallery_block_description: this.props.gallery_block_description,\n                    multiple_image: this.props.multiple_image,\n                    gallery_block_focus_points: this.props.gallery_block_focus_points,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Gallery} from './Gallery';\n\nconst {__} = wp.i18n;\n\nexport class GalleryBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/gallery', {\n        title: __('Gallery', 'p4ge'),\n        icon: 'format-gallery',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_gallery gallery_block_style=\"2\" gallery_block_title=\"test title\"\n         *                    gallery_block_description=\"test desc\" multiple_image=\"23603,23602,23600,23596\"\n         *                    gallery_block_focus_points=\"{'23596':'left top','23597':'left top','23599':'left top'}\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/gallery {\"gallery_block_style\":3,\"gallery_block_title\":\"test title\",\"gallery_block_description\":\"test desc\",\n         *      \"multiple_image\":\"23603,23602,23600,23596\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_gallery',\n              attributes: {\n                gallery_block_style: {\n                  type: 'integer',\n                  shortcode: ({named: {gallery_block_style = ''}}) => Number(gallery_block_style),\n                },\n                gallery_block_title: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_title = ''}}) => gallery_block_title,\n                },\n                gallery_block_description: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_description = ''}}) => gallery_block_description,\n                },\n                multiple_image: {\n                  type: 'string',\n                  shortcode: ({named: {multiple_image = ''}}) => multiple_image,\n                },\n                gallery_block_focus_points: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_focus_points = ''}}) => gallery_block_focus_points,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          gallery_block_style: {\n            type: 'number',\n            default: 1\n          },\n          gallery_block_title: {\n            type: 'string',\n          },\n          gallery_block_description: {\n            type: 'string',\n          },\n          multiple_image: {\n            type: 'string',\n          },\n          gallery_block_focus_points: {\n            type: 'string',\n          },\n          image_data: {\n            type: 'object',\n            default: []\n          },\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { multiple_image } = attributes;\n\n          let image_urls_array = [];\n\n          if ( multiple_image ) {\n            let image_id_array = multiple_image.split(',');\n\n            $.each(image_id_array, function( index, img_id ) {\n              let img_details = select('core').getMedia(img_id);\n              if ( img_details ) {\n                image_urls_array[img_id] = img_details.source_url;\n              }\n            });\n          }\n\n          return {\n            image_urls_array\n          };\n        } )( ( {\n          image_urls_array,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          let {image_data,gallery_block_focus_points} = attributes;\n\n          // Prepare image_data array on edit gallery block.\n          if (0 == image_data.length && 0 < image_urls_array.length) {\n            let new_image_data = [];\n            let focal_points_json = gallery_block_focus_points ? JSON.parse(gallery_block_focus_points):{};\n\n            for (const img_id in image_urls_array) {\n\n              let x,y;\n              if ($.isEmptyObject(focal_points_json)) {\n                [x,y] = [50,50];\n              } else {\n                [x,y] = focal_points_json[img_id].replace(/\\%/g, '').split(' ');\n              }\n\n              new_image_data.push({\n                url: image_urls_array[img_id],\n                focalPoint: {\n                  x:parseInt(x)/100,\n                  y:parseInt(y)/100\n                },\n                id: img_id\n              });\n            }\n\n            setAttributes({image_data: new_image_data});\n          }\n\n          function onTitleChange( value ) {\n            setAttributes({gallery_block_title: value});\n          }\n\n          function onDescriptionChange( value ) {\n            setAttributes({gallery_block_description: value });\n          }\n\n          function onSelectImage(value) {\n            let image_ids = [];\n            let image_data = [];\n            for (const key in value) {\n              image_ids.push(value[key].id);\n              let img_id = value[key].id;\n              image_data.push({url: value[key].url, focalPoint: {x:0.5, y:0.5}, id: img_id});\n            }\n            setAttributes({multiple_image: image_ids.join(',')});\n            setAttributes({image_data: image_data});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({gallery_block_style: Number(value)});\n          }\n\n          function onFocalPointChange( image_id, value ) {\n\n            let updated_image_data = [];\n            let gallery_block_focus_points = {};\n\n            image_data.map(function(object){\n              if (object.id === image_id) {\n                let x = parseFloat(value.x).toFixed(2);\n                let y = parseFloat(value.y).toFixed(2);\n\n                updated_image_data.push({url: object.url, focalPoint: {x,y}, id: image_id});\n                gallery_block_focus_points[image_id] = (x*100)+'% '+(y*100)+'%';\n\n              } else {\n                updated_image_data.push(object);\n                let img_id = object.id;\n                gallery_block_focus_points[img_id] = parseInt(object.focalPoint.x*100)+'% '+parseInt(object.focalPoint.y*100)+'%';\n              }\n            });\n\n            setAttributes({gallery_block_focus_points: JSON.stringify(gallery_block_focus_points)});\n            setAttributes({image_data: updated_image_data});\n          }\n\n          function onRemoveImages() {\n            setAttributes({multiple_image: ''});\n            setAttributes({gallery_block_focus_points: ''});\n            setAttributes({image_data: []});\n          }\n\n          return <Gallery\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onSelectImage={onSelectImage}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {Component,Fragment} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\n\nimport {\n  MediaPlaceholder,\n  InspectorControls,\n  BlockControls,\n  MediaUpload,\n  MediaUploadCheck\n} from '@wordpress/editor';\n\nimport {\n  TextControl,\n  ServerSideRender,\n  FocalPointPicker,\n  ToggleControl,\n  RangeControl,\n  PanelBody,\n  Button,\n  Toolbar,\n  IconButton\n} from '@wordpress/components';\n\nexport class Happypoint extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const dimensions = {width: 400, height: 100};\n\n      const {focus_image, opacity, mailing_list_iframe, iframe_url, url, id} = this.props;\n\n      let focal_point_params = {x:'',y:''};\n\n      if (focus_image) {\n        let focus_image_str = focus_image.replace(/%/g, '');\n        let [x, y] = focus_image_str.split(' ');\n        focal_point_params = {x: x/100,y: y/100};\n      } else {\n        focal_point_params = {x:0.5, y:0.5};\n      }\n\n      const getImageOrButton = (openEvent) => {\n        if ( this.props.id && ( 0 < this.props.id ) ) {\n\n          return (\n\n            <div align='center'>\n              <img\n                src={ this.props.url }\n                onClick={ openEvent }\n                className='happypoint__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n            </div>\n\n          );\n        }\n        else {\n          return (\n            <div className='button-container'>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Background Image', 'p4ge')}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <InspectorControls>\n            <PanelBody title={__('Setting', 'p4ge')}>\n              <RangeControl\n                label={__('Opacity', 'p4ge')}\n                value={opacity}\n                onChange={this.props.onOpacityChange}\n                min={1}\n                max={100}\n                initialPosition={opacity}\n                help={__('We use an overlay to fade the image back. Use a number between 1 and 100, the higher the number, the more faded the image will look. If you leave this empty, the default of 30 will be used.', 'p4ge')}\n              />\n              <ToggleControl\n                label={__('Use mailing list iframe', 'p4ge')}\n                help={__('Use mailing list iframe', 'p4ge')}\n                value={mailing_list_iframe}\n                checked={this.props.mailing_list_iframe}\n                onChange={this.props.onMailingListIframeChange}\n              />\n              <TextControl\n                label={__('Iframe url', 'p4ge')}\n                placeholder={__('Enter Iframe url', 'p4ge')}\n                help={__('If a url is set in this field and the \\'mailing list iframe\\' option is enabled, it will override the planet4 engaging network setting.', 'p4ge')}\n                value={iframe_url}\n                onChange={this.props.onIframeUrlChange}\n              />\n            </PanelBody>\n          </InspectorControls>\n          <BlockControls>\n            { this.props.id && ( 0 < this.props.id ) && (\n              <Toolbar>\n                <MediaUploadCheck>\n                  <MediaUpload\n                    onSelect={this.props.onSelectImage}\n                    allowedTypes={['image']}\n                    value={id}\n                    type='image'\n                    render={({ open }) => {\n                      return (\n                        <IconButton\n                          className='components-icon-button components-toolbar__control'\n                          label={__('Edit Image', 'p4ge')}\n                          onClick={open}\n                          icon='edit'\n                        />\n                      );\n                    }}\n                  />\n                </MediaUploadCheck>\n                <IconButton\n                  className='components-icon-button components-toolbar__control'\n                  label={__('Remove Image', 'p4ge')}\n                  onClick={this.props.onRemoveImages}\n                  icon='trash'\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          {__('Select Background Image', 'p4ge')}\n          <div>\n            <MediaUploadCheck>\n              <MediaUpload\n                title={__('Select Background Image', 'p4ge')}\n                type='image'\n                onSelect={this.props.onSelectImage}\n                value={id}\n                allowedTypes={['image']}\n                render={ ({ open }) => getImageOrButton(open) }\n              />\n            </MediaUploadCheck>\n          </div>\n          {id && 0 < id &&\n            <div>\n              {__('Select focus point for background image', 'p4ge')}\n              <FocalPointPicker\n                url={url}\n                dimensions={dimensions}\n                value={focal_point_params}\n                onChange={this.props.onFocalPointChange}\n              />\n            </div>\n          }\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/happypoint'}\n                  attributes={{\n                    id: this.props.id,\n                    focus_image: this.props.focus_image,\n                    opacity: this.props.opacity,\n                    mailing_list_iframe: this.props.mailing_list_iframe,\n                    iframe_url: this.props.iframe_url,\n                    load_iframe: true,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Happypoint} from './Happypoint';\n\nexport class HappypointBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/happypoint', {\n        title: __('Happypoint', 'p4ge'),\n        icon: 'format-image',\n        category: 'planet4-blocks',\n\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_happy_point background=\"4968\" focus_image=\"center center\" opacity=\"60\" mailing_list_iframe=\"true\" iframe_url=\"https%3A%2F%2Fact.greenpeace.org%2Fpage%2F34215%2Fsubscribe%2F1\" /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/happypoint {\"focus_image\":\"50% 50%\",\"opacity\":60,\"mailing_list_iframe\":true,\"iframe_url\":\"https://act.greenpeace.org/page/34215/subscribe/1\",\"id\":4968} /-->\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_happy_point',\n              attributes: {\n                opacity: {\n                  type: 'integer',\n                  shortcode: ({named: {opacity = ''}}) => opacity,\n                },\n                id: {\n                  type: 'integer',\n                  shortcode: ({named: {background}}) => Number(background),\n                },\n                focus_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_image = ''}}) => focus_image,\n                },\n                mailing_list_iframe: {\n                  type: 'boolean',\n                  shortcode: ({named: {mailing_list_iframe}}) => mailing_list_iframe == 'true',\n                },\n                iframe_url: {\n                  type: 'string',\n                  shortcode: ({named: {iframe_url = ''}}) => iframe_url,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          focus_image: {\n            type: 'string',\n          },\n          opacity: {\n            type: 'number',\n            default: 60\n          },\n          mailing_list_iframe: {\n            type: 'boolean',\n          },\n          iframe_url: {\n            type: 'string',\n          },\n          id: {\n            type: 'number',\n          },\n          load_iframe: {\n            type: 'boolean',\n            default: false\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n          const { attributes } = props;\n          const { id } = attributes;\n          let img_url = '';\n\n          if (id && (0 < id)) {\n            img_url = select('core').getMedia(id);\n            if(img_url){\n              img_url = img_url.source_url;\n            }\n          }\n\n          return {\n            img_url\n          };\n        } )( ( {\n          img_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n          function onBackgroundChange( value ) {\n            setAttributes({background: value});\n          }\n\n          function onOpacityChange( value ) {\n            setAttributes({opacity: value});\n          }\n\n          function onMailingListIframeChange( value ) {\n            setAttributes({mailing_list_iframe: value});\n          }\n\n          function onIframeUrlChange( value ) {\n            setAttributes({iframe_url: value});\n          }\n\n          function onFocalPointChange( {x,y} ) {\n            x = parseFloat(x).toFixed(2);\n            y = parseFloat(y).toFixed(2);\n            setAttributes({focus_image: (x*100)+'% '+(y*100)+'%'});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({id});\n          }\n\n          function onRemoveImages() {\n            setAttributes({id: -1});\n            setAttributes({focus_image: ''});\n          }\n\n          return <Happypoint\n            {...attributes}\n            isSelected={isSelected}\n            url={img_url}\n            onSelectImage={onSelectImage}\n            onOpacityChange={onOpacityChange}\n            onMailingListIframeChange={onMailingListIframeChange}\n            onIframeUrlChange={onIframeUrlChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\n\nexport class Media extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {video_title,description,youtube_id} = this.props;\n\n      return (\n        <Fragment>\n          <div>\n            <TextControl\n              label={__('Media Title', 'p4ge')}\n              placeholder={__('Enter video title', 'p4ge')}\n              value={video_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={description}\n              onChange={this.props.onDescriptionChange}\n            />\n            <TextControl\n              label={__('Media URL/ID', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              value={youtube_id}\n              onChange={this.props.onMediaUrlChange}\n              help={__('Can be a YouTube, Vimeo or Soundcloud URL or an mp4, mp3 or wav file URL.', 'p4ge')}\n            />\n            <MediaPlaceholder\n              labels={{ title: __('Video poster image [Optional]', 'p4ge'), instructions: __('Applicable for .mp4 video URLs only.', 'p4ge')}}\n              icon=\"format-image\"\n              onSelect={this.props.onSelectImage}\n              onSelectURL={this.props.onSelectURL}\n              onError={this.props.onUploadError}\n              accept=\"image/*\"\n              allowedTypes={[\"image\"]}\n            />\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                { this.props.youtube_id &&\n                  <ServerSideRender\n                    block={'planet4-blocks/media-video'}\n                    attributes={{\n                      video_title: this.props.video_title,\n                      description: this.props.description,\n                      youtube_id: this.props.youtube_id,\n                      video_poster_img: this.props.video_poster_img,\n                    }}>\n                  </ServerSideRender>\n                }\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Media} from './Media';\n\nconst {__} = wp.i18n;\n\nexport class MediaBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/media-video', {\n        title: __('Media block', 'p4ge'),\n        icon: 'format-video',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_media_video video_title=\"Lorem Ipsum\"\n         *                        description=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\"\n         *                        youtube_id=\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\"\n         *                        video_poster_img=\"23241\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/media-video {\"video_title\":\"Lorem Ipsum\",\"description\":\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\",\"youtube_id\":\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\"video_poster_img\":23241} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_media_video',\n              attributes: {\n                video_title: {\n                  type: 'string',\n                  shortcode: ({named: {video_title = ''}}) => video_title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                youtube_id: {\n                  type: 'string',\n                  shortcode: ({named: {youtube_id = ''}}) => youtube_id,\n                },\n                video_poster_img: {\n                  type: 'integer',\n                  shortcode: ({named: {video_poster_img = ''}}) => video_poster_img,\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          video_title: {\n            type: 'string'\n          },\n          description: {\n            type: 'string'\n          },\n          youtube_id: {\n            type: 'string'\n          },\n          video_poster_img: {\n            type: 'integer'\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n          function onTitleChange(value) {\n            setAttributes({video_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({description: value});\n          }\n\n          function onMediaUrlChange(value) {\n            setAttributes({youtube_id: value});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({video_poster_img: id});\n          }\n\n          function onSelectURL({url}) {\n            setAttributes({id: null});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          return <Media\n            {...attributes}\n            isSelected={isSelected}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onMediaUrlChange={onMediaUrlChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            onUploadError={onUploadError}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\nimport {\n  RadioControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Socialmedia extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  componentDidUpdate() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  /**\n   * Check if twitter embeds script is loaded and initiliaze it.\n   */\n  checkTwitterScript() {\n    if (this.props.social_media_url.includes('twitter')) {\n      let twitterScript = document.querySelector('script[src=\"https://platform.twitter.com/widgets.js\"]');\n\n      if (null === twitterScript) {\n        let scriptLoaded = this.loadScriptAsync('https://platform.twitter.com/widgets.js');\n        scriptLoaded.then(function () {\n          this.initializeTwitterEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeTwitterEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Check if instgram embeds script is loaded and initiliaze it.\n   */\n  checkInstagramScript() {\n    if (this.props.social_media_url.includes('instagram')) {\n      let instaScript = document.querySelector('script[src=\"https://www.instagram.com/embed.js\"]');\n\n      if (null === instaScript) {\n        let scriptLoaded = this.loadScriptAsync('https://www.instagram.com/embed.js');\n        scriptLoaded.then(function () {\n          this.initializeInstagramEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeInstagramEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Initialize twitter embeds.\n   */\n  initializeTwitterEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.twttr) {\n        window.twttr.widgets.load();\n      }\n    }, 2000);\n  }\n\n  /**\n   * Initialize instagram embeds.\n   */\n  initializeInstagramEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.instgrm) {\n        window.instgrm.Embeds.process();\n      }\n    }, 3000);\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const embed_type_help = __('Select oEmbed for the following types of social media<br>- Twitter: tweet, profile, list, collection, likes, moment<br>- Facebook: post, activity, photo, video, media, question, note<br>- Instagram: image', 'planet4-blocks-backend');\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'planet4-blocks-backend')}\n            placeholder={__('Enter title', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'planet4-blocks-backend')}\n            placeholder={__('Enter description', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <RadioControl\n            label={__('Embed type', 'planet4-blocks-backend')}\n            help={\n              <RawHTML>{embed_type_help}</RawHTML>\n            }\n            options={[\n              {label: 'oEmbed', value: 'oembed'},\n              {label: 'Facebook page', value: 'facebook_page'},\n            ]}\n            selected={this.props.embed_type}\n            onChange={this.props.onEmbedTypeChange}\n          />\n        </div>\n\n        {\n          this.props.embed_type === 'facebook_page'\n            ?\n            <div>\n              <SelectControl\n                label={__('What Facebook page content would you like to display?', 'planet4-blocks-backend')}\n                value={this.props.facebook_page_tab}\n                options={[\n                  {label: 'Timeline', value: 'timeline'},\n                  {label: 'Events', value: 'events'},\n                  {label: 'Mesages', value: 'messages'},\n                ]}\n                onChange={this.props.onFacebookPageTabChange}\n              />\n            </div>\n            : null\n        }\n\n        <div>\n          <TextControl\n            label={__('URL', 'planet4-blocks-backend')}\n            placeholder={__('Enter URL', 'planet4-blocks-backend')}\n            value={this.props.social_media_url}\n            onChange={this.props.onSocialMediaUrlChange}\n          />\n        </div>\n\n        <div>\n          <SelectControl\n            label={__('Alignment', 'planet4-blocks-backend')}\n            value={this.props.alignment_class}\n            options={[\n              {label: 'None', value: ''},\n              {label: 'Left', value: 'alignleft'},\n              {label: 'Center', value: 'aligncenter'},\n              {label: 'Right', value: 'alignright'},\n            ]}\n            onChange={this.props.onAlignmentChange}\n          />\n        </div>\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n            <ServerSideRender\n              block={'planet4-blocks/social-media'}\n              attributes={{\n                title: this.props.title,\n                description: this.props.description,\n                embed_type: this.props.embed_type,\n                facebook_page_tab: this.props.facebook_page_tab,\n                social_media_url: this.props.social_media_url,\n                alignment_class: this.props.alignment_class,\n              }}>\n            </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Socialmedia} from './Socialmedia.js';\n\nexport class SocialmediaBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {__} = wp.i18n;\n\n    registerBlockType('planet4-blocks/social-media', {\n      title: __('Social Media', 'p4ge'),\n      icon: 'share',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_social_media',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              embed_type: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.embed_type;\n                }\n              },\n              facebook_page_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.facebook_page_tab;\n                }\n              },\n              social_media_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.social_media_url;\n                }\n              },\n              alignment_class: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.alignment_class;\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        title: {\n          type: 'string',\n          default: '',\n        },\n        description: {\n          type: 'string',\n          default: '',\n        },\n        embed_type: {\n          type: 'string',\n          default: 'oembed'\n        },\n        facebook_page_tab: {\n          type: 'string',\n          default: 'timeline'\n        },\n        social_media_url: {\n          type: 'string',\n          default: ''\n        },\n        alignment_class: {\n          type: 'string',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        // These methods are passed down to the\n        // Socialmedia component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onEmbedTypeChange(value) {\n          setAttributes({embed_type: value});\n        }\n\n        function onFacebookPageTabChange(value) {\n          setAttributes({facebook_page_tab: value});\n        }\n\n        function onSocialMediaUrlChange(value) {\n          setAttributes({social_media_url: value});\n        }\n\n        function onAlignmentChange(value) {\n          setAttributes({alignment_class: value});\n        }\n\n\n        // We pass down all the attributes to Socialmedia as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Socialmedia\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onEmbedTypeChange={onEmbedTypeChange}\n          onFacebookPageTabChange={onFacebookPageTabChange}\n          onSocialMediaUrlChange={onSocialMediaUrlChange}\n          onAlignmentChange={onAlignmentChange} />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import { Component, Fragment } from '@wordpress/element';\nimport { Preview } from '../../components/Preview';\n\n\nimport {\n  MediaPlaceholder,\n  InspectorControls,\n  BlockControls,\n  MediaUpload,\n  MediaUploadCheck\n} from '@wordpress/editor';\n\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender,\n  FocalPointPicker,\n  ToggleControl,\n  RangeControl,\n  PanelBody,\n  Button,\n  Toolbar,\n  IconButton\n} from '@wordpress/components';\n\nexport class Socialshare extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const { __ } = wp.i18n;\n\n    const dimensions = { width: 212, height: 212 };\n\n    const { focus_image, id, multiple_image, image_data } = this.props;\n\n    let focal_point_params = { x: '', y: '' };\n\n    if (focus_image) {\n      let focus_image_str = focus_image.replace(/%/g, '');\n      let [x, y] = focus_image_str.split(' ');\n      focal_point_params = { x: x / 100, y: y / 100 };\n    } else {\n      focal_point_params = { x: 0.5, y: 0.5 };\n    }\n\n    const getImageOrButton = (openEvent) => {\n      if (0 < this.props.image_data.length) {\n\n        return (\n\n          this.props.image_data.map((item, index) => {\n            return (\n              <span>\n                <img\n                  src={item.url}\n                  onClick={openEvent}\n                  className=\"gallery__imgs\"\n                  key={index}\n                  width='150 px'\n                  style={{ padding: '10px 10px' }}\n                />\n              </span>\n            );\n          })\n\n        );\n      }\n      else {\n        return (\n          <div className=\"button-container\">\n            <Button\n              onClick={openEvent}\n              className=\"button\">\n              + {__('Select Gallery Images', 'p4ge')}\n            </Button>\n\n            <div>{__('Select images in the order you want them to appear.', 'p4ge')}</div>\n          </div>\n        );\n      }\n    };\n\n\n\n    let multiple_image_array = multiple_image ? multiple_image.split(',') : [];\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'planet4-blocks-backend')}\n            placeholder={__('Enter title', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n          <TextareaControl\n            label={__('Description', 'planet4-blocks-backend')}\n            placeholder={__('Enter description', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n        <BlockControls>\n          {this.props.id && (0 < this.props.id) && (\n            <Toolbar>\n\n              {__('Select Gallery Images', 'p4ge')}\n              <div>\n                <MediaUploadCheck>\n                  <MediaUpload\n                    title={__('Select Gallery Images', 'p4ge')}\n                    type=\"image\"\n                    onSelect={this.props.onSelectImage}\n                    value={multiple_image_array}\n                    allowedTypes={[\"image\"]}\n                    multiple=\"true\"\n                    render={({ open }) => getImageOrButton(open)}\n                  />\n                </MediaUploadCheck>\n              </div>\n              <IconButton\n                className='components-icon-button components-toolbar__control'\n                label={__('Remove Image', 'p4ge')}\n                onClick={this.props.onRemoveImages}\n                icon='trash'\n              />\n            </Toolbar>\n          )}\n        </BlockControls>\n        {__('Select Gallery Images', 'p4ge')}\n        <div>\n          <MediaUploadCheck>\n            <MediaUpload\n              title={__('Select Gallery Images', 'p4ge')}\n              type=\"image\"\n              onSelect={this.props.onSelectImage}\n              value={multiple_image_array}\n              allowedTypes={[\"image\"]}\n              multiple=\"true\"\n              render={({ open }) => getImageOrButton(open)}\n            />\n          </MediaUploadCheck>\n        </div>\n\n        {image_data &&\n          <div\n            className={\n              \"wp-block-master-theme-gallery__FocalPointPicker\"\n            }\n          >\n            <ul>\n              {image_data.map((item, index) => {\n                return (\n                  <li\n                    key={index}\n                  >\n                    {__('Select gallery image focal point', 'p4ge')}\n                    <FocalPointPicker\n                      url={item.url}\n                      dimensions={dimensions}\n                      value={item.focalPoint}\n                      onChange={this.props.onFocalPointChange.bind(this, item.id)}\n                      key={item.id}\n                    />\n                    {__('Enter message for social media', 'p4ge')}\n                    <TextControl\n                      label={__('Social message', 'planet4-blocks-backend')}\n                      placeholder={__('Enter message', 'planet4-blocks-backend')}\n                      help={__('Optional', 'planet4-blocks-backend')}\n                      value={item.message}\n                      onChange={this.props.onMessageChange.bind(this, item.id)}\n                      key={item.id + 't1'}\n\n                    />\n\n                    {__('Enter URL to share', 'p4ge')}\n                    <TextControl\n                      label={__('Social URL', 'planet4-blocks-backend')}\n                      placeholder={__('Enter URL to share', 'planet4-blocks-backend')}\n                      help={__('Optional', 'planet4-blocks-backend')}\n                      value={item.social_url}\n                      onChange={this.props.onURLChange.bind(this, item.id)}\n                      key={item.id + 't2'}\n                    />\n                  </li>\n                );\n              })}\n            </ul>\n          </div>\n        }\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/socialshare'}\n            attributes={{\n              multiple_image: this.props.multiple_image,\n              gallery_block_focus_points: this.props.gallery_block_focus_points,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import { Socialshare } from './Socialshare';\n\nexport class SocialshareBlock {\n  constructor() {\n    const { registerBlockType } = wp.blocks;\n    const { __ } = wp.i18n;\n    const { withSelect } = wp.data;\n\n    registerBlockType('planet4-blocks/socialshare', {\n      title: __('Socialshare', 'p4ge'),\n      icon: 'format-image',\n      category: 'planet4-blocks',\n\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_socail_share',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              id: {\n                type: 'integer',\n                shortcode: ({ named: { id = '' } }) => id,\n              },\n              multiple_image: {\n                type: 'string',\n                shortcode: ({ named: { multiple_image = '' } }) => multiple_image,\n              },\n              gallery_block_focus_points: {\n                type: 'string',\n                shortcode: ({ named: { gallery_block_focus_points = '' } }) => gallery_block_focus_points,\n              },\n              messages: {\n                type: 'string',\n                shortcode: ({ named: { messages = '' } }) => messages,\n              },\n              urls: {\n                type: 'string',\n                shortcode: ({ named: { urls = '' } }) => urls,\n              },\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n          default: '',\n        },\n        description: {\n          type: 'string',\n          default: '',\n        },\n        id: {\n          type: 'number',\n        },\n\n        multiple_image: {\n          type: 'string',\n        },\n        image_data: {\n          type: 'object',\n          default: []\n        },\n        gallery_block_focus_points: {\n          type: 'string',\n        },\n        messages: {\n          type: 'string',\n        },\n        urls: {\n          type: 'string',\n        },\n      },\n      edit: withSelect((select, props) => {\n\n        const { attributes } = props;\n        const { multiple_image } = attributes;\n\n        let image_urls_array = [];\n\n        if (multiple_image) {\n          let image_id_array = multiple_image.split(',');\n\n          $.each(image_id_array, function (index, img_id) {\n            let img_url = select('core').getMedia(img_id);\n            if (img_url) {\n              image_urls_array[img_id] = img_url.media_details.sizes.medium.source_url;\n            }\n          });\n        }\n\n        return {\n          image_urls_array\n        };\n      })(({\n        image_urls_array,\n        isSelected,\n        attributes,\n        setAttributes\n      }) => {\n\n        let { image_data, gallery_block_focus_points, messages, urls } = attributes;\n\n        // Prepare image_data array on edit gallery block.\n        if (0 == image_data.length && 0 < image_urls_array.length) {\n          let new_image_data = [];\n          let focal_points_json = gallery_block_focus_points ? JSON.parse(gallery_block_focus_points) : {};\n          let messages_json = messages ? JSON.parse(messages) : {};\n          debugger;\n          let urlss_json = urls ? JSON.parse(urls) : {};\n          for (const img_id in image_urls_array) {\n\n            let x, y;\n            if ($.isEmptyObject(focal_points_json)) {\n              [x, y] = [50, 50];\n            } else {\n              [x, y] = focal_points_json[img_id].replace(/\\%/g, '').split(' ');\n            }\n\n            let mes;\n\n            if ($.isEmptyObject(messages_json)) {\n              mes = '';\n            } else {\n              mes = messages_json[img_id];\n            }\n\n            let url;\n\n            if ($.isEmptyObject(urlss_json)) {\n              url = '';\n            } else {\n              url = urlss_json[img_id];\n            }\n\n            new_image_data.push({\n              url: image_urls_array[img_id],\n              focalPoint: {\n                x: parseInt(x) / 100,\n                y: parseInt(y) / 100\n              },\n              id: img_id,\n              message: mes,\n              social_url: url\n            });\n          }\n\n          setAttributes({ image_data: new_image_data });\n        }\n\n        function onTitleChange(value) {\n          setAttributes({ title: value });\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({ description: value });\n        }\n\n        function onFocalPointChange(image_id, value) {\n\n          let updated_image_data = [];\n          let gallery_block_focus_points = {};\n\n          image_data.map(function (object) {\n            if (object.id === image_id) {\n              let x = parseFloat(value.x).toFixed(2);\n              let y = parseFloat(value.y).toFixed(2);\n\n              updated_image_data.push({ url: object.url, social_url: object.social_url, focalPoint: { x, y }, id: image_id, message: object.message });\n              gallery_block_focus_points[image_id] = (x * 100) + '% ' + (y * 100) + '%';\n\n            } else {\n              updated_image_data.push(object);\n              let img_id = object.id;\n              gallery_block_focus_points[img_id] = parseInt(object.focalPoint.x * 100) + '% ' + parseInt(object.focalPoint.y * 100) + '%';\n            }\n          });\n\n          setAttributes({ gallery_block_focus_points: JSON.stringify(gallery_block_focus_points) });\n          setAttributes({ image_data: updated_image_data });\n        }\n\n        function onMessageChange(image_id, value) {\n\n          let updated_image_data = [];\n          let messages = {};\n          image_data.map(function (object) {\n            if (object.id === image_id) {\n              updated_image_data.push({ url: object.url, social_url: object.social_url, focalPoint: object.focalPoint, id: image_id, message: value });\n              messages[image_id] = value;\n            } else {\n              updated_image_data.push(object);\n              let img_id = object.id;\n              messages[img_id] = object.message;\n            }\n          });\n          setAttributes({ messages: JSON.stringify(messages) });\n          setAttributes({ image_data: updated_image_data });\n        }\n\n        function onURLChange(image_id, value) {\n\n          let updated_image_data = [];\n          let urls = {};\n          image_data.map(function (object) {\n            if (object.id === image_id) {\n              updated_image_data.push({ url: object.url, focalPoint: object.focalPoint, id: image_id, message: object.message, social_url: value });\n              urls[image_id] = value;\n            } else {\n              updated_image_data.push(object);\n              let img_id = object.id;\n              urls[img_id] = object.social_url;\n            }\n          });\n          setAttributes({ urls: JSON.stringify(urls) });\n          setAttributes({ image_data: updated_image_data });\n        }\n\n        function onSelectImage(value) {\n          let image_ids = [];\n          let image_data = [];\n          for (const key in value) {\n            image_ids.push(value[key].id);\n            let img_id = value[key].id;\n            let message = value[key].message;\n            let surl = value[key].social_url;\n            image_data.push({ url: value[key].url, focalPoint: { x: 0.5, y: 0.5 }, id: img_id, message: message, social_url: surl });\n          }\n          setAttributes({ multiple_image: image_ids.join(',') });\n          setAttributes({ image_data: image_data });\n        }\n\n        function onRemoveImages() {\n          setAttributes({ multiple_image: '' });\n          setAttributes({ gallery_block_focus_points: '' });\n          setAttributes({ image_data: [] });\n        }\n\n        return <Socialshare\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onSelectImage={onSelectImage}\n          onMessageChange={onMessageChange}\n          onURLChange={onURLChange}\n          onFocalPointChange={onFocalPointChange}\n          onRemoveImages={onRemoveImages}\n        />\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  SelectControl\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\n\nexport class Splittwocolumns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      let tag_list   = this.props.tagsList.map((tag) => ({label: tag.name, value: tag.id}));\n      tag_list.unshift({label: '--Select Tag--', value: 0});\n\n      let issuepage_list = this.props.issuepageList.map((issue) => ({label: issue.title.raw, value: issue.id}));\n      issuepage_list.unshift({label: '--Select Issue--', value: 0});\n\n      const {__} = wp.i18n;\n\n      const {\n        select_issue,\n        title,\n        issue_description,\n        issue_link_text,\n        issue_link_path,\n        issue_image,\n        focus_issue_image,\n        select_tag,\n        tag_description,\n        button_text,\n        button_link,\n        tag_image,\n        focus_tag_image,\n        issue_image_url,\n        tag_image_url\n      } = this.props;\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_issue_image_obj = {x: 0.5,y: 0.5};\n      if (focus_issue_image) {\n        let [x,y] = focus_issue_image.replace(/\\%/g, '').split(' ');\n        focus_issue_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_tag_image_obj = {x: 0.5,y: 0.5};\n      if (focus_tag_image) {\n        let [x,y] = focus_tag_image.replace(/\\%/g, '').split(' ');\n        focus_tag_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      const dimensions = {width: 400, height: 100};\n\n      return (\n        <Fragment>\n          <h3>{__('Issue fields (Column 1 - Left side)', 'p4ge')}</h3>\n          <div>\n            {issuepage_list &&\n              <SelectControl\n                label={__('Select an issue', 'p4ge')}\n                value={select_issue}\n                options={issuepage_list}\n                onChange={this.props.onSelectIssue}\n              />\n            }\n            <TextControl\n              label={__('Issue Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={title}\n              onChange={this.props.onIssueTitleChange}\n              help={__('(Optional) Fill this only if you need to override issue title.', 'p4ge')}\n            />\n            <TextareaControl\n              label={__('Issue Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional) Fill this only if you need to override issue description.', 'p4ge')}\n              value={issue_description}\n              onChange={this.props.onIssueDescriptionChange}\n            />\n            <TextControl\n              label={__('Issue link text', 'p4ge')}\n              placeholder={__('Enter link text', 'p4ge')}\n              value={issue_link_text}\n              onChange={this.props.onIssueLinkTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Issue link path', 'p4ge')}\n              placeholder={__('Enter link path', 'p4ge')}\n              value={issue_link_path}\n              onChange={this.props.onIssueLinkPathChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Issue Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Issue', 'p4ge')}\n              onSelectImage={this.props.onSelectIssueImage}\n              imageId={issue_image}\n              imageUrl={issue_image_url}\n              buttonLabel={__('+ Select Image for Issue', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-issue-imgs'\n            />\n\n            {issue_image &&\n            <div>\n              {__('Select focal point for issue image', 'p4ge')}\n              <FocalPointPicker\n                url={issue_image_url}\n                dimensions={dimensions}\n                value={focus_issue_image_obj}\n                onChange={this.props.onIssueImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n          <h3>{__('Campaign fields (Column 2 - Right side)', 'p4ge')}</h3>\n          <div>\n            {tag_list &&\n              <SelectControl\n                label={__('Select a tag', 'p4ge')}\n                value={select_tag}\n                options={tag_list}\n                onChange={this.props.onSelectTag}\n              />\n            }\n            <TextareaControl\n              label={__('Campaign Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={tag_description}\n              onChange={this.props.onTagDescriptionChange}\n            />\n            <TextControl\n              label={__('Campaign button text', 'p4ge')}\n              placeholder={__('Enter button text', 'p4ge')}\n              value={button_text}\n              onChange={this.props.onButtonTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Campaign button link', 'p4ge')}\n              placeholder={__('Enter button link', 'p4ge')}\n              value={button_link}\n              onChange={this.props.onButtonLinkChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Campaign Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Campaign', 'p4ge')}\n              onSelectImage={this.props.onSelectCampaignImage}\n              imageId={tag_image}\n              imageUrl={tag_image_url}\n              buttonLabel={__('+ Select Image for Campaign', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-tag_imgs'\n            />\n\n            {tag_image &&\n            <div>\n              {__('Select focal point for campaign image', 'p4ge')}\n              <FocalPointPicker\n                url={tag_image_url}\n                dimensions={dimensions}\n                value={focus_tag_image_obj}\n                onChange={this.props.onCampaignImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/split-two-columns'}\n                  attributes={{\n                    select_issue: this.props.select_issue,\n                    title: this.props.title,\n                    issue_description: this.props.issue_description,\n                    issue_link_text: this.props.issue_link_text,\n                    issue_link_path: this.props.issue_link_path,\n                    issue_image: this.props.issue_image,\n                    focus_issue_image: this.props.focus_issue_image,\n                    select_tag: this.props.select_tag,\n                    tag_description: this.props.tag_description,\n                    button_text: this.props.button_text,\n                    button_link: this.props.button_link,\n                    tag_image: this.props.tag_image,\n                    focus_tag_image: this.props.focus_tag_image,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Splittwocolumns} from './Splittwocolumns';\n\nconst {__} = wp.i18n;\n\nexport class SplittwocolumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/split-two-columns', {\n        title: __('Split Two Columns', 'p4ge'),\n        icon: 'editor-table',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_split_two_columns select_issue=\"13813\" title=\"lorem ipsum\" issue_description=\"lorem ipsum\" issue_link_text=\"test link\"\n         *        issue_link_path=\"http://www.googlw.com\" issue_image=\"23634\" focus_issue_image=\"right top\" select_tag=\"19\"\n         *        tag_description=\"lorem ipsum\" button_text=\"btn text\" button_link=\"http://www.google.com\" tag_image=\"23634\" focus_tag_image=\"right top\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/split-two-columns {\"select_issue\":2079,\"title\":\"Lorem Ipsum\",\"issue_description\":\"Lorem Ipsum\",\"issue_link_text\":\"tets link\",\"issue_link_path\":\"http://www.google.com\",\"issue_image\":23634,\"focus_issue_image\":\"33% 60%\",\"select_tag\":65,\"tag_description\":\"Lorem Ipsum\",\"button_text\":\"btn text\",\"button_link\":\"http://www.google.com\",\"tag_image\":23634,\"focus_tag_image\":\"30% 79%\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_split_two_columns',\n              attributes: {\n                select_issue: {\n                  type: 'integer',\n                  shortcode: ({named: {select_issue = ''}}) => Number(select_issue) > 0 ? Number(select_issue) : null,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                issue_description: {\n                  type: 'string',\n                  shortcode: ({named: {issue_description = ''}}) => issue_description,\n                },\n                issue_link_text: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_text = ''}}) => issue_link_text,\n                },\n                issue_link_path: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_path = ''}}) => issue_link_path,\n                },\n                issue_image: {\n                  type: 'integer',\n                  shortcode: ({named: {issue_image = ''}}) => Number(issue_image) > 0 ? Number(issue_image) : null,\n                },\n                focus_issue_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_issue_image = ''}}) => focus_issue_image,\n                },\n                select_tag: {\n                  type: 'integer',\n                  shortcode: ({named: {select_tag = ''}}) => Number(select_tag) > 0 ? Number(select_tag) : null,\n                },\n                tag_description: {\n                  type: 'string',\n                  shortcode: ({named: {tag_description = ''}}) => tag_description,\n                },\n                button_text: {\n                  type: 'string',\n                  shortcode: ({named: {button_text = ''}}) => button_text,\n                },\n                button_link: {\n                  type: 'string',\n                  shortcode: ({named: {button_link = ''}}) => button_link,\n                },\n                tag_image: {\n                  type: 'integer',\n                  shortcode: ({named: {tag_image = ''}}) => Number(tag_image) > 0 ? Number(tag_image) : null,\n                },\n                focus_tag_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_tag_image = ''}}) => focus_tag_image,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          select_issue: {\n            type: 'number',\n            default: 0,\n          },\n          title: {\n            type: 'string',\n          },\n          issue_description: {\n            type: 'string',\n          },\n          issue_link_text: {\n            type: 'string',\n          },\n          issue_link_path: {\n            type: 'string',\n          },\n          issue_image: {\n            type: 'number',\n          },\n          focus_issue_image: {\n            type: 'string',\n          },\n          select_tag: {\n            type: 'number',\n            default: 0,\n          },\n          tag_description: {\n            type: 'string',\n          },\n          button_text: {\n            type: 'string',\n          },\n          button_link: {\n            type: 'string',\n          },\n          tag_image: {\n            type: 'number',\n          },\n          focus_tag_image: {\n            type: 'string',\n          },\n        },\n        edit: withSelect((select,props) => {\n          const tagsTaxonomy = 'post_tag';\n          const issuePage    = 'page';\n\n          const taxonomy_args = {\n            hide_empty: false,\n            per_page: 50,\n          };\n          const {getEntityRecords} = select('core');\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, taxonomy_args);\n\n          const issue_page_args = {\n            per_page: -1,\n            sort_order: 'asc',\n            sort_column: 'post_title',\n            parent: window.p4ge_vars.planet4_options.explore_page,\n            post_status: 'publish',\n          };\n          const issuepageList = getEntityRecords('postType', issuePage, issue_page_args);\n\n          const { attributes } = props;\n          const { issue_image,tag_image } = attributes;\n\n          let issue_image_url = '';\n          if (issue_image) {\n            issue_image_url = select('core').getMedia(issue_image);\n            if ( issue_image_url ) {\n              issue_image_url = issue_image_url.source_url;\n            }\n          }\n\n          let tag_image_url = '';\n          if (tag_image) {\n            tag_image_url = select('core').getMedia(tag_image);\n            if ( tag_image_url ) {\n              tag_image_url = tag_image_url.source_url;\n            }\n          }\n\n          return {\n            tagsList,\n            issuepageList,\n            issue_image_url,\n            tag_image_url,\n          };\n\n        } )( ( {\n          tagsList,\n          issuepageList,\n          issue_image_url,\n          tag_image_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          if (!tagsList || !issuepageList) {\n            return \"Populating block's fields...\";\n          }\n\n          if ((tagsList && tagsList.length === 0) || (issuepageList && issuepageList.length === 0)) {\n            return \"Populating block's fields...\";\n          }\n\n          function onSelectIssue( value ) {\n            setAttributes({select_issue: parseInt(value)});\n          }\n\n          function onIssueTitleChange( value ) {\n            setAttributes({title: value });\n          }\n\n          function onIssueDescriptionChange( value ) {\n            setAttributes({issue_description: value});\n          }\n\n          function onIssueLinkTextChange( value ) {\n            setAttributes({issue_link_text: value });\n          }\n\n          function onIssueLinkPathChange( value ) {\n            setAttributes({issue_link_path: value});\n          }\n\n          function onSelectIssueImage( {id} ) {\n            setAttributes({issue_image: id});\n          }\n\n          function onIssueImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_issue_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          function onSelectTag( value ) {\n            setAttributes({select_tag: parseInt(value)});\n          }\n\n          function onTagDescriptionChange( value ) {\n            setAttributes({tag_description: value});\n          }\n\n          function onButtonTextChange( value ) {\n            setAttributes({button_text: value });\n          }\n\n          function onButtonLinkChange( value ) {\n            setAttributes({button_link: value});\n          }\n\n          function onSelectCampaignImage( {id} ) {\n            setAttributes({tag_image: id});\n          }\n\n          function onCampaignImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_tag_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          return <Splittwocolumns\n            {...attributes}\n            isSelected={isSelected}\n            tagsList={tagsList}\n            issuepageList={issuepageList}\n            issue_image_url={issue_image_url}\n            tag_image_url={tag_image_url}\n            onSelectIssue={onSelectIssue}\n            onIssueTitleChange={onIssueTitleChange}\n            onIssueDescriptionChange={onIssueDescriptionChange}\n            onIssueLinkTextChange={onIssueLinkTextChange}\n            onIssueLinkPathChange={onIssueLinkPathChange}\n            onSelectIssueImage={onSelectIssueImage}\n            onIssueImageFocalPointChange={onIssueImageFocalPointChange}\n            onSelectTag={onSelectTag}\n            onTagDescriptionChange={onTagDescriptionChange}\n            onButtonTextChange={onButtonTextChange}\n            onButtonLinkChange={onButtonLinkChange}\n            onSelectCampaignImage={onSelectCampaignImage}\n            onCampaignImageFocalPointChange={onCampaignImageFocalPointChange}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component} from 'react';\nimport {\n  CheckboxControl,\n  SelectControl,\n} from '@wordpress/components';\n\nexport class MenuLevel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>Level {this.props.index + 1}</div>\n        <SelectControl\n          label=\"Submenu item\"\n          help=\"Submenu item\"\n          value={this.props.heading}\n          options={[\n            {label: 'None', value: '0'},\n            {label: 'Heading 1', value: '1'},\n            {label: 'Heading 2', value: '2'},\n            {label: 'Heading 3', value: '3'},\n            {label: 'Heading 4', value: '4'},\n            {label: 'Heading 5', value: '5'},\n            {label: 'Heading 6', value: '6'},\n          ]}\n          onChange={(e) => this.props.onHeadingChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n\n        <CheckboxControl\n          heading=\"Link\"\n          help=\"Link item\"\n          value={this.props.link}\n          checked={this.props.link}\n          onChange={(e) => this.props.onLinkChange(this.props.index, e)}\n          className=\"submenu-level-link\"\n        />\n\n        <SelectControl\n          label=\"List style\"\n          help=\"List style\"\n          value={this.props.style}\n          options={[\n            {label: 'None', value: 'none'},\n            {label: 'Bullet', value: 'bullet'},\n            {label: 'Number', value: 'number'},\n          ]}\n          onChange={(e) => this.props.onStyleChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n      </div>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  TextControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {MenuLevel} from \"./MenuLevel\";\n\nexport class Submenu extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h2>{__('Anchor Link Submenu', 'p4ge')}</h2>\n        <p><i>{__(\n          'An in-page table of contents to help users have a sense of what\\'s on the page and let them jump to a topic they are interested in.',\n          'p4ge'\n        )}</i></p>\n        <h3>{__('What style of menu do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.submenu_style}\n            onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n            options={[\n              {\n                label: __('Long full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-long.jpg',\n                value: 1,\n                help: __('Use: on long pages (more than 5 screens) when list items are long (+ 10 words)<br>No max items<br>recommended.')\n              }, {\n                label: __('Short full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-short.jpg',\n                value: 2,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 5 words)<br>No max items<br>recommended.'),\n              },\n              {\n                label: __('Short sidebar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-sidebar.jpg',\n                value: 3,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 10 words)<br>Max items<br>recommended: 9')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label=\"Submenu Title\"\n            placeholder=\"Enter title\"\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <hr/>\n        {this.props.levels.map((heading, i) => {\n          return (\n            <MenuLevel\n              {...heading}\n              onHeadingChange={this.props.onHeadingChange}\n              onLinkChange={this.props.onLinkChange}\n              onStyleChange={this.props.onStyleChange}\n              index={i}\n              key={i}\n            />\n          );\n        })}\n\n        <div>\n          <Button isPrimary\n                  onClick={this.props.addLevel}\n                  disabled={this.props.levels.length >= 3 || this.props.levels.slice(-1)[0].heading === 0}\n          >\n            Add level\n          </Button>\n          <Button isDefault\n                  onClick={this.props.removeLevel} disabled={this.props.levels.length <= 1}\n          >\n            Remove level\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/submenu'}\n            attributes={{\n              submenu_style: this.props.submenu_style,\n              title: this.props.title,\n              levels: this.props.levels,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {Submenu} from './Submenu.js';\n\nexport class SubmenuBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/submenu', {\n      title: 'Submenu',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_submenu submenu_style=\"3\" title=\"title22\" heading1=\"2\"\n       *                    link1=\"true\" style1=\"bullet\" heading2=\"3\" link2=\"true\" style2=\"number\"\n       *                    heading3=\"4\" link3=\"false\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/submenu {\"submenu_style\":3,\"title\":\"title22\",\"levels\":[{\"heading\":\"2\",\"link\":\"true\",\"style\":\"bullet\"},\n       *    {\"heading\":\"3\",\"link\":\"true\",\"style\":\"number\"},{\"heading\":\"4\",\"link\":\"false\",\"style\":\"none\"}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_submenu',\n            attributes: {\n              submenu_style: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.submenu_style);\n                }\n              },\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              levels: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  let levels = [];\n                  if (attributes.named.heading1 > 0) {\n                    let level = {\n                      heading: Number(attributes.named.heading1),\n                      link: Boolean(attributes.named.link1) || false,\n                      style: attributes.named.style1 || 'none'\n                    };\n                    levels.push(Object.assign({}, level));\n\n                    if (attributes.named.heading2 > 0) {\n                      let level = {\n                        heading: Number(attributes.named.heading2),\n                        link: Boolean(attributes.named.link2) || false,\n                        style: attributes.named.style2 || 'none'\n                      };\n                      levels.push(Object.assign({}, level));\n\n                      if (attributes.named.heading3 > 0) {\n                        let level = {\n                          heading: Number(attributes.named.heading3),\n                          link: Boolean(attributes.named.link3) || false,\n                          style: attributes.named.style3 || 'none'\n                        };\n                        levels.push(Object.assign({}, level));\n                      }\n                    }\n                  }\n                  return levels;\n                },\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        submenu_style: {\n          type: 'integer',\n          default: 1\n        },\n        title: {\n          type: 'string',\n        },\n        levels: {\n          type: 'array',\n          default: [ {heading: 0, link: false, style: 'none'}]\n        },\n      },\n      edit: withSelect((select) => {\n\n      })(({\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        function addLevel() {\n          setAttributes({levels: attributes.levels.concat({heading: 0, link: false, style: 'none'})});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onHeadingChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].heading = Number(value);\n          setAttributes({levels: levels});\n        }\n\n        function onLayoutChange(value) {\n          setAttributes({submenu_style: Number(value)});\n        }\n\n        function onLinkChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].link = value;\n          setAttributes({levels: levels});\n        }\n\n        function onStyleChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].style = value;\n          setAttributes({levels: levels});\n        }\n\n        function removeLevel() {\n          setAttributes({levels: attributes.levels.slice(0, -1)});\n        }\n\n        return <Submenu\n          {...attributes}\n          isSelected={isSelected}\n          onSelectedLayoutChange={onLayoutChange}\n          onTitleChange={onTitleChange}\n          onHeadingChange={onHeadingChange}\n          onLinkChange={onLinkChange}\n          onStyleChange={onStyleChange}\n          addLevel={addLevel}\n          removeLevel={removeLevel}\n        />\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\nimport {\n\tFormTokenField,\n\tTextControl,\n\tTextareaControl,\n\tServerSideRender,\n\tToggleControl,\n\tSelectControl,\n\tCheckboxControl,\n\tToolbar,\n\tIconButton, Button\n} from '@wordpress/components';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Takeactionboxout extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// Populate tag tokens for saved tags.\n\t\tlet tagTokens = props.tagsList.filter(tag => props.tag_ids.includes(tag.id)).map(tag => tag.name);\n\n\t\tthis.state = {\n\t\t\ttagTokens: tagTokens,\n\t\t};\n\t}\n\n\tonSelectedTagsChange(tokens) {\n\t\tconst tagIds = tokens.map(token => {\n\t\t\treturn this.props.tagsList.filter(tag => tag.name === token)[0].id;\n\t\t});\n\t\tthis.props.onSelectedTagsChange(tagIds);\n\t\tthis.setState({tagTokens: tokens})\n\t}\n\n\tisCustomised() {\n\t\treturn ( this.props.custom_title || this.props.custom_excerpt || this.props.custom_link || this.props.custom_link_text || this.props.custom_link_new_tab || this.state.tagTokens.length > 0 || ( this.props.background_image && 0 < this.props.background_image ) );\n\t}\n\n\ttakeActionPageSelected() {\n\t\treturn ( this.props.take_action_page && this.props.take_action_page !== '0' );\n\t}\n\n\trenderEdit() {\n\t\tconst tagSuggestions = this.props.tagsList.map(tag => tag.name);\n\n\t\tlet actpage_list = this.props.actPageList.map((actPage) => ({label: actPage.title.raw, value: actPage.id}));\n\t\tconst {__} = wp.i18n;\n\n\t\tactpage_list.unshift({label: __('--Select Take Action Page--'), value: 0});\n\n\t\tconst getImageOrButton = (openEvent) => {\n\t\t\tif ( this.props.background_image && ( 0 < this.props.background_image ) ) {\n\n\t\t\t\treturn (\n\n\t\t\t\t\t<div align='center'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ this.props.background_image_url }\n\t\t\t\t\t\t\tonClick={ openEvent }\n\t\t\t\t\t\t\tclassName='takeactionboxout-block-background-img'\n\t\t\t\t\t\t\twidth={'400px'}\n\t\t\t\t\t\t\tstyle={{padding: '10px 10px'}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t\t<div className='button-container'>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={ openEvent }\n\t\t\t\t\t\t\tclassName='button'\n\t\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}>\n\t\t\t\t\t\t\t+ {__('Select Background Image', 'p4ge')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<h3>{__('Take Action Boxout', 'p4ge')}</h3>\n\t\t\t\t<div>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={__('Select Take Action Page', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.take_action_page}\n\t\t\t\t\t\toptions={actpage_list}\n\t\t\t\t\t\tonChange={this.props.onSelectTakeActoinPage}\n\t\t\t\t\t\tdisabled={this.isCustomised()}\n\t\t\t\t\t/>\n\t\t\t\t\t<h5>{__('Or customise your take action boxout (if inserted in POSTS, the block will float on the side, if inserted in PAGES, it will appear in the page body)', 'p4ge')}</h5>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Title', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Title', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_title}\n\t\t\t\t\t\tonChange={this.props.onCustomTitleChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\tlabel={__('Custom Excerpt', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Excerpt', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_excerpt}\n\t\t\t\t\t\tonChange={this.props.onCustomExcerptChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Link', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Link', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link}\n\t\t\t\t\t\tonChange={this.props.onCustomLinkChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Link Text', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Link Text', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link_text}\n\t\t\t\t\t\tonChange={this.props.onCustomLinkTextChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tlabel={__('Open in a new Tab', 'p4ge')}\n\t\t\t\t\t\thelp={__('Open custom link in new tab', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link_new_tab}\n\t\t\t\t\t\tchecked={this.props.custom_link_new_tab}\n\t\t\t\t\t\tonChange={(e) => this.props.onCustomLinkNewTabChange(e)}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormTokenField\n\t\t\t\t\t\tvalue={this.state.tagTokens}\n\t\t\t\t\t\tsuggestions={tagSuggestions}\n\t\t\t\t\t\tlabel={__('Select Tags', 'p4ge')}\n\t\t\t\t\t\tonChange={tokens => this.onSelectedTagsChange(tokens)}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t{__('Select Background Image', 'p4ge')}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\ttitle={__('Select Background Image', 'p4ge')}\n\t\t\t\t\t\t\t\ttype='image'\n\t\t\t\t\t\t\t\tonSelect={this.props.onSelectBackGroundImage}\n\t\t\t\t\t\t\t\tvalue={this.props.background_image}\n\t\t\t\t\t\t\t\tallowedTypes={['image']}\n\t\t\t\t\t\t\t\trender={ ({ open }) => getImageOrButton(open) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t</div>\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t{ this.props.background_image && ( 0 < this.props.background_image ) && (\n\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tclassName='components-icon-button components-toolbar__control'\n\t\t\t\t\t\t\t\t\tlabel={__('Remove Image', 'p4ge')}\n\t\t\t\t\t\t\t\t\tonClick={this.props.onRemoveBackGroundImage}\n\t\t\t\t\t\t\t\t\ticon='trash'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</BlockControls>\n\t\t\t\t</div>\n\t\t\t\t<hr />\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\tthis.props.isSelected\n\t\t\t\t\t\t? this.renderEdit()\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t<Preview showBar={this.props.isSelected}>\n\t\t\t\t\t<ServerSideRender\n\t\t\t\t\t\tblock={'planet4-blocks/take-action-boxout'}\n\t\t\t\t\t\tattributes={{\n\t\t\t\t\t\t\ttake_action_page: this.props.take_action_page,\n\t\t\t\t\t\t\tcustom_title: this.props.custom_title,\n\t\t\t\t\t\t\tcustom_excerpt: this.props.custom_excerpt,\n\t\t\t\t\t\t\tcustom_link: this.props.custom_link,\n\t\t\t\t\t\t\tcustom_link_text: this.props.custom_link_text,\n\t\t\t\t\t\t\tcustom_link_new_tab: this.props.custom_link_new_tab,\n\t\t\t\t\t\t\ttag_ids: this.props.tag_ids,\n\t\t\t\t\t\t\tbackground_image: this.props.background_image,\n\t\t\t\t\t\t}}>\n\t\t\t\t\t</ServerSideRender>\n\t\t\t\t</Preview>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import {Takeactionboxout} from './Takeactionboxout.js';\n\nexport class TakeactionboxoutBlock {\n\tconstructor() {\n\t\tconst {registerBlockType} = wp.blocks;\n\t\tconst {__} = wp.i18n;\n\t\tconst {withSelect} = wp.data;\n\n\t\tregisterBlockType('planet4-blocks/take-action-boxout', {\n\t\t\ttitle: __('Take Action Boxout'),\n\t\t\ticon: 'welcome-widgets-menus',\n\t\t\tcategory: 'planet4-blocks',\n\t\t\tsupports: {\n\t\t\t\tmultiple: false, // Use the block just once per post.\n\t\t\t},\n\n\t\t\t// Transform the shortcode into a Gutenberg block\n\t\t\t// this is used when a user clicks \"Convert to blocks\"\n\t\t\t// on the \"Classic Editor\" block\n\t\t\ttransforms: {\n\t\t\t\tfrom: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'shortcode',\n\t\t\t\t\t\t// Shortcode tag can also be an array of shortcode aliases\n\t\t\t\t\t\ttag: 'shortcake_take_action_boxout',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\ttake_action_page: {\n\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn Number(attributes.named.take_action_page);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_title: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_title;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_excerpt: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_excerpt;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link_text: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link_text;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link_new_tab: {\n\t\t\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link_new_tab;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttag_ids: {\n\t\t\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.tag_ids ?\n                    attributes.named.tag_ids.split(',').map(tag => Number(tag)).filter(tag => tag > 0)\n                    : [];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbackground_image: {\n\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\tshortcode: ({named: {background_image = ''}}) => Number(background_image) > 0 ? Number(background_image) : 0,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t},\n\t\t\t// This attributes definition mimics the one in the PHP side.\n\t\t\tattributes: {\n\t\t\t\ttake_action_page: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t\tcustom_title: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_excerpt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link_text: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link_new_tab: {\n\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\tdefault: false\n\t\t\t\t},\n\t\t\t\ttag_ids: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: []\n\t\t\t\t},\n\t\t\t\tbackground_image: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t},\n\t\t\t// withSelect is a \"Higher Order Component\", it works as\n\t\t\t// a Decorator, it will provide some basic API functionality\n\t\t\t// through `select`.\n\t\t\tedit: withSelect( ( select, props ) => {\n\t\t\t\tconst tagsTaxonomy = 'post_tag';\n\t\t\t\tconst actPage = 'page';\n\n\t\t\t\tconst args = {\n\t\t\t\t\thide_empty: false,\n\t\t\t\t\tper_page: 50,\n\t\t\t\t};\n\t\t\t\tconst {getEntityRecords, getMedia} = select('core');\n\n\t\t\t\tconst tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n\n\t\t\t\tconst act_page_args = {\n\t\t\t\t\tper_page: -1,\n\t\t\t\t\tsort_order: 'asc',\n\t\t\t\t\tsort_column: 'post_title',\n\t\t\t\t\tparent: window.p4ge_vars.planet4_options.act_page,\n\t\t\t\t\tpost_status: 'publish',\n\t\t\t\t};\n\n\t\t\t\tconst actPageList = getEntityRecords('postType', actPage, act_page_args);\n\n\t\t\t\tconst { attributes } = props;\n\t\t\t\tconst { background_image } = attributes;\n\n\t\t\t\tlet background_image_url = '';\n\t\t\t\tif (background_image) {\n\t\t\t\t\tbackground_image_url = select('core').getMedia(background_image);\n\t\t\t\t\tif ( background_image_url ) {\n\t\t\t\t\t\tbackground_image_url = background_image_url.source_url;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tactPageList,\n\t\t\t\t\ttagsList,\n\t\t\t\t\tbackground_image_url,\n\t\t\t\t};\n\t\t\t} )( ( {\n\t\t\t\ttagsList,\n\t\t\t\tactPageList,\n\t\t\t\tbackground_image_url,\n\t\t\t\tisSelected,\n\t\t\t\tattributes,\n\t\t\t\tsetAttributes\n\t\t\t} ) => {\n\n\t\t\t\tif (!tagsList || !actPageList) {\n\t\t\t\t\treturn \"Populating block's fields...\";\n\t\t\t\t}\n\n\t\t\t\tif ((tagsList && tagsList.length === 0) || (actPageList && actPageList.length === 0)) {\n\t\t\t\t\treturn \"Populating block's fields...\";\n\t\t\t\t}\n\n\t\t\t\t// These methods are passed down to the\n\t\t\t\t// Articles component, they update the corresponding attribute.\n\t\t\t\tfunction onSelectTakeActoinPage( value ) {\n\t\t\t\t\tsetAttributes({ take_action_page: value });\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomTitleChange(value) {\n\t\t\t\t\tsetAttributes({custom_title: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomExcerptChange(value) {\n\t\t\t\t\tsetAttributes({custom_excerpt: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkChange(value) {\n\t\t\t\t\tsetAttributes({custom_link: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkTextChange(value) {\n\t\t\t\t\tsetAttributes({custom_link_text: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkNewTabChange(value) {\n\t\t\t\t\tsetAttributes({custom_link_new_tab: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onButtonLinkTabChange(value) {\n\t\t\t\t\tsetAttributes({button_link_new_tab: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onSelectedTagsChange(tagIds) {\n\t\t\t\t\tsetAttributes({tag_ids: tagIds});\n\t\t\t\t}\n\n\t\t\t\tfunction onSelectBackGroundImage( {id} ) {\n\t\t\t\t\tsetAttributes({background_image: id});\n\t\t\t\t}\n\n\t\t\t\tfunction onRemoveBackGroundImage() {\n\t\t\t\t\tsetAttributes({background_image: -1});\n\t\t\t\t}\n\n\t\t\t\t// We pass down all the attributes to Covers as props using\n\t\t\t\t// the spread operator. Then we selectively add more\n\t\t\t\t// props.\n\t\t\t\treturn <Takeactionboxout\n\t\t\t\t\t{...attributes}\n\t\t\t\t\tisSelected={isSelected}\n\t\t\t\t\ttagsList={tagsList}\n\t\t\t\t\tactPageList={actPageList}\n\t\t\t\t\tbackground_image_url={background_image_url}\n\t\t\t\t\tonSelectTakeActoinPage={onSelectTakeActoinPage}\n\t\t\t\t\tonCustomTitleChange={onCustomTitleChange}\n\t\t\t\t\tonCustomExcerptChange={onCustomExcerptChange}\n\t\t\t\t\tonCustomLinkChange={onCustomLinkChange}\n\t\t\t\t\tonCustomLinkTextChange={onCustomLinkTextChange}\n\t\t\t\t\tonCustomLinkNewTabChange={onCustomLinkNewTabChange}\n\t\t\t\t\tonButtonLinkTabChange={onButtonLinkTabChange}\n\t\t\t\t\tonSelectedTagsChange={onSelectedTagsChange}\n\t\t\t\t\tonSelectBackGroundImage={onSelectBackGroundImage}\n\t\t\t\t\tonRemoveBackGroundImage={onRemoveBackGroundImage}/>\n\t\t\t}),\n\t\t\tsave() {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} );\n\t};\n}\n\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from \"@wordpress/element\";\nimport {\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {Preview} from '../../components/Preview';\n\nexport class Timeline extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.loadTimeline(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    this.loadTimeline(prevProps);\n  }\n\n  loadTimeline(data) {\n    const timelinejs_version = '3.6.3';\n\n    let js = 'https://cdn.knightlab.com/libs/timeline3/' + timelinejs_version + '/js/timeline-min.js';\n    let scriptLoaded = this.loadScriptAsync(js);\n    scriptLoaded.then(function () {\n      new TL.Timeline('timeline-1', data.google_sheets_url, {\n        \"timenav_position\": data.timenav_position,\n        \"start_at_end\": data.start_at_end,\n        \"language\": data.language\n      });\n    }.bind(this));\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const position = [\n      {label: 'Bottom', value: 'bottom'},\n      {label: 'Top', value: 'top'},\n    ]\n\n    const languages = [\n      {label: 'Afrikaans', value: 'af'},\n      {label: 'Arabic', value: 'ar'},\n      {label: 'Armenian', value: 'hy'},\n      {label: 'Basque', value: 'eu'},\n      {label: 'Belarusian', value: 'be'},\n      {label: 'Bulgarian', value: 'bg'},\n      {label: 'Catalan', value: 'ca'},\n      {label: 'Chinese', value: 'zh-cn'},\n      {label: 'Croatian / Hrvatski', value: 'hr'},\n      {label: 'Czech', value: 'cz'},\n      {label: 'Danish', value: 'da'},\n      {label: 'Dutch', value: 'nl'},\n      {label: 'English', value: 'en'},\n      {label: 'English (24-hour time)', value: 'en-24hr'},\n      {label: 'Esperanto', value: 'eo'},\n      {label: 'Estonian', value: 'et'},\n      {label: 'Faroese', value: 'fo'},\n      {label: 'Farsi', value: 'fa'},\n      {label: 'Finnish', value: 'fi'},\n      {label: 'French', value: 'fr'},\n      {label: 'Frisian', value: 'fy'},\n      {label: 'Galician', value: 'gl'},\n      {label: 'Georgian', value: 'ka'},\n      {label: 'German / Deutsch', value: 'de'},\n      {label: 'Greek', value: 'el'},\n      {label: 'Hebrew', value: 'he'},\n      {label: 'Hindi', value: 'hi'},\n      {label: 'Hungarian', value: 'hu'},\n      {label: 'Icelandic', value: 'is'},\n      {label: 'Indonesian', value: 'id'},\n      {label: 'Irish', value: 'ga'},\n      {label: 'Italian', value: 'it'},\n      {label: 'Japanese', value: 'ja'},\n      {label: 'Korean', value: 'ko'},\n      {label: 'Latvian', value: 'lv'},\n      {label: 'Lithuanian', value: 'lt'},\n      {label: 'Luxembourgish', value: 'lb'},\n      {label: 'Malay', value: 'ms'},\n      {label: 'Myanmar', value: 'my'},\n      {label: 'Nepali', value: 'ne'},\n      {label: 'Norwegian', value: 'no'},\n      {label: 'Polish', value: 'pl'},\n      {label: 'Portuguese', value: 'pt'},\n      {label: 'pt-br', value: 'Portuguese (Brazilian)'},\n      {label: 'Romanian', value: 'ro'},\n      {label: 'Romansh', value: 'rm'},\n      {label: 'Russian', value: 'ru'},\n      {label: 'Serbian - Cyrillic', value: 'sr-cy'},\n      {label: 'Serbian - Latin', value: 'sr'},\n      {label: 'Sinhalese', value: 'si'},\n      {label: 'Slovak', value: 'sk'},\n      {label: 'Slovenian', value: 'sl'},\n      {label: 'Spanish', value: 'es'},\n      {label: 'Swedish', value: 'sv'},\n      {label: 'Tagalog', value: 'tl'},\n      {label: 'Tamil', value: 'ta'},\n      {label: 'Taiwanese', value: 'zh-tw'},\n      {label: 'Telugu', value: 'te'},\n      {label: 'Thai', value: 'th'},\n      {label: 'Turkish', value: 'tr'},\n      {label: 'Ukrainian', value: 'uk'},\n      {label: 'Urdu', value: 'ur'},\n    ]\n\n    let url_desc  = __(\n      'Enter the URL of the Google Sheets spreadsheet containing your timeline data.',\n      'p4ge'\n    );\n    url_desc += '<br><a href=\"https://timeline.knightlab.com/#make\" target=\"_blank\" rel=\"noopener noreferrer\">';\n    url_desc += __(\n      'See the TimelineJS website for a template GSheet.',\n      'p4ge'\n    );\n    url_desc += '</a><br>';\n    url_desc += __(\n      'Copy this, add your own timeline data, and publish to the web.',\n      'p4ge'\n    );\n    url_desc += '<br>';\n    url_desc += __(\n      \"Once you have done so, use the URL from your address bar (not the one provided in Google's 'publish to web' dialog).\",\n      'p4ge'\n    );\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Timeline options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display a timeline from a Google Sheet',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label={__('Timeline Title', 'p4ge')}\n              placeholder={__('Enter title', 'p4ge')}\n              value={this.props.timeline_title}\n              onChange={this.props.onTimelineTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter description', 'p4ge')}\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label={__('Google Sheets URL', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              help=<RawHTML>{url_desc}</RawHTML>\n              value={this.props.google_sheets_url}\n              onChange={this.props.onGoogleSheetsUrlChange}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Language', 'p4ge')}\n              value={this.props.language}\n              options={languages}\n              onChange={(e) => this.props.onLanguageChange(e)}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Timeline navigation position', 'p4ge')}\n              value={this.props.timenav_position}\n              options={position}\n              onChange={(e) => this.props.onTimenavPositionChange(e)}\n            />\n          </div>\n\n          <div>\n            <CheckboxControl\n              label={__('Start at end', 'p4ge')}\n              help={__('Begin at the end of the timeline', 'p4ge')}\n              value={this.props.start_at_end}\n              checked={this.props.start_at_end}\n              onChange={(e) => this.props.onStartAtEndChange(e)}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/timeline'}\n            attributes={{\n              timeline_title: this.props.timeline_title,\n              description: this.props.description,\n              google_sheets_url: this.props.google_sheets_url,\n              language: this.props.language,\n              timenav_position: this.props.timenav_position,\n              start_at_end: this.props.start_at_end,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Timeline} from './Timeline.js';\n\nconst {__} = wp.i18n;\n\nexport class TimelineBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/timeline', {\n      title: __('Timeline', 'p4ge'),\n      icon: 'clock',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_timeline',\n            attributes: {\n              timeline_title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.timeline_title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              google_sheets_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.google_sheets_url;\n                }\n              },\n              language: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.language;\n                }\n              },\n              timenav_position: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.timenav_position;\n                }\n              },\n              start_at_end: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.start_at_end;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        timeline_title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        google_sheets_url: {\n          type: 'string',\n        },\n        language: {\n          type: 'string',\n          default: 'en',\n        },\n        timenav_position: {\n          type: 'string',\n        },\n        start_at_end: {\n          type: 'boolean',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTimelineTitleChange(value) {\n          setAttributes({timeline_title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onGoogleSheetsUrlChange(value) {\n          setAttributes({google_sheets_url: value});\n        }\n\n        function onLanguageChange(value) {\n          setAttributes({language: value});\n        }\n\n        function onTimenavPositionChange(value) {\n          setAttributes({timenav_position: value});\n        }\n\n        function onStartAtEndChange(value) {\n          setAttributes({start_at_end: value});\n        }\n\n        return <Timeline\n          {...attributes}\n          isSelected={isSelected}\n          onTimelineTitleChange={onTimelineTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onGoogleSheetsUrlChange={onGoogleSheetsUrlChange}\n          onLanguageChange={onLanguageChange}\n          onTimenavPositionChange={onTimenavPositionChange}\n          onStartAtEndChange={onStartAtEndChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import {\n  find,\n  get,\n  invoke,\n  isEmpty,\n  map,\n  throttle,\n  unescape as unescapeString,\n  uniqBy,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { FormTokenField} from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Module constants\n */\nconst DEFAULT_QUERY = {\n  per_page: -1,\n  orderby: 'count',\n  order: 'desc',\n  _fields: 'id,name',\n};\nconst MAX_TERMS_SUGGESTIONS = 20;\nconst isSameTermName = ( termA, termB ) => termA.toLowerCase() === termB.toLowerCase();\n\n/**\n * Returns a term object with name unescaped.\n * The unescape of the name property is done using lodash unescape function.\n *\n * @param {Object} term The term object to unescape.\n *\n * @return {Object} Term object with name property unescaped.\n */\nconst unescapeTerm = ( term ) => {\n  return {\n    ...term,\n    name: unescapeString( term.name ),\n  };\n};\n\n/**\n * Returns an array of term objects with names unescaped.\n * The unescape of each term is performed using the unescapeTerm function.\n *\n * @param {Object[]} terms Array of term objects to unescape.\n *\n * @return {Object[]} Array of term objects unescaped.\n */\nconst unescapeTerms = ( terms ) => {\n  return map( terms, unescapeTerm );\n};\n\n/**\n * The logic of this component was copied from https://github.com/WordPress/gutenberg/blob/master/packages/editor/src/components/post-taxonomies/flat-term-selector.js\n * initially, then the functionality of creating non-existing terms was removed from it.\n *\n * I considered extending the component instead, but that seemed inappropriate as we're not adding behavior but removing some.\n * Additionally this makes it easier to further customize this component.\n */\nclass AssignOnlyFlatTermSelector extends Component {\n  constructor() {\n    super( ...arguments );\n    this.onChange = this.onChange.bind( this );\n    this.searchTerms = throttle( this.searchTerms.bind( this ), 500 );\n    this.state = {\n      loading: ! isEmpty( this.props.terms ),\n      availableTerms: [],\n      selectedTerms: [],\n    };\n  }\n\n  componentDidMount() {\n    if ( isEmpty( this.props.terms ) ) {\n      return\n    }\n\n    this.initRequest = this.fetchTerms( {\n      include: this.props.terms.join( ',' ),\n      per_page: -1,\n    } );\n    this.initRequest.then(\n      () => {\n        this.setState( {loading: false} );\n      },\n      ( xhr ) => {\n        if ( xhr.statusText === 'abort' ) {\n          return;\n        }\n        this.setState( {\n          loading: false,\n        } );\n      }\n    );\n  }\n\n  componentWillUnmount() {\n    invoke( this.initRequest, [ 'abort' ] );\n    invoke( this.searchRequest, [ 'abort' ] );\n  }\n\n  componentDidUpdate( prevProps ) {\n    if ( prevProps.terms !== this.props.terms ) {\n      this.updateSelectedTerms( this.props.terms );\n    }\n  }\n\n  fetchTerms( params = {} ) {\n    const { taxonomy } = this.props;\n    const query = Object.assign({}, DEFAULT_QUERY, params);\n\n    const request = apiFetch( {\n      path: addQueryArgs( `/wp/v2/${ taxonomy.rest_base }`, query ),\n    } );\n    request.then( unescapeTerms ).then( ( terms ) => {\n      this.setState( ( state ) => ( {\n        availableTerms: state.availableTerms.concat(\n          terms.filter( ( term ) => ! find( state.availableTerms, ( availableTerm ) => availableTerm.id === term.id ) )\n        ),\n      } ) );\n      this.updateSelectedTerms( this.props.terms );\n    } );\n\n    return request;\n  }\n\n  updateSelectedTerms( terms = [] ) {\n    const selectedTerms = terms.reduce( ( accumulator, termId ) => {\n      const termObject = find( this.state.availableTerms, ( term ) => term.id === termId );\n      if ( termObject ) {\n        accumulator.push( termObject.name );\n      }\n\n      return accumulator;\n    }, [] );\n    this.setState( {\n      selectedTerms,\n    } );\n  }\n\n  onChange( termNames ) {\n    const uniqueTerms = uniqBy( termNames, ( term ) => term.toLowerCase() );\n    const allowedTerms = uniqueTerms.filter( ( termName ) =>\n      find( this.state.availableTerms, ( term ) => isSameTermName( term.name, termName ) )\n    );\n    this.setState( { selectedTerms: allowedTerms } );\n    const termNamesToIds = ( names, availableTerms ) => {\n      return names\n        .map( ( termName ) =>\n          find( availableTerms, ( term ) => isSameTermName( term.name, termName ) ).id\n        );\n    };\n\n    return this.props.onUpdateTerms(\n      termNamesToIds( allowedTerms, this.state.availableTerms ),\n      this.props.taxonomy.rest_base\n    );\n  }\n\n  searchTerms( search = '' ) {\n    invoke( this.searchRequest, [ 'abort' ] );\n    this.searchRequest = this.fetchTerms( { search } );\n  }\n\n  render() {\n    const { slug, taxonomy, hasAssignAction } = this.props;\n\n    if ( ! hasAssignAction ) {\n      return null;\n    }\n\n    const { loading, availableTerms, selectedTerms } = this.state;\n    const termNames = availableTerms.map( ( term ) => term.name );\n    const newTermLabel = get(\n      taxonomy,\n      [ 'labels', 'add_new_item' ],\n      slug === 'post_tag' ? __( 'Add New Tag' ) : __( 'Add New Term' )\n    );\n    const singularName = get(\n      taxonomy,\n      [ 'labels', 'singular_name' ],\n      slug === 'post_tag' ? __( 'Tag' ) : __( 'Term' )\n    );\n    const termAddedLabel = sprintf( _x( '%s added', 'term' ), singularName );\n    const termRemovedLabel = sprintf( _x( '%s removed', 'term' ), singularName );\n    const removeTermLabel = sprintf( _x( 'Remove %s', 'term' ), singularName );\n\n    return (\n      <FormTokenField\n        value={ selectedTerms }\n        suggestions={ termNames }\n        onChange={ this.onChange }\n        onInputChange={ this.searchTerms }\n        maxSuggestions={ MAX_TERMS_SUGGESTIONS }\n        disabled={ loading }\n        label={ newTermLabel }\n        messages={ {\n          added: termAddedLabel,\n          removed: termRemovedLabel,\n          remove: removeTermLabel,\n        } }\n      />\n    );\n  }\n}\n\nexport default compose(\n  withSelect( ( select, { slug } ) => {\n    const { getCurrentPost } = select( 'core/editor' );\n    const { getTaxonomy } = select( 'core' );\n    const taxonomy = getTaxonomy( slug );\n    return {\n      hasCreateAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-create-' + taxonomy.rest_base ], false ) : false,\n      hasAssignAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-assign-' + taxonomy.rest_base ], false ) : false,\n      terms: taxonomy ? select( 'core/editor' ).getEditedPostAttribute( taxonomy.rest_base ) : [],\n      taxonomy,\n    };\n  } ),\n  withDispatch( ( dispatch ) => {\n    return {\n      onUpdateTerms( terms, restBase ) {\n        dispatch( 'core/editor' ).editPost( { [ restBase ]: terms } );\n      },\n    };\n  } ),\n)( AssignOnlyFlatTermSelector );\n","import {React, Component} from 'react';\nimport {Button} from '@wordpress/components';\nimport {MediaUpload,MediaUploadCheck} from '@wordpress/editor';\n\nexport class ImageOrButton extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    if ( typeof this.props.disabled == 'undefined' ) {\n      this.props.disabled = false;\n    }\n\n    const getImageOrButton = (openEvent) => {\n      if ( this.props.imageId ) {\n\n        return (\n\n          <img\n            src={ this.props.imageUrl }\n            onClick={ openEvent }\n            className={ this.props.imgClass }\n          />\n\n        );\n      }\n      else {\n        return (\n          <div className='button-container'>\n            <Button\n              onClick={ openEvent }\n              className='button'\n              disabled={ this.props.disabled }>\n              { this.props.buttonLabel }\n            </Button>\n\n            <div>{ this.props.help }</div>\n          </div>\n        );\n      }\n    };\n\n    return <div className='ImageOrButton'>\n      <MediaUploadCheck>\n        <MediaUpload\n          title={this.props.title}\n          type='image'\n          onSelect={this.props.onSelectImage}\n          value={this.props.imageId}\n          allowedTypes={['image']}\n          render={ ({ open }) => getImageOrButton(open) }\n        />\n      </MediaUploadCheck>\n    </div>;\n  }\n}\n","import {React, Component} from 'react';\nimport {RadioControl} from '@wordpress/components';\n\nexport class LayoutSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: props.selectedOption\n    };\n    this.setSelected = this.setSelected.bind(this);\n  }\n\n  setSelected(option) {\n    this.setState({selectedOption: option});\n    this.props.onSelectedLayoutChange(option);\n  }\n\n  render() {\n    return <div className='LayoutSelector'>\n      {\n        this.props.options.map((layoutOption, i) => {\n\n          if ( 'number' == typeof layoutOption.value ) {\n            this.state.selectedOption = Number( this.state.selectedOption );\n          }\n\n          return (\n            <label className='LayoutOption' key={i}>\n              <div style={{display: 'flex'}}>\n                <RadioControl\n                  name={'layoutOption'}\n                  selected={this.state.selectedOption}\n                  options={[\n                    {value: layoutOption.value}\n                  ]}\n                  onChange={this.setSelected}\n                />\n                {layoutOption.label}\n              </div>\n              {\n                layoutOption.image\n                  ? <img src={layoutOption.image}/>\n                  : null\n              }\n              {\n                layoutOption.help\n                  ? <p className='help' dangerouslySetInnerHTML={{__html: layoutOption.help}}/>\n                  : null\n              }\n            </label>\n          )\n        })\n      }\n    </div>;\n  }\n}\n","import { React, Component } from 'react';\n\nexport class Preview extends Component {\n\trender() {\n\t\treturn <div className='Preview'>\n\t\t\t{\n\t\t\t\tthis.props.showBar\n\t\t\t\t? <div className='PreviewBar'>Preview</div>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{ this.props.children }\n\t\t</div>\n\t}\n}","import { ArticlesBlock } from './blocks/Articles/ArticlesBlock';\nimport { CarouselHeaderBlock } from './blocks/Carouselheader/CarouselHeaderBlock';\nimport { ColumnsBlock } from './blocks/Columns/ColumnsBlock';\nimport { CookiesBlock } from './blocks/Cookies/CookiesBlock';\nimport { CounterBlock } from './blocks/Counter/CounterBlock';\nimport { CoversBlock } from './blocks/Covers/CoversBlock';\nimport { GalleryBlock } from './blocks/Gallery/GalleryBlock';\nimport { HappypointBlock } from './blocks/Happypoint/HappypointBlock';\nimport { MediaBlock } from './blocks/Media/MediaBlock';\nimport { SocialmediaBlock } from './blocks/Socialmedia/SocialmediaBlock';\nimport { SocialshareBlock } from './blocks/Socialshare/SocialshareBlock';\nimport { SplittwocolumnsBlock } from './blocks/Splittwocolumns/SplittwocolumnsBlock';\nimport { SubmenuBlock } from './blocks/Submenu/SubmenuBlock';\nimport { TakeactionboxoutBlock } from './blocks/Takeactionboxout/TakeactionboxoutBlock';\nimport { TimelineBlock } from './blocks/Timeline/TimelineBlock';\n\n//Filters\nimport { addBlockFilters } from './BlockFilters';\nimport { setupImageBlockExtension } from './ImageBlockExtension';\nimport { replaceTaxonomyTermSelectors } from \"./replaceTaxonomyTermSelectors\"\nimport { addSubAndSuperscript } from './RichTextEnhancements';\n\nconst articlesBlock = new ArticlesBlock();\nconst carouselHeaderBlock = new CarouselHeaderBlock();\nconst columnsBlock = new ColumnsBlock();\nconst cookiesBlock = new CookiesBlock();\nconst counterBlock = new CounterBlock();\nconst coversBlock = new CoversBlock();\nconst galleryBlock = new GalleryBlock();\nconst happypointBlock = new HappypointBlock();\nconst mediaBlock = new MediaBlock();\nconst socialmediaBlock = new SocialmediaBlock();\nconst socailshareBlock = new SocialshareBlock();\nconst splittwocolumnsBlock = new SplittwocolumnsBlock();\nconst submenuBlock = new SubmenuBlock();\nconst takeActionBoxoutBlock = new TakeactionboxoutBlock();\nconst timelineBlock = new TimelineBlock();\n\naddBlockFilters();\naddSubAndSuperscript(window.wp);\nsetupImageBlockExtension();\nreplaceTaxonomyTermSelectors()\n","import AssignOnlyFlatTermSelector from \"./components/AssignOnlyFlatTermSelector/AssignOnlyFlatTermSelector\"\n\nfunction customizeTaxonomySelectors( OriginalComponent ) {\n  return function( props ) {\n    // For following taxonomies it should not be possible to create new terms on the post edit page\n    const isAssignOnlyTaxonomy = ['p4-page-type', 'post_tag'].includes(props.slug)\n\n    return wp.element.createElement(\n      isAssignOnlyTaxonomy ? AssignOnlyFlatTermSelector : OriginalComponent,\n      props\n    );\n  }\n\n}\n\nexport const replaceTaxonomyTermSelectors = () =>  {\n  wp.hooks.addFilter(\n    'editor.PostTaxonomyType',\n    'planet4-gutenberg-blocks',\n    customizeTaxonomySelectors\n  );\n}\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = assign;\n","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"data\"]; }());","(function() { module.exports = this[\"wp\"][\"editor\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"url\"]; }());","(function() { module.exports = this[\"lodash\"]; }());","(function() { module.exports = this[\"React\"]; }());"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/src/BlockFilters.js","webpack:///./assets/src/ImageBlockExtension.js","webpack:///./assets/src/RichTextEnhancements.js","webpack:///./assets/src/blocks/Articles/Articles.js","webpack:///./assets/src/blocks/Articles/ArticlesBlock.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeader.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderBlock.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderFront.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderImage.js","webpack:///./assets/src/blocks/Carouselheader/CarouselHeaderSlide.js","webpack:///./assets/src/blocks/Carouselheader/ImagePlaceholder.js","webpack:///./assets/src/blocks/Columns/Columns.js","webpack:///./assets/src/blocks/Columns/ColumnsBlock.js","webpack:///./assets/src/blocks/Cookies/Cookies.js","webpack:///./assets/src/blocks/Cookies/CookiesBlock.js","webpack:///./assets/src/blocks/Counter/Counter.js","webpack:///./assets/src/blocks/Counter/CounterBlock.js","webpack:///./assets/src/blocks/Covers/Covers.js","webpack:///./assets/src/blocks/Covers/CoversBlock.js","webpack:///./assets/src/blocks/Covers/CoversIcon.js","webpack:///./assets/src/blocks/Gallery/Gallery.js","webpack:///./assets/src/blocks/Gallery/GalleryBlock.js","webpack:///./assets/src/blocks/Happypoint/Happypoint.js","webpack:///./assets/src/blocks/Happypoint/HappypointBlock.js","webpack:///./assets/src/blocks/Media/Media.js","webpack:///./assets/src/blocks/Media/MediaBlock.js","webpack:///./assets/src/blocks/Socialmedia/Socialmedia.js","webpack:///./assets/src/blocks/Socialmedia/SocialmediaBlock.js","webpack:///./assets/src/blocks/Socialshare/Socialshare.js","webpack:///./assets/src/blocks/Socialshare/SocialshareBlock.js","webpack:///./assets/src/blocks/Splittwocolumns/Splittwocolumns.js","webpack:///./assets/src/blocks/Splittwocolumns/SplittwocolumnsBlock.js","webpack:///./assets/src/blocks/Submenu/MenuLevel.js","webpack:///./assets/src/blocks/Submenu/Submenu.js","webpack:///./assets/src/blocks/Submenu/SubmenuBlock.js","webpack:///./assets/src/blocks/Takeactionboxout/Takeactionboxout.js","webpack:///./assets/src/blocks/Takeactionboxout/TakeactionboxoutBlock.js","webpack:///./assets/src/blocks/Timeline/Timeline.js","webpack:///./assets/src/blocks/Timeline/TimelineBlock.js","webpack:///./assets/src/components/AssignOnlyFlatTermSelector/AssignOnlyFlatTermSelector.js","webpack:///./assets/src/components/ImageOrButton/ImageOrButton.js","webpack:///./assets/src/components/LayoutSelector/LayoutSelector.js","webpack:///./assets/src/components/Preview.js","webpack:///./assets/src/editorIndex.js","webpack:///./assets/src/replaceTaxonomyTermSelectors.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/objectSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/lodash.assign/index.js","webpack:///external {\"this\":[\"wp\",\"apiFetch\"]}","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"compose\"]}","webpack:///external {\"this\":[\"wp\",\"data\"]}","webpack:///external {\"this\":[\"wp\",\"editor\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":[\"wp\",\"url\"]}","webpack:///external {\"this\":\"lodash\"}","webpack:///external {\"this\":\"React\"}"],"names":["addFilter","wp","hooks","addBlockFilters","addFileBlockFilter","setDownloadButtonToggleDefualtFalse","settings","name","attributes","__","i18n","targetBlocks","captionStyleOptions","label","value","captionAlignmentOptions","setupImageBlockExtension","addExtraAttributes","addExtraControls","addCaptionStyleAttributes","includes","assign","captionStyle","type","default","captionAlignment","createHigherOrderComponent","compose","Fragment","element","InspectorControls","editor","withCaptionStyle","BlockEdit","props","className","selectedCaptionStyle","setAttributes","map","option","key","addSubAndSuperscript","el","createElement","superscriptIcon","width","height","d","subscriptIcon","SubscriptButton","RichTextToolbarButton","icon","title","isActive","onClick","onChange","richText","toggleFormat","registerFormatType","tagName","edit","SuperscriptButton","apiFetch","addQueryArgs","url","Articles","tagTokens","tagsList","filter","tag","tags","id","postTypeTokens","postTypesList","post_type","post_types","state","selectedPosts","populatePostsToken","posts","length","path","per_page","page","include","then","postsTokens","post","rendered","postsSuggestions","setState","postsList","tokens","search","orderby","post_status","tagIds","token","onSelectedTagsChange","postTypeIds","postType","onSelectedPostTypesChange","currentSelectedPosts","forEach","f","push","postIds","onSelectedPostsChange","tagSuggestions","postTypeSuggestions","article_heading","onTitleChange","articles_description","onDescriptionChange","read_more_text","onReadmoretextChange","read_more_link","onReadmorelinkChange","button_link_new_tab","e","onButtonLinkTabChange","article_count","onCountChange","ignore_categories","onIgnoreCategoriesChange","onPostsSearch","isSelected","renderEdit","Component","ArticlesBlock","registerBlockType","blocks","withSelect","data","category","transforms","from","shortcode","named","split","exclude_post_id","Number","select","tagsTaxonomy","postTypesTaxonomy","args","hide_empty","getEntityRecords","save","CarouselHeader","refs","firstRender","carouselInterval","window","setInterval","document","getElementById","clearInterval","initializeCarouselHeader","collapseSlides","setDOMListener","prevProps","prevState","Object","keys","index","collapseSlide","bind","addSlide","removeSlide","block_style","onBlockStyleChange","image","p4ge_vars","home","help","carousel_autoplay","onCarouselAutoplayChange","slides","slide","i","onImageChange","onHeaderChange","onHeaderSizeChange","onSubheaderChange","onLinkTextChange","onLinkUrlChange","onLinkNewTabChange","onStyleChange","onFocalPointsChange","instance","addNewSlide","CarouselHeaderBlock","supports","multiple","convert_position","position","x","y","image_1","header","header_1","header_size","header_size_1","subheader","subheader_1","description","description_1","link_text","link_text_1","link_url","link_url_1","focal_points","focus_image_1","image_2","header_2","header_size_2","subheader_2","description_2","link_text_2","link_url_2","focus_image_2","image_3","header_3","header_size_3","subheader_3","description_3","link_text_3","link_url_3","focus_image_3","image_4","header_4","header_size_4","subheader_4","description_4","link_text_4","link_url_4","focus_image_4","link_url_new_tab","concat","JSON","parse","stringify","fo","slice","ZoomAndSlideToGrayCarouselHeader","SLIDE_TRANSITION_SPEED","activeTransition","nextSlide","$el","$","$nextSlide","next","prevAll","last","previousSlide","$previousSlide","prev","nextAll","switchIndicator","$CarouselIndicators","children","each","toggleClass","setup","me","$CarouselHeaderWrapper","find","$Slides","on","current_img_src","get","currentSrc","current_bg_img","parent","css","replace","remove","$slide","attr","appendTo","$img","img_src","clickTargets","evt","preventDefault","advanceCarousel","activate","target","carousel_element","carousel_head_hammer","Hammer","recognizers","hammer","Manager","swipe","Swipe","add","backwardsCarousel","event","scrollTop","animate","$nextImg","$preview","addClass","prependTo","next_img_src","$active","$previous","slideIndex","eq","hasClass","clearTimeout","removeClass","$next","setTimeout","beginTransition","completeTransition","FullWidthClassicCarouselHeader","getCurrentSlideIndex","reverse","cancelAutoplayInterval","positionIndicators","setCarouselHeight","first","$currentSlide","autoplayPaused","autoplayEnabled","startAutoplayInterval","off","autoplayInterval","currentIndex","$indicators","$header","isRTL","rightSide","matchMedia","matches","leftOffset","offset","left","rightOffset","indicatorsRight","getSlideHeight","outerHeight","$activeSlide","unsetTransitionClasses","fadeIn","CarouselHeaderImage","onRemove","image_id","image_url","hasRemove","imageClass","join","obj","ev","stopPropagation","focalPoints","open","keyCode","CarouselHeaderSlide","isHidden","getMedia","media","source_url","toggleSlide","onImageRemove","hasSubheader","ImagePlaceholder","Columns","columns_title","columns_description","columns_block_style","columns","column_img","onDeleteImage","getImageOrButton","openEvent","padding","onSelectedLayoutChange","item","onColumnHeaderChange","onColumnDescriptionChange","onSelectImage","attachment","endsWith","cta_link","onCTALinkChange","link_new_tab","cta_text","onCTAButtonTextChange","addColumn","removeColumn","column","ColumnsBlock","title_1","attachment_1","link_1","link_new_tab_1","cta_text_1","title_2","attachment_2","link_2","link_new_tab_2","cta_text_2","title_3","attachment_3","link_3","link_new_tab_3","cta_text_3","title_4","attachment_4","link_4","link_new_tab_4","cta_text_4","media_details","new_columns","Cookies","necessary_cookies_name","onNecessaryCookiesNameChange","necessary_cookies_description","onNecessaryCookiesDescriptionChange","all_cookies_name","onAllCookiesNameChange","all_cookies_description","onAllCookiesDescriptionChange","post_id","querySelector","CookiesBlock","Counter","style","completed","onCompletedChange","completed_api","onCompletedAPIChange","onTargetChange","text","onTextChange","CounterBlock","Covers","searchTimeout","cover_type","queryArgs","post_parent","planet4_options","act_page","searchPosts","covers_view","onRowsChange","CoversBlock","CoversIcon","Gallery","image_data","gallery_block_style","gallery_block_title","gallery_block_description","multiple_image","dimensions","multiple_image_array","onRemoveImages","focalPoint","onFocalPointChange","gallery_block_focus_points","GalleryBlock","image_urls_array","image_id_array","img_id","img_details","new_image_data","focal_points_json","isEmptyObject","parseInt","image_ids","updated_image_data","object","parseFloat","toFixed","Happypoint","focus_image","opacity","mailing_list_iframe","iframe_url","focal_point_params","focus_image_str","onOpacityChange","onMailingListIframeChange","onIframeUrlChange","load_iframe","HappypointBlock","background","img_url","onBackgroundChange","Media","video_title","youtube_id","onMediaUrlChange","instructions","onSelectURL","onUploadError","video_poster_img","MediaBlock","message","console","log","Socialmedia","checkTwitterScript","checkInstagramScript","social_media_url","twitterScript","scriptLoaded","loadScriptAsync","initializeTwitterEmbeds","instaScript","initializeInstagramEmbeds","twttr","widgets","load","instgrm","Embeds","process","uri","Promise","resolve","reject","src","async","onload","body","getElementsByTagName","appendChild","embed_type_help","embed_type","onEmbedTypeChange","facebook_page_tab","onFacebookPageTabChange","onSocialMediaUrlChange","alignment_class","onAlignmentChange","SocialmediaBlock","Socialshare","onMessageChange","social_url","onURLChange","SocialshareBlock","messages","urls","sizes","medium","messages_json","urlss_json","mes","surl","Splittwocolumns","tag_list","unshift","issuepage_list","issuepageList","issue","raw","select_issue","issue_description","issue_link_text","issue_link_path","issue_image","focus_issue_image","select_tag","tag_description","button_text","button_link","tag_image","focus_tag_image","issue_image_url","tag_image_url","focus_issue_image_obj","focus_tag_image_obj","onSelectIssue","onIssueTitleChange","onIssueDescriptionChange","onIssueLinkTextChange","onIssueLinkPathChange","onSelectIssueImage","onIssueImageFocalPointChange","onSelectTag","onTagDescriptionChange","onButtonTextChange","onButtonLinkChange","onSelectCampaignImage","onCampaignImageFocalPointChange","SplittwocolumnsBlock","issuePage","taxonomy_args","issue_page_args","sort_order","sort_column","explore_page","MenuLevel","heading","onHeadingChange","link","onLinkChange","Submenu","submenu_style","levels","addLevel","removeLevel","SubmenuBlock","heading1","level","Boolean","link1","style1","heading2","link2","style2","heading3","link3","style3","onLayoutChange","Takeactionboxout","tag_ids","custom_title","custom_excerpt","custom_link","custom_link_text","custom_link_new_tab","background_image","take_action_page","actpage_list","actPageList","actPage","background_image_url","takeActionPageSelected","onSelectTakeActoinPage","isCustomised","onCustomTitleChange","onCustomExcerptChange","onCustomLinkChange","onCustomLinkTextChange","onCustomLinkNewTabChange","onSelectBackGroundImage","onRemoveBackGroundImage","TakeactionboxoutBlock","act_page_args","Timeline","loadTimeline","timelinejs_version","js","TL","google_sheets_url","timenav_position","start_at_end","language","languages","url_desc","timeline_title","onTimelineTitleChange","onGoogleSheetsUrlChange","onLanguageChange","onTimenavPositionChange","onStartAtEndChange","TimelineBlock","DEFAULT_QUERY","order","_fields","MAX_TERMS_SUGGESTIONS","isSameTermName","termA","termB","toLowerCase","unescapeTerm","term","unescapeString","unescapeTerms","terms","AssignOnlyFlatTermSelector","arguments","searchTerms","throttle","loading","isEmpty","availableTerms","selectedTerms","initRequest","fetchTerms","xhr","statusText","invoke","searchRequest","updateSelectedTerms","params","taxonomy","query","request","rest_base","availableTerm","reduce","accumulator","termId","termObject","termNames","uniqueTerms","uniqBy","allowedTerms","termName","termNamesToIds","names","onUpdateTerms","slug","hasAssignAction","newTermLabel","singularName","termAddedLabel","sprintf","_x","termRemovedLabel","removeTermLabel","added","removed","getCurrentPost","getTaxonomy","hasCreateAction","getEditedPostAttribute","withDispatch","dispatch","restBase","editPost","ImageOrButton","disabled","imageId","imageUrl","imgClass","buttonLabel","LayoutSelector","selectedOption","setSelected","options","layoutOption","display","__html","Preview","showBar","articlesBlock","carouselHeaderBlock","columnsBlock","cookiesBlock","counterBlock","coversBlock","galleryBlock","happypointBlock","mediaBlock","socialmediaBlock","socailshareBlock","splittwocolumnsBlock","submenuBlock","takeActionBoxoutBlock","timelineBlock","replaceTaxonomyTermSelectors","customizeTaxonomySelectors","OriginalComponent","isAssignOnlyTaxonomy"],"mappings":"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Q;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,OAAO,WAAW;AAC7B,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5nBA,aAAa,yCAAyC,EAAE,I;;;;;;;;;;;ACAxD,aAAa,4CAA4C,EAAE,I;;;;;;;;;;;ACA3D,aAAa,2CAA2C,EAAE,I;;;;;;;;;;;ACA1D,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,uCAAuC,EAAE,I;;;;;;;;;;;ACAtD,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,oCAAoC,EAAE,I;;;;;;;;;;;ACAnD,aAAa,iCAAiC,EAAE,I;;;;;;;;;;;ACAhD,aAAa,gCAAgC,EAAE,I","file":"editorIndex.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/src/editorIndex.js\");\n","const { addFilter } = wp.hooks;\n\n\nexport const addBlockFilters = () => {\n  addFileBlockFilter();\n};\n\n\nconst addFileBlockFilter = () => {\n  const setDownloadButtonToggleDefualtFalse = (settings, name) => {\n\n    if ('core/file' !== name) {\n      return settings;\n    }\n\n    settings.attributes['showDownloadButton']['default'] = false;\n\n    return settings;\n  };\n\n  addFilter('blocks.registerBlockType', 'planet4-blocks/filters/file', setDownloadButtonToggleDefualtFalse);\n};\n","import { Button, ButtonGroup, PanelBody, SelectControl } from '@wordpress/components';\nimport assign from 'lodash.assign';\n\nconst { addFilter } = wp.hooks;\nconst { __ } = wp.i18n;\n\n// Enable spacing control on the following blocks\nconst targetBlocks = [\n  'core/image',\n];\n\nconst captionStyleOptions = [\n  {\n  label: __( 'Blue Overlay (default)' ),\n  value: 'blue-overlay',\n  },\n  {\n  label: __( 'Medium' ),\n  value: 'medium',\n  },\n];\n\nconst captionAlignmentOptions = [\n  {\n  label: __( 'Left' ),\n  value: 'left',\n  },\n  {\n  label: __( 'Center' ),\n  value: 'center',\n  },\n  {\n  label: __( 'Right' ),\n  value: 'right',\n  },\n];\n\nexport const setupImageBlockExtension = function() {\n  addExtraAttributes();\n  addExtraControls();\n}\n\nconst addExtraAttributes = function() {\n  const addCaptionStyleAttributes = ( settings, name ) => {\n  // Do nothing if it's another block than our defined ones.\n  if ( ! targetBlocks.includes( name ) ) {\n    return settings;\n  }\n\n  // Use Lodash's assign to gracefully handle if attributes are undefined\n  settings.attributes = assign( settings.attributes, {\n    captionStyle: {\n    type: 'string',\n    default: captionStyleOptions[ 0 ].value,\n    },\n    captionAlignment: {\n    type: 'string',\n    default: captionAlignmentOptions[ 1 ].value,\n    }\n  } );\n\n  return settings;\n  };\n\n  addFilter( 'blocks.registerBlockType', 'planet4-blocks/overrides/image', addCaptionStyleAttributes );\n}\n\nconst addExtraControls = function() {\n  const { createHigherOrderComponent } = wp.compose;\n  const { Fragment } = wp.element;\n  const { InspectorControls } = wp.editor;\n\n  const withCaptionStyle = createHigherOrderComponent( ( BlockEdit ) => {\n    return ( props ) => {\n      // Do nothing if it's another block than our defined ones.\n      if ( ! targetBlocks.includes( props.name ) ) {\n        return (\n          <BlockEdit { ...props } />\n        );\n      }\n\n      const { captionStyle, captionAlignment } = props.attributes;\n\n\t\t\tprops.attributes.className = '';\n\n      if ( captionStyle ) {\n      \tprops.attributes.className += ` caption-style-${ captionStyle }`;\n      }\n\n      if ( captionAlignment ) {\n      \tprops.attributes.className += ` caption-alignment-${ captionAlignment }`;\n      }\n\n      return (\n        <Fragment>\n          <BlockEdit { ...props } />\n          <InspectorControls>\n            <PanelBody\n              title={ __( 'Planet4 Image Options' ) }\n              initialOpen={ true }\n            >\n              <SelectControl\n                label={ __( 'Caption Style' ) }\n                value={ captionStyle }\n                options={ captionStyleOptions }\n                onChange={ ( selectedCaptionStyle ) => {\n                  props.setAttributes( {\n                    captionStyle: selectedCaptionStyle,\n                  } );\n                } }\n              />\n\n              <label>Caption alignment</label>\n              <ButtonGroup>\n              {\n                captionAlignmentOptions.map((option, key) => {\n\t\t\t\t\t\t\t\t\treturn <Button\n\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tprops.setAttributes({\n\t\t\t\t\t\t\t\t\t\t\t\tcaptionAlignment: option.value,\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tisPrimary={ captionAlignment == option.value }\n\t\t\t\t\t\t\t\t\t\tisLarge isDefault>\n\t\t\t\t\t\t\t\t\t\t\t{ option.label }\n\t\t\t\t\t\t\t\t\t</Button>;\n                })\n              }\n              </ButtonGroup>\n            </PanelBody>\n          </InspectorControls>\n        </Fragment>\n      );\n    };\n  }, 'withCaptionStyle' );\n\n  addFilter( 'editor.BlockEdit', 'planet4-blocks/overrides/image-controls', withCaptionStyle );\n}\n","export const addSubAndSuperscript = function (wp){\n\tconst el = wp.element.createElement\n\n\t/* Superscript icon */\n\tconst superscriptIcon = wp.element.createElement( 'svg',\n\t  {\n\t\t  width: 20,\n\t\t  height: 20,\n\t  },\n\t  wp.element.createElement( 'path',\n\t\t{\n\t\t\td: 'm 11.451024,15.991879 v 1.900559 H 8.6286372 L 6.8191261,15.024528 6.5459915,14.546546 Q 6.4549468,14.444115 6.4208029,14.307552 h -0.03414 l -0.1024233,0.238994 q -0.113806,0.227613 -0.284517,0.500744 L 4.2357343,17.892438 H 1.2995409 V 15.991879 H 2.7562552 L 4.9982324,12.68013 2.8928217,9.5846081 H 1.3336801 V 7.6726705 h 3.1410444 l 1.5819027,2.5947735 q 0.022772,0.04552 0.2617521,0.477987 0.091045,0.102421 0.1251849,0.23899 h 0.03414 q 0.034139,-0.102432 0.1251845,-0.23899 L 6.8874061,10.267444 8.4806875,7.6726705 H 11.405498 V 9.5846081 H 9.982924 l -2.0940281,3.0386179 2.3216401,3.368653 z m 7.249435,-7.7274175 v 2.3444015 h -5.849622 l -0.03415,-0.307279 q -0.04552,-0.318656 -0.04552,-0.5235031 0,-0.7283595 0.295896,-1.3315288 0.295896,-0.6031748 0.739738,-0.9844236 0.443844,-0.3812499 0.95597,-0.7397383 0.512126,-0.3584877 0.955968,-0.6202403 0.443845,-0.2617558 0.739742,-0.6145521 0.295891,-0.3527973 0.295891,-0.7283591 0,-0.4324593 -0.335727,-0.711285 -0.335727,-0.2788267 -0.80233,-0.2788267 -0.580409,0 -1.103918,0.4438464 Q 14.35307,4.3381578 14.102696,4.645436 L 12.907742,3.5984202 q 0.295895,-0.4210809 0.716976,-0.7511204 0.944588,-0.7397375 2.139551,-0.7397375 1.251867,0 2.025745,0.6771454 0.773881,0.6771454 0.773881,1.8038232 0,0.6373144 -0.278825,1.1722012 -0.278822,0.5348868 -0.705595,0.8706133 -0.426771,0.3357272 -0.927519,0.6657667 -0.500747,0.3300361 -0.933209,0.5747178 -0.43246,0.2446817 -0.74543,0.5861006 -0.312966,0.3414178 -0.347105,0.7169762 H 17.26651 V 8.2644615 Z',\n\t\t},\n\t  ),\n\t)\n\n\t/* Subscript icon */\n\tconst subscriptIcon = wp.element.createElement( 'svg',\n\t  {\n\t\t  width: 20,\n\t\t  height: 20,\n\t  },\n\t  wp.element.createElement( 'path',\n\t\t{\n\t\t\td: 'M 11.415572,11.723303 V 13.59208 H 8.6403806 L 6.8611266,10.772129 6.5925593,10.302137 Q 6.5030369,10.201425 6.4694659,10.067141 H 6.4358949 L 6.3351822,10.302137 Q 6.2232813,10.525943 6.0554268,10.79451 L 4.3209317,13.59208 H 1.4338398 V 11.723303 H 2.8661965 L 5.0706822,8.4669311 3.0004802,5.4231745 H 1.4674107 V 3.5432079 h 3.0885176 l 1.5554501,2.5513836 q 0.022381,0.044757 0.2573749,0.4699921 0.089522,0.1007124 0.1230932,0.2349956 h 0.033571 Q 6.5589882,6.6988668 6.6485107,6.5645836 L 6.9282683,6.0945915 8.4949066,3.5432079 H 11.370811 V 5.4231745 H 9.9720247 L 7.9130129,8.4109791 10.195831,11.723303 Z m 7.150588,2.428291 v 2.305198 h -5.751805 l -0.04476,-0.302137 q -0.03357,-0.503563 -0.03357,-0.514753 0,-0.716178 0.290947,-1.309263 0.290948,-0.593086 0.727368,-0.96796 0.436422,-0.374874 0.939986,-0.727368 0.503561,-0.352494 0.939983,-0.60987 0.43642,-0.257377 0.727368,-0.604275 0.290947,-0.3469 0.290947,-0.716178 0,-0.425232 -0.330112,-0.699394 -0.330115,-0.2741619 -0.788916,-0.2741619 -0.570706,0 -1.085457,0.4364219 -0.156665,0.123093 -0.402851,0.425231 L 12.870301,9.5635781 q 0.290948,-0.414039 0.70499,-0.738558 0.895222,-0.727368 2.103773,-0.727368 1.230931,0 1.991869,0.665822 0.760939,0.665821 0.760939,1.7736599 0,0.738558 -0.386064,1.326048 -0.386065,0.587489 -0.939984,0.962363 -0.553918,0.374875 -1.113434,0.699393 -0.559513,0.324518 -0.973554,0.704988 -0.41404,0.380469 -0.458801,0.816891 h 2.596145 v -0.895223 z',\n\t\t},\n\t  ),\n\t)\n\n\t/**\n\t * Add a button for subscript (<sub>) in Gutenberg rich text\n\t */\n\tvar SubscriptButton = function( props ) {\n\t\treturn wp.element.createElement(\n\t\t  wp.editor.RichTextToolbarButton, {\n\t\t\t  icon: subscriptIcon,\n\t\t\t  title: 'Subscript',\n\t\t\t  isActive: props.isActive,\n\t\t\t  onClick: function() {\n\t\t\t\t  props.onChange( wp.richText.toggleFormat(\n\t\t\t\t\tprops.value,\n\t\t\t\t\t{ type: 'planet4-blocks/subscript' },\n\t\t\t\t  ) )\n\t\t\t  },\n\t\t\t  className: 'toolbar-button-planet4-subscript',\n\t\t  },\n\t\t)\n\t}\n\n\twp.richText.registerFormatType(\n\t  'planet4-blocks/subscript', {\n\t\t  title: 'Subscript',\n\t\t  tagName: 'sub',\n\t\t  className: null,\n\t\t  edit: SubscriptButton,\n\t  },\n\t)\n\n\t/**\n\t * Add a button for superscript (<sup>) in Gutenberg rich text\n\t */\n\tvar SuperscriptButton = function( props ) {\n\t\treturn wp.element.createElement(\n\t\t  wp.editor.RichTextToolbarButton, {\n\t\t\t  icon: superscriptIcon,\n\t\t\t  title: 'Superscript',\n\t\t\t  isActive: props.isActive,\n\t\t\t  onClick: function() {\n\t\t\t\t  props.onChange( wp.richText.toggleFormat(\n\t\t\t\t\tprops.value,\n\t\t\t\t\t{ type: 'planet4-blocks/superscript' },\n\t\t\t\t  ) )\n\t\t\t  },\n\t\t  },\n\t\t)\n\t}\n\n\twp.richText.registerFormatType(\n\t  'planet4-blocks/superscript', {\n\t\t  title: 'Superscript',\n\t\t  tagName: 'sup',\n\t\t  className: null,\n\t\t  edit: SuperscriptButton,\n\t  },\n\t)\n};\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  FormTokenField,\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Articles extends Component {\n  constructor(props) {\n    super(props);\n\n    // Populate tag tokens for saved tags.\n    let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n    // Populate post types tokens for saved post types.\n    let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n    this.state = {\n      tagTokens: tagTokens,\n      postTypeTokens: postTypeTokens,\n      selectedPosts: [],\n    };\n\n    this.populatePostsToken();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  populatePostsToken() {\n\n    if (this.props.posts.length > 0) {\n\n      apiFetch(\n        {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            include: this.props.posts\n          })\n        }\n      ).then(posts => {\n        const postsTokens = posts.map(post => post.title.rendered);\n        const postsSuggestions = posts.map(post => post.title.rendered);\n        this.setState({\n            postsTokens: postsTokens,\n            postsList: posts,\n            postsSuggestions: postsSuggestions,\n            selectedPosts: posts,\n          }\n        );\n      });\n    } else {\n      this.setState(\n        {\n          postsTokens: [],\n          postsList: [],\n          postsSuggestions: [],\n          selectedPosts: [],\n        }\n      );\n    }\n  }\n\n  /**\n   * Search posts using wp api.\n   *\n   * @param tokens\n   */\n  onPostsSearch(tokens) {\n\n    apiFetch(\n      {\n        path: addQueryArgs('/wp/v2/posts', {\n          per_page: 50,\n          page: 1,\n          search: tokens,\n          orderby: 'title',\n          post_status: 'publish',\n\n        })\n      }\n    ).then(posts => {\n      let postsSuggestions = posts.map(post => post.title.rendered);\n      this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n    });\n  }\n\n  onSelectedTagsChange(tokens) {\n    const tagIds = tokens.map(token => {\n      return this.props.tagsList.filter(tag => tag.name === token)[0].id;\n    });\n    this.props.onSelectedTagsChange(tagIds);\n    this.setState({tagTokens: tokens})\n  }\n\n  onSelectedPostTypesChange(tokens) {\n    const postTypeIds = tokens.map(token => {\n      return this.props.postTypesList.filter(postType => postType.name === token)[0].id;\n    });\n    this.props.onSelectedPostTypesChange(postTypeIds);\n    this.setState({postTypeTokens: tokens})\n  }\n\n  onSelectedPostsChange(tokens) {\n    // Array to hold references to selected posts objects.\n    let currentSelectedPosts = [];\n    tokens.forEach(token => {\n      let f = this.state.postsList.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n      f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n    });\n\n    const postIds = currentSelectedPosts.map(post => post.id);\n    this.props.onSelectedPostsChange(postIds);\n    this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const tagSuggestions = this.props.tagsList.map(tag => tag.name);\n    const postTypeSuggestions = this.props.postTypesList.map(postType => postType.name);\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'p4ge')}\n            placeholder={__('Enter title', 'p4ge')}\n            help={__('Your default is set to [ Latest Articles ]', 'p4ge')}\n            value={this.props.article_heading}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'p4ge')}\n            placeholder={__('Enter description', 'p4ge')}\n            value={this.props.articles_description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label={__('Button Text', 'p4ge')}\n            placeholder={__('Override button text', 'p4ge')}\n            help={__('Your default is set to [ Load More ]', 'p4ge')}\n            value={this.props.read_more_text}\n            onChange={this.props.onReadmoretextChange}\n          />\n        </div>\n\n\n        <div>\n          <TextControl\n            label={__('Button Link', 'p4ge')}\n            placeholder={__('Add read more button link', 'p4ge')}\n            value={this.props.read_more_link}\n            onChange={this.props.onReadmorelinkChange}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Open in a new Tab', 'p4ge')}\n            help={__('Open button link in new tab', 'p4ge')}\n            value={this.props.button_link_new_tab}\n            checked={this.props.button_link_new_tab}\n            onChange={(e) => this.props.onButtonLinkTabChange(e)}\n          />\n        </div>\n\n        {\n          this.props.posts !== 'undefined' && this.props.posts.length === 0\n            ?\n            <Fragment>\n              <div>\n                <TextControl\n                  label={__('Articles count', 'p4ge')}\n                  help={__('Number of articles', 'p4ge')}\n                  type=\"number\"\n                  value={this.props.article_count}\n                  onChange={this.props.onCountChange}\n                />\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label={__('Select Tags', 'p4ge')}\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                />\n                <p className='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.postTypeTokens}\n                  suggestions={postTypeSuggestions}\n                  label={__('Post Types', 'p4ge')}\n                  onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                />\n              </div>\n              <div className=\"ignore-categories-wrapper\">\n                <CheckboxControl\n                  label={__('Ignore categories', 'p4ge')}\n                  help={__('Ignore categories when filtering posts to populate the content of this block', 'p4ge')}\n                  value={this.props.ignore_categories}\n                  checked={this.props.ignore_categories}\n                  onChange={(e) => this.props.onIgnoreCategoriesChange(e)}\n                />\n              </div>\n            </Fragment>\n            : null\n        }\n\n        {\n          (this.props.tags.length === 0 && this.props.post_types.length === 0)\n            ? <div>\n              <hr/>\n              <label>{__('Manual override', 'p4ge')}</label>\n              <FormTokenField\n                value={this.state.postsTokens}\n                suggestions={this.state.postsSuggestions}\n                label={__('CAUTION: Adding articles individually will override the automatic functionality of this block. For good user experience, please include at least three articles so that spacing and alignment of the design remains in tact.', 'p4ge')}\n                onChange={tokens => this.onSelectedPostsChange(tokens)}\n                onInputChange={tokens => this.onPostsSearch(tokens)}\n                placeholder=\"Select Posts\"\n                maxLength=\"10\"\n                maxSuggestions=\"20\"\n              />\n            </div>\n            : null\n        }\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/articles'}\n            attributes={{\n              read_more_text: this.props.read_more_text,\n              read_more_link: this.props.read_more_link,\n              tags: this.props.tags,\n              post_types: this.props.post_types,\n              posts: this.props.posts,\n              article_heading: this.props.article_heading,\n              articles_description: this.props.articles_description,\n              article_count: this.props.article_count,\n              ignore_categories: this.props.ignore_categories,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Articles} from './Articles.js';\n\nexport class ArticlesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/articles', {\n      title: 'Articles',\n      icon: 'excerpt-view',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_articles',\n            attributes: {\n              article_heading: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_heading;\n                }\n              },\n              articles_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.articles_description;\n                }\n              },\n              article_count: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_count;\n                }\n              },\n              read_more_text: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_text;\n                }\n              },\n              read_more_link: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_link;\n                }\n              },\n              button_link_new_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.button_link_new_tab;\n                }\n              },\n              ignore_categories: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.ignore_categories;\n                }\n              },\n              tags: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.tags.split(',') : [];\n                }\n              },\n              post_types: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.post_types.split(',') : [];\n                }\n              },\n              posts: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.posts.split(',') : [];\n                }\n              },\n              exclude_post_id: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.exclude_post_id);\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        article_heading: {\n          type: 'string',\n        },\n        articles_description: {\n          type: 'string',\n        },\n        article_count: {\n          type: 'integer',\n          default: 3\n        },\n        tags: {\n          type: 'array',\n          default: []\n        },\n        posts: {\n          type: 'array',\n          default: []\n        },\n        post_types: {\n          type: 'array',\n          default: []\n        },\n        read_more_text: {\n          type: 'string'\n        },\n        read_more_link: {\n          type: 'string',\n          default: ''\n        },\n        button_link_new_tab: {\n          type: 'boolean',\n          default: false\n        },\n        ignore_categories: {\n          type: 'boolean',\n          default: false\n        },\n        exclude_post_id: {\n          type: 'integer',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: withSelect((select) => {\n        const tagsTaxonomy = 'post_tag';\n        const postTypesTaxonomy = 'p4-page-type';\n        const args = {\n          hide_empty: false,\n          per_page: 50,\n        };\n        const {getEntityRecords} = select('core');\n\n        // We should probably wrap all these in a single call,\n        // or maybe use our own way of retrieving data from the\n        // API, I don't know how this scales.\n        const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n        const postTypesList = getEntityRecords('taxonomy', postTypesTaxonomy, args);\n\n        return {\n          postTypesList,\n          tagsList,\n        };\n      })(({\n            postTypesList,\n            tagsList,\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        if (!tagsList || !postTypesList) {\n          return \"Populating block's fields...\";\n        }\n\n        // TO-DO: Check for posts types and posts too...\n        if ((tagsList && tagsList.length === 0) || (postTypesList && postTypesList.length === 0)) {\n          return \"Populating block's fields...\";\n        }\n\n        // These methods are passed down to the\n        // Articles component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({article_heading: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({articles_description: value});\n        }\n\n        function onReadmoretextChange(value) {\n          setAttributes({read_more_text: value});\n        }\n\n        function onCountChange(value) {\n          setAttributes({article_count: Number(value)});\n        }\n\n        function onReadmorelinkChange(value) {\n          setAttributes({read_more_link: value});\n        }\n\n        function onButtonLinkTabChange(value) {\n          setAttributes({button_link_new_tab: value});\n        }\n\n        function onSelectedTagsChange(tagIds) {\n          setAttributes({tags: tagIds});\n        }\n\n        function onSelectedPostsChange(value) {\n          setAttributes({posts: value});\n        }\n\n        function onSelectedPostTypesChange(postTypeIds) {\n          setAttributes({post_types: postTypeIds});\n        }\n\n        function onIgnoreCategoriesChange(value) {\n          setAttributes({ignore_categories: value});\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Articles\n          {...attributes}\n          isSelected={isSelected}\n          tagsList={tagsList}\n          postTypesList={postTypesList}\n          onSelectedTagsChange={onSelectedTagsChange}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onCountChange={onCountChange}\n          onSelectedPostsChange={onSelectedPostsChange}\n          onSelectedPostTypesChange={onSelectedPostTypesChange}\n          onReadmoretextChange={onReadmoretextChange}\n          onReadmorelinkChange={onReadmorelinkChange}\n          onButtonLinkTabChange={onButtonLinkTabChange}\n          onIgnoreCategoriesChange={onIgnoreCategoriesChange}/>\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import React, {Component, Fragment} from 'react';\nimport {\n  Button,\n  CheckboxControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {CarouselHeaderSlide} from \"./CarouselHeaderSlide\";\nimport {initializeCarouselHeader} from \"./CarouselHeaderFront\";\n\nexport class CarouselHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.refs = [];\n    this.firstRender = true;\n  }\n\n  setDOMListener() {\n    const carouselInterval = window.setInterval(\n      () => {\n        if (document.getElementById('carousel-wrapper-header')) {\n          window.clearInterval(carouselInterval);\n          initializeCarouselHeader();\n        }\n      },\n      500\n    );\n  }\n\n  componentDidMount() {\n    this.collapseSlides();\n    this.setDOMListener();\n  }\n\n  componentDidUpdate() {\n    if (this.firstRender) {\n      this.collapseSlides();\n      this.firstRender = false;\n    }\n    this.setDOMListener();\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    this.setDOMListener();\n  }\n\n  /**\n   * Collapse all active slides.\n   */\n  collapseSlides() {\n    let refs = this.refs;\n    Object.keys(this.refs).forEach(function (index) {\n      if (null !== refs[index]) {\n        refs[index].collapseSlide();\n      }\n    }.bind(refs));\n  }\n\n  /**\n   * Add new slide to carousel header.\n   */\n  addNewSlide() {\n    this.collapseSlides();\n    this.props.addSlide();\n  }\n\n  /**\n   * Remove slide to carousel header.\n   */\n  removeSlide() {\n    this.props.removeSlide();\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h3>{__('What style of carousel do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.block_style}\n            onSelectedLayoutChange={this.props.onBlockStyleChange}\n            options={[\n              {\n                label: __('Zoom and slide to gray', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/carousel-with-preview.png',\n                value: 'zoom-and-slide-to-gray',\n                help: __('This carousel provides a fancy transition, and a preview for the next slide in an oblique shape.')\n              }, {\n                label: __('Full width classic', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/carousel-classic.png',\n                value: 'full-width-classic',\n                help: __('This is a full width slider with a classic look: big slides, fade transition, and no subheaders.'),\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Carousel Autoplay', 'p4ge')}\n            help={__('Select to trigger images autoslide', 'p4ge')}\n            value={this.props.carousel_autoplay}\n            checked={this.props.carousel_autoplay}\n            onChange={(e) => this.props.onCarouselAutoplayChange(e)}\n          />\n        </div>\n\n        {this.props.slides.map((slide, i) => {\n          return (\n            <Fragment>\n              <CarouselHeaderSlide\n                {...slide}\n                onImageChange={this.props.onImageChange}\n                onHeaderChange={this.props.onHeaderChange}\n                onHeaderSizeChange={this.props.onHeaderSizeChange}\n                onSubheaderChange={this.props.onSubheaderChange}\n                onDescriptionChange={this.props.onDescriptionChange}\n                onLinkTextChange={this.props.onLinkTextChange}\n                onLinkUrlChange={this.props.onLinkUrlChange}\n                onLinkNewTabChange={this.props.onLinkNewTabChange}\n                onStyleChange={this.props.onStyleChange}\n                onFocalPointsChange={this.props.onFocalPointsChange}\n                hasSubheader={this.props.block_style !== 'full-width-classic'}\n                index={i}\n                key={i}\n                ref={(instance) => {\n                  this.refs[i] = instance\n                }}\n              />\n            </Fragment>\n          );\n        })}\n\n        <div className='carousel-header-add-remove-slide'>\n          <Button isPrimary\n                  onClick={this.addNewSlide.bind(this)}\n                  disabled={this.props.slides.length >= 4}\n          >\n            Add Slide\n          </Button>\n          <Button isDefault\n                  onClick={this.removeSlide.bind(this)} disabled={this.props.slides.length <= 1}\n          >\n            Remove Slide\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          {\n            this.props.slides.length && this.props.slides[0].image > 0\n            ? <ServerSideRender\n                block={'planet4-blocks/carousel-header'}\n                attributes={{\n                  block_style: this.props.block_style,\n                  carousel_autoplay: this.props.carousel_autoplay,\n                  slides: this.props.slides,\n                }}\n              >\n              </ServerSideRender>\n            : <div>Not enough data available to render the block yet.</div>\n          }\n\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {CarouselHeader} from './CarouselHeader.js';\n\nexport class CarouselHeaderBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/carousel-header', {\n      title: 'Carousel Header',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_carousel_header block_style=\"full-width-classic\" carousel_autoplay=\"true\" image_1=\"16\" focus_image_1=\"center center\"\n       *     header_1=\"Carousel header - full width  1\" description_1=\"Lorem ipsum \" link_text_1=\"Curabitur rutrum viverra\" image_2=\"348\"\n       *     focus_image_2=\"center center\"\n       *     header_2=\"Carousel header - full width  2\"\n       *     description_2=\"Pellentesque cursus\" link_text_2=\"Pellentesque cursus\"\n       *     image_3=\"357\" focus_image_3=\"left top\" header_3=\"Carousel header - full width  3\"\n       *     description_3=\"Nam condimentum\" focus_image_4=\"left top\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/carousel-header {\"carousel_autoplay\":\"true\",\"slides\":[{\"image\":16,\"header\":\"Carousel header - full width  1\",\"description\":\"Lorem ipsum\",\"link_text\":\"Curabitur rutrum viverra\",\"focal_points\":{\"x\":0.5,\"y\":0.5}},{\"image\":348,\"header\":\"Carousel header - full width  2\",\"description\":\"Pellentesque cursus\",\"link_text\":\"Pellentesque cursus\",\"focal_points\":{\"x\":0.5,\"y\":0.5}},{\"image\":357,\"header\":\"Carousel header - full width  3\",\"description\":\"Nam condimentum\",\"focal_points\":{\"x\":0,\"y\":0}}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_carousel_header',\n            attributes: {\n              block_style: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.block_style);\n                }\n              },\n              carousel_autoplay: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.carousel_autoplay;\n                }\n              },\n              slides: {\n                type: 'array',\n                shortcode: function (attributes) {\n\n                  const convert_position = function(position) {\n                    switch (position) {\n                    case 'left top':\n                      return {x: 0, y: 0};\n                    case 'center top':\n                      return {x: 0.5, y: 0};\n                    case 'right top':\n                      return {x: 1, y: 0};\n                    case 'left center':\n                      return {x: 0, y: 0.5};\n                    case 'center center':\n                      return {x: 0.5, y: 0.5};\n                    case 'right center':\n                      return {x: 1, y: 0.5};\n                    case 'left bottom':\n                      return {x: 0, y: 1};\n                    case 'center bottom':\n                      return {x: 0.5, y: 1};\n                    case 'right bottom':\n                      return {x: 1, y: 1};\n                    }\n                  };\n\n\n                  let slides = [];\n                  if (attributes.named.image_1) {\n                    let slide = {\n                      image: Number(attributes.named.image_1),\n                      header: attributes.named.header_1,\n                      header_size: attributes.named.header_size_1,\n                      subheader: attributes.named.subheader_1,\n                      description: attributes.named.description_1,\n                      link_text: attributes.named.link_text_1,\n                      link_url: attributes.named.link_url_1,\n                      focal_points: convert_position(attributes.named.focus_image_1)\n                    };\n                    slides.push(Object.assign({}, slide));\n\n                    if (attributes.named.image_2) {\n                      let slide = {\n                        image: Number(attributes.named.image_2),\n                        header: attributes.named.header_2,\n                        header_size: attributes.named.header_size_2,\n                        subheader: attributes.named.subheader_2,\n                        description: attributes.named.description_2,\n                        link_text: attributes.named.link_text_2,\n                        link_url: attributes.named.link_url_2,\n                        focal_points: convert_position(attributes.named.focus_image_2)\n                      };\n                      slides.push(Object.assign({}, slide));\n\n                      if (attributes.named.image_3) {\n                        let slide = {\n                          image: Number(attributes.named.image_3),\n                          header: attributes.named.header_3,\n                          header_size: attributes.named.header_size_3,\n                          subheader: attributes.named.subheader_3,\n                          description: attributes.named.description_3,\n                          link_text: attributes.named.link_text_3,\n                          link_url: attributes.named.link_url_3,\n                          focal_points: convert_position(attributes.named.focus_image_3)\n                        };\n                        slides.push(Object.assign({}, slide));\n\n                        if (attributes.named.image_4) {\n                          let slide = {\n                            image: Number(attributes.named.image_4),\n                            header: attributes.named.header_4,\n                            header_size: attributes.named.header_size_4,\n                            subheader: attributes.named.subheader_4,\n                            description: attributes.named.description_4,\n                            link_text: attributes.named.link_text_4,\n                            link_url: attributes.named.link_url_4,\n                            focal_points: convert_position(attributes.named.focus_image_4)\n                          };\n                          slides.push(Object.assign({}, slide));\n\n                        }\n                      }\n                    }\n                  }\n                  return slides;\n                }\n              }\n            }\n          }\n        ]\n      },\n      attributes: {\n        block_style: {\n          type: 'string',\n        },\n        carousel_autoplay: {\n          type: 'boolean',\n        },\n        slides: {\n          type: 'array',\n          default: [\n            {\n              image: null,\n              focal_points: {},\n              header: '',\n              header_size: 'h1',\n              subheader: '',\n              description: '',\n              link_text: '',\n              link_url: '',\n              link_url_new_tab: false,\n            }\n          ]\n        },\n      },\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        function addSlide() {\n          setAttributes({\n            slides: attributes.slides.concat({\n              image: null,\n              focal_points: {},\n              header: '',\n              header_size: 'h1',\n              subheader: '',\n              description: '',\n              link_text: '',\n              link_url: '',\n              link_url_new_tab: false,\n            })\n          });\n        }\n\n        function onCarouselAutoplayChange(value) {\n          setAttributes({carousel_autoplay: value});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onImageChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          if (null !== value) {\n            slides[index].image = value;\n          } else {\n            slides[index].image = null;\n          }\n          setAttributes({slides: slides});\n        }\n\n        function onFocalPointsChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          if (null !== value) {\n            const fo = JSON.parse(JSON.stringify(value));\n            slides[index].focal_points = fo;\n          } else {\n            slides[index].focal_points = null;\n          }\n          setAttributes({slides: slides});\n        }\n\n        function onHeaderChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].header = value;\n          setAttributes({slides: slides});\n        }\n\n        function onHeaderSizeChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].header_size = value;\n          setAttributes({slides: slides});\n        }\n\n        function onSubheaderChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].subheader = value;\n          setAttributes({slides: slides});\n        }\n\n        function onDescriptionChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].description = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkUrlChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_url = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkTextChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_text = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkNewTabChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_url_new_tab = value;\n          setAttributes({slides: slides});\n        }\n\n        function onBlockStyleChange(value) {\n          setAttributes({block_style: value});\n        }\n\n        function removeSlide() {\n          setAttributes({slides: attributes.slides.slice(0, -1)});\n        }\n\n        return <CarouselHeader\n          {...attributes}\n          isSelected={isSelected}\n          onBlockStyleChange={onBlockStyleChange}\n          onCarouselAutoplayChange={onCarouselAutoplayChange}\n          onTitleChange={onTitleChange}\n          onImageChange={onImageChange}\n          onHeaderChange={onHeaderChange}\n          onSubheaderChange={onSubheaderChange}\n          onHeaderSizeChange={onHeaderSizeChange}\n          onDescriptionChange={onDescriptionChange}\n          onLinkTextChange={onLinkTextChange}\n          onLinkUrlChange={onLinkUrlChange}\n          onLinkNewTabChange={onLinkNewTabChange}\n          onFocalPointsChange={onFocalPointsChange}\n          addSlide={addSlide}\n          removeSlide={removeSlide}\n        />;\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","/* global Hammer */\nconst ZoomAndSlideToGrayCarouselHeader = {\n  /**\n   * This module provides a custom slideshow mechanism for use with the header carousel.\n   * The transition behavior in this block is too complex to be easily layered upon the\n   * default bootstrap carousel.\n   */\n\n  // SLIDE_TRANSITION_SPEED should match $slide-transition-speed in _carousel_header.scss.\n  SLIDE_TRANSITION_SPEED: 500,\n  activeTransition: null,\n\n\n  /**\n   * Given an active slide return the next slide, wrapping around the end of the carousel.\n   *\n   * @param {HTMLElement|jQuery} slide A slide in the carousel.\n   * @returns {jQuery} A jQuery selection of the next slide.\n   */\n  nextSlide: function (el) {\n    const $el = $(el);\n    const $nextSlide = $el.next('.carousel-item');\n    // prevAll returns items in reverse DOM order: the first slide is the last element.\n    return $nextSlide.length ? $nextSlide : $el.prevAll('.carousel-item').last();\n  },\n\n  previousSlide: function (el) {\n    const $el = $(el);\n    const $previousSlide = $el.prev('.carousel-item');\n    return $previousSlide.length ? $previousSlide : $el.nextAll('.carousel-item').last();\n  },\n\n  // Update active slide indicators\n  switchIndicator: function (index) {\n    this.$CarouselIndicators.children().each(function (i, el) {\n      $(el).toggleClass('active', i === index);\n    });\n  },\n\n  setup: function () {\n    const me = this;\n\n    me.$CarouselHeaderWrapper = $('#carousel-wrapper-header');\n\n    me.$CarouselIndicators = me.$CarouselHeaderWrapper.find('.carousel-indicators');\n    me.$Slides = me.$CarouselHeaderWrapper.find('.carousel-item');\n\n    me.$CarouselHeaderWrapper.find('img').on('load', function () {\n      const current_img_src = $(this).get(0).currentSrc;\n      const current_bg_img = $(this).parent().css('background-image').replace(/.*\\s?url\\(['\"]?/, '').replace(/['\"]?\\).*/, '');\n      if (current_img_src !== current_bg_img) {\n        $(this).parent().css('background-image', 'url(' + $(this).get(0).currentSrc + ')');\n      }\n    });\n\n    me.$CarouselIndicators.find('li').remove(); // Empty the indicators list\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n\n      // Populate carousel indicators list\n      $('<li>')\n        .attr('data-target', '#carousel-wrapper-header')\n        .attr('data-slide-to', i)\n        .toggleClass('active', i === 0)\n        .appendTo(me.$CarouselIndicators);\n\n      // Convert the provided image tag into background image styles.\n      const $img = $slide.find('img');\n      const img_src = $img.get(0).currentSrc || $img.attr('src');\n      $slide\n        .css('background-image', 'url(' + img_src + ')')\n        .css('background-position', $img.data('background-position'));\n\n      // Populate carousel slide index\n      $slide.attr('data-slide', i);\n    });\n\n    // Bind mouse interaction events\n    let clickTargets = '.carousel-control-next';\n    if ($('html').attr('dir') == 'rtl') {\n      clickTargets += ', .carousel-control-prev';\n    }\n    me.$CarouselHeaderWrapper.on('click', clickTargets, function (evt) {\n      evt.preventDefault();\n      me.advanceCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', '.carousel-indicators li', function (evt) {\n      evt.preventDefault();\n      me.activate($(evt.target).data('slide-to'));\n    });\n\n    /* Carousel header swipe on mobile */\n    if ($('.carousel-header').length > 0 && me.$Slides.length > 1) {\n      const carousel_element = $('.carousel-header')[0];\n      const carousel_head_hammer = new Hammer(carousel_element, {recognizers: []});\n      const hammer = new Hammer.Manager(carousel_head_hammer.element);\n      const swipe = new Hammer.Swipe();\n      hammer.add(swipe);\n\n      hammer.on('swipeleft', function () {\n        me.advanceCarousel();\n      });\n\n      hammer.on('swiperight', function () {\n        me.backwardsCarousel();\n      });\n\n      // Vertical swiping on carousel should scroll the page\n      hammer.on('swipeup', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y + 200});\n      });\n      hammer.on('swipedown', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y - 200});\n      });\n    }\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n      const $nextImg = me.nextSlide($slide).find('img');\n\n      if ($nextImg.length > 0) {\n        // Add an element within the slide to hold the next slide preview.\n        const $preview = $('<div>')\n          .addClass('carousel-preview-wrap')\n          .prependTo($slide);\n\n        const next_img_src = $nextImg.get(0).currentSrc || $nextImg.attr('src');\n        $('<div>')\n          .addClass('carousel-preview')\n          .css('background-image', 'url(' + next_img_src + ')')\n          .css('background-position', $nextImg.data('background-position'))\n          .appendTo($preview);\n      }\n    });\n  },\n\n  backwardsCarousel: function () {\n    const $active = this.$Slides.filter('.active');\n    const $previous = this.previousSlide($active);\n    this.activate($previous.data('slide'));\n  },\n\n  /**\n   * Switch to a specific slide.\n   *\n   * @param {Number} slideIndex The index of a slide in the carousel.\n   */\n  activate: function (slideIndex) {\n    const me = this;\n    const $slide = me.$Slides.eq(slideIndex);\n\n    if ($slide.hasClass('active') && !$slide.hasClass('slide-over')) {\n      // If the requested slide is active and not transitioning, do nothing.\n      return;\n    }\n\n    if (me.$CarouselHeaderWrapper.data('block-style') != 'full-width-classic') {\n      if ($slide.hasClass('next')) {\n        // If the slide being requested is next, transition normally.\n        me.advanceCarousel();\n        return;\n      }\n    }\n\n    if (me.activeTransition) {\n      clearTimeout(me.activeTransition);\n    }\n\n    me.switchIndicator(slideIndex);\n\n    me.$Slides.removeClass('active next slide-over fade-out');\n    $slide.addClass('active');\n    me.nextSlide($slide).addClass('next');\n  },\n\n  /**\n   * Advance to the next slide in the carousel.\n   */\n  advanceCarousel: function () {\n    const me = this;\n    const $active = me.$Slides.filter('.active');\n\n    me.$Slides.removeClass('next');\n    const $next = me.nextSlide($active).addClass('next');\n\n    if (me.activeTransition) {\n      // A transition is in progress, so proceed to the next pair of slides\n      clearTimeout(me.activeTransition);\n      me.activeTransition = null;\n      me.$Slides.removeClass('fade-out slide-over active');\n      $next.addClass('active');\n      me.nextSlide($next).addClass('next');\n      me.advanceCarousel();\n      return;\n    }\n\n    // Transition out the active slide\n    $active.addClass('slide-over');\n\n    me.switchIndicator(me.$Slides.index($next));\n\n    // When transition is done, swap out the slides\n    me.activeTransition = setTimeout(function beginTransition() {\n      $active.addClass('fade-out');\n      me.activeTransition = setTimeout(function completeTransition() {\n        $active.removeClass('active');\n        me.$Slides.removeClass('slide-over fade-out');\n        $next.removeClass('next').addClass('active');\n        // Ensure the new upcoming slide has .next\n        me.nextSlide($next).addClass('next');\n        me.activeTransition = null;\n      }, me.SLIDE_TRANSITION_SPEED / 2);\n    }, me.SLIDE_TRANSITION_SPEED);\n  },\n};\n\nconst FullWidthClassicCarouselHeader = {\n  /**\n   * Given an active slide return the next slide, wrapping around the end of the carousel.\n   *\n   * @param {HTMLElement|jQuery} slide A slide in the carousel.\n   * @returns {jQuery} A jQuery selection of the next slide.\n   */\n  nextSlide: function (el) {\n    const $el = $(el);\n    const $nextSlide = $el.next('.carousel-item');\n    // prevAll returns items in reverse DOM order: the first slide is the last element.\n    return $nextSlide.length ? $nextSlide : $el.prevAll('.carousel-item').last();\n  },\n\n  previousSlide: function (el) {\n    const $el = $(el);\n    const $previousSlide = $el.prev('.carousel-item');\n    return $previousSlide.length ? $previousSlide : $el.nextAll('.carousel-item').last();\n  },\n\n  // Update active slide indicators\n  switchIndicator: function (index) {\n    this.$CarouselIndicators.children().each(function (i, el) {\n      $(el).toggleClass('active', i === index);\n    });\n  },\n\n  getCurrentSlideIndex: function () {\n    return this.$CarouselHeaderWrapper.find('.carousel-item.active').index();\n  },\n\n  setup: function () {\n    const me = this;\n\n    me.$CarouselHeaderWrapper = $('#carousel-wrapper-header');\n    me.$Slides = me.$CarouselHeaderWrapper.find('.carousel-item');\n\n    me.$CarouselHeaderWrapper.find('img').on('load', function () {\n      const current_img_src = $(this).get(0).currentSrc;\n      const current_bg_img = $(this).parent().css('background-image').replace(/.*\\s?url\\(['\"]?/, '').replace(/['\"]?\\).*/, '');\n      if (current_img_src !== current_bg_img) {\n        $(this).parent().css('background-image', 'url(' + $(this).get(0).currentSrc + ')');\n      }\n    });\n\n    me.$CarouselIndicators = me.$CarouselHeaderWrapper.find('.carousel-indicators');\n\n    me.$CarouselIndicators.find('li').remove(); // Empty the indicators list\n\n    me.$Slides.each(function (i, el) {\n      const $slide = $(el);\n\n      // Populate carousel indicators list\n      $('<li>')\n        .attr('data-target', '#carousel-wrapper-header')\n        .attr('data-slide-to', i)\n        .toggleClass('active', i === 0)\n        .appendTo(me.$CarouselIndicators);\n\n      // Convert the provided image tag into background image styles.\n      const $img = $slide.find('img');\n      const img_src = $img.get(0).currentSrc || $img.attr('src');\n      $slide.find('.background-holder')\n        .css('background-image', 'url(' + img_src + ')')\n        .css('background-position', $img.data('background-position'));\n\n      // Populate carousel slide index\n      $slide.attr('data-slide', i);\n    });\n\n    // Bind mouse interaction events\n    const clickTargets = ['.carousel-control-next', '.carousel-control-prev'];\n    if ($('html').attr('dir') == 'rtl') {\n      clickTargets.reverse();\n    }\n    me.$CarouselHeaderWrapper.on('click', clickTargets[0], function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.advanceCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', clickTargets[1], function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.backwardsCarousel();\n    });\n\n    me.$CarouselHeaderWrapper.on('click', '.carousel-indicators li', function (evt) {\n      evt.preventDefault();\n      me.cancelAutoplayInterval();\n      me.activate($(evt.target).data('slide-to'));\n    });\n\n    /* Carousel header swipe on mobile */\n    if ($('.carousel-header_full-width-classic').length > 0 && me.$Slides.length > 1) {\n      const carousel_element = $('.carousel-header_full-width-classic')[0];\n      const carousel_head_hammer = new Hammer(carousel_element, {recognizers: []});\n      const hammer = new Hammer.Manager(carousel_head_hammer.element);\n      const swipe = new Hammer.Swipe();\n      hammer.add(swipe);\n\n      hammer.on('swipeleft', function () {\n        me.cancelAutoplayInterval();\n        me.advanceCarousel();\n      });\n\n      hammer.on('swiperight', function () {\n        me.cancelAutoplayInterval();\n        me.backwardsCarousel();\n      });\n\n      // Vertical swiping on carousel should scroll the page\n      hammer.on('swipeup', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y + 200});\n      });\n      hammer.on('swipedown', function (event) {\n        const y = $(window).scrollTop();\n        event.preventDefault();\n        $('html, body').animate({scrollTop: y - 200});\n      });\n    }\n\n    me.positionIndicators();\n    me.setCarouselHeight(me.$Slides.first());\n\n    me.$CarouselHeaderWrapper.find('.initial').on('transitionend', function () {\n      $(this).removeClass('initial');\n    });\n\n    $(window).on('resize', function () {\n      const $currentSlide = $('.carousel-item.active');\n      me.setCarouselHeight($currentSlide);\n      me.positionIndicators();\n    });\n\n    me.autoplayPaused = false;\n    me.autoplayEnabled = me.$CarouselHeaderWrapper.data('carousel-autoplay') == true;\n\n    if (me.$Slides.length > 1 && me.autoplayEnabled) {\n      me.startAutoplayInterval();\n\n      me.$CarouselHeaderWrapper.on('mouseenter', function () {\n        me.autoplayPaused = true;\n      });\n\n      me.$CarouselHeaderWrapper.on('mouseleave', function () {\n        me.autoplayPaused = false;\n      });\n    }\n\n    $(window).on('scroll', function () {\n      me.cancelAutoplayInterval();\n      $(window).off('scroll');\n    });\n  },\n\n  startAutoplayInterval: function () {\n    const me = this;\n    me.autoplayInterval = window.setInterval(function () {\n      if (!me.autoplayPaused) {\n        me.advanceCarousel();\n      }\n    }, 6000);\n  },\n\n  cancelAutoplayInterval: function () {\n    window.clearInterval(this.autoplayInterval);\n  },\n\n  /**\n   * Switch to a specific slide.\n   *\n   * @param {Number} slideIndex The index of a slide in the carousel.\n   */\n  activate: function (slideIndex) {\n    const me = this;\n    const $slide = me.$Slides.eq(slideIndex);\n    const currentIndex = me.getCurrentSlideIndex();\n\n    if (slideIndex == currentIndex) {\n      return;\n    }\n\n    if (slideIndex > currentIndex) {\n      me.advanceCarousel($slide);\n    } else {\n      me.backwardsCarousel($slide);\n    }\n  },\n\n  positionIndicators: function () {\n    const $indicators = this.$CarouselHeaderWrapper.find('.carousel-indicators');\n    const $header = this.$CarouselHeaderWrapper.find('.carousel-item.active .action-button');\n    const isRTL = $('html').attr('dir') == 'rtl';\n    const rightSide = (window.matchMedia('(min-width: 992px)').matches && isRTL)\n      || (window.matchMedia('(min-width: 768px) and (max-width: 992px)').matches && !isRTL);\n\n    if (window.matchMedia('(min-width: 768px)').matches && $header.length) {\n      let leftOffset = $header.offset().left;\n\n      if (rightSide) {\n        const rightOffset = leftOffset + (isRTL ? $header.width() : $header.parent().width());\n        const indicatorsRight = $(window).width() - rightOffset;\n        $indicators.css('right', indicatorsRight + 'px')\n          .css('left', '')\n          .css('margin-left', '0')\n          .css('margin-right', '3px'); // same as indicators x margin\n      } else {\n        leftOffset = isRTL ? $header.parent().offset().left : $header.offset().left;\n        $indicators.css('left', leftOffset + 'px')\n          .css('right', '')\n          .css('margin-right', '0')\n          .css('margin-left', '3px');\n      }\n    } else {\n      $indicators.css('right', '');\n      $indicators.css('left', '');\n    }\n  },\n\n  getSlideHeight: function ($slide) {\n    return $slide.find('.carousel-item-mask .background-holder').outerHeight() + $slide.find('.carousel-caption').outerHeight() + 'px';\n  },\n\n  setCarouselHeight: function ($currentSlide) {\n    const me = this;\n    if (window.matchMedia('(max-width: 992px)').matches) {\n      me.$CarouselHeaderWrapper.find('.carousel-inner, .carousel-item-mask').css('height', this.getSlideHeight($currentSlide));\n    } else {\n      me.$CarouselHeaderWrapper.find('.carousel-inner, .carousel-item-mask').css('height', '');\n    }\n  },\n\n  backwardsCarousel: function ($slide) {\n    const me = this;\n    const $activeSlide = me.$Slides.filter('.active');\n    let $previousSlide = null;\n    if ($slide) {\n      $previousSlide = $slide;\n    } else {\n      $previousSlide = me.previousSlide($activeSlide);\n    }\n\n    $activeSlide.addClass('slide-right');\n    $previousSlide.addClass('prev');\n\n    function unsetTransitionClasses() {\n      $activeSlide.removeClass('slide-right active');\n      $previousSlide.addClass('active').removeClass('prev');\n      $activeSlide.off('transitionend');\n    }\n\n    me.setCarouselHeight($previousSlide);\n    $activeSlide.on('transitionend', unsetTransitionClasses);\n    me.switchIndicator(me.$Slides.index($previousSlide));\n  },\n\n  /**\n   * Advance to the next slide in the carousel.\n   */\n  advanceCarousel: function ($slide) {\n    const me = this;\n    const $activeSlide = me.$Slides.filter('.active');\n    let $nextSlide = null;\n    if ($slide) {\n      $nextSlide = $slide;\n    } else {\n      $nextSlide = me.nextSlide($activeSlide);\n    }\n\n    $activeSlide.addClass('slide-left');\n    $nextSlide.addClass('next');\n\n    function unsetTransitionClasses() {\n      $activeSlide.removeClass('slide-left active');\n      $nextSlide.addClass('active').removeClass('next');\n      $activeSlide.off('transitionend');\n    }\n\n    $activeSlide.on('transitionend', unsetTransitionClasses);\n    $activeSlide.find('.btn').fadeIn();\n\n    me.setCarouselHeight($nextSlide);\n    me.switchIndicator(me.$Slides.index($nextSlide));\n  },\n};\n\nexport const initializeCarouselHeader = function() {\n  const $CarouselHeaderWrapper = $('#carousel-wrapper-header');\n  if ($CarouselHeaderWrapper.length > 0) {\n    switch ($CarouselHeaderWrapper.data('block-style')) {\n    case 'full-width-classic':\n      FullWidthClassicCarouselHeader.setup();\n      break;\n    default:\n      ZoomAndSlideToGrayCarouselHeader.setup();\n      break;\n    }\n  }\n};\n","import {React, Component, Fragment} from 'react';\nimport {\n  Dashicon,\n  FocalPointPicker\n} from '@wordpress/components';\nimport {MediaUpload} from \"@wordpress/editor\";\nimport ImagePlaceholder from './ImagePlaceholder';\n\nexport class CarouselHeaderImage extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {onChange, onRemove, image_id, image_url, onFocalPointsChange, focal_points} = this.props;\n    let   hasRemove = true;\n\n    let imageClass = [];\n    if (!image_url) {\n      imageClass.push('ch-image-upload-placeholder');\n      imageClass.push('ch-image-upload-has-placeholder');\n    } else {\n      imageClass.push('carousel-header-image-container');\n    }\n    imageClass = imageClass.join(' ');\n\n\n    return (\n      <Fragment>\n        <MediaUpload\n          onSelect={onChange}\n          allowedTypes={['image']}\n          value={image_id}\n          render={obj => {\n            if (image_url) {\n              return (\n                <div\n                  className={imageClass}\n                  tabIndex={0}\n                >\n                  {image_url && onRemove && hasRemove && (\n                    <button className=\"ch-image-upload-remove\" onClick={ev => {\n                      onRemove();\n                      ev.stopPropagation()\n                    }}><Dashicon icon=\"no\"/></button>\n                  )}\n                  <FocalPointPicker\n                    url={image_url}\n                    value={focal_points}\n                    onChange={(focalPoints) => onFocalPointsChange(focalPoints)}\n                  />\n\n                </div>\n              )\n            }\n            return (\n              <div\n                className={imageClass}\n                onClick={obj.open}\n                onKeyDown={event => {\n                  if (event.keyCode === 13) {\n                    obj.open()\n                  }\n                }}\n                role=\"button\"\n                tabIndex={0}\n                >\n                {image_url && onRemove && hasRemove && (\n                  <button className=\"ch-image-upload-remove\" onClick={ev => {\n                    onRemove();\n                    ev.stopPropagation()\n                  }}><Dashicon icon=\"no\"/></button>\n                )}\n                <ImagePlaceholder/>\n              </div>\n            )\n          }}\n        />\n\n      </Fragment>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  Dashicon,\n  SelectControl,\n  TextareaControl,\n  TextControl,\n  ToggleControl\n} from '@wordpress/components';\nimport {URLInput} from '@wordpress/block-editor'\nimport {CarouselHeaderImage} from \"./CarouselHeaderImage\";\n\nconst {apiFetch} = wp;\n\nexport class CarouselHeaderSlide extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      image_id: null,\n      image_url: null,\n      focal_points: props.focal_points,\n      isHidden: false,\n    };\n    this.getMedia();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  getMedia() {\n\n    if (this.props.image) {\n\n      apiFetch(\n        {\n          path: `/wp/v2/media/${this.props.image}`\n        }\n      ).then(media => {\n        this.setState({\n          image_id: media.id,\n          image_url: media.source_url\n        });\n      });\n    }\n  }\n\n  onImageChange(image) {\n    this.props.onImageChange(this.props.index, image.id);\n    this.setState({image_id: image.id, image_url: image.url});\n  }\n\n  onImageRemove() {\n    this.props.onImageChange(this.props.index, null);\n    this.setState({image_id: null, image_url: null});\n  }\n\n  onFocalPointsChange(value) {\n    this.props.onFocalPointsChange(this.props.index, value);\n    this.setState({focal_points: value});\n  }\n\n  collapseSlide() {\n    this.setState({isHidden: true});\n  }\n\n  openSlide() {\n    this.setState({isHidden: false});\n  }\n\n  toggleSlide() {\n    this.setState({isHidden: !this.state.isHidden});\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div className={this.state.isHidden ? '' : 'carousel-header-slide-container'}>\n          <div onClick={ev => this.toggleSlide()} className='slide-number-row'>\n            <span>\n              {__('Slide', 'p4ge')} {this.props.index + 1}\n            </span>\n            <span className={this.state.isHidden ? 'slide-arrow' : 'slide-arrow slide-open'}>\n              <Dashicon icon=\"arrow-down-alt2\"/>\n            </span>\n          </div>\n\n          {!this.state.isHidden &&\n\n          <Fragment>\n            <div className='carousel-header-slide-options-wrapper'>\n              <div>{__('Select image and focal point', 'p4ge')}</div>\n              <CarouselHeaderImage\n                image_id={this.state.image_id}\n                image_url={this.state.image_url}\n                focal_points={this.state.focal_points}\n                onRemove={() => this.onImageRemove()}\n                onChange={(image) => this.onImageChange(image)}\n                onFocalPointsChange={(f) => this.onFocalPointsChange(f)}\n              />\n              <div className=\"ch-url-input-control__wrapper\">\n\n                <TextControl\n                  className=\"carouselh-header-input\"\n                  label={__('Header', 'p4ge')}\n                  placeholder={__('Enter header', 'p4ge')}\n                  value={this.props.header}\n                  onChange={(e) => this.props.onHeaderChange(this.props.index, e)}\n                />\n                <SelectControl\n                  label={__('Header text size', 'p4ge')}\n                  value={this.props.header_size}\n                  options={[\n                    {label: 'h1', value: 'h1'},\n                    {label: 'h2', value: 'h2'},\n                    {label: 'h3', value: 'h3'},\n                  ]}\n                  onChange={(e) => this.props.onHeaderSizeChange(this.props.index, e)}\n                />\n              </div>\n              {this.props.hasSubheader &&\n              <TextControl\n                label={__('Subheader', 'p4ge')}\n                placeholder={__('Enter subheader', 'p4ge')}\n                value={this.props.subheader}\n                onChange={(e) => this.props.onSubheaderChange(this.props.index, e)}\n              />\n              }\n              <TextareaControl\n                label={__('Description', 'p4ge')}\n                placeholder={__('Enter description of image', 'p4ge')}\n                value={this.props.description}\n                onChange={(e) => this.props.onDescriptionChange(this.props.index, e)}\n              />\n              <div className=\"ch-url-input-control__wrapper\">\n\n                <TextControl\n                  label={__('Link text and url', 'p4ge')}\n                  placeholder={__('Enter link text for image', 'p4ge')}\n                  value={this.props.link_text}\n                  onChange={(e) => this.props.onLinkTextChange(this.props.index, e)}\n                  className='carousel-header-link-text-input'\n                />\n                <form\n                  className=\"ch-url-input-control\"\n                  onSubmit={event => event.preventDefault()}>\n                  <div className=\"ch-url-input-control__wrapper\">\n                    <URLInput\n                      label={__('Url for link', 'p4ge')}\n                      className=\"ch-url-input-control__input\"\n                      value={this.props.link_url}\n                      onChange={(e) => this.props.onLinkUrlChange(this.props.index, e)}\n                      autoFocus={false}\n                    />\n                    <div className=\"ch-url-input-control__new-tab\">\n                      <ToggleControl\n                        help={__('New Tab', 'p4ge')}\n                        checked={this.props.link_url_new_tab}\n                        onChange={(e) => this.props.onLinkNewTabChange(this.props.index, e)}\n                      />\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </Fragment>\n          }\n        </div>\n      </Fragment>\n    );\n  };\n}\n","import {React, Component} from 'react';\n\nexport default class ImagePlaceholder extends Component {\n  render() {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 512 376\">\n      <path d=\"M0,0v376h512V0H0z M480,344H32V32h448V344z\"/>\n      <circle cx=\"409.1\" cy=\"102.9\" r=\"40.9\"/>\n      <polygon\n        points=\"480,344 32,344 118.3,179.8 140,191.1 189,113.8 289,226.9 297.9,217.6 315,239.9 341,193.5 393.9,264.7 409,248.8\"/>\n    </svg>\n  }\n}\n","import { React } from 'react';\nimport {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender,\n  Dashicon,\n  Tooltip,\n  ToggleControl, Button\n} from '@wordpress/components';\nimport {MediaPlaceholder, MediaUpload, MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Columns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {columns_title,columns_description,columns_block_style,columns,column_img,onDeleteImage} = this.props;\n\n      const getImageOrButton = (openEvent, index) => {\n        if ( columns[index] && columns[index]['attachment'] && ( 0 <  columns[index]['attachment'] ) ) {\n\n          return (\n\n            <div align='center'>\n              <div>{__('Column %s: Image', 'p4ge').replace('%s', index+1)}</div>\n              <div className=\"img-wrap\">\n                <Tooltip text={__('Remove Column Image', 'p4ge')}>\n                  <span className=\"close\" onClick={ev => {\n                    onDeleteImage(index);\n                    ev.stopPropagation()\n                  }}>&times;</span>\n                </Tooltip>\n              <img\n                src={ column_img[columns[index]['attachment']] }\n                onClick={ openEvent }\n                className='Columns__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n              </div>\n            </div>\n\n          );\n        }\n        else {\n\n          return (\n            <div className='column-img-btn-container'>\n              <div className='column-img-label'>{__('Column %s: Image', 'p4ge').replace('%s', index+1)}</div>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Column %s: Image', 'p4ge').replace('%s', index+1)}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <h3>{__('What style of column do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={columns_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('No Image', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-no_images.jpg',\n                  value: 'no_image',\n                  help: __('Optional headers, description text and buttons in a column display.', 'p4ge')\n                },\n                {\n                  label: __('Tasks', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-tasks.jpg',\n                  value: 'tasks',\n                  help: __('Used on Take Action pages, this display has ordered tasks, and call to action buttons.', 'p4ge')\n                },\n                {\n                  label: __('Icons', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-icons.jpg',\n                  value: 'icons',\n                  help: __('For more static content, this display has an icon, header, description and text link.', 'p4ge')\n                },\n                {\n                  label: __('Images', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-images.jpg',\n                  value: 'image',\n                  help: __('For more static content, this display has an image, header, description and text link.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter block title', 'p4ge')}\n              value={columns_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter block description', 'p4ge')}\n              value={columns_description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n          <div>\n\n            {columns.map((item, index) => {\n              return (\n                <div key={index}>\n                  <div><hr /></div>\n                  { !item.title && !item.description &&\n                   <div><b>{__('Please provide a header or a body for this column to be displayed.', 'p4ge')}</b></div>\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Header', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter header of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.title}\n                    onChange={this.props.onColumnHeaderChange.bind(this,index)}\n                  />\n                  <TextareaControl\n                    label={__('Column %s: Body', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter body of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.description}\n                    onChange={this.props.onColumnDescriptionChange.bind(this,index)}\n                  />\n\n                  { 'no_image' != columns_block_style &&\n                    <div className='components-base-control'>\n                      <MediaUploadCheck>\n                        <MediaUpload\n                          type='image'\n                          onSelect={this.props.onSelectImage.bind(this,index)}\n                          value={item.attachment}\n                          allowedTypes={columns_block_style === 'icons' ? ['image/png'] : ['image']}\n                          render={ ({ open }) => getImageOrButton(open, index) }\n                        />\n                      </MediaUploadCheck>\n                      { columns_block_style === 'icons' && item.attachment > 0 && typeof column_img[item.attachment] !== 'undefined' && !column_img[item.attachment].endsWith('.png') &&\n                       <div><b>{__('Please select another image for this column, as the current image is not an icon and you have chosen columns style icons. ', 'p4ge')}</b></div>\n                      }\n                    </div>\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Button/CtA Link', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_link}\n                    onChange={this.props.onCTALinkChange.bind(this,index)}\n                  />\n                  <ToggleControl\n                    label={__('Open link in new tab', 'p4ge')}\n                    help={__('Open Column %s: Button/CtA Link in a new tab', 'p4ge').replace('%s', index+1)}\n                    value={item.link_new_tab}\n                    checked={item.link_new_tab}\n                    onChange={this.props.onLinkNewTabChange.bind(this,index)}\n                  />\n                  <TextControl\n                    label={__('Column %s: Button/CtA Text', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter text of button/link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_text}\n                    onChange={this.props.onCTAButtonTextChange.bind(this,index)}\n                  />\n                </div>\n              );\n            })}\n\n            { columns.length < 4 && (\n              <Tooltip text={__('Add Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__addIcon\"\n                  }\n                  onClick={this.props.addColumn}\n                >\n                  {__('Add Column', 'p4ge')} <Dashicon icon={\"plus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n\n            { columns.length > 0 && (\n              <Tooltip text={__('Remove Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__removeIcon\"\n                  }\n                  onClick={this.props.removeColumn}\n                >\n                  {__('Remove Column', 'p4ge')} <Dashicon icon={\"minus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/columns'}\n                  attributes={{\n                    columns_block_style: this.props.columns_block_style,\n                    columns_title: this.props.columns_title,\n                    columns_description: this.props.columns_description,\n                    columns: this.props.columns.map( column => {\n                      // Needed here as there is no hook to replace this in the rest api\n                      if ( column.link_new_tab !== true ) {\n                        column.link_new_tab = false;\n                      }\n                      return column;\n                    }),\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Columns} from './Columns.js';\nimport {withSelect} from '@wordpress/data';\n\nconst {__} = wp.i18n;\n\nexport class ColumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/columns', {\n        title: __('Columns', 'p4ge'),\n        icon: \"grid-view\",\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_columns columns_block_style=\"image\" columns_title=\"Lorem Ipsum\" columns_description=\"Lorem Ipsum\"\n         *                    title_1=\"col1\" description_1=\"col1 body\" attachment_1=\"5096\" link_1=\"cta link1\" link_new_tab_1=\"true\" cta_text_1=\"cta text\"\n         *                    title_2=\"col2\" description_2=\"col2 body\" attachment_2=\"5186\" link_2=\"cta link2\" link_new_tab_2=\"true\" cta_text_2=\"cta text 2\" link_new_tab_3=\"false\" link_new_tab_4=\"false\" /]\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/columns {\"columns_block_style\":\"image\",\"columns_title\":\"Lorem Ipsum\",\"columns_description\":\"Lorem Ipsum\",\n         *      \"columns\":[{\"title\":\"col1\",\"description\":\"col1 body\",\"attachment\":5096,\"cta_link\":\"cta link1\",\"cta_text\":\"cta text 1\",\"link_new_tab\":true},{\"title\":\"col2\",\"description\":\"col2 body\",\"attachment\":5186,\"cta_link\":\"cta link2\",\"cta_text\":\"cta text 2\",\"link_new_tab\":true}]} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_columns',\n              attributes: {\n                columns_block_style: {\n                  type: 'string',\n                  shortcode: ({named: {columns_block_style = ''}}) => columns_block_style,\n                },\n                columns_title: {\n                  type: 'string',\n                  shortcode: ({named: {columns_title = ''}}) => columns_title,\n                },\n                columns_description: {\n                  type: 'string',\n                  shortcode: ({named: {columns_description = ''}}) => columns_description,\n                },\n                columns: {\n                  type: 'array',\n                  shortcode: function (attributes) {\n                    let columns = [];\n                    if (attributes.named.title_1) {\n                      let column = {\n                        title: attributes.named.title_1,\n                        description: attributes.named.description_1 || ''\n                      };\n                      if (attributes.named.columns_block_style !== 'no_image') {\n                        column.attachment = attributes.named.attachment_1 || false;\n                      }\n                      column.cta_link = attributes.named.link_1 || '';\n                      column.link_new_tab = attributes.named.link_new_tab_1 || false;\n                      column.cta_text = attributes.named.cta_text_1 || '';\n                      columns.push(Object.assign({}, column));\n\n                      if (attributes.named.title_2) {\n                        let column = {\n                          title: attributes.named.title_2,\n                          description: attributes.named.description_2 || ''\n                        };\n                        if (attributes.named.columns_block_style !== 'no_image') {\n                          column.attachment = attributes.named.attachment_2 || false;\n                        }\n                        column.cta_link = attributes.named.link_2 || '';\n                        column.link_new_tab = attributes.named.link_new_tab_2 || false;\n                        column.cta_text = attributes.named.cta_text_2 || '';\n                        columns.push(Object.assign({}, column));\n\n\n                        if (attributes.named.title_3) {\n                          let column = {\n                            title: attributes.named.title_3,\n                            description: attributes.named.description_3 || ''\n                          };\n                          if (attributes.named.columns_block_style !== 'no_image') {\n                            column.attachment = attributes.named.attachment_3 || false;\n                          }\n                          column.cta_link = attributes.named.link_3 || '';\n                          column.link_new_tab = attributes.named.link_new_tab_3 || false;\n                          column.cta_text = attributes.named.cta_text_3 || '';\n                          columns.push(Object.assign({}, column));\n\n                          if (attributes.named.title_4) {\n                            let column = {\n                              title: attributes.named.title_4,\n                              description: attributes.named.description_4 || ''\n                            };\n                            if (attributes.named.columns_block_style !== 'no_image') {\n                              column.attachment = attributes.named.attachment_4 || false;\n                            }\n                            column.cta_link = attributes.named.link_4 || '';\n                            column.link_new_tab = attributes.named.link_new_tab_4 || false;\n                            column.cta_text = attributes.named.cta_text_4 || '';\n                            columns.push(Object.assign({}, column));\n                          }\n                        }\n                      }\n                    }\n                    return columns;\n                  },\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          columns_block_style: {\n            type: 'string',\n          },\n          columns_title: {\n            type: 'string'\n          },\n          columns_description: {\n            type: 'string'\n          },\n          columns: {\n            type: \"array\",\n            default: [],\n            title:{\n              type: 'string'\n            },\n            description:{\n              type: 'string'\n            },\n            attachment:{\n              type: 'integer'\n            },\n            cta_link:{\n              type: 'string'\n            },\n            link_new_tab:{\n              type: 'boolean'\n            },\n            cta_text:{\n              type: 'string'\n            },\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { columns } = attributes;\n          let column_img = [];\n\n          if ( columns && 0 < columns.length ) {\n\n            for ( let column of columns ) {\n              if ( column['attachment'] && ( 0 < column['attachment'] ) ) {\n\n                let media_details = select('core').getMedia( column['attachment'] );\n                if (media_details) {\n                  column_img[column['attachment']] = select('core').getMedia( column['attachment'] ).source_url;\n                }\n              }\n            }\n          }\n\n          return { column_img };\n\n        } )( ( { isSelected, attributes, setAttributes, column_img} ) => {\n\n          function onTitleChange(value) {\n            setAttributes({columns_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({columns_description: value});\n          }\n\n          function onSelectImage(index, value) {\n            let {id}          = value;\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].attachment = id;\n            setAttributes({columns});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({columns_block_style: value});\n\n            if ( 'no_image' === value ) {\n              const {columns} = attributes;\n              if ( 0 < columns.length ) {\n                let new_columns = [...columns];\n                let i;\n                for ( i = 0; i < columns.length; i++ ) {\n                  new_columns[i]['attachment'] = 0;\n                }\n                setAttributes({columns: new_columns});\n              }\n            }\n          }\n\n          function addColumn() {\n            const {columns} = attributes;\n\n            if ( columns.length < 4 ) {\n              setAttributes({\n                columns: [...columns, {\n                  title:'',\n                  description:'',\n                  attachment:0,\n                  cta_link:'',\n                  cta_text:'',\n                  link_new_tab:'',\n                }]\n              });\n            }\n          }\n\n          function removeColumn() {\n            setAttributes({columns: attributes.columns.slice(0, -1) });\n          }\n\n          function onColumnHeaderChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].title = value;\n            setAttributes({columns});\n          }\n\n          function onColumnDescriptionChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].description = value;\n            setAttributes({columns});\n          }\n\n          function onCTALinkChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_link = value;\n            setAttributes({columns});\n          }\n\n          function onLinkNewTabChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].link_new_tab = value;\n            setAttributes({columns});\n          }\n\n          function onCTAButtonTextChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_text = value;\n            setAttributes({columns});\n          }\n\n          function onDeleteImage(index) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].attachment = 0;\n            setAttributes({columns});\n          }\n\n          return <Columns\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onSelectImage={onSelectImage}\n            addColumn={addColumn}\n            removeColumn={removeColumn}\n            onColumnHeaderChange={onColumnHeaderChange}\n            onColumnDescriptionChange={onColumnDescriptionChange}\n            onCTALinkChange={onCTALinkChange}\n            onLinkNewTabChange={onLinkNewTabChange}\n            onCTAButtonTextChange={onCTAButtonTextChange}\n            column_img={column_img}\n            onDeleteImage={onDeleteImage}\n          />\n        } ),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\nexport class Cookies extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Cookies options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display opt-in options for cookies',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={this.props.title}\n              onChange={this.props.onTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"Necessary Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.necessary_cookies_name}\n              onChange={this.props.onNecessaryCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Necessary Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.necessary_cookies_description}\n              onChange={this.props.onNecessaryCookiesDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"All Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.all_cookies_name}\n              onChange={this.props.onAllCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"All Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.all_cookies_description}\n              onChange={this.props.onAllCookiesDescriptionChange}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/cookies'}\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              necessary_cookies_name: this.props.necessary_cookies_name,\n              necessary_cookies_description: this.props.necessary_cookies_description,\n              all_cookies_name: this.props.all_cookies_name,\n              all_cookies_description: this.props.all_cookies_description,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Cookies} from './Cookies.js';\n\nexport class CookiesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/cookies', {\n      title: 'Cookies',\n      icon: 'welcome-view-site',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_cookies',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              necessary_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_name;\n                }\n              },\n              necessary_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_description;\n                }\n              },\n              all_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_name;\n                }\n              },\n              all_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_description;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        necessary_cookies_name: {\n          type: 'string',\n        },\n        necessary_cookies_description: {\n          type: 'string',\n        },\n        all_cookies_name: {\n          type: 'string',\n        },\n        all_cookies_description: {\n          type: 'string',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onNecessaryCookiesNameChange(value) {\n          setAttributes({necessary_cookies_name: value});\n        }\n\n        function onNecessaryCookiesDescriptionChange(value) {\n          setAttributes({necessary_cookies_description: value});\n        }\n\n        function onAllCookiesNameChange(value) {\n          setAttributes({all_cookies_name: value});\n        }\n\n        function onAllCookiesDescriptionChange(value) {\n          setAttributes({all_cookies_description: value});\n        }\n\n        return <Cookies\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onNecessaryCookiesNameChange={onNecessaryCookiesNameChange}\n          onNecessaryCookiesDescriptionChange={onNecessaryCookiesDescriptionChange}\n          onAllCookiesNameChange={onAllCookiesNameChange}\n          onAllCookiesDescriptionChange={onAllCookiesDescriptionChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import { React, Component } from 'react';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nexport class Counter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const { __ } = wp.i18n;\n\n    return (\n      <div>\n        <h3>{ __('What style of counter do you need?', 'p4ge') }</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={ this.props.style }\n            onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n            options={[\n              {\n                label: __('Text Only', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_text.png',\n                value: 'plain',\n                help: __('Text to describe your progress', 'p4ge')\n              },\n              {\n                label: __('Progress Bar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'bar',\n                help: __('A bar to visualise the progress.', 'p4ge'),\n              },\n              {\n                label: __('Progress Dial', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_arc.png',\n                value: 'arc',\n                help: __('A dial to visualise the progress.', 'p4ge')\n              },\n              {\n                label: __('Progress bar inside EN Form', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'en-forms-bar',\n                help: __('A bar inside an En Form. Select this only if you are adding an EN Form to the same page.', 'p4ge')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Title', 'p4ge') }\n            placeholder= { __('Enter title', 'p4ge') }\n            value={ this.props.title }\n            onChange={ this.props.onTitleChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Description', 'p4ge') }\n            placeholder= { __('Enter description', 'p4ge') }\n            value={ this.props.description }\n            onChange={ this.props.onDescriptionChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed', 'p4ge') }\n            placeholder= { __('e.g. number of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.completed }\n            onChange={ this.props.onCompletedChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed API URL', 'p4ge') }\n            placeholder= { __('API URL of completed number. If filled in will overide the \\'Completed\\' field', 'p4ge') }\n            value={ this.props.completed_api }\n            onChange={ this.props.onCompletedAPIChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Target', 'p4ge') }\n            placeholder= { __('e.g. target no. of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.target }\n            onChange={ this.props.onTargetChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Text', 'p4ge') }\n            placeholder= { __('e.g. \"signatures collected of %target%\"', 'p4ge') }\n            value={ this.props.text }\n            onChange={ this.props.onTextChange }\n          />\n          <p className='FieldHelp'>These placeholders can be used: <code>%completed%</code>, <code>%target%</code>, <code>%remaining%</code> </p>\n        </div>\n\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={ this.props.isSelected }>\n          <ServerSideRender\n            block={ 'planet4-blocks/counter' }\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              style: this.props.style,\n              completed: this.props.completed,\n              completed_api: this.props.completed_api,\n              target: this.props.target,\n              text: this.props.text,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n};","import { Counter } from './Counter.js';\n\nexport class CounterBlock {\n  constructor() {\n    const { registerBlockType } = wp.blocks;\n    const { withSelect } = wp.data;\n\n    registerBlockType( 'planet4-blocks/counter', {\n      title: 'Counter',\n      icon: 'dashboard',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_counter',\n            attributes: {\n              style: {\n                type: 'string',\n                shortcode: ( { named: { style = 'plain' } } ) => style,\n              },\n              title: {\n                type: 'string',\n                shortcode: ( { named: { title = '' } } ) => title,\n              },\n              description: {\n                type: 'string',\n                shortcode: ( { named: { description = '' } } ) => description,\n              },\n              completed: {\n                type: 'integer',\n                shortcode: ( { named: { completed = 0 } } ) => Number(completed),\n              },\n              completed_api: {\n                type: 'string',\n                shortcode: ( { named: { completed_api = '' } } ) => completed_api === '' ? null : completed_api,\n              },\n              target: {\n                type: 'integer',\n                shortcode: ( { named: { target = 0 } } ) => Number(target),\n              },\n              text: {\n                type: 'string',\n                shortcode: ( { named: { text = '' } } ) => text,\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        style: {\n          type: 'string',\n          default: 'plain'\n        },\n        completed: {\n          type: 'integer',\n        },\n        completed_api: {\n          type: 'string',\n        },\n        target: {\n          type: 'integer',\n        },\n        text: {\n          type: 'string',\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange( value ) {\n          setAttributes( { title: value } );\n        }\n\n        function onDescriptionChange( value ) {\n          setAttributes( { description: value } );\n        }\n\n        function onSelectedLayoutChange( value ) {\n          setAttributes( { style: value } );\n        }\n\n        function onCompletedChange( value ) {\n          setAttributes( { completed: Number(value) } );\n        }\n\n        function onCompletedAPIChange( value ) {\n          setAttributes( { completed_api: value } );\n        }\n\n        function onTargetChange( value ) {\n          setAttributes( { target: Number(value) } );\n        }\n\n        function onTextChange( value ) {\n          setAttributes( { text: value } );\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Counter\n          { ...attributes }\n          isSelected={ isSelected }\n          onTitleChange={ onTitleChange }\n          onDescriptionChange={ onDescriptionChange }\n          onSelectedLayoutChange={ onSelectedLayoutChange }\n          onCompletedChange={ onCompletedChange }\n          onCompletedAPIChange={ onCompletedAPIChange }\n          onTargetChange={ onTargetChange }\n          onTextChange={ onTextChange }   />\n      },\n      save() {\n        return null;\n      }\n    } );\n  };\n}\n\n","import React, { Component } from 'react';\n\nimport {\n  FormTokenField,\n  SelectControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\n\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Covers extends Component {\n    constructor(props) {\n      super(props);\n\n      // Populate tag tokens for saved tags.\n      let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n      // Populate post types tokens for saved post types.\n      let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n      // Populate component state with block's saved tags tokens and post type tokens\n      this.state = {\n        tagTokens: tagTokens,\n        postTypeTokens: postTypeTokens,\n        selectedPosts: [],\n      };\n\n      this.populatePostsToken();\n      this.searchTimeout = null;\n    }\n\n    static getDerivedStateFromProps(props, state) {\n\n      // Post types should be available for cover_type 3\n      // If cover_type is not 3, reset post types tokens.\n      if ('1' === props.cover_type || '2' === props.cover_type) {\n        state.postTypeTokens= [];\n      }\n\n      // If posts attribute was reset, reset also the posts tokens.\n      if (0 === props.posts.length) {\n        state.postsTokens= [];\n      }\n      return state;\n    }\n\n\n    /**\n     * Set component's state for existing blocks.\n     */\n    populatePostsToken() {\n\n      if (this.props.posts.length > 0) {\n\n        let post_type = this.props.cover_type === '1' ? 'pages' : 'posts';\n        apiFetch(\n          {\n            path: addQueryArgs('/wp/v2/'+ post_type, {\n              per_page: 50,\n              page: 1,\n              include: this.props.posts\n            })\n          }\n        ).then(posts => {\n          const postsTokens = posts.map(post => post.title.rendered);\n          const postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({\n              postsTokens: postsTokens,\n              postsList: posts,\n              postsSuggestions: postsSuggestions,\n              selectedPosts: posts,\n            }\n          );\n        });\n      } else {\n        this.setState(\n          {\n            postsTokens: [],\n            postsList: [],\n            postsSuggestions: [],\n            selectedPosts: [],\n          }\n        );\n      }\n    }\n\n    /**\n     * Search posts using wp api.\n     *\n     * @param tokens\n     */\n    searchPosts(tokens) {\n\n      let queryArgs;\n      if ('1' === this.props.cover_type) {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/pages', {\n            per_page: -1,\n            post_type: 'page',\n            post_parent: window.p4ge_vars.planet4_options.act_page,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      } else {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      }\n\n\n      apiFetch(queryArgs)\n        .then(posts => {\n          let postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n        });\n    }\n\n    onPostsSearch(token) {\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(function () {\n        this.searchPosts(token);\n      }.bind(this), 500);\n    }\n\n    onSelectedTagsChange(tokens) {\n      const tagIds = tokens.map( token => {\n        return this.props.tagsList.filter( tag => tag.name === token )[0].id;\n      });\n      this.props.onSelectedTagsChange(tagIds);\n      this.setState({ tagTokens: tokens })\n    }\n\n    onSelectedPostTypesChange(tokens) {\n      const postTypeIds = tokens.map( token => {\n        return this.props.postTypesList.filter( postType => postType.name === token )[0].id;\n      });\n      this.props.onSelectedPostTypesChange(postTypeIds);\n      this.setState({ postTypeTokens: tokens })\n    }\n\n    onSelectedPostsChange(tokens) {\n      // Array to hold references to selected posts objects.\n      let currentSelectedPosts = [];\n      tokens.forEach(token => {\n        let f = this.state.postsList.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n        f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n      });\n\n      const postIds = currentSelectedPosts.map(post => post.id);\n      this.props.onSelectedPostsChange(postIds);\n      this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n    }\n\n    renderEdit() {\n      const { __ } = wp.i18n;\n\n      const tagSuggestions = this.props.tagsList.map( tag => tag.name );\n      const postTypeSuggestions = this.props.postTypesList.map( postType => postType.name );\n\n      return (\n        <div>\n          <h3>{ __('What style of cover do you need?', 'p4ge') }</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={ this.props.cover_type }\n              onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n              options={[\n                {\n                  label: __('Take Action Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/take_action_covers.png',\n                  value: '1',\n                  help: __('Take action covers pull the featured image, tags, have a 25 character excerpt and have a call to action button')\n                },\n                {\n                  label: __('Campaign Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/campaign_covers.png',\n                  value: '2',\n                  help: __('Campaign covers pull the associated image and hashtag from the system tag definitions.'),\n                },\n                {\n                  label: __('Content Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/content_covers.png',\n                  value: '3',\n                  help: __('Content covers pull the image from the post.')\n                },\n              ]}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label=\"Rows to display\"\n              value={ this.props.covers_view }\n              options={ [\n                { label: '1 Row', value: '1' },\n                { label: '2 Rows', value: '2' },\n                { label: 'All rows', value: '3' },\n              ] }\n              onChange={ this.props.onRowsChange }\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={ this.props.title }\n              onChange={ this.props.onTitleChange }\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={ this.props.description }\n              onChange={ this.props.onDescriptionChange }\n            />\n          </div>\n\n          {\n            this.props.posts !== 'undefined' && this.props.posts.length === 0\n              ?\n              <div>\n\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label='Select Tags'\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                  placeholder=\"Select Tags\"\n                />\n                <p class='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              : null\n          }\n\n          {\n            this.props.cover_type === '3' && this.props.posts.length === 0\n              ? <FormTokenField\n                value={this.state.postTypeTokens}\n                suggestions={postTypeSuggestions}\n                label='Post Types'\n                onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                placeholder=\"Select Tags\"\n              />\n              : null\n          }\n\n          {\n            (this.props.cover_type === '1' || this.props.cover_type === '3') &&\n            (this.props.tags.length === 0 && this.props.post_types.length === 0)\n              ? <div>\n                <label>Manual override</label>\n                <FormTokenField\n                  value={this.state.postsTokens}\n                  suggestions={this.state.postsSuggestions}\n                  label='CAUTION: Adding covers manually will override the automatic functionality.'\n                  onChange={tokens => this.onSelectedPostsChange(tokens)}\n                  onInputChange={token => this.onPostsSearch(token)}\n                  placeholder=\"Select Tags\"\n                />\n              </div>\n              : null\n          }\n\n        </div>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={ this.props.isSelected }>\n                <ServerSideRender\n                  block={ 'planet4-blocks/covers' }\n                  attributes={{\n                    cover_type: this.props.cover_type,\n                    covers_view: this.props.covers_view,\n                    tags: this.props.tags,\n                    post_types: this.props.post_types,\n                    posts: this.props.posts,\n                    title: this.props.title,\n                    description: this.props.description,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n};\n","import { CoversIcon } from './CoversIcon.js';\nimport { Covers } from './Covers.js';\n\nexport class CoversBlock {\n    constructor() {\n      const { registerBlockType } = wp.blocks;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/covers', {\n        title: 'Covers',\n        icon: 'slides',\n        category: 'planet4-blocks',\n\n        // Transform the shortcode into a Gutenberg block\n        // this is used when a user clicks \"Convert to blocks\"\n        // on the \"Classic Editor\" block\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_newcovers',\n              attributes: {\n                cover_type: {\n                  type: 'string',\n                  // This `shortcode` definition will be used as a callback,\n                  // it is a function which expects an object with at least\n                  // a `named` key with `cover_type` property whose default value is 1.\n                  // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n                  shortcode: ({named: {cover_type = '1'}}) => cover_type,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                covers_view: {\n                  type: 'string',\n                  shortcode: ({named: {covers_view}}) => {\n                    switch (covers_view) {\n                      case '0':\n                        return '1';\n                      case '3':\n                        return '2';\n                      case '1':\n                        return '3';\n                    }\n                    return '1';\n                  },\n                },\n                tags: {\n                  type: 'array',\n                  shortcode: ({named: {tags = ''}}) => tags.split(',').map(tag => Number(tag)).filter(tag => tag > 0),\n                },\n                post_types: {\n                  type: 'array',\n                  shortcode: ({named: {post_types = ''}}) => post_types.split(',').map(post_type => Number(post_type)).filter(post_type => post_type > 0),\n                },\n                posts: {\n                  type: 'array',\n                  shortcode: ({named: {posts = ''}}) => posts.split(',').map(post => Number(post)).filter(post => post > 0),\n                },\n              },\n            },\n          ]\n        },\n        // This attributes definition mimics the one in the PHP side.\n        attributes: {\n          title: {\n            type: 'string',\n          },\n          description: {\n            type: 'string',\n          },\n          tags: {\n            type: 'array',\n            default: []\n          },\n          posts: {\n            type: 'array',\n            default: []\n          },\n          post_types: {\n            type: 'array',\n            default: []\n          },\n          covers_view: {\n            type: 'string',\n            default: '1'\n          },\n          cover_type: {\n            type: 'string',\n          }\n        },\n        // withSelect is a \"Higher Order Component\", it works as\n        // a Decorator, it will provide some basic API functionality\n        // through `select`.\n        edit: withSelect( ( select ) => {\n          const tagsTaxonomy = 'post_tag';\n          const postTypesTaxonomy = 'p4-page-type';\n          const args = {\n            hide_empty: false,\n            per_page: -1,\n          };\n\n          const { getEntityRecords } = select( 'core' );\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords( 'taxonomy', tagsTaxonomy, args );\n          const postTypesList = getEntityRecords( 'taxonomy', postTypesTaxonomy );\n\n          return {\n            postTypesList,\n            tagsList,\n          };\n        } )( ( {\n          postTypesList,\n          tagsList,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n            if ( !tagsList || !postTypesList ) {\n                return \"Populating block's fields...\";\n            }\n\n            // TO-DO: Check for posts types and posts too...\n            if ( !tagsList && !tagsList.length === 0 ) {\n                return \"No tags...\";\n            }\n\n            // These methods are passed down to the\n            // Covers component, they update the corresponding attribute.\n\n            function onRowsChange( value ) {\n              setAttributes( { covers_view: value } );\n            }\n\n            function onTitleChange( value ) {\n              setAttributes( { title: value } );\n            }\n\n            function onDescriptionChange( value ) {\n              setAttributes( { description: value } );\n            }\n\n            function onSelectedTagsChange( tagIds ) {\n              setAttributes( { tags: tagIds } );\n            }\n\n            function onSelectedPostsChange(value) {\n              setAttributes({posts: value});\n            }\n\n            function onSelectedPostTypesChange( postTypeIds ) {\n              setAttributes( { post_types: postTypeIds } );\n            }\n\n            function onSelectedLayoutChange( value ) {\n\n              // Post types are available only on cover_type 3, so we reset the post_types attribute in the other 2 cases.\n              if ( '1' === value) {\n                setAttributes( { post_types: [] } );\n              }\n              if ( '2' === value) {\n                setAttributes( { post_types: []} );\n              }\n              // Reset posts attribute when changing layout also.\n              setAttributes({cover_type: value, posts: []});\n            }\n\n            // We pass down all the attributes to Covers as props using\n            // the spread operator. Then we selectively add more\n            // props.\n            return <Covers\n              { ...attributes }\n              isSelected={ isSelected }\n              tagsList={ tagsList }\n              postTypesList={ postTypesList }\n              onSelectedTagsChange={ onSelectedTagsChange }\n              onSelectedLayoutChange={ onSelectedLayoutChange }\n              onTitleChange={ onTitleChange }\n              onDescriptionChange={ onDescriptionChange }\n              onSelectedPostsChange={ onSelectedPostsChange }\n              onSelectedPostTypesChange={ onSelectedPostTypesChange }\n              onRowsChange={ onRowsChange } />\n        } ),\n        save() {\n          return null;\n        }\n      } );\n    };\n}\n\n","import { React, Component } from 'react';\n\nexport class CoversIcon extends Component {\n\trender() {\n\t\treturn <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 66 82.5\" enable-background=\"new 0 0 66 66\"><g><g><path d=\"M8.193,37.334l23.804-10.512v-8.007L6.099,30.093c-0.24,0.11-0.44,0.31-0.53,0.56c-0.1,0.24-0.09,0.52,0.01,0.76    L8.193,37.334z\"/><path d=\"M8.999,39.163l4.9,11.08c4.55-1.49,7.1,2.61,8.76,3.78c1.51-1.01,4.47-5.71,9.34-3.55v-21.47L8.999,39.163z     M21.059,42.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49    C21.779,42.033,21.559,42.623,21.059,42.853z M27.059,39.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33    l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49C27.779,39.033,27.559,39.623,27.059,39.853z\"/><path d=\"M33.998,26.816l24.005,10.392l2.416-5.816c0.21-0.5-0.02-1.08-0.52-1.3L33.998,18.813V26.816z\"/><path d=\"M33.999,28.993v22.77c0.95,0.8,2.02,2.26,2.44,2.26c1.97-1.66,3.56-4.08,6.88-4.08c4.21,0,6.03,4.07,6.9,4.07    c0.1-0.087,0.722-0.298,1.25-1.09l5.77-13.87L33.999,28.993z M41.269,39.823c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46    c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.83-0.72,1.33-0.49l1,0.46C41.279,38.733,41.499,39.323,41.269,39.823z M47.269,42.823    c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.82-0.72,1.33-0.49l1,0.46    C47.279,41.733,47.499,42.323,47.269,42.823z\"/></g><g><path d=\"M37.999,2.983v5.63h-10v-5.63c0-1.1,0.9-2,2-2h6C37.099,0.983,37.999,1.883,37.999,2.983z\"/></g><path d=\"M48.319,13.823c-0.38-1.86-2.03-3.21-3.93-3.21h-22.78c-1.9,0-3.55,1.35-3.92,3.21l-1.98,9.91   c5.27-2.31,11.32-4.94,17.29-7.54c1.02,0.45,9.84,4.29,17.29,7.54L48.319,13.823z M24.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1   h2c0.55,0,1,0.45,1,1S25.549,17.233,24.999,17.233z M42.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1h2c0.55,0,1,0.45,1,1   S43.549,17.233,42.999,17.233z\"/><path d=\"M64,62.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1C65,63.43,64.552,62.982,64,62.982z\"/><path d=\"M64,55.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1S64.552,55.982,64,55.982z\"/></g></svg>\n\t}\n}\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  Toolbar,\n  IconButton,\n  Button\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Gallery extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const getImageOrButton = (openEvent) => {\n        if ( 0 < this.props.image_data.length ) {\n\n          return (\n\n            this.props.image_data.map((item, index) => {\n              return (\n                <span>\n                  <img\n                    src={ item.url }\n                    onClick={ openEvent }\n                    className=\"gallery__imgs\"\n                    key={index}\n                    width='150 px'\n                    style={{padding: '10px 10px'}}\n                  />\n                </span>\n              );\n            })\n\n          );\n        }\n        else {\n          return (\n            <div className=\"button-container\">\n              <Button\n                onClick={ openEvent }\n                className=\"button\">\n                + {__('Select Gallery Images', 'p4ge')}\n              </Button>\n\n              <div>{__('Select images in the order you want them to appear.', 'p4ge')}</div>\n            </div>\n          );\n        }\n      };\n\n      const {__} = wp.i18n;\n\n      const {gallery_block_style , gallery_block_title , gallery_block_description , multiple_image , image_data} = this.props;\n\n      const dimensions = {width: 400, height: 100};\n\n      let multiple_image_array = multiple_image ? multiple_image.split(',') : [];\n\n      return (\n        <Fragment>\n          <BlockControls>\n            { 0 < image_data.length && (\n              <Toolbar>\n                { 0 < multiple_image_array.length && (\n                  <MediaUploadCheck>\n                    <MediaUpload\n                      onSelect={this.props.onSelectImage}\n                      allowedTypes={[\"image\"]}\n                      value={multiple_image_array}\n                      type=\"image\"\n                      multiple=\"true\"\n                      render={({ open }) => {\n                        return (\n                          <IconButton\n                            className=\"components-icon-button components-toolbar__control\"\n                            label={__(\n                              \"Edit Images\",\n                              \"mytheme-blocks\"\n                            )}\n                            onClick={open}\n                            icon=\"edit\"\n                          />\n                        );\n                      }}\n                    />\n                  </MediaUploadCheck>\n                )}\n                <IconButton\n                  className=\"components-icon-button components-toolbar__control\"\n                  label={__(\"Remove Images\", \"mytheme-blocks\")}\n                  onClick={this.props.onRemoveImages}\n                  icon=\"trash\"\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          <h3>{__('What style of gallery do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={gallery_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('Slider', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-slider.jpg',\n                  value: 1,\n                  help: __('The slider is a carousel of images. For more than 5 images, consider using a grid.', 'p4ge')\n                },\n                {\n                  label: __('3 Column', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-3-column.jpg',\n                  value: 2,\n                  help: __('The 3 column image display is great for accentuating text, and telling a visual story.', 'p4ge')\n                },\n                {\n                  label: __('Grid', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-grid.jpg',\n                  value: 3,\n                  help: __('The grid shows thumbnails of lots of images. Good to use when showing lots of activity.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={gallery_block_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('Please Enter Description', 'p4ge')}\n              value={gallery_block_description}\n              onChange={this.props.onDescriptionChange}\n            />\n\n            {__('Select Gallery Images', 'p4ge')}\n            <div>\n              <MediaUploadCheck>\n                <MediaUpload\n                  title={__('Select Gallery Images', 'p4ge')}\n                  type=\"image\"\n                  onSelect={this.props.onSelectImage}\n                  value={multiple_image_array}\n                  allowedTypes={[\"image\"]}\n                  multiple=\"true\"\n                  render={ ({ open }) => getImageOrButton(open) }\n                />\n              </MediaUploadCheck>\n            </div>\n\n            {image_data &&\n            <div\n              className={\n                \"wp-block-master-theme-gallery__FocalPointPicker\"\n              }\n            >\n              <ul>\n                {image_data.map((item, index) => {\n                  return (\n                    <li\n                      key={index}\n                    >\n                      {__('Select gallery image focal point', 'p4ge')}\n                      <FocalPointPicker\n                        url={item.url}\n                        dimensions={dimensions}\n                        value={item.focalPoint}\n                        onChange={this.props.onFocalPointChange.bind(this,item.id)}\n                        key={item.id}\n                      />\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n            }\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/gallery'}\n                  attributes={{\n                    gallery_block_style: this.props.gallery_block_style,\n                    gallery_block_title: this.props.gallery_block_title,\n                    gallery_block_description: this.props.gallery_block_description,\n                    multiple_image: this.props.multiple_image,\n                    gallery_block_focus_points: this.props.gallery_block_focus_points,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Gallery} from './Gallery';\n\nconst {__} = wp.i18n;\n\nexport class GalleryBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/gallery', {\n        title: __('Gallery', 'p4ge'),\n        icon: 'format-gallery',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_gallery gallery_block_style=\"2\" gallery_block_title=\"test title\"\n         *                    gallery_block_description=\"test desc\" multiple_image=\"23603,23602,23600,23596\"\n         *                    gallery_block_focus_points=\"{'23596':'left top','23597':'left top','23599':'left top'}\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/gallery {\"gallery_block_style\":3,\"gallery_block_title\":\"test title\",\"gallery_block_description\":\"test desc\",\n         *      \"multiple_image\":\"23603,23602,23600,23596\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_gallery',\n              attributes: {\n                gallery_block_style: {\n                  type: 'integer',\n                  shortcode: ({named: {gallery_block_style = ''}}) => Number(gallery_block_style),\n                },\n                gallery_block_title: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_title = ''}}) => gallery_block_title,\n                },\n                gallery_block_description: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_description = ''}}) => gallery_block_description,\n                },\n                multiple_image: {\n                  type: 'string',\n                  shortcode: ({named: {multiple_image = ''}}) => multiple_image,\n                },\n                gallery_block_focus_points: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_focus_points = ''}}) => gallery_block_focus_points,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          gallery_block_style: {\n            type: 'number',\n            default: 1\n          },\n          gallery_block_title: {\n            type: 'string',\n          },\n          gallery_block_description: {\n            type: 'string',\n          },\n          multiple_image: {\n            type: 'string',\n          },\n          gallery_block_focus_points: {\n            type: 'string',\n          },\n          image_data: {\n            type: 'object',\n            default: []\n          },\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { multiple_image } = attributes;\n\n          let image_urls_array = [];\n\n          if ( multiple_image ) {\n            let image_id_array = multiple_image.split(',');\n\n            $.each(image_id_array, function( index, img_id ) {\n              let img_details = select('core').getMedia(img_id);\n              if ( img_details ) {\n                image_urls_array[img_id] = img_details.source_url;\n              }\n            });\n          }\n\n          return {\n            image_urls_array\n          };\n        } )( ( {\n          image_urls_array,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          let {image_data,gallery_block_focus_points} = attributes;\n\n          // Prepare image_data array on edit gallery block.\n          if (0 == image_data.length && 0 < image_urls_array.length) {\n            let new_image_data = [];\n            let focal_points_json = gallery_block_focus_points ? JSON.parse(gallery_block_focus_points):{};\n\n            for (const img_id in image_urls_array) {\n\n              let x,y;\n              if ($.isEmptyObject(focal_points_json)) {\n                [x,y] = [50,50];\n              } else {\n                [x,y] = focal_points_json[img_id].replace(/\\%/g, '').split(' ');\n              }\n\n              new_image_data.push({\n                url: image_urls_array[img_id],\n                focalPoint: {\n                  x:parseInt(x)/100,\n                  y:parseInt(y)/100\n                },\n                id: img_id\n              });\n            }\n\n            setAttributes({image_data: new_image_data});\n          }\n\n          function onTitleChange( value ) {\n            setAttributes({gallery_block_title: value});\n          }\n\n          function onDescriptionChange( value ) {\n            setAttributes({gallery_block_description: value });\n          }\n\n          function onSelectImage(value) {\n            let image_ids = [];\n            let image_data = [];\n            for (const key in value) {\n              image_ids.push(value[key].id);\n              let img_id = value[key].id;\n              image_data.push({url: value[key].url, focalPoint: {x:0.5, y:0.5}, id: img_id});\n            }\n            setAttributes({multiple_image: image_ids.join(',')});\n            setAttributes({image_data: image_data});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({gallery_block_style: Number(value)});\n          }\n\n          function onFocalPointChange( image_id, value ) {\n\n            let updated_image_data = [];\n            let gallery_block_focus_points = {};\n\n            image_data.map(function(object){\n              if (object.id === image_id) {\n                let x = parseFloat(value.x).toFixed(2);\n                let y = parseFloat(value.y).toFixed(2);\n\n                updated_image_data.push({url: object.url, focalPoint: {x,y}, id: image_id});\n                gallery_block_focus_points[image_id] = (x*100)+'% '+(y*100)+'%';\n\n              } else {\n                updated_image_data.push(object);\n                let img_id = object.id;\n                gallery_block_focus_points[img_id] = parseInt(object.focalPoint.x*100)+'% '+parseInt(object.focalPoint.y*100)+'%';\n              }\n            });\n\n            setAttributes({gallery_block_focus_points: JSON.stringify(gallery_block_focus_points)});\n            setAttributes({image_data: updated_image_data});\n          }\n\n          function onRemoveImages() {\n            setAttributes({multiple_image: ''});\n            setAttributes({gallery_block_focus_points: ''});\n            setAttributes({image_data: []});\n          }\n\n          return <Gallery\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onSelectImage={onSelectImage}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {Component,Fragment} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\n\nimport {\n  MediaPlaceholder,\n  InspectorControls,\n  BlockControls,\n  MediaUpload,\n  MediaUploadCheck\n} from '@wordpress/editor';\n\nimport {\n  TextControl,\n  ServerSideRender,\n  FocalPointPicker,\n  ToggleControl,\n  RangeControl,\n  PanelBody,\n  Button,\n  Toolbar,\n  IconButton\n} from '@wordpress/components';\n\nexport class Happypoint extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const dimensions = {width: 400, height: 100};\n\n      const {focus_image, opacity, mailing_list_iframe, iframe_url, url, id} = this.props;\n\n      let focal_point_params = {x:'',y:''};\n\n      if (focus_image) {\n        let focus_image_str = focus_image.replace(/%/g, '');\n        let [x, y] = focus_image_str.split(' ');\n        focal_point_params = {x: x/100,y: y/100};\n      } else {\n        focal_point_params = {x:0.5, y:0.5};\n      }\n\n      const getImageOrButton = (openEvent) => {\n        if ( this.props.id && ( 0 < this.props.id ) ) {\n\n          return (\n\n            <div align='center'>\n              <img\n                src={ this.props.url }\n                onClick={ openEvent }\n                className='happypoint__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n            </div>\n\n          );\n        }\n        else {\n          return (\n            <div className='button-container'>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Background Image', 'p4ge')}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <InspectorControls>\n            <PanelBody title={__('Setting', 'p4ge')}>\n              <RangeControl\n                label={__('Opacity', 'p4ge')}\n                value={opacity}\n                onChange={this.props.onOpacityChange}\n                min={1}\n                max={100}\n                initialPosition={opacity}\n                help={__('We use an overlay to fade the image back. Use a number between 1 and 100, the higher the number, the more faded the image will look. If you leave this empty, the default of 30 will be used.', 'p4ge')}\n              />\n              <ToggleControl\n                label={__('Use mailing list iframe', 'p4ge')}\n                help={__('Use mailing list iframe', 'p4ge')}\n                value={mailing_list_iframe}\n                checked={this.props.mailing_list_iframe}\n                onChange={this.props.onMailingListIframeChange}\n              />\n              <TextControl\n                label={__('Iframe url', 'p4ge')}\n                placeholder={__('Enter Iframe url', 'p4ge')}\n                help={__('If a url is set in this field and the \\'mailing list iframe\\' option is enabled, it will override the planet4 engaging network setting.', 'p4ge')}\n                value={iframe_url}\n                onChange={this.props.onIframeUrlChange}\n              />\n            </PanelBody>\n          </InspectorControls>\n          <BlockControls>\n            { this.props.id && ( 0 < this.props.id ) && (\n              <Toolbar>\n                <MediaUploadCheck>\n                  <MediaUpload\n                    onSelect={this.props.onSelectImage}\n                    allowedTypes={['image']}\n                    value={id}\n                    type='image'\n                    render={({ open }) => {\n                      return (\n                        <IconButton\n                          className='components-icon-button components-toolbar__control'\n                          label={__('Edit Image', 'p4ge')}\n                          onClick={open}\n                          icon='edit'\n                        />\n                      );\n                    }}\n                  />\n                </MediaUploadCheck>\n                <IconButton\n                  className='components-icon-button components-toolbar__control'\n                  label={__('Remove Image', 'p4ge')}\n                  onClick={this.props.onRemoveImages}\n                  icon='trash'\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          {__('Select Background Image', 'p4ge')}\n          <div>\n            <MediaUploadCheck>\n              <MediaUpload\n                title={__('Select Background Image', 'p4ge')}\n                type='image'\n                onSelect={this.props.onSelectImage}\n                value={id}\n                allowedTypes={['image']}\n                render={ ({ open }) => getImageOrButton(open) }\n              />\n            </MediaUploadCheck>\n          </div>\n          {id && 0 < id &&\n            <div>\n              {__('Select focus point for background image', 'p4ge')}\n              <FocalPointPicker\n                url={url}\n                dimensions={dimensions}\n                value={focal_point_params}\n                onChange={this.props.onFocalPointChange}\n              />\n            </div>\n          }\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/happypoint'}\n                  attributes={{\n                    id: this.props.id,\n                    focus_image: this.props.focus_image,\n                    opacity: this.props.opacity,\n                    mailing_list_iframe: this.props.mailing_list_iframe,\n                    iframe_url: this.props.iframe_url,\n                    load_iframe: true,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Happypoint} from './Happypoint';\n\nexport class HappypointBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/happypoint', {\n        title: __('Happypoint', 'p4ge'),\n        icon: 'format-image',\n        category: 'planet4-blocks',\n\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_happy_point background=\"4968\" focus_image=\"center center\" opacity=\"60\" mailing_list_iframe=\"true\" iframe_url=\"https%3A%2F%2Fact.greenpeace.org%2Fpage%2F34215%2Fsubscribe%2F1\" /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/happypoint {\"focus_image\":\"50% 50%\",\"opacity\":60,\"mailing_list_iframe\":true,\"iframe_url\":\"https://act.greenpeace.org/page/34215/subscribe/1\",\"id\":4968} /-->\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_happy_point',\n              attributes: {\n                opacity: {\n                  type: 'integer',\n                  shortcode: ({named: {opacity = ''}}) => opacity,\n                },\n                id: {\n                  type: 'integer',\n                  shortcode: ({named: {background}}) => Number(background),\n                },\n                focus_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_image = ''}}) => focus_image,\n                },\n                mailing_list_iframe: {\n                  type: 'boolean',\n                  shortcode: ({named: {mailing_list_iframe}}) => mailing_list_iframe == 'true',\n                },\n                iframe_url: {\n                  type: 'string',\n                  shortcode: ({named: {iframe_url = ''}}) => iframe_url,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          focus_image: {\n            type: 'string',\n          },\n          opacity: {\n            type: 'number',\n            default: 60\n          },\n          mailing_list_iframe: {\n            type: 'boolean',\n          },\n          iframe_url: {\n            type: 'string',\n          },\n          id: {\n            type: 'number',\n          },\n          load_iframe: {\n            type: 'boolean',\n            default: false\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n          const { attributes } = props;\n          const { id } = attributes;\n          let img_url = '';\n\n          if (id && (0 < id)) {\n            img_url = select('core').getMedia(id);\n            if(img_url){\n              img_url = img_url.source_url;\n            }\n          }\n\n          return {\n            img_url\n          };\n        } )( ( {\n          img_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n          function onBackgroundChange( value ) {\n            setAttributes({background: value});\n          }\n\n          function onOpacityChange( value ) {\n            setAttributes({opacity: value});\n          }\n\n          function onMailingListIframeChange( value ) {\n            setAttributes({mailing_list_iframe: value});\n          }\n\n          function onIframeUrlChange( value ) {\n            setAttributes({iframe_url: value});\n          }\n\n          function onFocalPointChange( {x,y} ) {\n            x = parseFloat(x).toFixed(2);\n            y = parseFloat(y).toFixed(2);\n            setAttributes({focus_image: (x*100)+'% '+(y*100)+'%'});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({id});\n          }\n\n          function onRemoveImages() {\n            setAttributes({id: -1});\n            setAttributes({focus_image: ''});\n          }\n\n          return <Happypoint\n            {...attributes}\n            isSelected={isSelected}\n            url={img_url}\n            onSelectImage={onSelectImage}\n            onOpacityChange={onOpacityChange}\n            onMailingListIframeChange={onMailingListIframeChange}\n            onIframeUrlChange={onIframeUrlChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\n\nexport class Media extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {video_title,description,youtube_id} = this.props;\n\n      return (\n        <Fragment>\n          <div>\n            <TextControl\n              label={__('Media Title', 'p4ge')}\n              placeholder={__('Enter video title', 'p4ge')}\n              value={video_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={description}\n              onChange={this.props.onDescriptionChange}\n            />\n            <TextControl\n              label={__('Media URL/ID', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              value={youtube_id}\n              onChange={this.props.onMediaUrlChange}\n              help={__('Can be a YouTube, Vimeo or Soundcloud URL or an mp4, mp3 or wav file URL.', 'p4ge')}\n            />\n            <MediaPlaceholder\n              labels={{ title: __('Video poster image [Optional]', 'p4ge'), instructions: __('Applicable for .mp4 video URLs only.', 'p4ge')}}\n              icon=\"format-image\"\n              onSelect={this.props.onSelectImage}\n              onSelectURL={this.props.onSelectURL}\n              onError={this.props.onUploadError}\n              accept=\"image/*\"\n              allowedTypes={[\"image\"]}\n            />\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                { this.props.youtube_id &&\n                  <ServerSideRender\n                    block={'planet4-blocks/media-video'}\n                    attributes={{\n                      video_title: this.props.video_title,\n                      description: this.props.description,\n                      youtube_id: this.props.youtube_id,\n                      video_poster_img: this.props.video_poster_img,\n                    }}>\n                  </ServerSideRender>\n                }\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Media} from './Media';\n\nconst {__} = wp.i18n;\n\nexport class MediaBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/media-video', {\n        title: __('Media block', 'p4ge'),\n        icon: 'format-video',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_media_video video_title=\"Lorem Ipsum\"\n         *                        description=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\"\n         *                        youtube_id=\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\"\n         *                        video_poster_img=\"23241\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/media-video {\"video_title\":\"Lorem Ipsum\",\"description\":\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\",\"youtube_id\":\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\"video_poster_img\":23241} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_media_video',\n              attributes: {\n                video_title: {\n                  type: 'string',\n                  shortcode: ({named: {video_title = ''}}) => video_title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                youtube_id: {\n                  type: 'string',\n                  shortcode: ({named: {youtube_id = ''}}) => youtube_id,\n                },\n                video_poster_img: {\n                  type: 'integer',\n                  shortcode: ({named: {video_poster_img = ''}}) => video_poster_img,\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          video_title: {\n            type: 'string'\n          },\n          description: {\n            type: 'string'\n          },\n          youtube_id: {\n            type: 'string'\n          },\n          video_poster_img: {\n            type: 'integer'\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n          function onTitleChange(value) {\n            setAttributes({video_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({description: value});\n          }\n\n          function onMediaUrlChange(value) {\n            setAttributes({youtube_id: value});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({video_poster_img: id});\n          }\n\n          function onSelectURL({url}) {\n            setAttributes({id: null});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          return <Media\n            {...attributes}\n            isSelected={isSelected}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onMediaUrlChange={onMediaUrlChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            onUploadError={onUploadError}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\nimport {\n  RadioControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Socialmedia extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  componentDidUpdate() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  /**\n   * Check if twitter embeds script is loaded and initiliaze it.\n   */\n  checkTwitterScript() {\n    if (this.props.social_media_url.includes('twitter')) {\n      let twitterScript = document.querySelector('script[src=\"https://platform.twitter.com/widgets.js\"]');\n\n      if (null === twitterScript) {\n        let scriptLoaded = this.loadScriptAsync('https://platform.twitter.com/widgets.js');\n        scriptLoaded.then(function () {\n          this.initializeTwitterEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeTwitterEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Check if instgram embeds script is loaded and initiliaze it.\n   */\n  checkInstagramScript() {\n    if (this.props.social_media_url.includes('instagram')) {\n      let instaScript = document.querySelector('script[src=\"https://www.instagram.com/embed.js\"]');\n\n      if (null === instaScript) {\n        let scriptLoaded = this.loadScriptAsync('https://www.instagram.com/embed.js');\n        scriptLoaded.then(function () {\n          this.initializeInstagramEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeInstagramEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Initialize twitter embeds.\n   */\n  initializeTwitterEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.twttr) {\n        window.twttr.widgets.load();\n      }\n    }, 2000);\n  }\n\n  /**\n   * Initialize instagram embeds.\n   */\n  initializeInstagramEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.instgrm) {\n        window.instgrm.Embeds.process();\n      }\n    }, 3000);\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const embed_type_help = __('Select oEmbed for the following types of social media<br>- Twitter: tweet, profile, list, collection, likes, moment<br>- Facebook: post, activity, photo, video, media, question, note<br>- Instagram: image', 'planet4-blocks-backend');\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'planet4-blocks-backend')}\n            placeholder={__('Enter title', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'planet4-blocks-backend')}\n            placeholder={__('Enter description', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <RadioControl\n            label={__('Embed type', 'planet4-blocks-backend')}\n            help={\n              <RawHTML>{embed_type_help}</RawHTML>\n            }\n            options={[\n              {label: 'oEmbed', value: 'oembed'},\n              {label: 'Facebook page', value: 'facebook_page'},\n            ]}\n            selected={this.props.embed_type}\n            onChange={this.props.onEmbedTypeChange}\n          />\n        </div>\n\n        {\n          this.props.embed_type === 'facebook_page'\n            ?\n            <div>\n              <SelectControl\n                label={__('What Facebook page content would you like to display?', 'planet4-blocks-backend')}\n                value={this.props.facebook_page_tab}\n                options={[\n                  {label: 'Timeline', value: 'timeline'},\n                  {label: 'Events', value: 'events'},\n                  {label: 'Mesages', value: 'messages'},\n                ]}\n                onChange={this.props.onFacebookPageTabChange}\n              />\n            </div>\n            : null\n        }\n\n        <div>\n          <TextControl\n            label={__('URL', 'planet4-blocks-backend')}\n            placeholder={__('Enter URL', 'planet4-blocks-backend')}\n            value={this.props.social_media_url}\n            onChange={this.props.onSocialMediaUrlChange}\n          />\n        </div>\n\n        <div>\n          <SelectControl\n            label={__('Alignment', 'planet4-blocks-backend')}\n            value={this.props.alignment_class}\n            options={[\n              {label: 'None', value: ''},\n              {label: 'Left', value: 'alignleft'},\n              {label: 'Center', value: 'aligncenter'},\n              {label: 'Right', value: 'alignright'},\n            ]}\n            onChange={this.props.onAlignmentChange}\n          />\n        </div>\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n            <ServerSideRender\n              block={'planet4-blocks/social-media'}\n              attributes={{\n                title: this.props.title,\n                description: this.props.description,\n                embed_type: this.props.embed_type,\n                facebook_page_tab: this.props.facebook_page_tab,\n                social_media_url: this.props.social_media_url,\n                alignment_class: this.props.alignment_class,\n              }}>\n            </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Socialmedia} from './Socialmedia.js';\n\nexport class SocialmediaBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {__} = wp.i18n;\n\n    registerBlockType('planet4-blocks/social-media', {\n      title: __('Social Media', 'p4ge'),\n      icon: 'share',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_social_media',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              embed_type: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.embed_type;\n                }\n              },\n              facebook_page_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.facebook_page_tab;\n                }\n              },\n              social_media_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.social_media_url;\n                }\n              },\n              alignment_class: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.alignment_class;\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        title: {\n          type: 'string',\n          default: '',\n        },\n        description: {\n          type: 'string',\n          default: '',\n        },\n        embed_type: {\n          type: 'string',\n          default: 'oembed'\n        },\n        facebook_page_tab: {\n          type: 'string',\n          default: 'timeline'\n        },\n        social_media_url: {\n          type: 'string',\n          default: ''\n        },\n        alignment_class: {\n          type: 'string',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        // These methods are passed down to the\n        // Socialmedia component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onEmbedTypeChange(value) {\n          setAttributes({embed_type: value});\n        }\n\n        function onFacebookPageTabChange(value) {\n          setAttributes({facebook_page_tab: value});\n        }\n\n        function onSocialMediaUrlChange(value) {\n          setAttributes({social_media_url: value});\n        }\n\n        function onAlignmentChange(value) {\n          setAttributes({alignment_class: value});\n        }\n\n\n        // We pass down all the attributes to Socialmedia as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Socialmedia\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onEmbedTypeChange={onEmbedTypeChange}\n          onFacebookPageTabChange={onFacebookPageTabChange}\n          onSocialMediaUrlChange={onSocialMediaUrlChange}\n          onAlignmentChange={onAlignmentChange} />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import { Component, Fragment } from '@wordpress/element';\nimport { Preview } from '../../components/Preview';\n\n\nimport {\n  MediaPlaceholder,\n  InspectorControls,\n  BlockControls,\n  MediaUpload,\n  MediaUploadCheck\n} from '@wordpress/editor';\n\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender,\n  FocalPointPicker,\n  ToggleControl,\n  RangeControl,\n  PanelBody,\n  Button,\n  Toolbar,\n  IconButton\n} from '@wordpress/components';\n\nexport class Socialshare extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const { __ } = wp.i18n;\n\n    const dimensions = { width: 212, height: 212 };\n\n    const { focus_image, id, multiple_image, image_data } = this.props;\n\n    let focal_point_params = { x: '', y: '' };\n\n    if (focus_image) {\n      let focus_image_str = focus_image.replace(/%/g, '');\n      let [x, y] = focus_image_str.split(' ');\n      focal_point_params = { x: x / 100, y: y / 100 };\n    } else {\n      focal_point_params = { x: 0.5, y: 0.5 };\n    }\n\n    const getImageOrButton = (openEvent) => {\n      if (0 < this.props.image_data.length) {\n\n        return (\n\n          this.props.image_data.map((item, index) => {\n            return (\n              <span>\n                <img\n                  src={item.url}\n                  onClick={openEvent}\n                  className=\"gallery__imgs\"\n                  key={index}\n                  width='150 px'\n                  style={{ padding: '10px 10px' }}\n                />\n              </span>\n            );\n          })\n\n        );\n      }\n      else {\n        return (\n          <div className=\"button-container\">\n            <Button\n              onClick={openEvent}\n              className=\"button\">\n              + {__('Select Gallery Images', 'p4ge')}\n            </Button>\n\n            <div>{__('Select images in the order you want them to appear.', 'p4ge')}</div>\n          </div>\n        );\n      }\n    };\n\n\n\n    let multiple_image_array = multiple_image ? multiple_image.split(',') : [];\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'planet4-blocks-backend')}\n            placeholder={__('Enter title', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n          <TextareaControl\n            label={__('Description', 'planet4-blocks-backend')}\n            placeholder={__('Enter description', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n        <BlockControls>\n          {this.props.id && (0 < this.props.id) && (\n            <Toolbar>\n\n              {__('Select Gallery Images', 'p4ge')}\n              <div>\n                <MediaUploadCheck>\n                  <MediaUpload\n                    title={__('Select Gallery Images', 'p4ge')}\n                    type=\"image\"\n                    onSelect={this.props.onSelectImage}\n                    value={multiple_image_array}\n                    allowedTypes={[\"image\"]}\n                    multiple=\"true\"\n                    render={({ open }) => getImageOrButton(open)}\n                  />\n                </MediaUploadCheck>\n              </div>\n              <IconButton\n                className='components-icon-button components-toolbar__control'\n                label={__('Remove Image', 'p4ge')}\n                onClick={this.props.onRemoveImages}\n                icon='trash'\n              />\n            </Toolbar>\n          )}\n        </BlockControls>\n        {__('Select Gallery Images', 'p4ge')}\n        <div>\n          <MediaUploadCheck>\n            <MediaUpload\n              title={__('Select Gallery Images', 'p4ge')}\n              type=\"image\"\n              onSelect={this.props.onSelectImage}\n              value={multiple_image_array}\n              allowedTypes={[\"image\"]}\n              multiple=\"true\"\n              render={({ open }) => getImageOrButton(open)}\n            />\n          </MediaUploadCheck>\n        </div>\n\n        {image_data &&\n          <div\n            className={\n              \"wp-block-master-theme-gallery__FocalPointPicker\"\n            }\n          >\n            <ul>\n              {image_data.map((item, index) => {\n                return (\n                  <li\n                    key={index}\n                  >\n                    {__('Select gallery image focal point', 'p4ge')}\n                    <FocalPointPicker\n                      url={item.url}\n                      dimensions={dimensions}\n                      value={item.focalPoint}\n                      onChange={this.props.onFocalPointChange.bind(this, item.id)}\n                      key={item.id}\n                    />\n                    {__('Enter message for social media', 'p4ge')}\n                    <TextControl\n                      label={__('Social message', 'planet4-blocks-backend')}\n                      placeholder={__('Enter message', 'planet4-blocks-backend')}\n                      help={__('Optional', 'planet4-blocks-backend')}\n                      value={item.message}\n                      onChange={this.props.onMessageChange.bind(this, item.id)}\n                      key={item.id + 't1'}\n\n                    />\n\n                    {__('Enter URL to share', 'p4ge')}\n                    <TextControl\n                      label={__('Social URL', 'planet4-blocks-backend')}\n                      placeholder={__('Enter URL to share', 'planet4-blocks-backend')}\n                      help={__('Optional', 'planet4-blocks-backend')}\n                      value={item.social_url}\n                      onChange={this.props.onURLChange.bind(this, item.id)}\n                      key={item.id + 't2'}\n                    />\n                  </li>\n                );\n              })}\n            </ul>\n          </div>\n        }\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/socialshare'}\n            attributes={{\n              multiple_image: this.props.multiple_image,\n              gallery_block_focus_points: this.props.gallery_block_focus_points,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import { Socialshare } from './Socialshare';\n\nexport class SocialshareBlock {\n  constructor() {\n    const { registerBlockType } = wp.blocks;\n    const { __ } = wp.i18n;\n    const { withSelect } = wp.data;\n\n    registerBlockType('planet4-blocks/socialshare', {\n      title: __('Socialshare', 'p4ge'),\n      icon: 'format-image',\n      category: 'planet4-blocks',\n\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_socail_share',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              id: {\n                type: 'integer',\n                shortcode: ({ named: { id = '' } }) => id,\n              },\n              multiple_image: {\n                type: 'string',\n                shortcode: ({ named: { multiple_image = '' } }) => multiple_image,\n              },\n              gallery_block_focus_points: {\n                type: 'string',\n                shortcode: ({ named: { gallery_block_focus_points = '' } }) => gallery_block_focus_points,\n              },\n              messages: {\n                type: 'string',\n                shortcode: ({ named: { messages = '' } }) => messages,\n              },\n              urls: {\n                type: 'string',\n                shortcode: ({ named: { urls = '' } }) => urls,\n              },\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n          default: '',\n        },\n        description: {\n          type: 'string',\n          default: '',\n        },\n        id: {\n          type: 'number',\n        },\n\n        multiple_image: {\n          type: 'string',\n        },\n        image_data: {\n          type: 'object',\n          default: []\n        },\n        gallery_block_focus_points: {\n          type: 'string',\n        },\n        messages: {\n          type: 'string',\n        },\n        urls: {\n          type: 'string',\n        },\n      },\n      edit: withSelect((select, props) => {\n\n        const { attributes } = props;\n        const { multiple_image } = attributes;\n\n        let image_urls_array = [];\n\n        if (multiple_image) {\n          let image_id_array = multiple_image.split(',');\n\n          $.each(image_id_array, function (index, img_id) {\n            let img_url = select('core').getMedia(img_id);\n            if (img_url) {\n              image_urls_array[img_id] = img_url.media_details.sizes.medium.source_url;\n            }\n          });\n        }\n\n        return {\n          image_urls_array\n        };\n      })(({\n        image_urls_array,\n        isSelected,\n        attributes,\n        setAttributes\n      }) => {\n\n        let { image_data, gallery_block_focus_points, messages, urls } = attributes;\n\n        // Prepare image_data array on edit gallery block.\n        if (0 == image_data.length && 0 < image_urls_array.length) {\n          let new_image_data = [];\n          let focal_points_json = gallery_block_focus_points ? JSON.parse(gallery_block_focus_points) : {};\n          let messages_json = messages ? JSON.parse(messages) : {};\n          debugger;\n          let urlss_json = urls ? JSON.parse(urls) : {};\n          for (const img_id in image_urls_array) {\n\n            let x, y;\n            if ($.isEmptyObject(focal_points_json)) {\n              [x, y] = [50, 50];\n            } else {\n              [x, y] = focal_points_json[img_id].replace(/\\%/g, '').split(' ');\n            }\n\n            let mes;\n\n            if ($.isEmptyObject(messages_json)) {\n              mes = '';\n            } else {\n              mes = messages_json[img_id];\n            }\n\n            let url;\n\n            if ($.isEmptyObject(urlss_json)) {\n              url = '';\n            } else {\n              url = urlss_json[img_id];\n            }\n\n            new_image_data.push({\n              url: image_urls_array[img_id],\n              focalPoint: {\n                x: parseInt(x) / 100,\n                y: parseInt(y) / 100\n              },\n              id: img_id,\n              message: mes,\n              social_url: url\n            });\n          }\n\n          setAttributes({ image_data: new_image_data });\n        }\n\n        function onTitleChange(value) {\n          setAttributes({ title: value });\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({ description: value });\n        }\n\n        function onFocalPointChange(image_id, value) {\n\n          let updated_image_data = [];\n          let gallery_block_focus_points = {};\n\n          image_data.map(function (object) {\n            if (object.id === image_id) {\n              let x = parseFloat(value.x).toFixed(2);\n              let y = parseFloat(value.y).toFixed(2);\n\n              updated_image_data.push({ url: object.url, social_url: object.social_url, focalPoint: { x, y }, id: image_id, message: object.message });\n              gallery_block_focus_points[image_id] = (x * 100) + '% ' + (y * 100) + '%';\n\n            } else {\n              updated_image_data.push(object);\n              let img_id = object.id;\n              gallery_block_focus_points[img_id] = parseInt(object.focalPoint.x * 100) + '% ' + parseInt(object.focalPoint.y * 100) + '%';\n            }\n          });\n\n          setAttributes({ gallery_block_focus_points: JSON.stringify(gallery_block_focus_points) });\n          setAttributes({ image_data: updated_image_data });\n        }\n\n        function onMessageChange(image_id, value) {\n\n          let updated_image_data = [];\n          let messages = {};\n          image_data.map(function (object) {\n            if (object.id === image_id) {\n              updated_image_data.push({ url: object.url, social_url: object.social_url, focalPoint: object.focalPoint, id: image_id, message: value });\n              messages[image_id] = value;\n            } else {\n              updated_image_data.push(object);\n              let img_id = object.id;\n              messages[img_id] = object.message;\n            }\n          });\n          setAttributes({ messages: JSON.stringify(messages) });\n          setAttributes({ image_data: updated_image_data });\n        }\n\n        function onURLChange(image_id, value) {\n\n          let updated_image_data = [];\n          let urls = {};\n          image_data.map(function (object) {\n            if (object.id === image_id) {\n              updated_image_data.push({ url: object.url, focalPoint: object.focalPoint, id: image_id, message: object.message, social_url: value });\n              urls[image_id] = value;\n            } else {\n              updated_image_data.push(object);\n              let img_id = object.id;\n              urls[img_id] = object.social_url;\n            }\n          });\n          setAttributes({ urls: JSON.stringify(urls) });\n          setAttributes({ image_data: updated_image_data });\n        }\n\n        function onSelectImage(value) {\n          let image_ids = [];\n          let image_data = [];\n          for (const key in value) {\n            image_ids.push(value[key].id);\n            let img_id = value[key].id;\n            let message = value[key].message;\n            let surl = value[key].social_url;\n            image_data.push({ url: value[key].url, focalPoint: { x: 0.5, y: 0.5 }, id: img_id, message: message, social_url: surl });\n          }\n          setAttributes({ multiple_image: image_ids.join(',') });\n          setAttributes({ image_data: image_data });\n        }\n\n        function onRemoveImages() {\n          setAttributes({ multiple_image: '' });\n          setAttributes({ gallery_block_focus_points: '' });\n          setAttributes({ image_data: [] });\n        }\n\n        return <Socialshare\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onSelectImage={onSelectImage}\n          onMessageChange={onMessageChange}\n          onURLChange={onURLChange}\n          onFocalPointChange={onFocalPointChange}\n          onRemoveImages={onRemoveImages}\n        />\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  SelectControl\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\n\nexport class Splittwocolumns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      let tag_list   = this.props.tagsList.map((tag) => ({label: tag.name, value: tag.id}));\n      tag_list.unshift({label: '--Select Tag--', value: 0});\n\n      let issuepage_list = this.props.issuepageList.map((issue) => ({label: issue.title.raw, value: issue.id}));\n      issuepage_list.unshift({label: '--Select Issue--', value: 0});\n\n      const {__} = wp.i18n;\n\n      const {\n        select_issue,\n        title,\n        issue_description,\n        issue_link_text,\n        issue_link_path,\n        issue_image,\n        focus_issue_image,\n        select_tag,\n        tag_description,\n        button_text,\n        button_link,\n        tag_image,\n        focus_tag_image,\n        issue_image_url,\n        tag_image_url\n      } = this.props;\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_issue_image_obj = {x: 0.5,y: 0.5};\n      if (focus_issue_image) {\n        let [x,y] = focus_issue_image.replace(/\\%/g, '').split(' ');\n        focus_issue_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_tag_image_obj = {x: 0.5,y: 0.5};\n      if (focus_tag_image) {\n        let [x,y] = focus_tag_image.replace(/\\%/g, '').split(' ');\n        focus_tag_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      const dimensions = {width: 400, height: 100};\n\n      return (\n        <Fragment>\n          <h3>{__('Issue fields (Column 1 - Left side)', 'p4ge')}</h3>\n          <div>\n            {issuepage_list &&\n              <SelectControl\n                label={__('Select an issue', 'p4ge')}\n                value={select_issue}\n                options={issuepage_list}\n                onChange={this.props.onSelectIssue}\n              />\n            }\n            <TextControl\n              label={__('Issue Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={title}\n              onChange={this.props.onIssueTitleChange}\n              help={__('(Optional) Fill this only if you need to override issue title.', 'p4ge')}\n            />\n            <TextareaControl\n              label={__('Issue Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional) Fill this only if you need to override issue description.', 'p4ge')}\n              value={issue_description}\n              onChange={this.props.onIssueDescriptionChange}\n            />\n            <TextControl\n              label={__('Issue link text', 'p4ge')}\n              placeholder={__('Enter link text', 'p4ge')}\n              value={issue_link_text}\n              onChange={this.props.onIssueLinkTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Issue link path', 'p4ge')}\n              placeholder={__('Enter link path', 'p4ge')}\n              value={issue_link_path}\n              onChange={this.props.onIssueLinkPathChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Issue Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Issue', 'p4ge')}\n              onSelectImage={this.props.onSelectIssueImage}\n              imageId={issue_image}\n              imageUrl={issue_image_url}\n              buttonLabel={__('+ Select Image for Issue', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-issue-imgs'\n            />\n\n            {issue_image &&\n            <div>\n              {__('Select focal point for issue image', 'p4ge')}\n              <FocalPointPicker\n                url={issue_image_url}\n                dimensions={dimensions}\n                value={focus_issue_image_obj}\n                onChange={this.props.onIssueImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n          <h3>{__('Campaign fields (Column 2 - Right side)', 'p4ge')}</h3>\n          <div>\n            {tag_list &&\n              <SelectControl\n                label={__('Select a tag', 'p4ge')}\n                value={select_tag}\n                options={tag_list}\n                onChange={this.props.onSelectTag}\n              />\n            }\n            <TextareaControl\n              label={__('Campaign Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={tag_description}\n              onChange={this.props.onTagDescriptionChange}\n            />\n            <TextControl\n              label={__('Campaign button text', 'p4ge')}\n              placeholder={__('Enter button text', 'p4ge')}\n              value={button_text}\n              onChange={this.props.onButtonTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Campaign button link', 'p4ge')}\n              placeholder={__('Enter button link', 'p4ge')}\n              value={button_link}\n              onChange={this.props.onButtonLinkChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Campaign Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Campaign', 'p4ge')}\n              onSelectImage={this.props.onSelectCampaignImage}\n              imageId={tag_image}\n              imageUrl={tag_image_url}\n              buttonLabel={__('+ Select Image for Campaign', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-tag_imgs'\n            />\n\n            {tag_image &&\n            <div>\n              {__('Select focal point for campaign image', 'p4ge')}\n              <FocalPointPicker\n                url={tag_image_url}\n                dimensions={dimensions}\n                value={focus_tag_image_obj}\n                onChange={this.props.onCampaignImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/split-two-columns'}\n                  attributes={{\n                    select_issue: this.props.select_issue,\n                    title: this.props.title,\n                    issue_description: this.props.issue_description,\n                    issue_link_text: this.props.issue_link_text,\n                    issue_link_path: this.props.issue_link_path,\n                    issue_image: this.props.issue_image,\n                    focus_issue_image: this.props.focus_issue_image,\n                    select_tag: this.props.select_tag,\n                    tag_description: this.props.tag_description,\n                    button_text: this.props.button_text,\n                    button_link: this.props.button_link,\n                    tag_image: this.props.tag_image,\n                    focus_tag_image: this.props.focus_tag_image,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Splittwocolumns} from './Splittwocolumns';\n\nconst {__} = wp.i18n;\n\nexport class SplittwocolumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/split-two-columns', {\n        title: __('Split Two Columns', 'p4ge'),\n        icon: 'editor-table',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_split_two_columns select_issue=\"13813\" title=\"lorem ipsum\" issue_description=\"lorem ipsum\" issue_link_text=\"test link\"\n         *        issue_link_path=\"http://www.googlw.com\" issue_image=\"23634\" focus_issue_image=\"right top\" select_tag=\"19\"\n         *        tag_description=\"lorem ipsum\" button_text=\"btn text\" button_link=\"http://www.google.com\" tag_image=\"23634\" focus_tag_image=\"right top\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/split-two-columns {\"select_issue\":2079,\"title\":\"Lorem Ipsum\",\"issue_description\":\"Lorem Ipsum\",\"issue_link_text\":\"tets link\",\"issue_link_path\":\"http://www.google.com\",\"issue_image\":23634,\"focus_issue_image\":\"33% 60%\",\"select_tag\":65,\"tag_description\":\"Lorem Ipsum\",\"button_text\":\"btn text\",\"button_link\":\"http://www.google.com\",\"tag_image\":23634,\"focus_tag_image\":\"30% 79%\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_split_two_columns',\n              attributes: {\n                select_issue: {\n                  type: 'integer',\n                  shortcode: ({named: {select_issue = ''}}) => Number(select_issue) > 0 ? Number(select_issue) : null,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                issue_description: {\n                  type: 'string',\n                  shortcode: ({named: {issue_description = ''}}) => issue_description,\n                },\n                issue_link_text: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_text = ''}}) => issue_link_text,\n                },\n                issue_link_path: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_path = ''}}) => issue_link_path,\n                },\n                issue_image: {\n                  type: 'integer',\n                  shortcode: ({named: {issue_image = ''}}) => Number(issue_image) > 0 ? Number(issue_image) : null,\n                },\n                focus_issue_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_issue_image = ''}}) => focus_issue_image,\n                },\n                select_tag: {\n                  type: 'integer',\n                  shortcode: ({named: {select_tag = ''}}) => Number(select_tag) > 0 ? Number(select_tag) : null,\n                },\n                tag_description: {\n                  type: 'string',\n                  shortcode: ({named: {tag_description = ''}}) => tag_description,\n                },\n                button_text: {\n                  type: 'string',\n                  shortcode: ({named: {button_text = ''}}) => button_text,\n                },\n                button_link: {\n                  type: 'string',\n                  shortcode: ({named: {button_link = ''}}) => button_link,\n                },\n                tag_image: {\n                  type: 'integer',\n                  shortcode: ({named: {tag_image = ''}}) => Number(tag_image) > 0 ? Number(tag_image) : null,\n                },\n                focus_tag_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_tag_image = ''}}) => focus_tag_image,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          select_issue: {\n            type: 'number',\n            default: 0,\n          },\n          title: {\n            type: 'string',\n          },\n          issue_description: {\n            type: 'string',\n          },\n          issue_link_text: {\n            type: 'string',\n          },\n          issue_link_path: {\n            type: 'string',\n          },\n          issue_image: {\n            type: 'number',\n          },\n          focus_issue_image: {\n            type: 'string',\n          },\n          select_tag: {\n            type: 'number',\n            default: 0,\n          },\n          tag_description: {\n            type: 'string',\n          },\n          button_text: {\n            type: 'string',\n          },\n          button_link: {\n            type: 'string',\n          },\n          tag_image: {\n            type: 'number',\n          },\n          focus_tag_image: {\n            type: 'string',\n          },\n        },\n        edit: withSelect((select,props) => {\n          const tagsTaxonomy = 'post_tag';\n          const issuePage    = 'page';\n\n          const taxonomy_args = {\n            hide_empty: false,\n            per_page: 50,\n          };\n          const {getEntityRecords} = select('core');\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, taxonomy_args);\n\n          const issue_page_args = {\n            per_page: -1,\n            sort_order: 'asc',\n            sort_column: 'post_title',\n            parent: window.p4ge_vars.planet4_options.explore_page,\n            post_status: 'publish',\n          };\n          const issuepageList = getEntityRecords('postType', issuePage, issue_page_args);\n\n          const { attributes } = props;\n          const { issue_image,tag_image } = attributes;\n\n          let issue_image_url = '';\n          if (issue_image) {\n            issue_image_url = select('core').getMedia(issue_image);\n            if ( issue_image_url ) {\n              issue_image_url = issue_image_url.source_url;\n            }\n          }\n\n          let tag_image_url = '';\n          if (tag_image) {\n            tag_image_url = select('core').getMedia(tag_image);\n            if ( tag_image_url ) {\n              tag_image_url = tag_image_url.source_url;\n            }\n          }\n\n          return {\n            tagsList,\n            issuepageList,\n            issue_image_url,\n            tag_image_url,\n          };\n\n        } )( ( {\n          tagsList,\n          issuepageList,\n          issue_image_url,\n          tag_image_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          if (!tagsList || !issuepageList) {\n            return \"Populating block's fields...\";\n          }\n\n          if ((tagsList && tagsList.length === 0) || (issuepageList && issuepageList.length === 0)) {\n            return \"Populating block's fields...\";\n          }\n\n          function onSelectIssue( value ) {\n            setAttributes({select_issue: parseInt(value)});\n          }\n\n          function onIssueTitleChange( value ) {\n            setAttributes({title: value });\n          }\n\n          function onIssueDescriptionChange( value ) {\n            setAttributes({issue_description: value});\n          }\n\n          function onIssueLinkTextChange( value ) {\n            setAttributes({issue_link_text: value });\n          }\n\n          function onIssueLinkPathChange( value ) {\n            setAttributes({issue_link_path: value});\n          }\n\n          function onSelectIssueImage( {id} ) {\n            setAttributes({issue_image: id});\n          }\n\n          function onIssueImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_issue_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          function onSelectTag( value ) {\n            setAttributes({select_tag: parseInt(value)});\n          }\n\n          function onTagDescriptionChange( value ) {\n            setAttributes({tag_description: value});\n          }\n\n          function onButtonTextChange( value ) {\n            setAttributes({button_text: value });\n          }\n\n          function onButtonLinkChange( value ) {\n            setAttributes({button_link: value});\n          }\n\n          function onSelectCampaignImage( {id} ) {\n            setAttributes({tag_image: id});\n          }\n\n          function onCampaignImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_tag_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          return <Splittwocolumns\n            {...attributes}\n            isSelected={isSelected}\n            tagsList={tagsList}\n            issuepageList={issuepageList}\n            issue_image_url={issue_image_url}\n            tag_image_url={tag_image_url}\n            onSelectIssue={onSelectIssue}\n            onIssueTitleChange={onIssueTitleChange}\n            onIssueDescriptionChange={onIssueDescriptionChange}\n            onIssueLinkTextChange={onIssueLinkTextChange}\n            onIssueLinkPathChange={onIssueLinkPathChange}\n            onSelectIssueImage={onSelectIssueImage}\n            onIssueImageFocalPointChange={onIssueImageFocalPointChange}\n            onSelectTag={onSelectTag}\n            onTagDescriptionChange={onTagDescriptionChange}\n            onButtonTextChange={onButtonTextChange}\n            onButtonLinkChange={onButtonLinkChange}\n            onSelectCampaignImage={onSelectCampaignImage}\n            onCampaignImageFocalPointChange={onCampaignImageFocalPointChange}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component} from 'react';\nimport {\n  CheckboxControl,\n  SelectControl,\n} from '@wordpress/components';\n\nexport class MenuLevel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>Level {this.props.index + 1}</div>\n        <SelectControl\n          label=\"Submenu item\"\n          help=\"Submenu item\"\n          value={this.props.heading}\n          options={[\n            {label: 'None', value: '0'},\n            {label: 'Heading 1', value: '1'},\n            {label: 'Heading 2', value: '2'},\n            {label: 'Heading 3', value: '3'},\n            {label: 'Heading 4', value: '4'},\n            {label: 'Heading 5', value: '5'},\n            {label: 'Heading 6', value: '6'},\n          ]}\n          onChange={(e) => this.props.onHeadingChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n\n        <CheckboxControl\n          heading=\"Link\"\n          help=\"Link item\"\n          value={this.props.link}\n          checked={this.props.link}\n          onChange={(e) => this.props.onLinkChange(this.props.index, e)}\n          className=\"submenu-level-link\"\n        />\n\n        <SelectControl\n          label=\"List style\"\n          help=\"List style\"\n          value={this.props.style}\n          options={[\n            {label: 'None', value: 'none'},\n            {label: 'Bullet', value: 'bullet'},\n            {label: 'Number', value: 'number'},\n          ]}\n          onChange={(e) => this.props.onStyleChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n      </div>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  TextControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {MenuLevel} from \"./MenuLevel\";\n\nexport class Submenu extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h2>{__('Anchor Link Submenu', 'p4ge')}</h2>\n        <p><i>{__(\n          'An in-page table of contents to help users have a sense of what\\'s on the page and let them jump to a topic they are interested in.',\n          'p4ge'\n        )}</i></p>\n        <h3>{__('What style of menu do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.submenu_style}\n            onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n            options={[\n              {\n                label: __('Long full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-long.jpg',\n                value: 1,\n                help: __('Use: on long pages (more than 5 screens) when list items are long (+ 10 words)<br>No max items<br>recommended.')\n              }, {\n                label: __('Short full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-short.jpg',\n                value: 2,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 5 words)<br>No max items<br>recommended.'),\n              },\n              {\n                label: __('Short sidebar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-sidebar.jpg',\n                value: 3,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 10 words)<br>Max items<br>recommended: 9')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label=\"Submenu Title\"\n            placeholder=\"Enter title\"\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <hr/>\n        {this.props.levels.map((heading, i) => {\n          return (\n            <MenuLevel\n              {...heading}\n              onHeadingChange={this.props.onHeadingChange}\n              onLinkChange={this.props.onLinkChange}\n              onStyleChange={this.props.onStyleChange}\n              index={i}\n              key={i}\n            />\n          );\n        })}\n\n        <div>\n          <Button isPrimary\n                  onClick={this.props.addLevel}\n                  disabled={this.props.levels.length >= 3 || this.props.levels.slice(-1)[0].heading === 0}\n          >\n            Add level\n          </Button>\n          <Button isDefault\n                  onClick={this.props.removeLevel} disabled={this.props.levels.length <= 1}\n          >\n            Remove level\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/submenu'}\n            attributes={{\n              submenu_style: this.props.submenu_style,\n              title: this.props.title,\n              levels: this.props.levels,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {Submenu} from './Submenu.js';\n\nexport class SubmenuBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/submenu', {\n      title: 'Submenu',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_submenu submenu_style=\"3\" title=\"title22\" heading1=\"2\"\n       *                    link1=\"true\" style1=\"bullet\" heading2=\"3\" link2=\"true\" style2=\"number\"\n       *                    heading3=\"4\" link3=\"false\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/submenu {\"submenu_style\":3,\"title\":\"title22\",\"levels\":[{\"heading\":\"2\",\"link\":\"true\",\"style\":\"bullet\"},\n       *    {\"heading\":\"3\",\"link\":\"true\",\"style\":\"number\"},{\"heading\":\"4\",\"link\":\"false\",\"style\":\"none\"}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_submenu',\n            attributes: {\n              submenu_style: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.submenu_style);\n                }\n              },\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              levels: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  let levels = [];\n                  if (attributes.named.heading1 > 0) {\n                    let level = {\n                      heading: Number(attributes.named.heading1),\n                      link: Boolean(attributes.named.link1) || false,\n                      style: attributes.named.style1 || 'none'\n                    };\n                    levels.push(Object.assign({}, level));\n\n                    if (attributes.named.heading2 > 0) {\n                      let level = {\n                        heading: Number(attributes.named.heading2),\n                        link: Boolean(attributes.named.link2) || false,\n                        style: attributes.named.style2 || 'none'\n                      };\n                      levels.push(Object.assign({}, level));\n\n                      if (attributes.named.heading3 > 0) {\n                        let level = {\n                          heading: Number(attributes.named.heading3),\n                          link: Boolean(attributes.named.link3) || false,\n                          style: attributes.named.style3 || 'none'\n                        };\n                        levels.push(Object.assign({}, level));\n                      }\n                    }\n                  }\n                  return levels;\n                },\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        submenu_style: {\n          type: 'integer',\n          default: 1\n        },\n        title: {\n          type: 'string',\n        },\n        levels: {\n          type: 'array',\n          default: [ {heading: 0, link: false, style: 'none'}]\n        },\n      },\n      edit: withSelect((select) => {\n\n      })(({\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        function addLevel() {\n          setAttributes({levels: attributes.levels.concat({heading: 0, link: false, style: 'none'})});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onHeadingChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].heading = Number(value);\n          setAttributes({levels: levels});\n        }\n\n        function onLayoutChange(value) {\n          setAttributes({submenu_style: Number(value)});\n        }\n\n        function onLinkChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].link = value;\n          setAttributes({levels: levels});\n        }\n\n        function onStyleChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].style = value;\n          setAttributes({levels: levels});\n        }\n\n        function removeLevel() {\n          setAttributes({levels: attributes.levels.slice(0, -1)});\n        }\n\n        return <Submenu\n          {...attributes}\n          isSelected={isSelected}\n          onSelectedLayoutChange={onLayoutChange}\n          onTitleChange={onTitleChange}\n          onHeadingChange={onHeadingChange}\n          onLinkChange={onLinkChange}\n          onStyleChange={onStyleChange}\n          addLevel={addLevel}\n          removeLevel={removeLevel}\n        />\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\nimport {\n\tFormTokenField,\n\tTextControl,\n\tTextareaControl,\n\tServerSideRender,\n\tToggleControl,\n\tSelectControl,\n\tCheckboxControl,\n\tToolbar,\n\tIconButton, Button\n} from '@wordpress/components';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Takeactionboxout extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// Populate tag tokens for saved tags.\n\t\tlet tagTokens = props.tagsList.filter(tag => props.tag_ids.includes(tag.id)).map(tag => tag.name);\n\n\t\tthis.state = {\n\t\t\ttagTokens: tagTokens,\n\t\t};\n\t}\n\n\tonSelectedTagsChange(tokens) {\n\t\tconst tagIds = tokens.map(token => {\n\t\t\treturn this.props.tagsList.filter(tag => tag.name === token)[0].id;\n\t\t});\n\t\tthis.props.onSelectedTagsChange(tagIds);\n\t\tthis.setState({tagTokens: tokens})\n\t}\n\n\tisCustomised() {\n\t\treturn ( this.props.custom_title || this.props.custom_excerpt || this.props.custom_link || this.props.custom_link_text || this.props.custom_link_new_tab || this.state.tagTokens.length > 0 || ( this.props.background_image && 0 < this.props.background_image ) );\n\t}\n\n\ttakeActionPageSelected() {\n\t\treturn ( this.props.take_action_page && this.props.take_action_page !== '0' );\n\t}\n\n\trenderEdit() {\n\t\tconst tagSuggestions = this.props.tagsList.map(tag => tag.name);\n\n\t\tlet actpage_list = this.props.actPageList.map((actPage) => ({label: actPage.title.raw, value: actPage.id}));\n\t\tconst {__} = wp.i18n;\n\n\t\tactpage_list.unshift({label: __('--Select Take Action Page--'), value: 0});\n\n\t\tconst getImageOrButton = (openEvent) => {\n\t\t\tif ( this.props.background_image && ( 0 < this.props.background_image ) ) {\n\n\t\t\t\treturn (\n\n\t\t\t\t\t<div align='center'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ this.props.background_image_url }\n\t\t\t\t\t\t\tonClick={ openEvent }\n\t\t\t\t\t\t\tclassName='takeactionboxout-block-background-img'\n\t\t\t\t\t\t\twidth={'400px'}\n\t\t\t\t\t\t\tstyle={{padding: '10px 10px'}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t\t<div className='button-container'>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={ openEvent }\n\t\t\t\t\t\t\tclassName='button'\n\t\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}>\n\t\t\t\t\t\t\t+ {__('Select Background Image', 'p4ge')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<h3>{__('Take Action Boxout', 'p4ge')}</h3>\n\t\t\t\t<div>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={__('Select Take Action Page', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.take_action_page}\n\t\t\t\t\t\toptions={actpage_list}\n\t\t\t\t\t\tonChange={this.props.onSelectTakeActoinPage}\n\t\t\t\t\t\tdisabled={this.isCustomised()}\n\t\t\t\t\t/>\n\t\t\t\t\t<h5>{__('Or customise your take action boxout (if inserted in POSTS, the block will float on the side, if inserted in PAGES, it will appear in the page body)', 'p4ge')}</h5>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Title', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Title', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_title}\n\t\t\t\t\t\tonChange={this.props.onCustomTitleChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\tlabel={__('Custom Excerpt', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Excerpt', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_excerpt}\n\t\t\t\t\t\tonChange={this.props.onCustomExcerptChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Link', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Link', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link}\n\t\t\t\t\t\tonChange={this.props.onCustomLinkChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Link Text', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Link Text', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link_text}\n\t\t\t\t\t\tonChange={this.props.onCustomLinkTextChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tlabel={__('Open in a new Tab', 'p4ge')}\n\t\t\t\t\t\thelp={__('Open custom link in new tab', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link_new_tab}\n\t\t\t\t\t\tchecked={this.props.custom_link_new_tab}\n\t\t\t\t\t\tonChange={(e) => this.props.onCustomLinkNewTabChange(e)}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormTokenField\n\t\t\t\t\t\tvalue={this.state.tagTokens}\n\t\t\t\t\t\tsuggestions={tagSuggestions}\n\t\t\t\t\t\tlabel={__('Select Tags', 'p4ge')}\n\t\t\t\t\t\tonChange={tokens => this.onSelectedTagsChange(tokens)}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t{__('Select Background Image', 'p4ge')}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\ttitle={__('Select Background Image', 'p4ge')}\n\t\t\t\t\t\t\t\ttype='image'\n\t\t\t\t\t\t\t\tonSelect={this.props.onSelectBackGroundImage}\n\t\t\t\t\t\t\t\tvalue={this.props.background_image}\n\t\t\t\t\t\t\t\tallowedTypes={['image']}\n\t\t\t\t\t\t\t\trender={ ({ open }) => getImageOrButton(open) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t</div>\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t{ this.props.background_image && ( 0 < this.props.background_image ) && (\n\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tclassName='components-icon-button components-toolbar__control'\n\t\t\t\t\t\t\t\t\tlabel={__('Remove Image', 'p4ge')}\n\t\t\t\t\t\t\t\t\tonClick={this.props.onRemoveBackGroundImage}\n\t\t\t\t\t\t\t\t\ticon='trash'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</BlockControls>\n\t\t\t\t</div>\n\t\t\t\t<hr />\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\tthis.props.isSelected\n\t\t\t\t\t\t? this.renderEdit()\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t<Preview showBar={this.props.isSelected}>\n\t\t\t\t\t<ServerSideRender\n\t\t\t\t\t\tblock={'planet4-blocks/take-action-boxout'}\n\t\t\t\t\t\tattributes={{\n\t\t\t\t\t\t\ttake_action_page: this.props.take_action_page,\n\t\t\t\t\t\t\tcustom_title: this.props.custom_title,\n\t\t\t\t\t\t\tcustom_excerpt: this.props.custom_excerpt,\n\t\t\t\t\t\t\tcustom_link: this.props.custom_link,\n\t\t\t\t\t\t\tcustom_link_text: this.props.custom_link_text,\n\t\t\t\t\t\t\tcustom_link_new_tab: this.props.custom_link_new_tab,\n\t\t\t\t\t\t\ttag_ids: this.props.tag_ids,\n\t\t\t\t\t\t\tbackground_image: this.props.background_image,\n\t\t\t\t\t\t}}>\n\t\t\t\t\t</ServerSideRender>\n\t\t\t\t</Preview>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import {Takeactionboxout} from './Takeactionboxout.js';\n\nexport class TakeactionboxoutBlock {\n\tconstructor() {\n\t\tconst {registerBlockType} = wp.blocks;\n\t\tconst {__} = wp.i18n;\n\t\tconst {withSelect} = wp.data;\n\n\t\tregisterBlockType('planet4-blocks/take-action-boxout', {\n\t\t\ttitle: __('Take Action Boxout'),\n\t\t\ticon: 'welcome-widgets-menus',\n\t\t\tcategory: 'planet4-blocks',\n\t\t\tsupports: {\n\t\t\t\tmultiple: false, // Use the block just once per post.\n\t\t\t},\n\n\t\t\t// Transform the shortcode into a Gutenberg block\n\t\t\t// this is used when a user clicks \"Convert to blocks\"\n\t\t\t// on the \"Classic Editor\" block\n\t\t\ttransforms: {\n\t\t\t\tfrom: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'shortcode',\n\t\t\t\t\t\t// Shortcode tag can also be an array of shortcode aliases\n\t\t\t\t\t\ttag: 'shortcake_take_action_boxout',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\ttake_action_page: {\n\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn Number(attributes.named.take_action_page);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_title: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_title;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_excerpt: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_excerpt;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link_text: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link_text;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link_new_tab: {\n\t\t\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link_new_tab;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttag_ids: {\n\t\t\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.tag_ids ?\n                    attributes.named.tag_ids.split(',').map(tag => Number(tag)).filter(tag => tag > 0)\n                    : [];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbackground_image: {\n\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\tshortcode: ({named: {background_image = ''}}) => Number(background_image) > 0 ? Number(background_image) : 0,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t},\n\t\t\t// This attributes definition mimics the one in the PHP side.\n\t\t\tattributes: {\n\t\t\t\ttake_action_page: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t\tcustom_title: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_excerpt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link_text: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link_new_tab: {\n\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\tdefault: false\n\t\t\t\t},\n\t\t\t\ttag_ids: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: []\n\t\t\t\t},\n\t\t\t\tbackground_image: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t},\n\t\t\t// withSelect is a \"Higher Order Component\", it works as\n\t\t\t// a Decorator, it will provide some basic API functionality\n\t\t\t// through `select`.\n\t\t\tedit: withSelect( ( select, props ) => {\n\t\t\t\tconst tagsTaxonomy = 'post_tag';\n\t\t\t\tconst actPage = 'page';\n\n\t\t\t\tconst args = {\n\t\t\t\t\thide_empty: false,\n\t\t\t\t\tper_page: 50,\n\t\t\t\t};\n\t\t\t\tconst {getEntityRecords, getMedia} = select('core');\n\n\t\t\t\tconst tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n\n\t\t\t\tconst act_page_args = {\n\t\t\t\t\tper_page: -1,\n\t\t\t\t\tsort_order: 'asc',\n\t\t\t\t\tsort_column: 'post_title',\n\t\t\t\t\tparent: window.p4ge_vars.planet4_options.act_page,\n\t\t\t\t\tpost_status: 'publish',\n\t\t\t\t};\n\n\t\t\t\tconst actPageList = getEntityRecords('postType', actPage, act_page_args);\n\n\t\t\t\tconst { attributes } = props;\n\t\t\t\tconst { background_image } = attributes;\n\n\t\t\t\tlet background_image_url = '';\n\t\t\t\tif (background_image) {\n\t\t\t\t\tbackground_image_url = select('core').getMedia(background_image);\n\t\t\t\t\tif ( background_image_url ) {\n\t\t\t\t\t\tbackground_image_url = background_image_url.source_url;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tactPageList,\n\t\t\t\t\ttagsList,\n\t\t\t\t\tbackground_image_url,\n\t\t\t\t};\n\t\t\t} )( ( {\n\t\t\t\ttagsList,\n\t\t\t\tactPageList,\n\t\t\t\tbackground_image_url,\n\t\t\t\tisSelected,\n\t\t\t\tattributes,\n\t\t\t\tsetAttributes\n\t\t\t} ) => {\n\n\t\t\t\tif (!tagsList || !actPageList) {\n\t\t\t\t\treturn \"Populating block's fields...\";\n\t\t\t\t}\n\n\t\t\t\tif ((tagsList && tagsList.length === 0) || (actPageList && actPageList.length === 0)) {\n\t\t\t\t\treturn \"Populating block's fields...\";\n\t\t\t\t}\n\n\t\t\t\t// These methods are passed down to the\n\t\t\t\t// Articles component, they update the corresponding attribute.\n\t\t\t\tfunction onSelectTakeActoinPage( value ) {\n\t\t\t\t\tsetAttributes({ take_action_page: value });\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomTitleChange(value) {\n\t\t\t\t\tsetAttributes({custom_title: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomExcerptChange(value) {\n\t\t\t\t\tsetAttributes({custom_excerpt: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkChange(value) {\n\t\t\t\t\tsetAttributes({custom_link: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkTextChange(value) {\n\t\t\t\t\tsetAttributes({custom_link_text: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkNewTabChange(value) {\n\t\t\t\t\tsetAttributes({custom_link_new_tab: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onButtonLinkTabChange(value) {\n\t\t\t\t\tsetAttributes({button_link_new_tab: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onSelectedTagsChange(tagIds) {\n\t\t\t\t\tsetAttributes({tag_ids: tagIds});\n\t\t\t\t}\n\n\t\t\t\tfunction onSelectBackGroundImage( {id} ) {\n\t\t\t\t\tsetAttributes({background_image: id});\n\t\t\t\t}\n\n\t\t\t\tfunction onRemoveBackGroundImage() {\n\t\t\t\t\tsetAttributes({background_image: -1});\n\t\t\t\t}\n\n\t\t\t\t// We pass down all the attributes to Covers as props using\n\t\t\t\t// the spread operator. Then we selectively add more\n\t\t\t\t// props.\n\t\t\t\treturn <Takeactionboxout\n\t\t\t\t\t{...attributes}\n\t\t\t\t\tisSelected={isSelected}\n\t\t\t\t\ttagsList={tagsList}\n\t\t\t\t\tactPageList={actPageList}\n\t\t\t\t\tbackground_image_url={background_image_url}\n\t\t\t\t\tonSelectTakeActoinPage={onSelectTakeActoinPage}\n\t\t\t\t\tonCustomTitleChange={onCustomTitleChange}\n\t\t\t\t\tonCustomExcerptChange={onCustomExcerptChange}\n\t\t\t\t\tonCustomLinkChange={onCustomLinkChange}\n\t\t\t\t\tonCustomLinkTextChange={onCustomLinkTextChange}\n\t\t\t\t\tonCustomLinkNewTabChange={onCustomLinkNewTabChange}\n\t\t\t\t\tonButtonLinkTabChange={onButtonLinkTabChange}\n\t\t\t\t\tonSelectedTagsChange={onSelectedTagsChange}\n\t\t\t\t\tonSelectBackGroundImage={onSelectBackGroundImage}\n\t\t\t\t\tonRemoveBackGroundImage={onRemoveBackGroundImage}/>\n\t\t\t}),\n\t\t\tsave() {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} );\n\t};\n}\n\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from \"@wordpress/element\";\nimport {\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {Preview} from '../../components/Preview';\n\nexport class Timeline extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.loadTimeline(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    this.loadTimeline(prevProps);\n  }\n\n  loadTimeline(data) {\n    const timelinejs_version = '3.6.3';\n\n    let js = 'https://cdn.knightlab.com/libs/timeline3/' + timelinejs_version + '/js/timeline-min.js';\n    let scriptLoaded = this.loadScriptAsync(js);\n    scriptLoaded.then(function () {\n      new TL.Timeline('timeline-1', data.google_sheets_url, {\n        \"timenav_position\": data.timenav_position,\n        \"start_at_end\": data.start_at_end,\n        \"language\": data.language\n      });\n    }.bind(this));\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const position = [\n      {label: 'Bottom', value: 'bottom'},\n      {label: 'Top', value: 'top'},\n    ]\n\n    const languages = [\n      {label: 'Afrikaans', value: 'af'},\n      {label: 'Arabic', value: 'ar'},\n      {label: 'Armenian', value: 'hy'},\n      {label: 'Basque', value: 'eu'},\n      {label: 'Belarusian', value: 'be'},\n      {label: 'Bulgarian', value: 'bg'},\n      {label: 'Catalan', value: 'ca'},\n      {label: 'Chinese', value: 'zh-cn'},\n      {label: 'Croatian / Hrvatski', value: 'hr'},\n      {label: 'Czech', value: 'cz'},\n      {label: 'Danish', value: 'da'},\n      {label: 'Dutch', value: 'nl'},\n      {label: 'English', value: 'en'},\n      {label: 'English (24-hour time)', value: 'en-24hr'},\n      {label: 'Esperanto', value: 'eo'},\n      {label: 'Estonian', value: 'et'},\n      {label: 'Faroese', value: 'fo'},\n      {label: 'Farsi', value: 'fa'},\n      {label: 'Finnish', value: 'fi'},\n      {label: 'French', value: 'fr'},\n      {label: 'Frisian', value: 'fy'},\n      {label: 'Galician', value: 'gl'},\n      {label: 'Georgian', value: 'ka'},\n      {label: 'German / Deutsch', value: 'de'},\n      {label: 'Greek', value: 'el'},\n      {label: 'Hebrew', value: 'he'},\n      {label: 'Hindi', value: 'hi'},\n      {label: 'Hungarian', value: 'hu'},\n      {label: 'Icelandic', value: 'is'},\n      {label: 'Indonesian', value: 'id'},\n      {label: 'Irish', value: 'ga'},\n      {label: 'Italian', value: 'it'},\n      {label: 'Japanese', value: 'ja'},\n      {label: 'Korean', value: 'ko'},\n      {label: 'Latvian', value: 'lv'},\n      {label: 'Lithuanian', value: 'lt'},\n      {label: 'Luxembourgish', value: 'lb'},\n      {label: 'Malay', value: 'ms'},\n      {label: 'Myanmar', value: 'my'},\n      {label: 'Nepali', value: 'ne'},\n      {label: 'Norwegian', value: 'no'},\n      {label: 'Polish', value: 'pl'},\n      {label: 'Portuguese', value: 'pt'},\n      {label: 'pt-br', value: 'Portuguese (Brazilian)'},\n      {label: 'Romanian', value: 'ro'},\n      {label: 'Romansh', value: 'rm'},\n      {label: 'Russian', value: 'ru'},\n      {label: 'Serbian - Cyrillic', value: 'sr-cy'},\n      {label: 'Serbian - Latin', value: 'sr'},\n      {label: 'Sinhalese', value: 'si'},\n      {label: 'Slovak', value: 'sk'},\n      {label: 'Slovenian', value: 'sl'},\n      {label: 'Spanish', value: 'es'},\n      {label: 'Swedish', value: 'sv'},\n      {label: 'Tagalog', value: 'tl'},\n      {label: 'Tamil', value: 'ta'},\n      {label: 'Taiwanese', value: 'zh-tw'},\n      {label: 'Telugu', value: 'te'},\n      {label: 'Thai', value: 'th'},\n      {label: 'Turkish', value: 'tr'},\n      {label: 'Ukrainian', value: 'uk'},\n      {label: 'Urdu', value: 'ur'},\n    ]\n\n    let url_desc  = __(\n      'Enter the URL of the Google Sheets spreadsheet containing your timeline data.',\n      'p4ge'\n    );\n    url_desc += '<br><a href=\"https://timeline.knightlab.com/#make\" target=\"_blank\" rel=\"noopener noreferrer\">';\n    url_desc += __(\n      'See the TimelineJS website for a template GSheet.',\n      'p4ge'\n    );\n    url_desc += '</a><br>';\n    url_desc += __(\n      'Copy this, add your own timeline data, and publish to the web.',\n      'p4ge'\n    );\n    url_desc += '<br>';\n    url_desc += __(\n      \"Once you have done so, use the URL from your address bar (not the one provided in Google's 'publish to web' dialog).\",\n      'p4ge'\n    );\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Timeline options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display a timeline from a Google Sheet',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label={__('Timeline Title', 'p4ge')}\n              placeholder={__('Enter title', 'p4ge')}\n              value={this.props.timeline_title}\n              onChange={this.props.onTimelineTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter description', 'p4ge')}\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label={__('Google Sheets URL', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              help=<RawHTML>{url_desc}</RawHTML>\n              value={this.props.google_sheets_url}\n              onChange={this.props.onGoogleSheetsUrlChange}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Language', 'p4ge')}\n              value={this.props.language}\n              options={languages}\n              onChange={(e) => this.props.onLanguageChange(e)}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Timeline navigation position', 'p4ge')}\n              value={this.props.timenav_position}\n              options={position}\n              onChange={(e) => this.props.onTimenavPositionChange(e)}\n            />\n          </div>\n\n          <div>\n            <CheckboxControl\n              label={__('Start at end', 'p4ge')}\n              help={__('Begin at the end of the timeline', 'p4ge')}\n              value={this.props.start_at_end}\n              checked={this.props.start_at_end}\n              onChange={(e) => this.props.onStartAtEndChange(e)}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/timeline'}\n            attributes={{\n              timeline_title: this.props.timeline_title,\n              description: this.props.description,\n              google_sheets_url: this.props.google_sheets_url,\n              language: this.props.language,\n              timenav_position: this.props.timenav_position,\n              start_at_end: this.props.start_at_end,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Timeline} from './Timeline.js';\n\nconst {__} = wp.i18n;\n\nexport class TimelineBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/timeline', {\n      title: __('Timeline', 'p4ge'),\n      icon: 'clock',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_timeline',\n            attributes: {\n              timeline_title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.timeline_title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              google_sheets_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.google_sheets_url;\n                }\n              },\n              language: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.language;\n                }\n              },\n              timenav_position: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.timenav_position;\n                }\n              },\n              start_at_end: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.start_at_end;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        timeline_title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        google_sheets_url: {\n          type: 'string',\n        },\n        language: {\n          type: 'string',\n          default: 'en',\n        },\n        timenav_position: {\n          type: 'string',\n        },\n        start_at_end: {\n          type: 'boolean',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTimelineTitleChange(value) {\n          setAttributes({timeline_title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onGoogleSheetsUrlChange(value) {\n          setAttributes({google_sheets_url: value});\n        }\n\n        function onLanguageChange(value) {\n          setAttributes({language: value});\n        }\n\n        function onTimenavPositionChange(value) {\n          setAttributes({timenav_position: value});\n        }\n\n        function onStartAtEndChange(value) {\n          setAttributes({start_at_end: value});\n        }\n\n        return <Timeline\n          {...attributes}\n          isSelected={isSelected}\n          onTimelineTitleChange={onTimelineTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onGoogleSheetsUrlChange={onGoogleSheetsUrlChange}\n          onLanguageChange={onLanguageChange}\n          onTimenavPositionChange={onTimenavPositionChange}\n          onStartAtEndChange={onStartAtEndChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import {\n  find,\n  get,\n  invoke,\n  isEmpty,\n  map,\n  throttle,\n  unescape as unescapeString,\n  uniqBy,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { FormTokenField} from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Module constants\n */\nconst DEFAULT_QUERY = {\n  per_page: -1,\n  orderby: 'count',\n  order: 'desc',\n  _fields: 'id,name',\n};\nconst MAX_TERMS_SUGGESTIONS = 20;\nconst isSameTermName = ( termA, termB ) => termA.toLowerCase() === termB.toLowerCase();\n\n/**\n * Returns a term object with name unescaped.\n * The unescape of the name property is done using lodash unescape function.\n *\n * @param {Object} term The term object to unescape.\n *\n * @return {Object} Term object with name property unescaped.\n */\nconst unescapeTerm = ( term ) => {\n  return {\n    ...term,\n    name: unescapeString( term.name ),\n  };\n};\n\n/**\n * Returns an array of term objects with names unescaped.\n * The unescape of each term is performed using the unescapeTerm function.\n *\n * @param {Object[]} terms Array of term objects to unescape.\n *\n * @return {Object[]} Array of term objects unescaped.\n */\nconst unescapeTerms = ( terms ) => {\n  return map( terms, unescapeTerm );\n};\n\n/**\n * The logic of this component was copied from https://github.com/WordPress/gutenberg/blob/master/packages/editor/src/components/post-taxonomies/flat-term-selector.js\n * initially, then the functionality of creating non-existing terms was removed from it.\n *\n * I considered extending the component instead, but that seemed inappropriate as we're not adding behavior but removing some.\n * Additionally this makes it easier to further customize this component.\n */\nclass AssignOnlyFlatTermSelector extends Component {\n  constructor() {\n    super( ...arguments );\n    this.onChange = this.onChange.bind( this );\n    this.searchTerms = throttle( this.searchTerms.bind( this ), 500 );\n    this.state = {\n      loading: ! isEmpty( this.props.terms ),\n      availableTerms: [],\n      selectedTerms: [],\n    };\n  }\n\n  componentDidMount() {\n    if ( isEmpty( this.props.terms ) ) {\n      return\n    }\n\n    this.initRequest = this.fetchTerms( {\n      include: this.props.terms.join( ',' ),\n      per_page: -1,\n    } );\n    this.initRequest.then(\n      () => {\n        this.setState( {loading: false} );\n      },\n      ( xhr ) => {\n        if ( xhr.statusText === 'abort' ) {\n          return;\n        }\n        this.setState( {\n          loading: false,\n        } );\n      }\n    );\n  }\n\n  componentWillUnmount() {\n    invoke( this.initRequest, [ 'abort' ] );\n    invoke( this.searchRequest, [ 'abort' ] );\n  }\n\n  componentDidUpdate( prevProps ) {\n    if ( prevProps.terms !== this.props.terms ) {\n      this.updateSelectedTerms( this.props.terms );\n    }\n  }\n\n  fetchTerms( params = {} ) {\n    const { taxonomy } = this.props;\n    const query = Object.assign({}, DEFAULT_QUERY, params);\n\n    const request = apiFetch( {\n      path: addQueryArgs( `/wp/v2/${ taxonomy.rest_base }`, query ),\n    } );\n    request.then( unescapeTerms ).then( ( terms ) => {\n      this.setState( ( state ) => ( {\n        availableTerms: state.availableTerms.concat(\n          terms.filter( ( term ) => ! find( state.availableTerms, ( availableTerm ) => availableTerm.id === term.id ) )\n        ),\n      } ) );\n      this.updateSelectedTerms( this.props.terms );\n    } );\n\n    return request;\n  }\n\n  updateSelectedTerms( terms = [] ) {\n    const selectedTerms = terms.reduce( ( accumulator, termId ) => {\n      const termObject = find( this.state.availableTerms, ( term ) => term.id === termId );\n      if ( termObject ) {\n        accumulator.push( termObject.name );\n      }\n\n      return accumulator;\n    }, [] );\n    this.setState( {\n      selectedTerms,\n    } );\n  }\n\n  onChange( termNames ) {\n    const uniqueTerms = uniqBy( termNames, ( term ) => term.toLowerCase() );\n    const allowedTerms = uniqueTerms.filter( ( termName ) =>\n      find( this.state.availableTerms, ( term ) => isSameTermName( term.name, termName ) )\n    );\n    this.setState( { selectedTerms: allowedTerms } );\n    const termNamesToIds = ( names, availableTerms ) => {\n      return names\n        .map( ( termName ) =>\n          find( availableTerms, ( term ) => isSameTermName( term.name, termName ) ).id\n        );\n    };\n\n    return this.props.onUpdateTerms(\n      termNamesToIds( allowedTerms, this.state.availableTerms ),\n      this.props.taxonomy.rest_base\n    );\n  }\n\n  searchTerms( search = '' ) {\n    invoke( this.searchRequest, [ 'abort' ] );\n    this.searchRequest = this.fetchTerms( { search } );\n  }\n\n  render() {\n    const { slug, taxonomy, hasAssignAction } = this.props;\n\n    if ( ! hasAssignAction ) {\n      return null;\n    }\n\n    const { loading, availableTerms, selectedTerms } = this.state;\n    const termNames = availableTerms.map( ( term ) => term.name );\n    const newTermLabel = get(\n      taxonomy,\n      [ 'labels', 'add_new_item' ],\n      slug === 'post_tag' ? __( 'Add New Tag' ) : __( 'Add New Term' )\n    );\n    const singularName = get(\n      taxonomy,\n      [ 'labels', 'singular_name' ],\n      slug === 'post_tag' ? __( 'Tag' ) : __( 'Term' )\n    );\n    const termAddedLabel = sprintf( _x( '%s added', 'term' ), singularName );\n    const termRemovedLabel = sprintf( _x( '%s removed', 'term' ), singularName );\n    const removeTermLabel = sprintf( _x( 'Remove %s', 'term' ), singularName );\n\n    return (\n      <FormTokenField\n        value={ selectedTerms }\n        suggestions={ termNames }\n        onChange={ this.onChange }\n        onInputChange={ this.searchTerms }\n        maxSuggestions={ MAX_TERMS_SUGGESTIONS }\n        disabled={ loading }\n        label={ newTermLabel }\n        messages={ {\n          added: termAddedLabel,\n          removed: termRemovedLabel,\n          remove: removeTermLabel,\n        } }\n      />\n    );\n  }\n}\n\nexport default compose(\n  withSelect( ( select, { slug } ) => {\n    const { getCurrentPost } = select( 'core/editor' );\n    const { getTaxonomy } = select( 'core' );\n    const taxonomy = getTaxonomy( slug );\n    return {\n      hasCreateAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-create-' + taxonomy.rest_base ], false ) : false,\n      hasAssignAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-assign-' + taxonomy.rest_base ], false ) : false,\n      terms: taxonomy ? select( 'core/editor' ).getEditedPostAttribute( taxonomy.rest_base ) : [],\n      taxonomy,\n    };\n  } ),\n  withDispatch( ( dispatch ) => {\n    return {\n      onUpdateTerms( terms, restBase ) {\n        dispatch( 'core/editor' ).editPost( { [ restBase ]: terms } );\n      },\n    };\n  } ),\n)( AssignOnlyFlatTermSelector );\n","import {React, Component} from 'react';\nimport {Button} from '@wordpress/components';\nimport {MediaUpload,MediaUploadCheck} from '@wordpress/editor';\n\nexport class ImageOrButton extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    if ( typeof this.props.disabled == 'undefined' ) {\n      this.props.disabled = false;\n    }\n\n    const getImageOrButton = (openEvent) => {\n      if ( this.props.imageId ) {\n\n        return (\n\n          <img\n            src={ this.props.imageUrl }\n            onClick={ openEvent }\n            className={ this.props.imgClass }\n          />\n\n        );\n      }\n      else {\n        return (\n          <div className='button-container'>\n            <Button\n              onClick={ openEvent }\n              className='button'\n              disabled={ this.props.disabled }>\n              { this.props.buttonLabel }\n            </Button>\n\n            <div>{ this.props.help }</div>\n          </div>\n        );\n      }\n    };\n\n    return <div className='ImageOrButton'>\n      <MediaUploadCheck>\n        <MediaUpload\n          title={this.props.title}\n          type='image'\n          onSelect={this.props.onSelectImage}\n          value={this.props.imageId}\n          allowedTypes={['image']}\n          render={ ({ open }) => getImageOrButton(open) }\n        />\n      </MediaUploadCheck>\n    </div>;\n  }\n}\n","import {React, Component} from 'react';\nimport {RadioControl} from '@wordpress/components';\n\nexport class LayoutSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: props.selectedOption\n    };\n    this.setSelected = this.setSelected.bind(this);\n  }\n\n  setSelected(option) {\n    this.setState({selectedOption: option});\n    this.props.onSelectedLayoutChange(option);\n  }\n\n  render() {\n    return <div className='LayoutSelector'>\n      {\n        this.props.options.map((layoutOption, i) => {\n\n          if ( 'number' == typeof layoutOption.value ) {\n            this.state.selectedOption = Number( this.state.selectedOption );\n          }\n\n          return (\n            <label className='LayoutOption' key={i}>\n              <div style={{display: 'flex'}}>\n                <RadioControl\n                  name={'layoutOption'}\n                  selected={this.state.selectedOption}\n                  options={[\n                    {value: layoutOption.value}\n                  ]}\n                  onChange={this.setSelected}\n                />\n                {layoutOption.label}\n              </div>\n              {\n                layoutOption.image\n                  ? <img src={layoutOption.image}/>\n                  : null\n              }\n              {\n                layoutOption.help\n                  ? <p className='help' dangerouslySetInnerHTML={{__html: layoutOption.help}}/>\n                  : null\n              }\n            </label>\n          )\n        })\n      }\n    </div>;\n  }\n}\n","import { React, Component } from 'react';\n\nexport class Preview extends Component {\n\trender() {\n\t\treturn <div className='Preview'>\n\t\t\t{\n\t\t\t\tthis.props.showBar\n\t\t\t\t? <div className='PreviewBar'>Preview</div>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{ this.props.children }\n\t\t</div>\n\t}\n}","import { ArticlesBlock } from './blocks/Articles/ArticlesBlock';\nimport { CarouselHeaderBlock } from './blocks/Carouselheader/CarouselHeaderBlock';\nimport { ColumnsBlock } from './blocks/Columns/ColumnsBlock';\nimport { CookiesBlock } from './blocks/Cookies/CookiesBlock';\nimport { CounterBlock } from './blocks/Counter/CounterBlock';\nimport { CoversBlock } from './blocks/Covers/CoversBlock';\nimport { GalleryBlock } from './blocks/Gallery/GalleryBlock';\nimport { HappypointBlock } from './blocks/Happypoint/HappypointBlock';\nimport { MediaBlock } from './blocks/Media/MediaBlock';\nimport { SocialmediaBlock } from './blocks/Socialmedia/SocialmediaBlock';\nimport { SocialshareBlock } from './blocks/Socialshare/SocialshareBlock';\nimport { SplittwocolumnsBlock } from './blocks/Splittwocolumns/SplittwocolumnsBlock';\nimport { SubmenuBlock } from './blocks/Submenu/SubmenuBlock';\nimport { TakeactionboxoutBlock } from './blocks/Takeactionboxout/TakeactionboxoutBlock';\nimport { TimelineBlock } from './blocks/Timeline/TimelineBlock';\n\n//Filters\nimport { addBlockFilters } from './BlockFilters';\nimport { setupImageBlockExtension } from './ImageBlockExtension';\nimport { replaceTaxonomyTermSelectors } from \"./replaceTaxonomyTermSelectors\"\nimport { addSubAndSuperscript } from './RichTextEnhancements';\n\nconst articlesBlock = new ArticlesBlock();\nconst carouselHeaderBlock = new CarouselHeaderBlock();\nconst columnsBlock = new ColumnsBlock();\nconst cookiesBlock = new CookiesBlock();\nconst counterBlock = new CounterBlock();\nconst coversBlock = new CoversBlock();\nconst galleryBlock = new GalleryBlock();\nconst happypointBlock = new HappypointBlock();\nconst mediaBlock = new MediaBlock();\nconst socialmediaBlock = new SocialmediaBlock();\nconst socailshareBlock = new SocialshareBlock();\nconst splittwocolumnsBlock = new SplittwocolumnsBlock();\nconst submenuBlock = new SubmenuBlock();\nconst takeActionBoxoutBlock = new TakeactionboxoutBlock();\nconst timelineBlock = new TimelineBlock();\n\naddBlockFilters();\naddSubAndSuperscript(window.wp);\nsetupImageBlockExtension();\nreplaceTaxonomyTermSelectors()\n","import AssignOnlyFlatTermSelector from \"./components/AssignOnlyFlatTermSelector/AssignOnlyFlatTermSelector\"\n\nfunction customizeTaxonomySelectors( OriginalComponent ) {\n  return function( props ) {\n    // For following taxonomies it should not be possible to create new terms on the post edit page\n    const isAssignOnlyTaxonomy = ['p4-page-type', 'post_tag'].includes(props.slug)\n\n    return wp.element.createElement(\n      isAssignOnlyTaxonomy ? AssignOnlyFlatTermSelector : OriginalComponent,\n      props\n    );\n  }\n\n}\n\nexport const replaceTaxonomyTermSelectors = () =>  {\n  wp.hooks.addFilter(\n    'editor.PostTaxonomyType',\n    'planet4-gutenberg-blocks',\n    customizeTaxonomySelectors\n  );\n}\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = assign;\n","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"data\"]; }());","(function() { module.exports = this[\"wp\"][\"editor\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"url\"]; }());","(function() { module.exports = this[\"lodash\"]; }());","(function() { module.exports = this[\"React\"]; }());"],"sourceRoot":""}
>>>>>>> Stashed changes
>>>>>>> 69333bd... PLANET-4425 Fix columns block open link in new tab
