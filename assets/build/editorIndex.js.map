<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./react-blocks/src/blocks/Articles/Articles.js","webpack:///./react-blocks/src/blocks/Articles/ArticlesBlock.js","webpack:///./react-blocks/src/blocks/Carouselheader/CarouselHeader.js","webpack:///./react-blocks/src/blocks/Carouselheader/CarouselHeaderBlock.js","webpack:///./react-blocks/src/blocks/Carouselheader/CarouselHeaderImage.js","webpack:///./react-blocks/src/blocks/Carouselheader/CarouselHeaderSlide.js","webpack:///./react-blocks/src/blocks/Carouselheader/ImagePlaceholder.js","webpack:///./react-blocks/src/blocks/Columns/Columns.js","webpack:///./react-blocks/src/blocks/Columns/ColumnsBlock.js","webpack:///./react-blocks/src/blocks/Cookies/Cookies.js","webpack:///./react-blocks/src/blocks/Cookies/CookiesBlock.js","webpack:///./react-blocks/src/blocks/Counter/Counter.js","webpack:///./react-blocks/src/blocks/Counter/CounterBlock.js","webpack:///./react-blocks/src/blocks/Covers/Covers.js","webpack:///./react-blocks/src/blocks/Covers/CoversBlock.js","webpack:///./react-blocks/src/blocks/Covers/CoversIcon.js","webpack:///./react-blocks/src/blocks/Gallery/Gallery.js","webpack:///./react-blocks/src/blocks/Gallery/GalleryBlock.js","webpack:///./react-blocks/src/blocks/Happypoint/Happypoint.js","webpack:///./react-blocks/src/blocks/Happypoint/HappypointBlock.js","webpack:///./react-blocks/src/blocks/Media/Media.js","webpack:///./react-blocks/src/blocks/Media/MediaBlock.js","webpack:///./react-blocks/src/blocks/Socialmedia/Socialmedia.js","webpack:///./react-blocks/src/blocks/Socialmedia/SocialmediaBlock.js","webpack:///./react-blocks/src/blocks/Splittwocolumns/Splittwocolumns.js","webpack:///./react-blocks/src/blocks/Splittwocolumns/SplittwocolumnsBlock.js","webpack:///./react-blocks/src/blocks/Submenu/MenuLevel.js","webpack:///./react-blocks/src/blocks/Submenu/Submenu.js","webpack:///./react-blocks/src/blocks/Submenu/SubmenuBlock.js","webpack:///./react-blocks/src/blocks/Timeline/Timeline.js","webpack:///./react-blocks/src/blocks/Timeline/TimelineBlock.js","webpack:///./react-blocks/src/components/ImageOrButton/ImageOrButton.js","webpack:///./react-blocks/src/components/LayoutSelector/LayoutSelector.js","webpack:///./react-blocks/src/components/Preview.js","webpack:///./react-blocks/src/editorIndex.js","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"editor\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":\"React\"}"],"names":["wp","apiFetch","addQueryArgs","url","Articles","props","tagTokens","tagsList","filter","tag","tags","includes","id","map","name","postTypeTokens","postTypesList","post_type","post_types","state","selectedPosts","populatePostsToken","posts","length","path","per_page","page","include","then","postsTokens","post","title","rendered","postsSuggestions","setState","postsList","tokens","search","orderby","post_status","tagIds","token","onSelectedTagsChange","postTypeIds","postType","onSelectedPostTypesChange","currentSelectedPosts","forEach","f","push","postIds","onSelectedPostsChange","__","i18n","tagSuggestions","postTypeSuggestions","article_heading","onTitleChange","articles_description","onDescriptionChange","read_more_text","onReadmoretextChange","read_more_link","onReadmorelinkChange","button_link_new_tab","e","onButtonLinkTabChange","article_count","onCountChange","ignore_categories","onIgnoreCategoriesChange","onPostsSearch","isSelected","renderEdit","Component","ArticlesBlock","registerBlockType","blocks","withSelect","data","icon","category","transforms","from","type","attributes","shortcode","named","split","default","edit","select","tagsTaxonomy","postTypesTaxonomy","args","hide_empty","getEntityRecords","setAttributes","value","Number","save","CarouselHeader","refs","ssrRef","React","createRef","firstRender","collapseSlides","current","currentFetchRequest","console","log","setTimeout","initializeCarouselHeader","prevProps","prevState","Object","keys","index","collapseSlide","bind","addSlide","removeSlide","block_style","onBlockStyleChange","label","image","window","p4ge_vars","home","help","carousel_autoplay","onCarouselAutoplayChange","slides","slide","i","onImageChange","onHeaderChange","onHeaderSizeChange","onSubheaderChange","onLinkTextChange","onLinkUrlChange","onLinkNewTabChange","onStyleChange","onFocalPointsChange","instance","addNewSlide","CarouselHeaderBlock","supports","multiple","convert_position","position","x","y","image_1","header","header_1","header_size","header_size_1","subheader","subheader_1","description","description_1","link_text","link_text_1","link_url","link_url_1","focal_points","focus_image_1","assign","image_2","header_2","header_size_2","subheader_2","description_2","link_text_2","link_url_2","focus_image_2","image_3","header_3","header_size_3","subheader_3","description_3","link_text_3","link_url_3","focus_image_3","image_4","header_4","header_size_4","subheader_4","description_4","link_text_4","link_url_4","focus_image_4","link_url_new_tab","concat","JSON","parse","stringify","fo","slice","CarouselHeaderImage","onChange","onRemove","image_id","image_url","hasRemove","imageClass","join","obj","ev","stopPropagation","focalPoints","open","event","keyCode","CarouselHeaderSlide","isHidden","getMedia","media","source_url","toggleSlide","onImageRemove","hasSubheader","preventDefault","ImagePlaceholder","Columns","columns_title","columns_description","columns_block_style","columns","onSelectedLayoutChange","item","replace","onColumnHeaderChange","onColumnDescriptionChange","onSelectImage","onSelectURL","onUploadError","cta_link","onCTALinkChange","link_new_tab","cta_text","onCTAButtonTextChange","addColumn","removeColumn","ColumnsBlock","title_1","column","link_1","cta_text_1","link_new_tab_1","attachment","attachment_1","title_2","link_2","cta_text_2","link_new_tab_2","attachment_2","title_3","link_3","cta_text_3","link_new_tab_3","attachment_3","title_4","link_4","cta_text_4","link_new_tab_4","attachment_4","new_columns","message","Cookies","necessary_cookies_name","onNecessaryCookiesNameChange","necessary_cookies_description","onNecessaryCookiesDescriptionChange","all_cookies_name","onAllCookiesNameChange","all_cookies_description","onAllCookiesDescriptionChange","post_id","document","querySelector","CookiesBlock","Counter","style","completed","onCompletedChange","completed_api","onCompletedAPIChange","target","onTargetChange","text","onTextChange","CounterBlock","Covers","searchTimeout","cover_type","queryArgs","post_parent","planet4_options","act_page","clearTimeout","searchPosts","covers_view","onRowsChange","CoversBlock","CoversIcon","Gallery","getImageOrButton","openEvent","image_data","padding","gallery_block_style","gallery_block_title","gallery_block_description","multiple_image","dimensions","width","height","multiple_image_array","onRemoveImages","focalPoint","onFocalPointChange","gallery_block_focus_points","GalleryBlock","image_urls_array","image_id_array","$","each","img_id","img_url","media_details","sizes","medium","new_image_data","focal_points_json","isEmptyObject","parseInt","image_ids","key","updated_image_data","object","parseFloat","toFixed","Happypoint","focus_image","opacity","mailing_list_iframe","iframe_url","focal_point_params","focus_image_str","onOpacityChange","onMailingListIframeChange","onIframeUrlChange","load_iframe","HappypointBlock","onBackgroundChange","background","Media","video_title","youtube_id","onMediaUrlChange","instructions","video_poster_img","MediaBlock","Socialmedia","checkTwitterScript","checkInstagramScript","social_media_url","twitterScript","scriptLoaded","loadScriptAsync","initializeTwitterEmbeds","instaScript","initializeInstagramEmbeds","twttr","widgets","load","instgrm","Embeds","process","uri","Promise","resolve","reject","createElement","src","async","onload","body","getElementsByTagName","appendChild","embed_type_help","embed_type","onEmbedTypeChange","facebook_page_tab","onFacebookPageTabChange","onSocialMediaUrlChange","alignment_class","onAlignmentChange","SocialmediaBlock","Splittwocolumns","tag_list","unshift","issuepage_list","issuepageList","issue","raw","select_issue","issue_description","issue_link_text","issue_link_path","issue_image","focus_issue_image","select_tag","tag_description","button_text","button_link","tag_image","focus_tag_image","issue_image_url","tag_image_url","focus_issue_image_obj","focus_tag_image_obj","onSelectIssue","onIssueTitleChange","onIssueDescriptionChange","onIssueLinkTextChange","onIssueLinkPathChange","onSelectIssueImage","onIssueImageFocalPointChange","onSelectTag","onTagDescriptionChange","onButtonTextChange","onButtonLinkChange","onSelectCampaignImage","onCampaignImageFocalPointChange","SplittwocolumnsBlock","issuePage","taxonomy_args","issue_page_args","sort_order","sort_column","parent","explore_page","MenuLevel","heading","onHeadingChange","link","onLinkChange","Submenu","submenu_style","levels","addLevel","removeLevel","SubmenuBlock","heading1","level","link1","style1","heading2","link2","style2","heading3","link3","style3","onLayoutChange","Timeline","loadTimeline","timelinejs_version","js","TL","google_sheets_url","timenav_position","start_at_end","language","languages","url_desc","timeline_title","onTimelineTitleChange","onGoogleSheetsUrlChange","onLanguageChange","onTimenavPositionChange","onStartAtEndChange","TimelineBlock","ImageOrButton","imageId","imageUrl","imgClass","buttonLabel","LayoutSelector","selectedOption","setSelected","option","options","layoutOption","display","__html","Preview","showBar","children","articlesBlock","carouselHeaderBlock","columnsBlock","cookiesBlock","counterBlock","coversBlock","galleryBlock","happypointBlock","mediaBlock","socialmediaBlock","splittwocolumnsBlock","submenuBlock","timelineBlock"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;ACnEA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACJA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wC;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACNA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;;;;;;AChBA;AACA;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,0B;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACPA,qBAAqB,mBAAO,CAAC,iFAAkB;;AAE/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,2B;;;;;;;;;;;ACjBA;AACA;AACA;;AAEA,kC;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,+BAA+B;AAC5E;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA,uC;;;;;;;;;;;AC1BA;AACA;AACA;;AAEA,kC;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,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","file":"editorIndex.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./react-blocks/src/editorIndex.js\");\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  FormTokenField,\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Articles extends Component {\n  constructor(props) {\n    super(props);\n\n    // Populate tag tokens for saved tags.\n    let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n    // Populate post types tokens for saved post types.\n    let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n    this.state = {\n      tagTokens: tagTokens,\n      postTypeTokens: postTypeTokens,\n      selectedPosts: [],\n    };\n\n    this.populatePostsToken();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  populatePostsToken() {\n\n    if (this.props.posts.length > 0) {\n\n      apiFetch(\n        {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            include: this.props.posts\n          })\n        }\n      ).then(posts => {\n        const postsTokens = posts.map(post => post.title.rendered);\n        const postsSuggestions = posts.map(post => post.title.rendered);\n        this.setState({\n            postsTokens: postsTokens,\n            postsList: posts,\n            postsSuggestions: postsSuggestions,\n            selectedPosts: posts,\n          }\n        );\n      });\n    } else {\n      this.setState(\n        {\n          postsTokens: [],\n          postsList: [],\n          postsSuggestions: [],\n          selectedPosts: [],\n        }\n      );\n    }\n  }\n\n  /**\n   * Search posts using wp api.\n   *\n   * @param tokens\n   */\n  onPostsSearch(tokens) {\n\n    apiFetch(\n      {\n        path: addQueryArgs('/wp/v2/posts', {\n          per_page: 50,\n          page: 1,\n          search: tokens,\n          orderby: 'title',\n          post_status: 'publish',\n\n        })\n      }\n    ).then(posts => {\n      let postsSuggestions = posts.map(post => post.title.rendered);\n      this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n    });\n  }\n\n  onSelectedTagsChange(tokens) {\n    const tagIds = tokens.map(token => {\n      return this.props.tagsList.filter(tag => tag.name === token)[0].id;\n    });\n    this.props.onSelectedTagsChange(tagIds);\n    this.setState({tagTokens: tokens})\n  }\n\n  onSelectedPostTypesChange(tokens) {\n    const postTypeIds = tokens.map(token => {\n      return this.props.postTypesList.filter(postType => postType.name === token)[0].id;\n    });\n    this.props.onSelectedPostTypesChange(postTypeIds);\n    this.setState({postTypeTokens: tokens})\n  }\n\n  onSelectedPostsChange(tokens) {\n    // Array to hold references to selected posts objects.\n    let currentSelectedPosts = [];\n    tokens.forEach(token => {\n      let f = this.state.postsList.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n      f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n    });\n\n    const postIds = currentSelectedPosts.map(post => post.id);\n    this.props.onSelectedPostsChange(postIds);\n    this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const tagSuggestions = this.props.tagsList.map(tag => tag.name);\n    const postTypeSuggestions = this.props.postTypesList.map(postType => postType.name);\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'p4ge')}\n            placeholder={__('Enter title', 'p4ge')}\n            help={__('Your default is set to [ Latest Articles ]', 'p4ge')}\n            value={this.props.article_heading}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'p4ge')}\n            placeholder={__('Enter description', 'p4ge')}\n            value={this.props.articles_description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label={__('Button Text', 'p4ge')}\n            placeholder={__('Override button text', 'p4ge')}\n            help={__('Your default is set to [ Load More ]', 'p4ge')}\n            value={this.props.read_more_text}\n            onChange={this.props.onReadmoretextChange}\n          />\n        </div>\n\n\n        <div>\n          <TextControl\n            label={__('Button Link', 'p4ge')}\n            placeholder={__('Add read more button link', 'p4ge')}\n            value={this.props.read_more_link}\n            onChange={this.props.onReadmorelinkChange}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Open in a new Tab', 'p4ge')}\n            help={__('Open button link in new tab', 'p4ge')}\n            value={this.props.button_link_new_tab}\n            checked={this.props.button_link_new_tab}\n            onChange={(e) => this.props.onButtonLinkTabChange(e)}\n          />\n        </div>\n\n        {\n          this.props.posts !== 'undefined' && this.props.posts.length === 0\n            ?\n            <Fragment>\n              <div>\n                <TextControl\n                  label={__('Articles count', 'p4ge')}\n                  help={__('Number of articles', 'p4ge')}\n                  type=\"number\"\n                  value={this.props.article_count}\n                  onChange={this.props.onCountChange}\n                />\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label={__('Select Tags', 'p4ge')}\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                />\n                <p className='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.postTypeTokens}\n                  suggestions={postTypeSuggestions}\n                  label={__('Post Types', 'p4ge')}\n                  onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                />\n              </div>\n              <div className=\"ignore-categories-wrapper\">\n                <CheckboxControl\n                  label={__('Ignore categories', 'p4ge')}\n                  help={__('Ignore categories when filtering posts to populate the content of this block', 'p4ge')}\n                  value={this.props.ignore_categories}\n                  checked={this.props.ignore_categories}\n                  onChange={(e) => this.props.onIgnoreCategoriesChange(e)}\n                />\n              </div>\n            </Fragment>\n            : null\n        }\n\n        {\n          (this.props.tags.length === 0 && this.props.post_types.length === 0)\n            ? <div>\n              <hr/>\n              <label>{__('Manual override', 'p4ge')}</label>\n              <FormTokenField\n                value={this.state.postsTokens}\n                suggestions={this.state.postsSuggestions}\n                label={__('CAUTION: Adding articles individually will override the automatic functionality of this block. For good user experience, please include at least three articles so that spacing and alignment of the design remains in tact.', 'p4ge')}\n                onChange={tokens => this.onSelectedPostsChange(tokens)}\n                onInputChange={tokens => this.onPostsSearch(tokens)}\n                placeholder=\"Select Posts\"\n                maxLength=\"10\"\n                maxSuggestions=\"20\"\n              />\n            </div>\n            : null\n        }\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/articles'}\n            attributes={{\n              read_more_text: this.props.read_more_text,\n              read_more_link: this.props.read_more_link,\n              tags: this.props.tags,\n              post_types: this.props.post_types,\n              posts: this.props.posts,\n              article_heading: this.props.article_heading,\n              articles_description: this.props.articles_description,\n              article_count: this.props.article_count,\n              ignore_categories: this.props.ignore_categories,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Articles} from './Articles.js';\n\nexport class ArticlesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/articles', {\n      title: 'Articles',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_articles',\n            attributes: {\n              article_heading: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_heading;\n                }\n              },\n              articles_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.articles_description;\n                }\n              },\n              article_count: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_count;\n                }\n              },\n              read_more_text: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_text;\n                }\n              },\n              read_more_link: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_link;\n                }\n              },\n              button_link_new_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.button_link_new_tab;\n                }\n              },\n              ignore_categories: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.ignore_categories;\n                }\n              },\n              tags: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.tags.split(',') : [];\n                }\n              },\n              post_types: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.post_types.split(',') : [];\n                }\n              },\n              posts: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.posts.split(',') : [];\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        article_heading: {\n          type: 'string',\n        },\n        articles_description: {\n          type: 'string',\n        },\n        article_count: {\n          type: 'integer',\n          default: 3\n        },\n        tags: {\n          type: 'array',\n          default: []\n        },\n        posts: {\n          type: 'array',\n          default: []\n        },\n        post_types: {\n          type: 'array',\n          default: []\n        },\n        read_more_text: {\n          type: 'string'\n        },\n        read_more_link: {\n          type: 'string',\n          default: ''\n        },\n        button_link_new_tab: {\n          type: 'boolean',\n          default: false\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: withSelect((select) => {\n        const tagsTaxonomy = 'post_tag';\n        const postTypesTaxonomy = 'p4-page-type';\n        const args = {\n          hide_empty: false,\n          per_page: 50,\n        };\n        const {getEntityRecords} = select('core');\n\n        // We should probably wrap all these in a single call,\n        // or maybe use our own way of retrieving data from the\n        // API, I don't know how this scales.\n        const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n        const postTypesList = getEntityRecords('taxonomy', postTypesTaxonomy, args);\n\n        return {\n          postTypesList,\n          tagsList,\n        };\n      })(({\n            postTypesList,\n            tagsList,\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        if (!tagsList || !postTypesList) {\n          return \"Populating block's fields...\";\n        }\n\n        // TO-DO: Check for posts types and posts too...\n        if ((tagsList && tagsList.length === 0) || (postTypesList && postTypesList.length === 0)) {\n          return \"Populating block's fields...\";\n        }\n\n        // These methods are passed down to the\n        // Articles component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({article_heading: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({articles_description: value});\n        }\n\n        function onReadmoretextChange(value) {\n          setAttributes({read_more_text: value});\n        }\n\n        function onCountChange(value) {\n          setAttributes({article_count: Number(value)});\n        }\n\n        function onReadmorelinkChange(value) {\n          setAttributes({read_more_link: value});\n        }\n\n        function onButtonLinkTabChange(value) {\n          setAttributes({button_link_new_tab: value});\n        }\n\n        function onSelectedTagsChange(tagIds) {\n          setAttributes({tags: tagIds});\n        }\n\n        function onSelectedPostsChange(value) {\n          setAttributes({posts: value});\n        }\n\n        function onSelectedPostTypesChange(postTypeIds) {\n          setAttributes({post_types: postTypeIds});\n        }\n\n        function onIgnoreCategoriesChange(value) {\n          setAttributes({ignore_categories: value});\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Articles\n          {...attributes}\n          isSelected={isSelected}\n          tagsList={tagsList}\n          postTypesList={postTypesList}\n          onSelectedTagsChange={onSelectedTagsChange}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onCountChange={onCountChange}\n          onSelectedPostsChange={onSelectedPostsChange}\n          onSelectedPostTypesChange={onSelectedPostTypesChange}\n          onReadmoretextChange={onReadmoretextChange}\n          onReadmorelinkChange={onReadmorelinkChange}\n          onButtonLinkTabChange={onButtonLinkTabChange}\n          onIgnoreCategoriesChange={onIgnoreCategoriesChange}/>\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import React, {Component, Fragment} from 'react';\nimport {\n  Button,\n  CheckboxControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {CarouselHeaderSlide} from \"./CarouselHeaderSlide\";\n\n\nexport class CarouselHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.refs = [];\n    this.ssrRef = React.createRef();\n    this.firstRender = true;\n  }\n\n  componentDidMount() {\n    this.collapseSlides();\n    // Get ServerSideRender component fetch request and attach resolve function.\n    this.ssrRef.current.currentFetchRequest.then(function () {\n      console.log('Promise resolved');\n      setTimeout(function () {\n        initializeCarouselHeader();\n      }, 1000);\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.firstRender) {\n      this.collapseSlides();\n      this.firstRender = false;\n    }\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    this.ssrRef.current.currentFetchRequest.then(function() {\n      console.log('Promise resolved');\n      setTimeout(function () {\n      initializeCarouselHeader();\n      }, 1000);\n    });\n  }\n\n  /**\n   * Collapse all active slides.\n   */\n  collapseSlides() {\n    let refs = this.refs;\n    Object.keys(this.refs).forEach(function (index) {\n      console.log(refs[index]); // key\n      if (null !== refs[index]) {\n        refs[index].collapseSlide();\n      }\n    }.bind(refs));\n  }\n\n  /**\n   * Add new slide to carousel header.\n   */\n  addNewSlide() {\n    this.collapseSlides();\n    this.props.addSlide();\n  }\n\n  /**\n   * Remove slide to carousel header.\n   */\n  removeSlide() {\n    this.props.removeSlide();\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h3>{__('What style of carousel do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.block_style}\n            onSelectedLayoutChange={this.props.onBlockStyleChange}\n            options={[\n              {\n                label: __('Zoom and slide to gray', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/carousel-with-preview.png',\n                value: 'zoom-and-slide-to-gray',\n                help: __('This carousel provides a fancy transition, and a preview for the next slide in an oblique shape.')\n              }, {\n                label: __('Full width classic', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/carousel-classic.png',\n                value: 'full-width-classic',\n                help: __('This is a full width slider with a classic look: big slides, fade transition, and no subheaders.'),\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Carousel Autoplay', 'p4ge')}\n            help={__('Select to trigger images autoslide', 'p4ge')}\n            value={this.props.carousel_autoplay}\n            checked={this.props.carousel_autoplay}\n            onChange={(e) => this.props.onCarouselAutoplayChange(e)}\n          />\n        </div>\n\n        {this.props.slides.map((slide, i) => {\n          return (\n            <Fragment>\n\n              <hr className=\"slide-hr\"/>\n\n                <CarouselHeaderSlide\n                  {...slide}\n                  onImageChange={this.props.onImageChange}\n                  onHeaderChange={this.props.onHeaderChange}\n                  onHeaderSizeChange={this.props.onHeaderSizeChange}\n                  onSubheaderChange={this.props.onSubheaderChange}\n                  onDescriptionChange={this.props.onDescriptionChange}\n                  onLinkTextChange={this.props.onLinkTextChange}\n                  onLinkUrlChange={this.props.onLinkUrlChange}\n                  onLinkNewTabChange={this.props.onLinkNewTabChange}\n                  onStyleChange={this.props.onStyleChange}\n                  onFocalPointsChange={this.props.onFocalPointsChange}\n                  hasSubheader={this.props.block_style !== 'full-width-classic'}\n                  index={i}\n                  key={i}\n                  ref={(instance) => {\n                    this.refs[i] = instance\n                  }}\n                />\n            </Fragment>\n          );\n        })}\n\n        <hr className=\"slide-hr\"/>\n        <div>\n          <Button isPrimary\n                  onClick={this.addNewSlide.bind(this)}\n                  disabled={this.props.slides.length >= 4}\n          >\n            Add Slide\n          </Button>\n          <Button isDefault\n                  onClick={this.removeSlide.bind(this)} disabled={this.props.slides.length <= 1}\n          >\n            Remove Slide\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected} >\n          <ServerSideRender\n            block={'planet4-blocks/carousel-header'}\n            attributes={{\n              block_style: this.props.block_style,\n              carousel_autoplay: this.props.carousel_autoplay,\n              slides: this.props.slides,\n            }}\n            ref={this.ssrRef}\n          >\n          </ServerSideRender>\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {CarouselHeader} from './CarouselHeader.js';\n\nexport class CarouselHeaderBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/carousel-header', {\n      title: 'Carousel Header',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_carousel_header block_style=\"full-width-classic\" carousel_autoplay=\"true\" image_1=\"16\" focus_image_1=\"center center\"\n       *     header_1=\"Carousel header - full width  1\" description_1=\"Lorem ipsum \" link_text_1=\"Curabitur rutrum viverra\" image_2=\"348\"\n       *     focus_image_2=\"center center\"\n       *     header_2=\"Carousel header - full width  2\"\n       *     description_2=\"Pellentesque cursus\" link_text_2=\"Pellentesque cursus\"\n       *     image_3=\"357\" focus_image_3=\"left top\" header_3=\"Carousel header - full width  3\"\n       *     description_3=\"Nam condimentum\" focus_image_4=\"left top\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/carousel-header {\"carousel_autoplay\":\"true\",\"slides\":[{\"image\":16,\"header\":\"Carousel header - full width  1\",\"description\":\"Lorem ipsum\",\"link_text\":\"Curabitur rutrum viverra\",\"focal_points\":{\"x\":0.5,\"y\":0.5}},{\"image\":348,\"header\":\"Carousel header - full width  2\",\"description\":\"Pellentesque cursus\",\"link_text\":\"Pellentesque cursus\",\"focal_points\":{\"x\":0.5,\"y\":0.5}},{\"image\":357,\"header\":\"Carousel header - full width  3\",\"description\":\"Nam condimentum\",\"focal_points\":{\"x\":0,\"y\":0}}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_carousel_header',\n            attributes: {\n              block_style: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.block_style);\n                }\n              },\n              carousel_autoplay: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.carousel_autoplay;\n                }\n              },\n              slides: {\n                type: 'array',\n                shortcode: function (attributes) {\n\n                  const convert_position = function(position) {\n                    switch (position) {\n                    case 'left top':\n                      return {x: 0, y: 0};\n                    case 'center top':\n                      return {x: 0.5, y: 0};\n                    case 'right top':\n                      return {x: 1, y: 0};\n                    case 'left center':\n                      return {x: 0, y: 0.5};\n                    case 'center center':\n                      return {x: 0.5, y: 0.5};\n                    case 'right center':\n                      return {x: 1, y: 0.5};\n                    case 'left bottom':\n                      return {x: 0, y: 1};\n                    case 'center bottom':\n                      return {x: 0.5, y: 1};\n                    case 'right bottom':\n                      return {x: 1, y: 1};\n                    }\n                  };\n\n\n                  let slides = [];\n                  if (attributes.named.image_1) {\n                    let slide = {\n                      image: Number(attributes.named.image_1),\n                      header: attributes.named.header_1,\n                      header_size: attributes.named.header_size_1,\n                      subheader: attributes.named.subheader_1,\n                      description: attributes.named.description_1,\n                      link_text: attributes.named.link_text_1,\n                      link_url: attributes.named.link_url_1,\n                      focal_points: convert_position(attributes.named.focus_image_1)\n                    };\n                    slides.push(Object.assign({}, slide));\n\n                    if (attributes.named.image_2) {\n                      let slide = {\n                        image: Number(attributes.named.image_2),\n                        header: attributes.named.header_2,\n                        header_size: attributes.named.header_size_2,\n                        subheader: attributes.named.subheader_2,\n                        description: attributes.named.description_2,\n                        link_text: attributes.named.link_text_2,\n                        link_url: attributes.named.link_url_2,\n                        focal_points: convert_position(attributes.named.focus_image_2)\n                      };\n                      slides.push(Object.assign({}, slide));\n\n                      if (attributes.named.image_3) {\n                        let slide = {\n                          image: Number(attributes.named.image_3),\n                          header: attributes.named.header_3,\n                          header_size: attributes.named.header_size_3,\n                          subheader: attributes.named.subheader_3,\n                          description: attributes.named.description_3,\n                          link_text: attributes.named.link_text_3,\n                          link_url: attributes.named.link_url_3,\n                          focal_points: convert_position(attributes.named.focus_image_3)\n                        };\n                        slides.push(Object.assign({}, slide));\n\n                        if (attributes.named.image_4) {\n                          let slide = {\n                            image: Number(attributes.named.image_4),\n                            header: attributes.named.header_4,\n                            header_size: attributes.named.header_size_4,\n                            subheader: attributes.named.subheader_4,\n                            description: attributes.named.description_4,\n                            link_text: attributes.named.link_text_4,\n                            link_url: attributes.named.link_url_4,\n                            focal_points: convert_position(attributes.named.focus_image_4)\n                          };\n                          slides.push(Object.assign({}, slide));\n\n                        }\n                      }\n                    }\n\n                  }\n                  return slides;\n                }\n              }\n            }\n          }\n        ]\n      },\n      attributes: {\n        block_style: {\n          type: 'string',\n        },\n        carousel_autoplay: {\n          type: 'boolean',\n        },\n        slides: {\n          type: 'array',\n          default: [\n            {\n              image: null,\n              focal_points: {},\n              header: '',\n              header_size: 'h1',\n              subheader: '',\n              description: '',\n              link_text: '',\n              link_url: '',\n              link_url_new_tab: false,\n            }\n          ]\n        },\n      },\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        function addSlide() {\n          setAttributes({\n            slides: attributes.slides.concat({\n              image: null,\n              focal_points: {},\n              header: '',\n              header_size: 'h1',\n              subheader: '',\n              description: '',\n              link_text: '',\n              link_url: '',\n              link_url_new_tab: false,\n            })\n          });\n        }\n\n        function onCarouselAutoplayChange(value) {\n          setAttributes({carousel_autoplay: value});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onImageChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          if (null !== value) {\n            slides[index].image = value;\n          } else {\n            slides[index].image = null;\n          }\n          setAttributes({slides: slides});\n        }\n\n        function onFocalPointsChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          if (null !== value) {\n            const fo = JSON.parse(JSON.stringify(value));\n            slides[index].focal_points = fo;\n          } else {\n            slides[index].focal_points = null;\n          }\n          setAttributes({slides: slides});\n        }\n\n        function onHeaderChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].header = value;\n          setAttributes({slides: slides});\n        }\n\n        function onHeaderSizeChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].header_size = value;\n          setAttributes({slides: slides});\n        }\n\n        function onSubheaderChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].subheader = value;\n          setAttributes({slides: slides});\n        }\n\n        function onDescriptionChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].description = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkUrlChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_url = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkTextChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_text = value;\n          setAttributes({slides: slides});\n        }\n\n        function onLinkNewTabChange(index, value) {\n          let slides = JSON.parse(JSON.stringify(attributes.slides));\n          slides[index].link_url_new_tab = value;\n          setAttributes({slides: slides});\n        }\n\n        function onBlockStyleChange(value) {\n          setAttributes({block_style: value});\n        }\n\n        function removeSlide() {\n          setAttributes({slides: attributes.slides.slice(0, -1)});\n        }\n\n        return <CarouselHeader\n          {...attributes}\n          isSelected={isSelected}\n          onBlockStyleChange={onBlockStyleChange}\n          onCarouselAutoplayChange={onCarouselAutoplayChange}\n          onTitleChange={onTitleChange}\n          onImageChange={onImageChange}\n          onHeaderChange={onHeaderChange}\n          onSubheaderChange={onSubheaderChange}\n          onHeaderSizeChange={onHeaderSizeChange}\n          onDescriptionChange={onDescriptionChange}\n          onLinkTextChange={onLinkTextChange}\n          onLinkUrlChange={onLinkUrlChange}\n          onLinkNewTabChange={onLinkNewTabChange}\n          onFocalPointsChange={onFocalPointsChange}\n          addSlide={addSlide}\n          removeSlide={removeSlide}\n        />;\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {React, Component, Fragment} from 'react';\nimport {\n  Dashicon,\n  FocalPointPicker\n} from '@wordpress/components';\nimport {MediaUpload} from \"@wordpress/editor\";\nimport ImagePlaceholder from './ImagePlaceholder';\n\nexport class CarouselHeaderImage extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {onChange, onRemove, image_id, image_url, onFocalPointsChange, focal_points} = this.props;\n    let   hasRemove = true;\n\n    let imageClass = [];\n    if (!image_url) {\n      imageClass.push('ch-image-upload-placeholder');\n      imageClass.push('ch-image-upload-has-placeholder');\n    } else {\n      imageClass.push('carousel-header-image-container');\n    }\n    imageClass = imageClass.join(' ');\n\n\n    return (\n      <Fragment>\n        <MediaUpload\n          onSelect={onChange}\n          allowedTypes={['image']}\n          value={image_id}\n          render={obj => {\n            if (image_url) {\n              return (\n                <div\n                  className={imageClass}\n                  tabIndex={0}\n                >\n                  {image_url && onRemove && hasRemove && (\n                    <button className=\"ch-image-upload-remove\" onClick={ev => {\n                      onRemove();\n                      ev.stopPropagation()\n                    }}><Dashicon icon=\"no\"/></button>\n                  )}\n                  <FocalPointPicker\n                    url={image_url}\n                    value={focal_points}\n                    onChange={(focalPoints) => onFocalPointsChange(focalPoints)}\n                  />\n\n                </div>\n              )\n            }\n            return (\n              <div\n                className={imageClass}\n                onClick={obj.open}\n                onKeyDown={event => {\n                  if (event.keyCode === 13) {\n                    obj.open()\n                  }\n                }}\n                role=\"button\"\n                tabIndex={0}\n                >\n                {image_url && onRemove && hasRemove && (\n                  <button className=\"ch-image-upload-remove\" onClick={ev => {\n                    onRemove();\n                    ev.stopPropagation()\n                  }}><Dashicon icon=\"no\"/></button>\n                )}\n                <ImagePlaceholder/>\n              </div>\n            )\n          }}\n        />\n\n      </Fragment>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  Dashicon,\n  SelectControl,\n  TextareaControl,\n  TextControl,\n  ToggleControl\n} from '@wordpress/components';\nimport {URLInput} from '@wordpress/block-editor'\nimport {CarouselHeaderImage} from \"./CarouselHeaderImage\";\n\nconst {apiFetch} = wp;\n\nexport class CarouselHeaderSlide extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      image_id: null,\n      image_url: null,\n      focal_points: props.focal_points,\n      isHidden: false,\n    };\n    this.getMedia();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  getMedia() {\n\n    if (this.props.image) {\n\n      apiFetch(\n        {\n          path: `/wp/v2/media/${this.props.image}`\n        }\n      ).then(media => {\n        console.log('media request');\n        console.log(media);\n        this.setState({\n            image_id: media.id,\n            image_url: media.source_url\n          }\n        );\n      });\n    }\n  }\n\n  onImageChange(image) {\n    this.props.onImageChange(this.props.index, image.id);\n    this.setState({image_id: image.id, image_url: image.url});\n  }\n\n  onImageRemove() {\n    this.props.onImageChange(this.props.index, null);\n    this.setState({image_id: null, image_url: null});\n  }\n\n  onFocalPointsChange(value) {\n    this.props.onFocalPointsChange(this.props.index, value);\n    this.setState({focal_points: value});\n  }\n\n  collapseSlide() {\n    this.setState({isHidden: true});\n  }\n\n  openSlide() {\n    this.setState({isHidden: false});\n  }\n\n  toggleSlide() {\n    this.setState({isHidden: !this.state.isHidden});\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div className={this.state.isHidden ? '' : 'carousel-header-slide-container'}>\n          <div className='slide-number-row'>\n            <span>Slide {this.props.index + 1}</span>\n            <span className={this.state.isHidden ? 'slide-arrow' : 'slide-arrow slide-open'}>\n            <Button isLink className=\"\" onClick={ev => this.toggleSlide()}>\n              <Dashicon icon=\"arrow-down-alt2\"/>\n            </Button>\n            </span>\n          </div>\n\n\n          {!this.state.isHidden &&\n\n          <Fragment>\n\n            <div>{__('Select image and focal point', 'p4ge')}</div>\n            <CarouselHeaderImage\n              image_id={this.state.image_id}\n              image_url={this.state.image_url}\n              focal_points={this.state.focal_points}\n              onRemove={() => this.onImageRemove()}\n              onChange={(image) => this.onImageChange(image)}\n              onFocalPointsChange={(f) => this.onFocalPointsChange(f)}\n            />\n            <div className=\"ch-url-input-control__wrapper\">\n\n              <TextControl\n                className=\"carouselh-header-input\"\n                label=\"Header\"\n                placeholder={__('Enter header', 'p4ge')}\n                value={this.props.header}\n                onChange={(e) => this.props.onHeaderChange(this.props.index, e)}\n              />\n              <SelectControl\n                label=\"Header text size\"\n                value={this.props.header_size}\n                options={[\n                  {label: 'h1', value: 'h1'},\n                  {label: 'h2', value: 'h2'},\n                  {label: 'h3', value: 'h3'},\n                ]}\n                onChange={(e) => this.props.onHeaderSizeChange(this.props.index, e)}\n              />\n            </div>\n            {this.props.hasSubheader &&\n            <TextControl\n              label=\"Subheader\"\n              placeholder=\"Enter subheader\"\n              value={this.props.subheader}\n              onChange={(e) => this.props.onSubheaderChange(this.props.index, e)}\n            />\n            }\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter description of image', 'p4ge')}\n              value={this.props.description}\n              onChange={(e) => this.props.onDescriptionChange(this.props.index, e)}\n            />\n            <div className=\"ch-url-input-control__wrapper\">\n\n              <TextControl\n                label=\"Link text and url\"\n                placeholder=\"Enter link text for image\"\n                value={this.props.link_text}\n                onChange={(e) => this.props.onLinkTextChange(this.props.index, e)}\n                className='carousel-header-link-text-input'\n              />\n              <form\n                className=\"ch-url-input-control\"\n                onSubmit={event => event.preventDefault()}>\n                <div className=\"ch-url-input-control__wrapper\">\n                  <URLInput\n                    label=\"Url for link\"\n                    className=\"ch-url-input-control__input\"\n                    value={this.props.link_url}\n                    onChange={(e) => this.props.onLinkUrlChange(this.props.index, e)}\n                    autoFocus={false}\n                  />\n                  <div className=\"ch-url-input-control__new-tab\">\n                    <ToggleControl\n                      help={__('New Tab', 'p4ge')}\n                      checked={this.props.link_url_new_tab}\n                      onChange={(e) => this.props.onLinkNewTabChange(this.props.index, e)}\n                    />\n                  </div>\n                </div>\n              </form>\n            </div>\n          </Fragment>\n          }\n        </div>\n      </Fragment>\n    );\n  };\n}\n","import {React, Component} from 'react';\n\nexport default class ImagePlaceholder extends Component {\n  render() {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 512 376\">\n      <path d=\"M0,0v376h512V0H0z M480,344H32V32h448V344z\"/>\n      <circle cx=\"409.1\" cy=\"102.9\" r=\"40.9\"/>\n      <polygon\n        points=\"480,344 32,344 118.3,179.8 140,191.1 189,113.8 289,226.9 297.9,217.6 315,239.9 341,193.5 393.9,264.7 409,248.8\"/>\n    </svg>\n  }\n}\n","import { React } from 'react';\nimport {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender,\n  Dashicon,\n  Tooltip,\n  ToggleControl\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Columns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {columns_title,columns_description,columns_block_style,columns} = this.props;\n\n      return (\n        <Fragment>\n          <h3>{__('What style of column do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={columns_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('No Image', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-no_images.jpg',\n                  value: 'no_image',\n                  help: __('Optional headers, description text and buttons in a column display.', 'p4ge')\n                },\n                {\n                  label: __('Tasks', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-tasks.jpg',\n                  value: 'tasks',\n                  help: __('Used on Take Action pages, this display has ordered tasks, and call to action buttons.', 'p4ge')\n                },\n                {\n                  label: __('Icons', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-icons.jpg',\n                  value: 'icons',\n                  help: __('For more static content, this display has an icon, header, description and text link.', 'p4ge')\n                },\n                {\n                  label: __('Images', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-images.jpg',\n                  value: 'image',\n                  help: __('For more static content, this display has an image, header, description and text link.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter block title', 'p4ge')}\n              value={columns_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter block description', 'p4ge')}\n              value={columns_description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n          <div>\n\n            {columns.map((item, index) => {\n              return (\n                <div key={index}>\n                  <div><hr /><i>{__('In order for the column to appear at least <strong>Header or Body</strong> has to be filled.', 'p4ge')}</i></div>\n\n                  <TextControl\n                    label={__('Column %s: Header', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter header of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.title}\n                    onChange={this.props.onColumnHeaderChange.bind(this,index)}\n                  />\n                  <TextareaControl\n                    label={__('Column %s: Body', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter body of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.description}\n                    onChange={this.props.onColumnDescriptionChange.bind(this,index)}\n                  />\n\n                  { 'no_image' != columns_block_style &&\n                    <MediaPlaceholder\n                      labels={{ title: __('Column %s: Image', 'p4ge').replace('%s', index+1)}}\n                      icon=\"format-image\"\n                      onSelect={this.props.onSelectImage.bind(this,index)}\n                      onSelectURL={this.props.onSelectURL.bind(this,index)}\n                      onError={this.props.onUploadError}\n                      accept=\"image/*\"\n                      allowedTypes={[\"image\"]}\n                    />\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Button/CtA Link', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_link}\n                    onChange={this.props.onCTALinkChange.bind(this,index)}\n                  />\n                  <ToggleControl\n                    label={__('Open link in new tab', 'p4ge')}\n                    help={__('Open Column %s: Button/CtA Link in a new tab', 'p4ge').replace('%s', index+1)}\n                    value={item.link_new_tab}\n                    checked={item.link_new_tab}\n                    onChange={this.props.onLinkNewTabChange.bind(this,index)}\n                  />\n                  <TextControl\n                    label={__('Column %s: Button/CtA Text', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter text of button/link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_text}\n                    onChange={this.props.onCTAButtonTextChange.bind(this,index)}\n                  />\n                </div>\n              );\n            })}\n\n            { columns.length < 4 && (\n              <Tooltip text={__('Add Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__addIcon\"\n                  }\n                  onClick={this.props.addColumn}\n                >\n                  {__('Add Column', 'p4ge')} <Dashicon icon={\"plus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n\n            { columns.length > 0 && (\n              <Tooltip text={__('Remove Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__removeIcon\"\n                  }\n                  onClick={this.props.removeColumn}\n                >\n                  {__('Remove Column', 'p4ge')} <Dashicon icon={\"minus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/columns'}\n                  attributes={{\n                    columns_block_style: this.props.columns_block_style,\n                    columns_title: this.props.columns_title,\n                    columns_description: this.props.columns_description,\n                    columns: this.props.columns,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Columns} from './Columns.js';\n\nconst {__} = wp.i18n;\n\nexport class ColumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/columns', {\n        title: __('Columns', 'p4ge'),\n        icon: \"grid-view\",\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_columns columns_block_style=\"image\" columns_title=\"Lorem Ipsum\" columns_description=\"Lorem Ipsum\"\n         *                    title_1=\"col1\" description_1=\"col1 body\" attachment_1=\"5096\" link_1=\"cta link1\" link_new_tab_1=\"true\" cta_text_1=\"cta text\"\n         *                    title_2=\"col2\" description_2=\"col2 body\" attachment_2=\"5186\" link_2=\"cta link2\" link_new_tab_2=\"true\" cta_text_2=\"cta text 2\" link_new_tab_3=\"false\" link_new_tab_4=\"false\" /]\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/columns {\"columns_block_style\":\"image\",\"columns_title\":\"Lorem Ipsum\",\"columns_description\":\"Lorem Ipsum\",\n         *      \"columns\":[{\"title\":\"col1\",\"description\":\"col1 body\",\"attachment\":5096,\"cta_link\":\"cta link1\",\"cta_text\":\"cta text 1\",\"link_new_tab\":true},{\"title\":\"col2\",\"description\":\"col2 body\",\"attachment\":5186,\"cta_link\":\"cta link2\",\"cta_text\":\"cta text 2\",\"link_new_tab\":true}]} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_columns',\n              attributes: {\n                columns_block_style: {\n                  type: 'string',\n                  shortcode: ({named: {columns_block_style = ''}}) => columns_block_style,\n                },\n                columns_title: {\n                  type: 'string',\n                  shortcode: ({named: {columns_title = ''}}) => columns_title,\n                },\n                columns_description: {\n                  type: 'string',\n                  shortcode: ({named: {columns_description = ''}}) => columns_description,\n                },\n                columns: {\n                  type: 'array',\n                  shortcode: function (attributes) {\n                    let columns = [];\n                    if (attributes.named.title_1) {\n                      let column = {\n                        title: attributes.named.title_1,\n                        description: attributes.named.description_1 || '',\n                        cta_link: attributes.named.link_1 || '',\n                        cta_text: attributes.named.cta_text_1 || '',\n                        link_new_tab: attributes.named.link_new_tab_1 || false\n                      };\n                      if (attributes.named.columns_block_style != 'no_image')\n                        column.attachment = attributes.named.attachment_1 || false;\n                      columns.push(Object.assign({}, column));\n\n                      if (attributes.named.title_2) {\n                        let column = {\n                          title: attributes.named.title_2,\n                          description: attributes.named.description_2 || '',\n                          cta_link: attributes.named.link_2 || '',\n                          cta_text: attributes.named.cta_text_2 || '',\n                          link_new_tab: attributes.named.link_new_tab_2 || false\n                        };\n                        if (attributes.named.columns_block_style != 'no_image')\n                          column.attachment = attributes.named.attachment_2 || false;\n                        columns.push(Object.assign({}, column));\n\n                        if (attributes.named.title_3) {\n                          let column = {\n                            title: attributes.named.title_3,\n                            description: attributes.named.description_3 || '',\n                            cta_link: attributes.named.link_3 || '',\n                            cta_text: attributes.named.cta_text_3 || '',\n                            link_new_tab: attributes.named.link_new_tab_3 || false\n                          };\n                          if (attributes.named.columns_block_style != 'no_image')\n                            column.attachment = attributes.named.attachment_3 || false;\n                          columns.push(Object.assign({}, column));\n\n                          if (attributes.named.title_4) {\n                            let column = {\n                              title: attributes.named.title_4,\n                              description: attributes.named.description_4 || '',\n                              cta_link: attributes.named.link_4 || '',\n                              cta_text: attributes.named.cta_text_4 || '',\n                              link_new_tab: attributes.named.link_new_tab_4 || false\n                            };\n                            if (attributes.named.columns_block_style != 'no_image')\n                              column.attachment = attributes.named.attachment_4 || false;\n                            columns.push(Object.assign({}, column));\n                          }\n                        }\n                      }\n                    }\n                    return columns;\n                  },\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          columns_block_style: {\n            type: 'string',\n          },\n          columns_title: {\n            type: 'string'\n          },\n          columns_description: {\n            type: 'string'\n          },\n          columns: {\n            type: \"array\",\n            default: [],\n            title:{\n              type: 'string'\n            },\n            description:{\n              type: 'string'\n            },\n            attachment:{\n              type: 'string'\n            },\n            cta_link:{\n              type: 'string'\n            },\n            link_new_tab:{\n              type: 'string'\n            },\n            cta_text:{\n              type: 'string'\n            },\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n\n          function onTitleChange(value) {\n            setAttributes({columns_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({columns_description: value});\n          }\n\n          function onSelectImage(index, value) {\n            const {columns} = attributes;\n            let {id}          = value;\n            let new_columns   = [...columns];\n            new_columns[index]['attachment'] = id;\n            setAttributes({columns: new_columns});\n          }\n\n          function onSelectURL(index, value) {\n            const {columns} = attributes;\n            let {id} = null;\n            let new_columns = [...columns];\n            new_columns[index]['attachment'] = id;\n            setAttributes({columns: new_columns});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({columns_block_style: value});\n\n            if ( 'no_image' == value ) {\n              const {columns} = attributes;\n              if ( 0 < columns.length ) {\n                let new_columns = [...columns];\n                let i;\n                for ( i = 0; i < columns.length; i++ ) {\n                  new_columns[i]['attachment'] = '';\n                }\n                setAttributes({columns: new_columns});\n              }\n            }\n          }\n\n          function addColumn() {\n            const {columns} = attributes;\n\n            if ( columns.length < 4 ) {\n              setAttributes({\n                columns: [...columns, {\n                  title:'',\n                  description:'',\n                  attachment:'',\n                  cta_link:'',\n                  cta_text:'',\n                  link_new_tab:'',\n                }]\n              });\n            }\n          }\n\n          function removeColumn() {\n            setAttributes({columns: attributes.columns.slice(0, -1) });\n          }\n\n          function onColumnHeaderChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].title = value;\n            setAttributes({columns});\n          }\n\n          function onColumnDescriptionChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].description = value;\n            setAttributes({columns});\n          }\n\n          function onCTALinkChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_link = value;\n            setAttributes({columns});\n          }\n\n          function onLinkNewTabChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].link_new_tab = value;\n            setAttributes({columns});\n          }\n\n          function onCTAButtonTextChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_text = value;\n            setAttributes({columns});\n          }\n\n          return <Columns\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            addColumn={addColumn}\n            removeColumn={removeColumn}\n            onUploadError={onUploadError}\n            onColumnHeaderChange={onColumnHeaderChange}\n            onColumnDescriptionChange={onColumnDescriptionChange}\n            onCTALinkChange={onCTALinkChange}\n            onLinkNewTabChange={onLinkNewTabChange}\n            onCTAButtonTextChange={onCTAButtonTextChange}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\nexport class Cookies extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Cookies options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display opt-in options for cookies',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={this.props.title}\n              onChange={this.props.onTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"Necessary Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.necessary_cookies_name}\n              onChange={this.props.onNecessaryCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Necessary Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.necessary_cookies_description}\n              onChange={this.props.onNecessaryCookiesDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"All Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.all_cookies_name}\n              onChange={this.props.onAllCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"All Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.all_cookies_description}\n              onChange={this.props.onAllCookiesDescriptionChange}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/cookies'}\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              necessary_cookies_name: this.props.necessary_cookies_name,\n              necessary_cookies_description: this.props.necessary_cookies_description,\n              all_cookies_name: this.props.all_cookies_name,\n              all_cookies_description: this.props.all_cookies_description,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Cookies} from './Cookies.js';\n\nexport class CookiesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/cookies', {\n      title: 'Cookies',\n      icon: 'visibility',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_cookies',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              necessary_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_name;\n                }\n              },\n              necessary_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_description;\n                }\n              },\n              all_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_name;\n                }\n              },\n              all_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_description;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        necessary_cookies_name: {\n          type: 'string',\n        },\n        necessary_cookies_description: {\n          type: 'string',\n        },\n        all_cookies_name: {\n          type: 'string',\n        },\n        all_cookies_description: {\n          type: 'string',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onNecessaryCookiesNameChange(value) {\n          setAttributes({necessary_cookies_name: value});\n        }\n\n        function onNecessaryCookiesDescriptionChange(value) {\n          setAttributes({necessary_cookies_description: value});\n        }\n\n        function onAllCookiesNameChange(value) {\n          setAttributes({all_cookies_name: value});\n        }\n\n        function onAllCookiesDescriptionChange(value) {\n          setAttributes({all_cookies_description: value});\n        }\n\n        return <Cookies\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onNecessaryCookiesNameChange={onNecessaryCookiesNameChange}\n          onNecessaryCookiesDescriptionChange={onNecessaryCookiesDescriptionChange}\n          onAllCookiesNameChange={onAllCookiesNameChange}\n          onAllCookiesDescriptionChange={onAllCookiesDescriptionChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import { React, Component } from 'react';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nexport class Counter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const { __ } = wp.i18n;\n\n    return (\n      <div>\n        <h3>{ __('What style of counter do you need?', 'p4ge') }</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={ this.props.style }\n            onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n            options={[\n              {\n                label: __('Text Only', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_text.png',\n                value: 'plain',\n                help: __('Text to describe your progress', 'p4ge')\n              },\n              {\n                label: __('Progress Bar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'bar',\n                help: __('A bar to visualise the progress.', 'p4ge'),\n              },\n              {\n                label: __('Progress Dial', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_arc.png',\n                value: 'arc',\n                help: __('A dial to visualise the progress.', 'p4ge')\n              },\n              {\n                label: __('Progress bar inside EN Form', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'en-forms-bar',\n                help: __('A bar inside an En Form. Select this only if you are adding an EN Form to the same page.', 'p4ge')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Title', 'p4ge') }\n            placeholder= { __('Enter title', 'p4ge') }\n            value={ this.props.title }\n            onChange={ this.props.onTitleChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Description', 'p4ge') }\n            placeholder= { __('Enter description', 'p4ge') }\n            value={ this.props.description }\n            onChange={ this.props.onDescriptionChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed', 'p4ge') }\n            placeholder= { __('e.g. number of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.completed }\n            onChange={ this.props.onCompletedChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed API URL', 'p4ge') }\n            placeholder= { __('API URL of completed number. If filled in will overide the \\'Completed\\' field', 'p4ge') }\n            value={ this.props.completed_api }\n            onChange={ this.props.onCompletedAPIChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Target', 'p4ge') }\n            placeholder= { __('e.g. target no. of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.target }\n            onChange={ this.props.onTargetChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Text', 'p4ge') }\n            placeholder= { __('e.g. \"signatures collected of %target%\"', 'p4ge') }\n            value={ this.props.text }\n            onChange={ this.props.onTextChange }\n          />\n          <p className='FieldHelp'>These placeholders can be used: <code>%completed%</code>, <code>%target%</code>, <code>%remaining%</code> </p>\n        </div>\n\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={ this.props.isSelected }>\n          <ServerSideRender\n            block={ 'planet4-blocks/counter' }\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              style: this.props.style,\n              completed: this.props.completed,\n              completed_api: this.props.completed_api,\n              target: this.props.target,\n              text: this.props.text,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n};","import { Counter } from './Counter.js';\n\nexport class CounterBlock {\n  constructor() {\n    const { registerBlockType } = wp.blocks;\n    const { withSelect } = wp.data;\n\n    registerBlockType( 'planet4-blocks/counter', {\n      title: 'Counter',\n      icon: 'dashboard',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_counter',\n            attributes: {\n              style: {\n                type: 'string',\n                shortcode: ( { named: { style = 'plain' } } ) => style,\n              },\n              title: {\n                type: 'string',\n                shortcode: ( { named: { title = '' } } ) => title,\n              },\n              description: {\n                type: 'string',\n                shortcode: ( { named: { description = '' } } ) => description,\n              },\n              completed: {\n                type: 'integer',\n                shortcode: ( { named: { completed = 0 } } ) => completed,\n              },\n              completed_api: {\n                type: 'string',\n                shortcode: ( { named: { completed_api = '' } } ) => completed_api,\n              },\n              target: {\n                type: 'integer',\n                shortcode: ( { named: { target = 0 } } ) => target,\n              },\n              text: {\n                type: 'string',\n                shortcode: ( { named: { text = '' } } ) => text,\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        style: {\n          type: 'string',\n          default: 'plain'\n        },\n        completed: {\n          type: 'integer',\n        },\n        completed_api: {\n          type: 'string',\n        },\n        target: {\n          type: 'integer',\n        },\n        text: {\n          type: 'string',\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange( value ) {\n          setAttributes( { title: value } );\n        }\n\n        function onDescriptionChange( value ) {\n          setAttributes( { description: value } );\n        }\n\n        function onSelectedLayoutChange( value ) {\n          setAttributes( { style: value } );\n        }\n\n        function onCompletedChange( value ) {\n          setAttributes( { completed: Number(value) } );\n        }\n\n        function onCompletedAPIChange( value ) {\n          setAttributes( { completed_api: value } );\n        }\n\n        function onTargetChange( value ) {\n          setAttributes( { target: Number(value) } );\n        }\n\n        function onTextChange( value ) {\n          setAttributes( { text: value } );\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Counter\n          { ...attributes }\n          isSelected={ isSelected }\n          onTitleChange={ onTitleChange }\n          onDescriptionChange={ onDescriptionChange }\n          onSelectedLayoutChange={ onSelectedLayoutChange }\n          onCompletedChange={ onCompletedChange }\n          onCompletedAPIChange={ onCompletedAPIChange }\n          onTargetChange={ onTargetChange }\n          onTextChange={ onTextChange }   />\n      },\n      save() {\n        return null;\n      }\n    } );\n  };\n}\n\n","import React, { Component } from 'react';\n\nimport {\n  FormTokenField,\n  SelectControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\n\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Covers extends Component {\n    constructor(props) {\n      super(props);\n\n      // Populate tag tokens for saved tags.\n      let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n      // Populate post types tokens for saved post types.\n      let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n      // Populate component state with block's saved tags tokens and post type tokens\n      this.state = {\n        tagTokens: tagTokens,\n        postTypeTokens: postTypeTokens,\n        selectedPosts: [],\n      };\n\n      this.populatePostsToken();\n      this.searchTimeout = null;\n    }\n\n    static getDerivedStateFromProps(props, state) {\n\n      // Post types should be available for cover_type 3\n      // If cover_type is not 3, reset post types tokens.\n      if ('1' === props.cover_type || '2' === props.cover_type) {\n        state.postTypeTokens= [];\n      }\n\n      // If posts attribute was reset, reset also the posts tokens.\n      if (0 === props.posts.length) {\n        state.postsTokens= [];\n      }\n      return state;\n    }\n\n\n    /**\n     * Set component's state for existing blocks.\n     */\n    populatePostsToken() {\n\n      if (this.props.posts.length > 0) {\n\n        let post_type = this.props.cover_type === '1' ? 'pages' : 'posts';\n        apiFetch(\n          {\n            path: addQueryArgs('/wp/v2/'+ post_type, {\n              per_page: 50,\n              page: 1,\n              include: this.props.posts\n            })\n          }\n        ).then(posts => {\n          const postsTokens = posts.map(post => post.title.rendered);\n          const postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({\n              postsTokens: postsTokens,\n              postsList: posts,\n              postsSuggestions: postsSuggestions,\n              selectedPosts: posts,\n            }\n          );\n        });\n      } else {\n        this.setState(\n          {\n            postsTokens: [],\n            postsList: [],\n            postsSuggestions: [],\n            selectedPosts: [],\n          }\n        );\n      }\n    }\n\n    /**\n     * Search posts using wp api.\n     *\n     * @param tokens\n     */\n    searchPosts(tokens) {\n\n      let queryArgs;\n      if ('1' === this.props.cover_type) {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/pages', {\n            per_page: -1,\n            post_type: 'page',\n            post_parent: window.p4ge_vars.planet4_options.act_page,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      } else {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      }\n\n\n      apiFetch(queryArgs)\n        .then(posts => {\n          let postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n        });\n    }\n\n    onPostsSearch(token) {\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(function () {\n        this.searchPosts(token);\n      }.bind(this), 500);\n    }\n\n    onSelectedTagsChange(tokens) {\n      const tagIds = tokens.map( token => {\n        return this.props.tagsList.filter( tag => tag.name === token )[0].id;\n      });\n      this.props.onSelectedTagsChange(tagIds);\n      this.setState({ tagTokens: tokens })\n    }\n\n    onSelectedPostTypesChange(tokens) {\n      const postTypeIds = tokens.map( token => {\n        return this.props.postTypesList.filter( postType => postType.name === token )[0].id;\n      });\n      this.props.onSelectedPostTypesChange(postTypeIds);\n      this.setState({ postTypeTokens: tokens })\n    }\n\n    onSelectedPostsChange(tokens) {\n      // Array to hold references to selected posts objects.\n      let currentSelectedPosts = [];\n      tokens.forEach(token => {\n        let f = this.state.postsList.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n        f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n      });\n\n      const postIds = currentSelectedPosts.map(post => post.id);\n      this.props.onSelectedPostsChange(postIds);\n      this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n    }\n\n    renderEdit() {\n      const { __ } = wp.i18n;\n\n      const tagSuggestions = this.props.tagsList.map( tag => tag.name );\n      const postTypeSuggestions = this.props.postTypesList.map( postType => postType.name );\n\n      return (\n        <div>\n          <h3>{ __('What style of cover do you need?', 'p4ge') }</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={ this.props.cover_type }\n              onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n              options={[\n                {\n                  label: __('Take Action Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/take_action_covers.png',\n                  value: '1',\n                  help: __('Take action covers pull the featured image, tags, have a 25 character excerpt and have a call to action button')\n                },\n                {\n                  label: __('Campaign Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/campaign_covers.png',\n                  value: '2',\n                  help: __('Campaign covers pull the associated image and hashtag from the system tag definitions.'),\n                },\n                {\n                  label: __('Content Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/content_covers.png',\n                  value: '3',\n                  help: __('Content covers pull the image from the post.')\n                },\n              ]}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label=\"Rows to display\"\n              value={ this.props.covers_view }\n              options={ [\n                { label: '1 Row', value: '1' },\n                { label: '2 Rows', value: '2' },\n                { label: 'All rows', value: '3' },\n              ] }\n              onChange={ this.props.onRowsChange }\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={ this.props.title }\n              onChange={ this.props.onTitleChange }\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={ this.props.description }\n              onChange={ this.props.onDescriptionChange }\n            />\n          </div>\n\n          {\n            this.props.posts !== 'undefined' && this.props.posts.length === 0\n              ?\n              <div>\n\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label='Select Tags'\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                  placeholder=\"Select Tags\"\n                />\n                <p class='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              : null\n          }\n\n          {\n            this.props.cover_type === '3' && this.props.posts.length === 0\n              ? <FormTokenField\n                value={this.state.postTypeTokens}\n                suggestions={postTypeSuggestions}\n                label='Post Types'\n                onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                placeholder=\"Select Tags\"\n              />\n              : null\n          }\n\n          {\n            (this.props.cover_type === '1' || this.props.cover_type === '3') &&\n            (this.props.tags.length === 0 && this.props.post_types.length === 0)\n              ? <div>\n                <label>Manual override</label>\n                <FormTokenField\n                  value={this.state.postsTokens}\n                  suggestions={this.state.postsSuggestions}\n                  label='CAUTION: Adding covers manually will override the automatic functionality.'\n                  onChange={tokens => this.onSelectedPostsChange(tokens)}\n                  onInputChange={token => this.onPostsSearch(token)}\n                  placeholder=\"Select Tags\"\n                />\n              </div>\n              : null\n          }\n\n        </div>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={ this.props.isSelected }>\n                <ServerSideRender\n                  block={ 'planet4-blocks/covers' }\n                  attributes={{\n                    cover_type: this.props.cover_type,\n                    covers_view: this.props.covers_view,\n                    tags: this.props.tags,\n                    post_types: this.props.post_types,\n                    posts: this.props.posts,\n                    title: this.props.title,\n                    description: this.props.description,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n};\n","import { CoversIcon } from './CoversIcon.js';\nimport { Covers } from './Covers.js';\n\nexport class CoversBlock {\n    constructor() {\n      const { registerBlockType } = wp.blocks;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/covers', {\n        title: 'Covers',\n        icon: CoversIcon,\n        category: 'planet4-blocks',\n\n        // Transform the shortcode into a Gutenberg block\n        // this is used when a user clicks \"Convert to blocks\"\n        // on the \"Classic Editor\" block\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_newcovers',\n              attributes: {\n                cover_type: {\n                  type: 'integer',\n                  // This `shortcode` definition will be used as a callback,\n                  // it is a function which expects an object with at least\n                  // a `named` key with `cover_type` property whose default value is 1.\n                  // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n                  shortcode: ({named: {cover_type = '1'}}) => cover_type,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                covers_view: {\n                  type: 'string',\n                  shortcode: ({named: {covers_view = ''}}) => covers_view,\n                },\n                tags: {\n                  type: 'string',\n                  shortcode: ({named: {tags = ''}}) => tags.split(','),\n                },\n                post_types: {\n                  type: 'string',\n                  shortcode: ({named: {post_types = ''}}) => post_types.split(','),\n                },\n                posts: {\n                  type: 'string',\n                  shortcode: ({named: {posts = ''}}) => posts.split(','),\n                },\n              },\n            },\n          ]\n        },\n        // This attributes definition mimics the one in the PHP side.\n        attributes: {\n          title: {\n            type: 'string',\n          },\n          description: {\n            type: 'string',\n          },\n          tags: {\n            type: 'array',\n            default: []\n          },\n          posts: {\n            type: 'array',\n            default: []\n          },\n          post_types: {\n            type: 'array',\n            default: []\n          },\n          covers_view: {\n            type: 'string',\n            default: '1'\n          },\n          cover_type: {\n            type: 'string',\n          }\n        },\n        // withSelect is a \"Higher Order Component\", it works as\n        // a Decorator, it will provide some basic API functionality\n        // through `select`.\n        edit: withSelect( ( select ) => {\n          const tagsTaxonomy = 'post_tag';\n          const postTypesTaxonomy = 'p4-page-type';\n          const args = {\n            hide_empty: false,\n            per_page: -1,\n          };\n\n          const { getEntityRecords } = select( 'core' );\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords( 'taxonomy', tagsTaxonomy, args );\n          const postTypesList = getEntityRecords( 'taxonomy', postTypesTaxonomy );\n\n          return {\n            postTypesList,\n            tagsList,\n          };\n        } )( ( {\n          postTypesList,\n          tagsList,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n            if ( !tagsList || !postTypesList ) {\n                return \"Populating block's fields...\";\n            }\n\n            // TO-DO: Check for posts types and posts too...\n            if ( !tagsList && !tagsList.length === 0 ) {\n                return \"No tags...\";\n            }\n\n            // These methods are passed down to the\n            // Covers component, they update the corresponding attribute.\n\n            function onRowsChange( value ) {\n              setAttributes( { covers_view: value } );\n            }\n\n            function onTitleChange( value ) {\n              setAttributes( { title: value } );\n            }\n\n            function onDescriptionChange( value ) {\n              setAttributes( { description: value } );\n            }\n\n            function onSelectedTagsChange( tagIds ) {\n              setAttributes( { tags: tagIds } );\n            }\n\n            function onSelectedPostsChange(value) {\n              setAttributes({posts: value});\n            }\n\n            function onSelectedPostTypesChange( postTypeIds ) {\n              setAttributes( { post_types: postTypeIds } );\n            }\n\n            function onSelectedLayoutChange( value ) {\n\n              // Post types are available only on cover_type 3, so we reset the post_types attribute in the other 2 cases.\n              if ( '1' === value) {\n                setAttributes( { post_types: [] } );\n              }\n              if ( '2' === value) {\n                setAttributes( { post_types: []} );\n              }\n              // Reset posts attribute when changing layout also.\n              setAttributes({cover_type: value, posts: []});\n            }\n\n            // We pass down all the attributes to Covers as props using\n            // the spread operator. Then we selectively add more\n            // props.\n            return <Covers\n              { ...attributes }\n              isSelected={ isSelected }\n              tagsList={ tagsList }\n              postTypesList={ postTypesList }\n              onSelectedTagsChange={ onSelectedTagsChange }\n              onSelectedLayoutChange={ onSelectedLayoutChange }\n              onTitleChange={ onTitleChange }\n              onDescriptionChange={ onDescriptionChange }\n              onSelectedPostsChange={ onSelectedPostsChange }\n              onSelectedPostTypesChange={ onSelectedPostTypesChange }\n              onRowsChange={ onRowsChange } />\n        } ),\n        save() {\n          return null;\n        }\n      } );\n    };\n}\n\n","import { React, Component } from 'react';\n\nexport class CoversIcon extends Component {\n\trender() {\n\t\treturn <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 66 82.5\" enable-background=\"new 0 0 66 66\"><g><g><path d=\"M8.193,37.334l23.804-10.512v-8.007L6.099,30.093c-0.24,0.11-0.44,0.31-0.53,0.56c-0.1,0.24-0.09,0.52,0.01,0.76    L8.193,37.334z\"/><path d=\"M8.999,39.163l4.9,11.08c4.55-1.49,7.1,2.61,8.76,3.78c1.51-1.01,4.47-5.71,9.34-3.55v-21.47L8.999,39.163z     M21.059,42.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49    C21.779,42.033,21.559,42.623,21.059,42.853z M27.059,39.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33    l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49C27.779,39.033,27.559,39.623,27.059,39.853z\"/><path d=\"M33.998,26.816l24.005,10.392l2.416-5.816c0.21-0.5-0.02-1.08-0.52-1.3L33.998,18.813V26.816z\"/><path d=\"M33.999,28.993v22.77c0.95,0.8,2.02,2.26,2.44,2.26c1.97-1.66,3.56-4.08,6.88-4.08c4.21,0,6.03,4.07,6.9,4.07    c0.1-0.087,0.722-0.298,1.25-1.09l5.77-13.87L33.999,28.993z M41.269,39.823c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46    c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.83-0.72,1.33-0.49l1,0.46C41.279,38.733,41.499,39.323,41.269,39.823z M47.269,42.823    c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.82-0.72,1.33-0.49l1,0.46    C47.279,41.733,47.499,42.323,47.269,42.823z\"/></g><g><path d=\"M37.999,2.983v5.63h-10v-5.63c0-1.1,0.9-2,2-2h6C37.099,0.983,37.999,1.883,37.999,2.983z\"/></g><path d=\"M48.319,13.823c-0.38-1.86-2.03-3.21-3.93-3.21h-22.78c-1.9,0-3.55,1.35-3.92,3.21l-1.98,9.91   c5.27-2.31,11.32-4.94,17.29-7.54c1.02,0.45,9.84,4.29,17.29,7.54L48.319,13.823z M24.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1   h2c0.55,0,1,0.45,1,1S25.549,17.233,24.999,17.233z M42.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1h2c0.55,0,1,0.45,1,1   S43.549,17.233,42.999,17.233z\"/><path d=\"M64,62.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1C65,63.43,64.552,62.982,64,62.982z\"/><path d=\"M64,55.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1S64.552,55.982,64,55.982z\"/></g></svg>\n\t}\n}\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  Toolbar,\n  IconButton,\n  Button\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Gallery extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const getImageOrButton = (openEvent) => {\n        if ( 0 < this.props.image_data.length ) {\n\n          return (\n\n            this.props.image_data.map((item, index) => {\n              return (\n                <span>\n                  <img\n                    src={ item.url }\n                    onClick={ openEvent }\n                    className=\"gallery__imgs\"\n                    key={index}\n                    width='150 px'\n                    style={{padding: '10px 10px'}}\n                  />\n                </span>\n              );\n            })\n\n          );\n        }\n        else {\n          return (\n            <div className=\"button-container\">\n              <Button\n                onClick={ openEvent }\n                className=\"button\">\n                + {__('Select Gallery Images', 'p4ge')}\n              </Button>\n\n              <div>{__('Select images in the order you want them to appear.', 'p4ge')}</div>\n            </div>\n          );\n        }\n      };\n\n      const {__} = wp.i18n;\n\n      const {gallery_block_style , gallery_block_title , gallery_block_description , multiple_image , image_data} = this.props;\n\n      const dimensions = {width: 400, height: 100};\n\n      let multiple_image_array = multiple_image ? multiple_image.split(',') : [];\n\n      return (\n        <Fragment>\n          <BlockControls>\n            { 0 < image_data.length && (\n              <Toolbar>\n                { 0 < multiple_image_array.length && (\n                  <MediaUploadCheck>\n                    <MediaUpload\n                      onSelect={this.props.onSelectImage}\n                      allowedTypes={[\"image\"]}\n                      value={multiple_image_array}\n                      type=\"image\"\n                      multiple=\"true\"\n                      render={({ open }) => {\n                        return (\n                          <IconButton\n                            className=\"components-icon-button components-toolbar__control\"\n                            label={__(\n                              \"Edit Images\",\n                              \"mytheme-blocks\"\n                            )}\n                            onClick={open}\n                            icon=\"edit\"\n                          />\n                        );\n                      }}\n                    />\n                  </MediaUploadCheck>\n                )}\n                <IconButton\n                  className=\"components-icon-button components-toolbar__control\"\n                  label={__(\"Remove Images\", \"mytheme-blocks\")}\n                  onClick={this.props.onRemoveImages}\n                  icon=\"trash\"\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          <h3>{__('What style of gallery do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={gallery_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('Slider', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-slider.jpg',\n                  value: 1,\n                  help: __('The slider is a carousel of images. For more than 5 images, consider using a grid.', 'p4ge')\n                },\n                {\n                  label: __('3 Column', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-3-column.jpg',\n                  value: 2,\n                  help: __('The 3 column image display is great for accentuating text, and telling a visual story.', 'p4ge')\n                },\n                {\n                  label: __('Grid', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-grid.jpg',\n                  value: 3,\n                  help: __('The grid shows thumbnails of lots of images. Good to use when showing lots of activity.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={gallery_block_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('Please Enter Description', 'p4ge')}\n              value={gallery_block_description}\n              onChange={this.props.onDescriptionChange}\n            />\n\n            {__('Select Gallery Images', 'p4ge')}\n            <div>\n              <MediaUploadCheck>\n                <MediaUpload\n                  title={__('Select Gallery Images', 'p4ge')}\n                  type=\"image\"\n                  onSelect={this.props.onSelectImage}\n                  value={multiple_image_array}\n                  allowedTypes={[\"image\"]}\n                  multiple=\"true\"\n                  render={ ({ open }) => getImageOrButton(open) }\n                />\n              </MediaUploadCheck>\n            </div>\n\n            {image_data &&\n            <div\n              className={\n                \"wp-block-master-theme-gallery__FocalPointPicker\"\n              }\n            >\n              <ul>\n                {image_data.map((item, index) => {\n                  return (\n                    <li\n                      key={index}\n                    >\n                      {__('Select gallery image focal point', 'p4ge')}\n                      <FocalPointPicker\n                        url={item.url}\n                        dimensions={dimensions}\n                        value={item.focalPoint}\n                        onChange={this.props.onFocalPointChange.bind(this,item.id)}\n                        key={item.id}\n                      />\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n            }\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/gallery'}\n                  attributes={{\n                    gallery_block_style: this.props.gallery_block_style,\n                    gallery_block_title: this.props.gallery_block_title,\n                    gallery_block_description: this.props.gallery_block_description,\n                    multiple_image: this.props.multiple_image,\n                    gallery_block_focus_points: this.props.gallery_block_focus_points,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Gallery} from './Gallery';\n\nconst {__} = wp.i18n;\n\nexport class GalleryBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/gallery', {\n        title: __('Gallery', 'p4ge'),\n        icon: 'format-gallery',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_gallery gallery_block_style=\"2\" gallery_block_title=\"test title\"\n         *                    gallery_block_description=\"test desc\" multiple_image=\"23603,23602,23600,23596\"\n         *                    gallery_block_focus_points=\"{'23596':'left top','23597':'left top','23599':'left top'}\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/gallery {\"gallery_block_style\":3,\"gallery_block_title\":\"test title\",\"gallery_block_description\":\"test desc\",\n         *      \"multiple_image\":\"23603,23602,23600,23596\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_gallery',\n              attributes: {\n                gallery_block_style: {\n                  type: 'integer',\n                  shortcode: ({named: {gallery_block_style = ''}}) => gallery_block_style,\n                },\n                gallery_block_title: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_title = ''}}) => gallery_block_title,\n                },\n                gallery_block_description: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_description = ''}}) => gallery_block_description,\n                },\n                multiple_image: {\n                  type: 'string',\n                  shortcode: ({named: {multiple_image = ''}}) => multiple_image,\n                },\n                gallery_block_focus_points: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_focus_points = ''}}) => gallery_block_focus_points,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          gallery_block_style: {\n            type: 'number',\n            default: 1\n          },\n          gallery_block_title: {\n            type: 'string',\n          },\n          gallery_block_description: {\n            type: 'string',\n          },\n          multiple_image: {\n            type: 'string',\n          },\n          gallery_block_focus_points: {\n            type: 'string',\n          },\n          image_data: {\n            type: 'object',\n            default: []\n          },\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { multiple_image } = attributes;\n\n          let image_urls_array = [];\n\n          if ( multiple_image ) {\n            let image_id_array = multiple_image.split(',');\n\n            $.each(image_id_array, function( index, img_id ) {\n              let img_url = select('core').getMedia(img_id);\n              if ( img_url ) {\n                image_urls_array[img_id] = img_url.media_details.sizes.medium.source_url;\n              }\n            });\n          }\n\n          return {\n            image_urls_array\n          };\n        } )( ( {\n          image_urls_array,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          let {image_data,gallery_block_focus_points} = attributes;\n\n          // Prepare image_data array on edit gallery block.\n          if (0 == image_data.length && 0 < image_urls_array.length) {\n            let new_image_data = [];\n            let focal_points_json = gallery_block_focus_points ? JSON.parse(gallery_block_focus_points):{};\n\n            for (const img_id in image_urls_array) {\n\n              let x,y;\n              if ($.isEmptyObject(focal_points_json)) {\n                [x,y] = [50,50];\n              } else {\n                [x,y] = focal_points_json[img_id].replace(/\\%/g, '').split(' ');\n              }\n\n              new_image_data.push({\n                url: image_urls_array[img_id],\n                focalPoint: {\n                  x:parseInt(x)/100,\n                  y:parseInt(y)/100\n                },\n                id: img_id\n              });\n            }\n\n            setAttributes({image_data: new_image_data});\n          }\n\n          function onTitleChange( value ) {\n            setAttributes({gallery_block_title: value});\n          }\n\n          function onDescriptionChange( value ) {\n            setAttributes({gallery_block_description: value });\n          }\n\n          function onSelectImage(value) {\n            let image_ids = [];\n            let image_data = [];\n            for (const key in value) {\n              image_ids.push(value[key].id);\n              let img_id = value[key].id;\n              image_data.push({url: value[key].url, focalPoint: {x:0.5, y:0.5}, id: img_id});\n            }\n            setAttributes({multiple_image: image_ids.join(',')});\n            setAttributes({image_data: image_data});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({gallery_block_style: Number(value)});\n          }\n\n          function onFocalPointChange( image_id, value ) {\n\n            let updated_image_data = [];\n            let gallery_block_focus_points = {};\n\n            image_data.map(function(object){\n              if (object.id === image_id) {\n                let x = parseFloat(value.x).toFixed(2);\n                let y = parseFloat(value.y).toFixed(2);\n\n                updated_image_data.push({url: object.url, focalPoint: {x,y}, id: image_id});\n                gallery_block_focus_points[image_id] = (x*100)+'% '+(y*100)+'%';\n\n              } else {\n                updated_image_data.push(object);\n                let img_id = object.id;\n                gallery_block_focus_points[img_id] = parseInt(object.focalPoint.x*100)+'% '+parseInt(object.focalPoint.y*100)+'%';\n              }\n            });\n\n            setAttributes({gallery_block_focus_points: JSON.stringify(gallery_block_focus_points)});\n            setAttributes({image_data: updated_image_data});\n          }\n\n          function onRemoveImages() {\n            setAttributes({multiple_image: ''});\n            setAttributes({gallery_block_focus_points: ''});\n            setAttributes({image_data: []});\n          }\n\n          return <Gallery\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onSelectImage={onSelectImage}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {Component,Fragment} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\n\nimport {\n  MediaPlaceholder,\n  InspectorControls,\n  BlockControls,\n  MediaUpload,\n  MediaUploadCheck\n} from '@wordpress/editor';\n\nimport {\n  TextControl,\n  ServerSideRender,\n  FocalPointPicker,\n  ToggleControl,\n  RangeControl,\n  PanelBody,\n  Button,\n  Toolbar,\n  IconButton\n} from '@wordpress/components';\n\nexport class Happypoint extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const dimensions = {width: 400, height: 100};\n\n      const {focus_image, opacity, mailing_list_iframe, iframe_url, url, id} = this.props;\n\n      let focal_point_params = {x:'',y:''};\n\n      if (focus_image) {\n        let focus_image_str = focus_image.replace(/%/g, '');\n        let [x, y] = focus_image_str.split(' ');\n        focal_point_params = {x: x/100,y: y/100};\n      } else {\n        focal_point_params = {x:0.5, y:0.5};\n      }\n\n      const getImageOrButton = (openEvent) => {\n        if ( this.props.id && ( 0 < this.props.id ) ) {\n\n          return (\n\n            <div align='center'>\n              <img\n                src={ this.props.url }\n                onClick={ openEvent }\n                className='happypoint__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n            </div>\n\n          );\n        }\n        else {\n          return (\n            <div className='button-container'>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Background Image', 'p4ge')}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <InspectorControls>\n            <PanelBody title={__('Setting', 'p4ge')}>\n              <RangeControl\n                label={__('Opacity', 'p4ge')}\n                value={opacity}\n                onChange={this.props.onOpacityChange}\n                min={1}\n                max={100}\n                initialPosition={opacity}\n                help={__('We use an overlay to fade the image back. Use a number between 1 and 100, the higher the number, the more faded the image will look. If you leave this empty, the default of 30 will be used.', 'p4ge')}\n              />\n              <ToggleControl\n                label={__('Use mailing list iframe', 'p4ge')}\n                help={__('Use mailing list iframe', 'p4ge')}\n                value={mailing_list_iframe}\n                checked={this.props.mailing_list_iframe}\n                onChange={this.props.onMailingListIframeChange}\n              />\n              <TextControl\n                label={__('Iframe url', 'p4ge')}\n                placeholder={__('Enter Iframe url', 'p4ge')}\n                help={__('If a url is set in this field and the \\'mailing list iframe\\' option is enabled, it will override the planet4 engaging network setting.', 'p4ge')}\n                value={iframe_url}\n                onChange={this.props.onIframeUrlChange}\n              />\n            </PanelBody>\n          </InspectorControls>\n          <BlockControls>\n            { this.props.id && ( 0 < this.props.id ) && (\n              <Toolbar>\n                <MediaUploadCheck>\n                  <MediaUpload\n                    onSelect={this.props.onSelectImage}\n                    allowedTypes={['image']}\n                    value={id}\n                    type='image'\n                    render={({ open }) => {\n                      return (\n                        <IconButton\n                          className='components-icon-button components-toolbar__control'\n                          label={__('Edit Image', 'p4ge')}\n                          onClick={open}\n                          icon='edit'\n                        />\n                      );\n                    }}\n                  />\n                </MediaUploadCheck>\n                <IconButton\n                  className='components-icon-button components-toolbar__control'\n                  label={__('Remove Image', 'p4ge')}\n                  onClick={this.props.onRemoveImages}\n                  icon='trash'\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          {__('Select Background Image', 'p4ge')}\n          <div>\n            <MediaUploadCheck>\n              <MediaUpload\n                title={__('Select Background Image', 'p4ge')}\n                type='image'\n                onSelect={this.props.onSelectImage}\n                value={id}\n                allowedTypes={['image']}\n                render={ ({ open }) => getImageOrButton(open) }\n              />\n            </MediaUploadCheck>\n          </div>\n          {id && 0 < id &&\n            <div>\n              {__('Select focus point for background image', 'p4ge')}\n              <FocalPointPicker\n                url={url}\n                dimensions={dimensions}\n                value={focal_point_params}\n                onChange={this.props.onFocalPointChange}\n              />\n            </div>\n          }\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/happypoint'}\n                  attributes={{\n                    id: this.props.id,\n                    focus_image: this.props.focus_image,\n                    opacity: this.props.opacity,\n                    mailing_list_iframe: this.props.mailing_list_iframe,\n                    iframe_url: this.props.iframe_url,\n                    load_iframe: true,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Happypoint} from './Happypoint';\n\nexport class HappypointBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/happypoint', {\n        title: __('Happypoint', 'p4ge'),\n        icon: 'format-image',\n        category: 'planet4-blocks',\n\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_happy_point background=\"4968\" focus_image=\"center center\" opacity=\"60\" mailing_list_iframe=\"true\" iframe_url=\"https%3A%2F%2Fact.greenpeace.org%2Fpage%2F34215%2Fsubscribe%2F1\" /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/happypoint {\"focus_image\":\"50% 50%\",\"opacity\":60,\"mailing_list_iframe\":true,\"iframe_url\":\"https://act.greenpeace.org/page/34215/subscribe/1\",\"id\":4968} /-->\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_happy_point',\n              attributes: {\n                opacity: {\n                  type: 'integer',\n                  shortcode: ({named: {opacity = ''}}) => opacity,\n                },\n                id: {\n                  type: 'integer',\n                  shortcode: ({named: {id = ''}}) => id,\n                },\n                focus_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_image = ''}}) => focus_image,\n                },\n                mailing_list_iframe: {\n                  type: 'string',\n                  shortcode: ({named: {mailing_list_iframe = ''}}) => mailing_list_iframe,\n                },\n                iframe_url: {\n                  type: 'string',\n                  shortcode: ({named: {iframe_url = ''}}) => iframe_url,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          focus_image: {\n            type: 'string',\n          },\n          opacity: {\n            type: 'number',\n            default: 60\n          },\n          mailing_list_iframe: {\n            type: 'boolean',\n          },\n          iframe_url: {\n            type: 'string',\n          },\n          id: {\n            type: 'number',\n          },\n          load_iframe: {\n            type: 'boolean',\n            default: false\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n          const { attributes } = props;\n          const { id } = attributes;\n          let img_url = '';\n\n          if (id && (0 < id)) {\n            img_url = select('core').getMedia(id);\n            if(img_url){\n              img_url = img_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          return {\n            img_url\n          };\n        } )( ( {\n          img_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n          function onBackgroundChange( value ) {\n            setAttributes({background: value});\n          }\n\n          function onOpacityChange( value ) {\n            setAttributes({opacity: value});\n          }\n\n          function onMailingListIframeChange( value ) {\n            setAttributes({mailing_list_iframe: value});\n          }\n\n          function onIframeUrlChange( value ) {\n            setAttributes({iframe_url: value});\n          }\n\n          function onFocalPointChange( {x,y} ) {\n            x = parseFloat(x).toFixed(2);\n            y = parseFloat(y).toFixed(2);\n            setAttributes({focus_image: (x*100)+'% '+(y*100)+'%'});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({id});\n          }\n\n          function onRemoveImages() {\n            setAttributes({id: -1});\n            setAttributes({focus_image: ''});\n          }\n\n          return <Happypoint\n            {...attributes}\n            isSelected={isSelected}\n            url={img_url}\n            onSelectImage={onSelectImage}\n            onOpacityChange={onOpacityChange}\n            onMailingListIframeChange={onMailingListIframeChange}\n            onIframeUrlChange={onIframeUrlChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\n\nexport class Media extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {video_title,description,youtube_id} = this.props;\n\n      return (\n        <Fragment>\n          <div>\n            <TextControl\n              label={__('Media Title', 'p4ge')}\n              placeholder={__('Enter video title', 'p4ge')}\n              value={video_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={description}\n              onChange={this.props.onDescriptionChange}\n            />\n            <TextControl\n              label={__('Media URL/ID', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              value={youtube_id}\n              onChange={this.props.onMediaUrlChange}\n              help={__('Can be a YouTube, Vimeo or Soundcloud URL or an mp4, mp3 or wav file URL.', 'p4ge')}\n            />\n            <MediaPlaceholder\n              labels={{ title: __('Video poster image [Optional]', 'p4ge'), instructions: __('Applicable for .mp4 video URLs only.', 'p4ge')}}\n              icon=\"format-image\"\n              onSelect={this.props.onSelectImage}\n              onSelectURL={this.props.onSelectURL}\n              onError={this.props.onUploadError}\n              accept=\"image/*\"\n              allowedTypes={[\"image\"]}\n            />\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                { this.props.youtube_id &&\n                  <ServerSideRender\n                    block={'planet4-blocks/media-video'}\n                    attributes={{\n                      video_title: this.props.video_title,\n                      description: this.props.description,\n                      youtube_id: this.props.youtube_id,\n                      video_poster_img: this.props.video_poster_img,\n                    }}>\n                  </ServerSideRender>\n                }\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Media} from './Media';\n\nconst {__} = wp.i18n;\n\nexport class MediaBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/media-video', {\n        title: __('Media block', 'p4ge'),\n        icon: 'format-video',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_media_video video_title=\"Lorem Ipsum\"\n         *                        description=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\"\n         *                        youtube_id=\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\"\n         *                        video_poster_img=\"23241\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/media-video {\"video_title\":\"Lorem Ipsum\",\"description\":\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\",\"youtube_id\":\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\"video_poster_img\":23241} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_media_video',\n              attributes: {\n                video_title: {\n                  type: 'string',\n                  shortcode: ({named: {video_title = ''}}) => video_title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                youtube_id: {\n                  type: 'string',\n                  shortcode: ({named: {youtube_id = ''}}) => youtube_id,\n                },\n                video_poster_img: {\n                  type: 'integer',\n                  shortcode: ({named: {video_poster_img = ''}}) => video_poster_img,\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          video_title: {\n            type: 'string'\n          },\n          description: {\n            type: 'string'\n          },\n          youtube_id: {\n            type: 'string'\n          },\n          video_poster_img: {\n            type: 'integer'\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n          function onTitleChange(value) {\n            setAttributes({video_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({description: value});\n          }\n\n          function onMediaUrlChange(value) {\n            setAttributes({youtube_id: value});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({video_poster_img: id});\n          }\n\n          function onSelectURL({url}) {\n            setAttributes({id: null});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          return <Media\n            {...attributes}\n            isSelected={isSelected}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onMediaUrlChange={onMediaUrlChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            onUploadError={onUploadError}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\nimport {\n  RadioControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Socialmedia extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  componentDidUpdate() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  /**\n   * Check if twitter embeds script is loaded and initiliaze it.\n   */\n  checkTwitterScript() {\n    if (this.props.social_media_url.includes('twitter')) {\n      let twitterScript = document.querySelector('script[src=\"https://platform.twitter.com/widgets.js\"]');\n\n      if (null === twitterScript) {\n        let scriptLoaded = this.loadScriptAsync('https://platform.twitter.com/widgets.js');\n        scriptLoaded.then(function () {\n          this.initializeTwitterEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeTwitterEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Check if instgram embeds script is loaded and initiliaze it.\n   */\n  checkInstagramScript() {\n    if (this.props.social_media_url.includes('instagram')) {\n      let instaScript = document.querySelector('script[src=\"https://www.instagram.com/embed.js\"]');\n\n      if (null === instaScript) {\n        let scriptLoaded = this.loadScriptAsync('https://www.instagram.com/embed.js');\n        scriptLoaded.then(function () {\n          this.initializeInstagramEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeInstagramEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Initialize twitter embeds.\n   */\n  initializeTwitterEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.twttr) {\n        window.twttr.widgets.load();\n      }\n    }, 2000);\n  }\n\n  /**\n   * Initialize instagram embeds.\n   */\n  initializeInstagramEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.instgrm) {\n        window.instgrm.Embeds.process();\n      }\n    }, 3000);\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const embed_type_help = __('Select oEmbed for the following types of social media<br>- Twitter: tweet, profile, list, collection, likes, moment<br>- Facebook: post, activity, photo, video, media, question, note<br>- Instagram: image', 'planet4-blocks-backend');\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'planet4-blocks-backend')}\n            placeholder={__('Enter title', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'planet4-blocks-backend')}\n            placeholder={__('Enter description', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <RadioControl\n            label={__('Embed type', 'planet4-blocks-backend')}\n            help={\n              <RawHTML>{embed_type_help}</RawHTML>\n            }\n            options={[\n              {label: 'oEmbed', value: 'oembed'},\n              {label: 'Facebook page', value: 'facebook_page'},\n            ]}\n            selected={this.props.embed_type}\n            onChange={this.props.onEmbedTypeChange}\n          />\n        </div>\n\n        {\n          this.props.embed_type === 'facebook_page'\n            ?\n            <div>\n              <SelectControl\n                label={__('What Facebook page content would you like to display?', 'planet4-blocks-backend')}\n                value={this.props.facebook_page_tab}\n                options={[\n                  {label: 'Timeline', value: 'timeline'},\n                  {label: 'Events', value: 'events'},\n                  {label: 'Mesages', value: 'messages'},\n                ]}\n                onChange={this.props.onFacebookPageTabChange}\n              />\n            </div>\n            : null\n        }\n\n        <div>\n          <TextControl\n            label={__('URL', 'planet4-blocks-backend')}\n            placeholder={__('Enter URL', 'planet4-blocks-backend')}\n            value={this.props.social_media_url}\n            onChange={this.props.onSocialMediaUrlChange}\n          />\n        </div>\n\n        <div>\n          <SelectControl\n            label={__('Alignment', 'planet4-blocks-backend')}\n            value={this.props.alignment_class}\n            options={[\n              {label: 'None', value: ''},\n              {label: 'Left', value: 'alignleft'},\n              {label: 'Center', value: 'aligncenter'},\n              {label: 'Right', value: 'alignright'},\n            ]}\n            onChange={this.props.onAlignmentChange}\n          />\n        </div>\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n            <ServerSideRender\n              block={'planet4-blocks/social-media'}\n              attributes={{\n                title: this.props.title,\n                description: this.props.description,\n                embed_type: this.props.embed_type,\n                facebook_page_tab: this.props.facebook_page_tab,\n                social_media_url: this.props.social_media_url,\n                alignment_class: this.props.alignment_class,\n              }}>\n            </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Socialmedia} from './Socialmedia.js';\n\nexport class SocialmediaBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {__} = wp.i18n;\n\n    registerBlockType('planet4-blocks/social-media', {\n      title: __('Social Media', 'p4ge'),\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_social_media',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              embed_type: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.embed_type;\n                }\n              },\n              facebook_page_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.facebook_page_tab;\n                }\n              },\n              social_media_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.social_media_url;\n                }\n              },\n              alignment_class: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.alignment_class;\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        title: {\n          type: 'string',\n          default: '',\n        },\n        description: {\n          type: 'string',\n          default: '',\n        },\n        embed_type: {\n          type: 'string',\n          default: 'oembed'\n        },\n        facebook_page_tab: {\n          type: 'string',\n          default: 'timeline'\n        },\n        social_media_url: {\n          type: 'string',\n          default: ''\n        },\n        alignment_class: {\n          type: 'string',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        // These methods are passed down to the\n        // Socialmedia component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onEmbedTypeChange(value) {\n          setAttributes({embed_type: value});\n        }\n\n        function onFacebookPageTabChange(value) {\n          setAttributes({facebook_page_tab: value});\n        }\n\n        function onSocialMediaUrlChange(value) {\n          setAttributes({social_media_url: value});\n        }\n\n        function onAlignmentChange(value) {\n          setAttributes({alignment_class: value});\n        }\n\n\n        // We pass down all the attributes to Socialmedia as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Socialmedia\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onEmbedTypeChange={onEmbedTypeChange}\n          onFacebookPageTabChange={onFacebookPageTabChange}\n          onSocialMediaUrlChange={onSocialMediaUrlChange}\n          onAlignmentChange={onAlignmentChange} />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  SelectControl\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\n\nexport class Splittwocolumns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      let tag_list   = this.props.tagsList.map((tag) => ({label: tag.name, value: tag.id}));\n      tag_list.unshift({label: '--Select Tag--', value: 0});\n\n      let issuepage_list = this.props.issuepageList.map((issue) => ({label: issue.title.raw, value: issue.id}));\n      issuepage_list.unshift({label: '--Select Issue--', value: 0});\n\n      const {__} = wp.i18n;\n\n      const {\n        select_issue,\n        title,\n        issue_description,\n        issue_link_text,\n        issue_link_path,\n        issue_image,\n        focus_issue_image,\n        select_tag,\n        tag_description,\n        button_text,\n        button_link,\n        tag_image,\n        focus_tag_image,\n        issue_image_url,\n        tag_image_url\n      } = this.props;\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_issue_image_obj = {x: 0.5,y: 0.5};\n      if (focus_issue_image) {\n        let [x,y] = focus_issue_image.replace(/\\%/g, '').split(' ');\n        focus_issue_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_tag_image_obj = {x: 0.5,y: 0.5};\n      if (focus_tag_image) {\n        let [x,y] = focus_tag_image.replace(/\\%/g, '').split(' ');\n        focus_tag_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      const dimensions = {width: 400, height: 100};\n\n      return (\n        <Fragment>\n          <h3>{__('Issue fields (Column 1 - Left side)', 'p4ge')}</h3>\n          <div>\n            {issuepage_list &&\n              <SelectControl\n                label={__('Select an issue', 'p4ge')}\n                value={select_issue}\n                options={issuepage_list}\n                onChange={this.props.onSelectIssue}\n              />\n            }\n            <TextControl\n              label={__('Issue Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={title}\n              onChange={this.props.onIssueTitleChange}\n              help={__('(Optional) Fill this only if you need to override issue title.', 'p4ge')}\n            />\n            <TextareaControl\n              label={__('Issue Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional) Fill this only if you need to override issue description.', 'p4ge')}\n              value={issue_description}\n              onChange={this.props.onIssueDescriptionChange}\n            />\n            <TextControl\n              label={__('Issue link text', 'p4ge')}\n              placeholder={__('Enter link text', 'p4ge')}\n              value={issue_link_text}\n              onChange={this.props.onIssueLinkTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Issue link path', 'p4ge')}\n              placeholder={__('Enter link path', 'p4ge')}\n              value={issue_link_path}\n              onChange={this.props.onIssueLinkPathChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Issue Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Issue', 'p4ge')}\n              onSelectImage={this.props.onSelectIssueImage}\n              imageId={issue_image}\n              imageUrl={issue_image_url}\n              buttonLabel={__('+ Select Image for Issue', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-issue-imgs'\n            />\n\n            {issue_image &&\n            <div>\n              {__('Select focal point for issue image', 'p4ge')}\n              <FocalPointPicker\n                url={issue_image_url}\n                dimensions={dimensions}\n                value={focus_issue_image_obj}\n                onChange={this.props.onIssueImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n          <h3>{__('Campaign fields (Column 2 - Right side)', 'p4ge')}</h3>\n          <div>\n            {tag_list &&\n              <SelectControl\n                label={__('Select a tag', 'p4ge')}\n                value={select_tag}\n                options={tag_list}\n                onChange={this.props.onSelectTag}\n              />\n            }\n            <TextareaControl\n              label={__('Campaign Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={tag_description}\n              onChange={this.props.onTagDescriptionChange}\n            />\n            <TextControl\n              label={__('Campaign button text', 'p4ge')}\n              placeholder={__('Enter button text', 'p4ge')}\n              value={button_text}\n              onChange={this.props.onButtonTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Campaign button link', 'p4ge')}\n              placeholder={__('Enter button link', 'p4ge')}\n              value={button_link}\n              onChange={this.props.onButtonLinkChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Campaign Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Campaign', 'p4ge')}\n              onSelectImage={this.props.onSelectCampaignImage}\n              imageId={tag_image}\n              imageUrl={tag_image_url}\n              buttonLabel={__('+ Select Image for Campaign', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-tag_imgs'\n            />\n\n            {tag_image &&\n            <div>\n              {__('Select focal point for campaign image', 'p4ge')}\n              <FocalPointPicker\n                url={tag_image_url}\n                dimensions={dimensions}\n                value={focus_tag_image_obj}\n                onChange={this.props.onCampaignImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/split-two-columns'}\n                  attributes={{\n                    select_issue: this.props.select_issue,\n                    title: this.props.title,\n                    issue_description: this.props.issue_description,\n                    issue_link_text: this.props.issue_link_text,\n                    issue_link_path: this.props.issue_link_path,\n                    issue_image: this.props.issue_image,\n                    focus_issue_image: this.props.focus_issue_image,\n                    select_tag: this.props.select_tag,\n                    tag_description: this.props.tag_description,\n                    button_text: this.props.button_text,\n                    button_link: this.props.button_link,\n                    tag_image: this.props.tag_image,\n                    focus_tag_image: this.props.focus_tag_image,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Splittwocolumns} from './Splittwocolumns';\n\nconst {__} = wp.i18n;\n\nexport class SplittwocolumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/split-two-columns', {\n        title: __('Split Two Columns', 'p4ge'),\n        icon: 'format-gallery',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_split_two_columns select_issue=\"13813\" title=\"lorem ipsum\" issue_description=\"lorem ipsum\" issue_link_text=\"test link\"\n         *        issue_link_path=\"http://www.googlw.com\" issue_image=\"23634\" focus_issue_image=\"right top\" select_tag=\"19\"\n         *        tag_description=\"lorem ipsum\" button_text=\"btn text\" button_link=\"http://www.google.com\" tag_image=\"23634\" focus_tag_image=\"right top\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/split-two-columns {\"select_issue\":2079,\"title\":\"Lorem Ipsum\",\"issue_description\":\"Lorem Ipsum\",\"issue_link_text\":\"tets link\",\"issue_link_path\":\"http://www.google.com\",\"issue_image\":23634,\"focus_issue_image\":\"33% 60%\",\"select_tag\":65,\"tag_description\":\"Lorem Ipsum\",\"button_text\":\"btn text\",\"button_link\":\"http://www.google.com\",\"tag_image\":23634,\"focus_tag_image\":\"30% 79%\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_split_two_columns',\n              attributes: {\n                select_issue: {\n                  type: 'integer',\n                  shortcode: ({named: {select_issue = ''}}) => select_issue,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                issue_description: {\n                  type: 'string',\n                  shortcode: ({named: {issue_description = ''}}) => issue_description,\n                },\n                issue_link_text: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_text = ''}}) => issue_link_text,\n                },\n                issue_link_path: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_path = ''}}) => issue_link_path,\n                },\n                issue_image: {\n                  type: 'integer',\n                  shortcode: ({named: {issue_image = ''}}) => issue_image,\n                },\n                focus_issue_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_issue_image = ''}}) => focus_issue_image,\n                },\n                select_tag: {\n                  type: 'integer',\n                  shortcode: ({named: {select_tag = ''}}) => select_tag,\n                },\n                tag_description: {\n                  type: 'string',\n                  shortcode: ({named: {tag_description = ''}}) => tag_description,\n                },\n                button_text: {\n                  type: 'string',\n                  shortcode: ({named: {button_text = ''}}) => button_text,\n                },\n                button_link: {\n                  type: 'string',\n                  shortcode: ({named: {button_link = ''}}) => button_link,\n                },\n                tag_image: {\n                  type: 'integer',\n                  shortcode: ({named: {tag_image = ''}}) => tag_image,\n                },\n                focus_tag_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_tag_image = ''}}) => focus_tag_image,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          select_issue: {\n            type: 'number',\n            default: 0,\n          },\n          title: {\n            type: 'string',\n          },\n          issue_description: {\n            type: 'string',\n          },\n          issue_link_text: {\n            type: 'string',\n          },\n          issue_link_path: {\n            type: 'string',\n          },\n          issue_image: {\n            type: 'number',\n          },\n          focus_issue_image: {\n            type: 'string',\n          },\n          select_tag: {\n            type: 'number',\n            default: 0,\n          },\n          tag_description: {\n            type: 'string',\n          },\n          button_text: {\n            type: 'string',\n          },\n          button_link: {\n            type: 'string',\n          },\n          tag_image: {\n            type: 'number',\n          },\n          focus_tag_image: {\n            type: 'string',\n          },\n        },\n        edit: withSelect((select,props) => {\n          const tagsTaxonomy = 'post_tag';\n          const issuePage    = 'page';\n\n          const taxonomy_args = {\n            hide_empty: false,\n            per_page: 50,\n          };\n          const {getEntityRecords} = select('core');\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, taxonomy_args);\n\n          const issue_page_args = {\n            per_page: -1,\n            sort_order: 'asc',\n            sort_column: 'post_title',\n            parent: window.p4ge_vars.planet4_options.explore_page,\n            post_status: 'publish',\n          };\n          const issuepageList = getEntityRecords('postType', issuePage, issue_page_args);\n\n          const { attributes } = props;\n          const { issue_image,tag_image } = attributes;\n\n          let issue_image_url = '';\n          if (issue_image) {\n            issue_image_url = select('core').getMedia(issue_image);\n            if ( issue_image_url ) {\n              issue_image_url = issue_image_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          let tag_image_url = '';\n          if (tag_image) {\n            tag_image_url = select('core').getMedia(tag_image);\n            if ( tag_image_url ) {\n              tag_image_url = tag_image_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          return {\n            tagsList,\n            issuepageList,\n            issue_image_url,\n            tag_image_url,\n          };\n\n        } )( ( {\n          tagsList,\n          issuepageList,\n          issue_image_url,\n          tag_image_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          if (!tagsList || !issuepageList) {\n            return \"Populating block's fields...\";\n          }\n\n          if ((tagsList && tagsList.length === 0) || (issuepageList && issuepageList.length === 0)) {\n            return \"Populating block's fields...\";\n          }\n\n          function onSelectIssue( value ) {\n            setAttributes({select_issue: parseInt(value)});\n          }\n\n          function onIssueTitleChange( value ) {\n            setAttributes({title: value });\n          }\n\n          function onIssueDescriptionChange( value ) {\n            setAttributes({issue_description: value});\n          }\n\n          function onIssueLinkTextChange( value ) {\n            setAttributes({issue_link_text: value });\n          }\n\n          function onIssueLinkPathChange( value ) {\n            setAttributes({issue_link_path: value});\n          }\n\n          function onSelectIssueImage( {id} ) {\n            setAttributes({issue_image: id});\n          }\n\n          function onIssueImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_issue_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          function onSelectTag( value ) {\n            setAttributes({select_tag: parseInt(value)});\n          }\n\n          function onTagDescriptionChange( value ) {\n            setAttributes({tag_description: value});\n          }\n\n          function onButtonTextChange( value ) {\n            setAttributes({button_text: value });\n          }\n\n          function onButtonLinkChange( value ) {\n            setAttributes({button_link: value});\n          }\n\n          function onSelectCampaignImage( {id} ) {\n            setAttributes({tag_image: id});\n          }\n\n          function onCampaignImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_tag_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          return <Splittwocolumns\n            {...attributes}\n            isSelected={isSelected}\n            tagsList={tagsList}\n            issuepageList={issuepageList}\n            issue_image_url={issue_image_url}\n            tag_image_url={tag_image_url}\n            onSelectIssue={onSelectIssue}\n            onIssueTitleChange={onIssueTitleChange}\n            onIssueDescriptionChange={onIssueDescriptionChange}\n            onIssueLinkTextChange={onIssueLinkTextChange}\n            onIssueLinkPathChange={onIssueLinkPathChange}\n            onSelectIssueImage={onSelectIssueImage}\n            onIssueImageFocalPointChange={onIssueImageFocalPointChange}\n            onSelectTag={onSelectTag}\n            onTagDescriptionChange={onTagDescriptionChange}\n            onButtonTextChange={onButtonTextChange}\n            onButtonLinkChange={onButtonLinkChange}\n            onSelectCampaignImage={onSelectCampaignImage}\n            onCampaignImageFocalPointChange={onCampaignImageFocalPointChange}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component} from 'react';\nimport {\n  CheckboxControl,\n  SelectControl,\n} from '@wordpress/components';\n\nexport class MenuLevel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>Level {this.props.index + 1}</div>\n        <SelectControl\n          label=\"Submenu item\"\n          help=\"Submenu item\"\n          value={this.props.heading}\n          options={[\n            {label: 'None', value: '0'},\n            {label: 'Heading 1', value: '1'},\n            {label: 'Heading 2', value: '2'},\n            {label: 'Heading 3', value: '3'},\n            {label: 'Heading 4', value: '4'},\n            {label: 'Heading 5', value: '5'},\n            {label: 'Heading 6', value: '6'},\n          ]}\n          onChange={(e) => this.props.onHeadingChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n\n        <CheckboxControl\n          heading=\"Link\"\n          help=\"Link item\"\n          value={this.props.link}\n          checked={this.props.link}\n          onChange={(e) => this.props.onLinkChange(this.props.index, e)}\n          className=\"submenu-level-link\"\n        />\n\n        <SelectControl\n          label=\"List style\"\n          help=\"List style\"\n          value={this.props.style}\n          options={[\n            {label: 'None', value: 'none'},\n            {label: 'Bullet', value: 'bullet'},\n            {label: 'Number', value: 'number'},\n          ]}\n          onChange={(e) => this.props.onStyleChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n      </div>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  TextControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {MenuLevel} from \"./MenuLevel\";\n\nexport class Submenu extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h2>{__('Anchor Link Submenu', 'p4ge')}</h2>\n        <p><i>{__(\n          'An in-page table of contents to help users have a sense of what\\'s on the page and let them jump to a topic they are interested in.',\n          'p4ge'\n        )}</i></p>\n        <h3>{__('What style of menu do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.submenu_style}\n            onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n            options={[\n              {\n                label: __('Long full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-long.jpg',\n                value: 1,\n                help: __('Use: on long pages (more than 5 screens) when list items are long (+ 10 words)<br>No max items<br>recommended.')\n              }, {\n                label: __('Short full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-short.jpg',\n                value: 2,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 5 words)<br>No max items<br>recommended.'),\n              },\n              {\n                label: __('Short sidebar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-sidebar.jpg',\n                value: 3,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 10 words)<br>Max items<br>recommended: 9')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label=\"Submenu Title\"\n            placeholder=\"Enter title\"\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <hr/>\n        {this.props.levels.map((heading, i) => {\n          return (\n            <MenuLevel\n              {...heading}\n              onHeadingChange={this.props.onHeadingChange}\n              onLinkChange={this.props.onLinkChange}\n              onStyleChange={this.props.onStyleChange}\n              index={i}\n              key={i}\n            />\n          );\n        })}\n\n        <div>\n          <Button isPrimary\n                  onClick={this.props.addLevel}\n                  disabled={this.props.levels.length >= 3 || this.props.levels.slice(-1)[0].heading === 0}\n          >\n            Add level\n          </Button>\n          <Button isDefault\n                  onClick={this.props.removeLevel} disabled={this.props.levels.length <= 1}\n          >\n            Remove level\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/submenu'}\n            attributes={{\n              submenu_style: this.props.submenu_style,\n              title: this.props.title,\n              levels: this.props.levels,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {Submenu} from './Submenu.js';\n\nexport class SubmenuBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/submenu', {\n      title: 'Submenu',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_submenu submenu_style=\"3\" title=\"title22\" heading1=\"2\"\n       *                    link1=\"true\" style1=\"bullet\" heading2=\"3\" link2=\"true\" style2=\"number\"\n       *                    heading3=\"4\" link3=\"false\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/submenu {\"submenu_style\":3,\"title\":\"title22\",\"levels\":[{\"heading\":\"2\",\"link\":\"true\",\"style\":\"bullet\"},\n       *    {\"heading\":\"3\",\"link\":\"true\",\"style\":\"number\"},{\"heading\":\"4\",\"link\":\"false\",\"style\":\"none\"}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_submenu',\n            attributes: {\n              submenu_style: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.submenu_style);\n                }\n              },\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              levels: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  let levels = [];\n                  if (attributes.named.heading1 > 0) {\n                    let level = {\n                      heading: Number(attributes.named.heading1),\n                      link: attributes.named.link1 || false,\n                      style: attributes.named.style1 || 'none'\n                    };\n                    levels.push(Object.assign({}, level));\n\n                    if (attributes.named.heading2 > 0) {\n                      let level = {\n                        heading: Number(attributes.named.heading2),\n                        link: attributes.named.link2 || false,\n                        style: attributes.named.style2 || 'none'\n                      };\n                      levels.push(Object.assign({}, level));\n\n                      if (attributes.named.heading3 > 0) {\n                        let level = {\n                          heading: Number(attributes.named.heading3),\n                          link: attributes.named.link3 || false,\n                          style: attributes.named.style3 || 'none'\n                        };\n                        levels.push(Object.assign({}, level));\n                      }\n                    }\n                  }\n                  return levels;\n                },\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        submenu_style: {\n          type: 'integer',\n          default: 1\n        },\n        title: {\n          type: 'string',\n        },\n        levels: {\n          type: 'array',\n          default: [ {heading: 0, link: false, style: 'none'}]\n        },\n      },\n      edit: withSelect((select) => {\n\n      })(({\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        function addLevel() {\n          setAttributes({levels: attributes.levels.concat({heading: 0, link: false, style: 'none'})});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onHeadingChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].heading = Number(value);\n          setAttributes({levels: levels});\n        }\n\n        function onLayoutChange(value) {\n          setAttributes({submenu_style: Number(value)});\n        }\n\n        function onLinkChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].link = value;\n          setAttributes({levels: levels});\n        }\n\n        function onStyleChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].style = value;\n          setAttributes({levels: levels});\n        }\n\n        function removeLevel() {\n          setAttributes({levels: attributes.levels.slice(0, -1)});\n        }\n\n        return <Submenu\n          {...attributes}\n          isSelected={isSelected}\n          onSelectedLayoutChange={onLayoutChange}\n          onTitleChange={onTitleChange}\n          onHeadingChange={onHeadingChange}\n          onLinkChange={onLinkChange}\n          onStyleChange={onStyleChange}\n          addLevel={addLevel}\n          removeLevel={removeLevel}\n        />\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from \"@wordpress/element\";\nimport {\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {Preview} from '../../components/Preview';\n\nexport class Timeline extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.loadTimeline(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    this.loadTimeline(prevProps);\n  }\n\n  loadTimeline(data) {\n    const timelinejs_version = '3.6.3';\n\n    let js = 'https://cdn.knightlab.com/libs/timeline3/' + timelinejs_version + '/js/timeline-min.js';\n    let scriptLoaded = this.loadScriptAsync(js);\n    scriptLoaded.then(function () {\n      new TL.Timeline('timeline-1', data.google_sheets_url, {\n        \"timenav_position\": data.timenav_position,\n        \"start_at_end\": data.start_at_end,\n        \"language\": data.language\n      });\n    }.bind(this));\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const position = [\n      {label: 'Bottom', value: 'bottom'},\n      {label: 'Top', value: 'top'},\n    ]\n\n    const languages = [\n      {label: 'Afrikaans', value: 'af'},\n      {label: 'Arabic', value: 'ar'},\n      {label: 'Armenian', value: 'hy'},\n      {label: 'Basque', value: 'eu'},\n      {label: 'Belarusian', value: 'be'},\n      {label: 'Bulgarian', value: 'bg'},\n      {label: 'Catalan', value: 'ca'},\n      {label: 'Chinese', value: 'zh-cn'},\n      {label: 'Croatian / Hrvatski', value: 'hr'},\n      {label: 'Czech', value: 'cz'},\n      {label: 'Danish', value: 'da'},\n      {label: 'Dutch', value: 'nl'},\n      {label: 'English', value: 'en'},\n      {label: 'English (24-hour time)', value: 'en-24hr'},\n      {label: 'Esperanto', value: 'eo'},\n      {label: 'Estonian', value: 'et'},\n      {label: 'Faroese', value: 'fo'},\n      {label: 'Farsi', value: 'fa'},\n      {label: 'Finnish', value: 'fi'},\n      {label: 'French', value: 'fr'},\n      {label: 'Frisian', value: 'fy'},\n      {label: 'Galician', value: 'gl'},\n      {label: 'Georgian', value: 'ka'},\n      {label: 'German / Deutsch', value: 'de'},\n      {label: 'Greek', value: 'el'},\n      {label: 'Hebrew', value: 'he'},\n      {label: 'Hindi', value: 'hi'},\n      {label: 'Hungarian', value: 'hu'},\n      {label: 'Icelandic', value: 'is'},\n      {label: 'Indonesian', value: 'id'},\n      {label: 'Irish', value: 'ga'},\n      {label: 'Italian', value: 'it'},\n      {label: 'Japanese', value: 'ja'},\n      {label: 'Korean', value: 'ko'},\n      {label: 'Latvian', value: 'lv'},\n      {label: 'Lithuanian', value: 'lt'},\n      {label: 'Luxembourgish', value: 'lb'},\n      {label: 'Malay', value: 'ms'},\n      {label: 'Myanmar', value: 'my'},\n      {label: 'Nepali', value: 'ne'},\n      {label: 'Norwegian', value: 'no'},\n      {label: 'Polish', value: 'pl'},\n      {label: 'Portuguese', value: 'pt'},\n      {label: 'pt-br', value: 'Portuguese (Brazilian)'},\n      {label: 'Romanian', value: 'ro'},\n      {label: 'Romansh', value: 'rm'},\n      {label: 'Russian', value: 'ru'},\n      {label: 'Serbian - Cyrillic', value: 'sr-cy'},\n      {label: 'Serbian - Latin', value: 'sr'},\n      {label: 'Sinhalese', value: 'si'},\n      {label: 'Slovak', value: 'sk'},\n      {label: 'Slovenian', value: 'sl'},\n      {label: 'Spanish', value: 'es'},\n      {label: 'Swedish', value: 'sv'},\n      {label: 'Tagalog', value: 'tl'},\n      {label: 'Tamil', value: 'ta'},\n      {label: 'Taiwanese', value: 'zh-tw'},\n      {label: 'Telugu', value: 'te'},\n      {label: 'Thai', value: 'th'},\n      {label: 'Turkish', value: 'tr'},\n      {label: 'Ukrainian', value: 'uk'},\n      {label: 'Urdu', value: 'ur'},\n    ]\n\n    let url_desc  = __(\n      'Enter the URL of the Google Sheets spreadsheet containing your timeline data.',\n      'p4ge'\n    );\n    url_desc += '<br><a href=\"https://timeline.knightlab.com/#make\" target=\"_blank\" rel=\"noopener noreferrer\">';\n    url_desc += __(\n      'See the TimelineJS website for a template GSheet.',\n      'p4ge'\n    );\n    url_desc += '</a><br>';\n    url_desc += __(\n      'Copy this, add your own timeline data, and publish to the web.',\n      'p4ge'\n    );\n    url_desc += '<br>';\n    url_desc += __(\n      \"Once you have done so, use the URL from your address bar (not the one provided in Google's 'publish to web' dialog).\",\n      'p4ge'\n    );\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Timeline options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display a timeline from a Google Sheet',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label={__('Timeline Title', 'p4ge')}\n              placeholder={__('Enter title', 'p4ge')}\n              value={this.props.timeline_title}\n              onChange={this.props.onTimelineTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter description', 'p4ge')}\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label={__('Google Sheets URL', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              help=<RawHTML>{url_desc}</RawHTML>\n              value={this.props.google_sheets_url}\n              onChange={this.props.onGoogleSheetsUrlChange}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Language', 'p4ge')}\n              value={this.props.language}\n              options={languages}\n              onChange={(e) => this.props.onLanguageChange(e)}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Timeline navigation position', 'p4ge')}\n              value={this.props.timenav_position}\n              options={position}\n              onChange={(e) => this.props.onTimenavPositionChange(e)}\n            />\n          </div>\n\n          <div>\n            <CheckboxControl\n              label={__('Start at end', 'p4ge')}\n              help={__('Begin at the end of the timeline', 'p4ge')}\n              value={this.props.start_at_end}\n              checked={this.props.start_at_end}\n              onChange={(e) => this.props.onStartAtEndChange(e)}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/timeline'}\n            attributes={{\n              timeline_title: this.props.timeline_title,\n              description: this.props.description,\n              google_sheets_url: this.props.google_sheets_url,\n              language: this.props.language,\n              timenav_position: this.props.timenav_position,\n              start_at_end: this.props.start_at_end,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Timeline} from './Timeline.js';\n\nconst {__} = wp.i18n;\n\nexport class TimelineBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/timeline', {\n      title: __('Timeline', 'p4ge'),\n      icon: 'clock',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_timeline',\n            attributes: {\n              timeline_title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.timeline_title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              google_sheets_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.google_sheets_url;\n                }\n              },\n              language: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.language;\n                }\n              },\n              timenav_position: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.timenav_position;\n                }\n              },\n              start_at_end: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.start_at_end;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        timeline_title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        google_sheets_url: {\n          type: 'string',\n        },\n        language: {\n          type: 'string',\n          default: 'en',\n        },\n        timenav_position: {\n          type: 'string',\n        },\n        start_at_end: {\n          type: 'boolean',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTimelineTitleChange(value) {\n          setAttributes({timeline_title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onGoogleSheetsUrlChange(value) {\n          setAttributes({google_sheets_url: value});\n        }\n\n        function onLanguageChange(value) {\n          setAttributes({language: value});\n        }\n\n        function onTimenavPositionChange(value) {\n          setAttributes({timenav_position: value});\n        }\n\n        function onStartAtEndChange(value) {\n          setAttributes({start_at_end: value});\n        }\n\n        return <Timeline\n          {...attributes}\n          isSelected={isSelected}\n          onTimelineTitleChange={onTimelineTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onGoogleSheetsUrlChange={onGoogleSheetsUrlChange}\n          onLanguageChange={onLanguageChange}\n          onTimenavPositionChange={onTimenavPositionChange}\n          onStartAtEndChange={onStartAtEndChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import {React, Component} from 'react';\nimport {Button} from '@wordpress/components';\nimport {MediaUpload,MediaUploadCheck} from '@wordpress/editor';\n\nexport class ImageOrButton extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    const getImageOrButton = (openEvent) => {\n      if ( this.props.imageId ) {\n\n        return (\n\n          <img\n            src={ this.props.imageUrl }\n            onClick={ openEvent }\n            className={ this.props.imgClass }\n          />\n\n        );\n      }\n      else {\n        return (\n          <div className='button-container'>\n            <Button\n              onClick={ openEvent }\n              className='button'>\n              { this.props.buttonLabel }\n            </Button>\n\n            <div>{ this.props.help }</div>\n          </div>\n        );\n      }\n    };\n\n    return <div className='ImageOrButton'>\n      <MediaUploadCheck>\n        <MediaUpload\n          title={this.props.title}\n          type='image'\n          onSelect={this.props.onSelectImage}\n          value={this.props.imageId}\n          allowedTypes={['image']}\n          render={ ({ open }) => getImageOrButton(open) }\n        />\n      </MediaUploadCheck>\n    </div>;\n  }\n}\n","import {React, Component} from 'react';\nimport {RadioControl} from '@wordpress/components';\n\nexport class LayoutSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: props.selectedOption\n    };\n    this.setSelected = this.setSelected.bind(this);\n  }\n\n  setSelected(option) {\n    this.setState({selectedOption: option});\n    this.props.onSelectedLayoutChange(option);\n  }\n\n  render() {\n    return <div className='LayoutSelector'>\n      {\n        this.props.options.map((layoutOption, i) => {\n          return (\n            <label className='LayoutOption' key={i}>\n              <div style={{display: 'flex'}}>\n                <RadioControl\n                  name={'layoutOption'}\n                  selected={this.state.selectedOption}\n                  options={[\n                    {value: layoutOption.value}\n                  ]}\n                  onChange={this.setSelected}\n                />\n                {layoutOption.label}\n              </div>\n              {\n                layoutOption.image\n                  ? <img src={layoutOption.image}/>\n                  : null\n              }\n              {\n                layoutOption.help\n                  ? <p className='help' dangerouslySetInnerHTML={{__html: layoutOption.help}}/>\n                  : null\n              }\n            </label>\n          )\n        })\n      }\n    </div>;\n  }\n}\n","import { React, Component } from 'react';\n\nexport class Preview extends Component {\n\trender() {\n\t\treturn <div className='Preview'>\n\t\t\t{\n\t\t\t\tthis.props.showBar\n\t\t\t\t? <div className='PreviewBar'>Preview</div>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{ this.props.children }\n\t\t</div>\n\t}\n}","import { ArticlesBlock } from './blocks/Articles/ArticlesBlock';\nimport { CarouselHeaderBlock } from './blocks/Carouselheader/CarouselHeaderBlock';\nimport { ColumnsBlock } from './blocks/Columns/ColumnsBlock';\nimport { CookiesBlock } from './blocks/Cookies/CookiesBlock';\nimport { CounterBlock } from './blocks/Counter/CounterBlock';\nimport { CoversBlock } from './blocks/Covers/CoversBlock';\nimport { GalleryBlock } from './blocks/Gallery/GalleryBlock';\nimport { HappypointBlock } from './blocks/Happypoint/HappypointBlock';\nimport { MediaBlock } from './blocks/Media/MediaBlock';\nimport { SocialmediaBlock } from './blocks/Socialmedia/SocialmediaBlock';\nimport { SplittwocolumnsBlock } from './blocks/Splittwocolumns/SplittwocolumnsBlock';\nimport { SubmenuBlock } from './blocks/Submenu/SubmenuBlock';\nimport { TimelineBlock } from './blocks/Timeline/TimelineBlock';\n\nconst articlesBlock = new ArticlesBlock();\nconst carouselHeaderBlock = new CarouselHeaderBlock();\nconst columnsBlock = new ColumnsBlock();\nconst cookiesBlock = new CookiesBlock();\nconst counterBlock = new CounterBlock();\nconst coversBlock = new CoversBlock();\nconst galleryBlock = new GalleryBlock();\nconst happypointBlock = new HappypointBlock();\nconst mediaBlock = new MediaBlock();\nconst socialmediaBlock = new SocialmediaBlock();\nconst splittwocolumnsBlock = new SplittwocolumnsBlock();\nconst submenuBlock = new SubmenuBlock();\nconst timelineBlock = new TimelineBlock();\n","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"editor\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"React\"]; }());"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./react-blocks/src/blocks/Articles/Articles.js","webpack:///./react-blocks/src/blocks/Articles/ArticlesBlock.js","webpack:///./react-blocks/src/blocks/Columns/Columns.js","webpack:///./react-blocks/src/blocks/Columns/ColumnsBlock.js","webpack:///./react-blocks/src/blocks/Cookies/Cookies.js","webpack:///./react-blocks/src/blocks/Cookies/CookiesBlock.js","webpack:///./react-blocks/src/blocks/Counter/Counter.js","webpack:///./react-blocks/src/blocks/Counter/CounterBlock.js","webpack:///./react-blocks/src/blocks/Covers/Covers.js","webpack:///./react-blocks/src/blocks/Covers/CoversBlock.js","webpack:///./react-blocks/src/blocks/Covers/CoversIcon.js","webpack:///./react-blocks/src/blocks/Gallery/Gallery.js","webpack:///./react-blocks/src/blocks/Gallery/GalleryBlock.js","webpack:///./react-blocks/src/blocks/Happypoint/Happypoint.js","webpack:///./react-blocks/src/blocks/Happypoint/HappypointBlock.js","webpack:///./react-blocks/src/blocks/Media/Media.js","webpack:///./react-blocks/src/blocks/Media/MediaBlock.js","webpack:///./react-blocks/src/blocks/Socialmedia/Socialmedia.js","webpack:///./react-blocks/src/blocks/Socialmedia/SocialmediaBlock.js","webpack:///./react-blocks/src/blocks/Splittwocolumns/Splittwocolumns.js","webpack:///./react-blocks/src/blocks/Splittwocolumns/SplittwocolumnsBlock.js","webpack:///./react-blocks/src/blocks/Submenu/MenuLevel.js","webpack:///./react-blocks/src/blocks/Submenu/Submenu.js","webpack:///./react-blocks/src/blocks/Submenu/SubmenuBlock.js","webpack:///./react-blocks/src/blocks/Takeactionboxout/Takeactionboxout.js","webpack:///./react-blocks/src/blocks/Takeactionboxout/TakeactionboxoutBlock.js","webpack:///./react-blocks/src/blocks/Timeline/Timeline.js","webpack:///./react-blocks/src/blocks/Timeline/TimelineBlock.js","webpack:///./react-blocks/src/components/ImageOrButton/ImageOrButton.js","webpack:///./react-blocks/src/components/LayoutSelector/LayoutSelector.js","webpack:///./react-blocks/src/components/Preview.js","webpack:///./react-blocks/src/editorIndex.js","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"editor\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":\"React\"}"],"names":["wp","apiFetch","addQueryArgs","url","Articles","props","tagTokens","tagsList","filter","tag","tags","includes","id","map","name","postTypeTokens","postTypesList","post_type","post_types","state","selectedPosts","populatePostsToken","posts","length","path","per_page","page","include","then","postsTokens","post","title","rendered","postsSuggestions","setState","postsList","tokens","search","orderby","post_status","tagIds","token","onSelectedTagsChange","postTypeIds","postType","onSelectedPostTypesChange","currentSelectedPosts","forEach","f","push","postIds","onSelectedPostsChange","__","i18n","tagSuggestions","postTypeSuggestions","article_heading","onTitleChange","articles_description","onDescriptionChange","read_more_text","onReadmoretextChange","read_more_link","onReadmorelinkChange","button_link_new_tab","e","onButtonLinkTabChange","article_count","onCountChange","ignore_categories","onIgnoreCategoriesChange","onPostsSearch","isSelected","renderEdit","Component","ArticlesBlock","registerBlockType","blocks","withSelect","data","icon","category","transforms","from","type","attributes","shortcode","named","split","default","edit","select","tagsTaxonomy","postTypesTaxonomy","args","hide_empty","getEntityRecords","setAttributes","value","Number","save","Columns","columns_title","columns_description","columns_block_style","columns","onSelectedLayoutChange","label","image","window","p4ge_vars","home","help","item","index","replace","onColumnHeaderChange","bind","description","onColumnDescriptionChange","onSelectImage","onSelectURL","onUploadError","cta_link","onCTALinkChange","link_new_tab","onLinkNewTabChange","cta_text","onCTAButtonTextChange","addColumn","removeColumn","ColumnsBlock","title_1","column","description_1","link_1","cta_text_1","link_new_tab_1","attachment","attachment_1","Object","assign","title_2","description_2","link_2","cta_text_2","link_new_tab_2","attachment_2","title_3","description_3","link_3","cta_text_3","link_new_tab_3","attachment_3","title_4","description_4","link_4","cta_text_4","link_new_tab_4","attachment_4","new_columns","message","console","log","i","slice","JSON","parse","stringify","Cookies","necessary_cookies_name","onNecessaryCookiesNameChange","necessary_cookies_description","onNecessaryCookiesDescriptionChange","all_cookies_name","onAllCookiesNameChange","all_cookies_description","onAllCookiesDescriptionChange","post_id","document","querySelector","CookiesBlock","supports","multiple","Counter","style","completed","onCompletedChange","completed_api","onCompletedAPIChange","target","onTargetChange","text","onTextChange","CounterBlock","Covers","searchTimeout","cover_type","queryArgs","post_parent","planet4_options","act_page","clearTimeout","setTimeout","searchPosts","covers_view","onRowsChange","CoversBlock","CoversIcon","Gallery","getImageOrButton","openEvent","image_data","padding","gallery_block_style","gallery_block_title","gallery_block_description","multiple_image","dimensions","width","height","multiple_image_array","open","onRemoveImages","focalPoint","onFocalPointChange","gallery_block_focus_points","GalleryBlock","image_urls_array","image_id_array","$","each","img_id","img_url","getMedia","media_details","sizes","medium","source_url","new_image_data","focal_points_json","x","y","isEmptyObject","parseInt","image_ids","key","join","image_id","updated_image_data","object","parseFloat","toFixed","Happypoint","focus_image","opacity","mailing_list_iframe","iframe_url","focal_point_params","focus_image_str","onOpacityChange","onMailingListIframeChange","onIframeUrlChange","load_iframe","HappypointBlock","onBackgroundChange","background","Media","video_title","youtube_id","onMediaUrlChange","instructions","video_poster_img","MediaBlock","Socialmedia","checkTwitterScript","checkInstagramScript","social_media_url","twitterScript","scriptLoaded","loadScriptAsync","initializeTwitterEmbeds","instaScript","initializeInstagramEmbeds","twttr","widgets","load","instgrm","Embeds","process","uri","Promise","resolve","reject","createElement","src","async","onload","body","getElementsByTagName","appendChild","embed_type_help","embed_type","onEmbedTypeChange","facebook_page_tab","onFacebookPageTabChange","onSocialMediaUrlChange","alignment_class","onAlignmentChange","SocialmediaBlock","Splittwocolumns","tag_list","unshift","issuepage_list","issuepageList","issue","raw","select_issue","issue_description","issue_link_text","issue_link_path","issue_image","focus_issue_image","select_tag","tag_description","button_text","button_link","tag_image","focus_tag_image","issue_image_url","tag_image_url","focus_issue_image_obj","focus_tag_image_obj","onSelectIssue","onIssueTitleChange","onIssueDescriptionChange","onIssueLinkTextChange","onIssueLinkPathChange","onSelectIssueImage","onIssueImageFocalPointChange","onSelectTag","onTagDescriptionChange","onButtonTextChange","onButtonLinkChange","onSelectCampaignImage","onCampaignImageFocalPointChange","SplittwocolumnsBlock","issuePage","taxonomy_args","issue_page_args","sort_order","sort_column","parent","explore_page","MenuLevel","heading","onHeadingChange","link","onLinkChange","onStyleChange","Submenu","submenu_style","levels","addLevel","removeLevel","SubmenuBlock","heading1","level","link1","style1","heading2","link2","style2","heading3","link3","style3","concat","onLayoutChange","Takeactionboxout","tag_ids","custom_title","custom_excerpt","custom_link","custom_link_text","custom_link_new_tab","background_image","take_action_page","actpage_list","actPageList","actPage","background_image_url","takeActionPageSelected","onSelectTakeActoinPage","isCustomised","onCustomTitleChange","onCustomExcerptChange","onCustomLinkChange","onCustomLinkTextChange","onCustomLinkNewTabChange","onSelectBackGroundImage","onRemoveBackGroundImage","TakeactionboxoutBlock","act_page_args","Timeline","loadTimeline","prevProps","timelinejs_version","js","TL","google_sheets_url","timenav_position","start_at_end","language","position","languages","url_desc","timeline_title","onTimelineTitleChange","onGoogleSheetsUrlChange","onLanguageChange","onTimenavPositionChange","onStartAtEndChange","TimelineBlock","ImageOrButton","disabled","imageId","imageUrl","imgClass","buttonLabel","LayoutSelector","selectedOption","setSelected","option","options","layoutOption","display","__html","Preview","showBar","children","articlesBlock","columnsBlock","cookiesBlock","counterBlock","coversBlock","galleryBlock","happypointBlock","mediaBlock","socialmediaBlock","splittwocolumnsBlock","submenuBlock","takeActionBoxoutBlock","timelineBlock"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;ACnEA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACJA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wC;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACNA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;;;;;;AChBA;AACA;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,0B;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACPA,qBAAqB,mBAAO,CAAC,iFAAkB;;AAE/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,2B;;;;;;;;;;;ACjBA;AACA;AACA;;AAEA,kC;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,+BAA+B;AAC5E;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA,uC;;;;;;;;;;;AC1BA;AACA;AACA;;AAEA,kC;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,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","file":"editorIndex.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./react-blocks/src/editorIndex.js\");\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  FormTokenField,\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Articles extends Component {\n  constructor(props) {\n    super(props);\n\n    // Populate tag tokens for saved tags.\n    let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n    // Populate post types tokens for saved post types.\n    let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n    this.state = {\n      tagTokens: tagTokens,\n      postTypeTokens: postTypeTokens,\n      selectedPosts: [],\n    };\n\n    this.populatePostsToken();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  populatePostsToken() {\n\n    if (this.props.posts.length > 0) {\n\n      apiFetch(\n        {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            include: this.props.posts\n          })\n        }\n      ).then(posts => {\n        const postsTokens = posts.map(post => post.title.rendered);\n        const postsSuggestions = posts.map(post => post.title.rendered);\n        this.setState({\n            postsTokens: postsTokens,\n            postsList: posts,\n            postsSuggestions: postsSuggestions,\n            selectedPosts: posts,\n          }\n        );\n      });\n    } else {\n      this.setState(\n        {\n          postsTokens: [],\n          postsList: [],\n          postsSuggestions: [],\n          selectedPosts: [],\n        }\n      );\n    }\n  }\n\n  /**\n   * Search posts using wp api.\n   *\n   * @param tokens\n   */\n  onPostsSearch(tokens) {\n\n    apiFetch(\n      {\n        path: addQueryArgs('/wp/v2/posts', {\n          per_page: 50,\n          page: 1,\n          search: tokens,\n          orderby: 'title',\n          post_status: 'publish',\n\n        })\n      }\n    ).then(posts => {\n      let postsSuggestions = posts.map(post => post.title.rendered);\n      this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n    });\n  }\n\n  onSelectedTagsChange(tokens) {\n    const tagIds = tokens.map(token => {\n      return this.props.tagsList.filter(tag => tag.name === token)[0].id;\n    });\n    this.props.onSelectedTagsChange(tagIds);\n    this.setState({tagTokens: tokens})\n  }\n\n  onSelectedPostTypesChange(tokens) {\n    const postTypeIds = tokens.map(token => {\n      return this.props.postTypesList.filter(postType => postType.name === token)[0].id;\n    });\n    this.props.onSelectedPostTypesChange(postTypeIds);\n    this.setState({postTypeTokens: tokens})\n  }\n\n  onSelectedPostsChange(tokens) {\n    // Array to hold references to selected posts objects.\n    let currentSelectedPosts = [];\n    tokens.forEach(token => {\n      let f = this.state.postsList.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n      f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n    });\n\n    const postIds = currentSelectedPosts.map(post => post.id);\n    this.props.onSelectedPostsChange(postIds);\n    this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const tagSuggestions = this.props.tagsList.map(tag => tag.name);\n    const postTypeSuggestions = this.props.postTypesList.map(postType => postType.name);\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'p4ge')}\n            placeholder={__('Enter title', 'p4ge')}\n            help={__('Your default is set to [ Latest Articles ]', 'p4ge')}\n            value={this.props.article_heading}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'p4ge')}\n            placeholder={__('Enter description', 'p4ge')}\n            value={this.props.articles_description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label={__('Button Text', 'p4ge')}\n            placeholder={__('Override button text', 'p4ge')}\n            help={__('Your default is set to [ Load More ]', 'p4ge')}\n            value={this.props.read_more_text}\n            onChange={this.props.onReadmoretextChange}\n          />\n        </div>\n\n\n        <div>\n          <TextControl\n            label={__('Button Link', 'p4ge')}\n            placeholder={__('Add read more button link', 'p4ge')}\n            value={this.props.read_more_link}\n            onChange={this.props.onReadmorelinkChange}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Open in a new Tab', 'p4ge')}\n            help={__('Open button link in new tab', 'p4ge')}\n            value={this.props.button_link_new_tab}\n            checked={this.props.button_link_new_tab}\n            onChange={(e) => this.props.onButtonLinkTabChange(e)}\n          />\n        </div>\n\n        {\n          this.props.posts !== 'undefined' && this.props.posts.length === 0\n            ?\n            <Fragment>\n              <div>\n                <TextControl\n                  label={__('Articles count', 'p4ge')}\n                  help={__('Number of articles', 'p4ge')}\n                  type=\"number\"\n                  value={this.props.article_count}\n                  onChange={this.props.onCountChange}\n                />\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label={__('Select Tags', 'p4ge')}\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                />\n                <p className='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.postTypeTokens}\n                  suggestions={postTypeSuggestions}\n                  label={__('Post Types', 'p4ge')}\n                  onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                />\n              </div>\n              <div className=\"ignore-categories-wrapper\">\n                <CheckboxControl\n                  label={__('Ignore categories', 'p4ge')}\n                  help={__('Ignore categories when filtering posts to populate the content of this block', 'p4ge')}\n                  value={this.props.ignore_categories}\n                  checked={this.props.ignore_categories}\n                  onChange={(e) => this.props.onIgnoreCategoriesChange(e)}\n                />\n              </div>\n            </Fragment>\n            : null\n        }\n\n        {\n          (this.props.tags.length === 0 && this.props.post_types.length === 0)\n            ? <div>\n              <hr/>\n              <label>{__('Manual override', 'p4ge')}</label>\n              <FormTokenField\n                value={this.state.postsTokens}\n                suggestions={this.state.postsSuggestions}\n                label={__('CAUTION: Adding articles individually will override the automatic functionality of this block. For good user experience, please include at least three articles so that spacing and alignment of the design remains in tact.', 'p4ge')}\n                onChange={tokens => this.onSelectedPostsChange(tokens)}\n                onInputChange={tokens => this.onPostsSearch(tokens)}\n                placeholder=\"Select Posts\"\n                maxLength=\"10\"\n                maxSuggestions=\"20\"\n              />\n            </div>\n            : null\n        }\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/articles'}\n            attributes={{\n              read_more_text: this.props.read_more_text,\n              read_more_link: this.props.read_more_link,\n              tags: this.props.tags,\n              post_types: this.props.post_types,\n              posts: this.props.posts,\n              article_heading: this.props.article_heading,\n              articles_description: this.props.articles_description,\n              article_count: this.props.article_count,\n              ignore_categories: this.props.ignore_categories,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Articles} from './Articles.js';\n\nexport class ArticlesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/articles', {\n      title: 'Articles',\n      icon: 'excerpt-view',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_articles',\n            attributes: {\n              article_heading: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_heading;\n                }\n              },\n              articles_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.articles_description;\n                }\n              },\n              article_count: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_count;\n                }\n              },\n              read_more_text: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_text;\n                }\n              },\n              read_more_link: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_link;\n                }\n              },\n              button_link_new_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.button_link_new_tab;\n                }\n              },\n              ignore_categories: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.ignore_categories;\n                }\n              },\n              tags: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.tags.split(',') : [];\n                }\n              },\n              post_types: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.post_types.split(',') : [];\n                }\n              },\n              posts: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.posts.split(',') : [];\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        article_heading: {\n          type: 'string',\n        },\n        articles_description: {\n          type: 'string',\n        },\n        article_count: {\n          type: 'integer',\n          default: 3\n        },\n        tags: {\n          type: 'array',\n          default: []\n        },\n        posts: {\n          type: 'array',\n          default: []\n        },\n        post_types: {\n          type: 'array',\n          default: []\n        },\n        read_more_text: {\n          type: 'string'\n        },\n        read_more_link: {\n          type: 'string',\n          default: ''\n        },\n        button_link_new_tab: {\n          type: 'boolean',\n          default: false\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: withSelect((select) => {\n        const tagsTaxonomy = 'post_tag';\n        const postTypesTaxonomy = 'p4-page-type';\n        const args = {\n          hide_empty: false,\n          per_page: 50,\n        };\n        const {getEntityRecords} = select('core');\n\n        // We should probably wrap all these in a single call,\n        // or maybe use our own way of retrieving data from the\n        // API, I don't know how this scales.\n        const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n        const postTypesList = getEntityRecords('taxonomy', postTypesTaxonomy, args);\n\n        return {\n          postTypesList,\n          tagsList,\n        };\n      })(({\n            postTypesList,\n            tagsList,\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        if (!tagsList || !postTypesList) {\n          return \"Populating block's fields...\";\n        }\n\n        // TO-DO: Check for posts types and posts too...\n        if ((tagsList && tagsList.length === 0) || (postTypesList && postTypesList.length === 0)) {\n          return \"Populating block's fields...\";\n        }\n\n        // These methods are passed down to the\n        // Articles component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({article_heading: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({articles_description: value});\n        }\n\n        function onReadmoretextChange(value) {\n          setAttributes({read_more_text: value});\n        }\n\n        function onCountChange(value) {\n          setAttributes({article_count: Number(value)});\n        }\n\n        function onReadmorelinkChange(value) {\n          setAttributes({read_more_link: value});\n        }\n\n        function onButtonLinkTabChange(value) {\n          setAttributes({button_link_new_tab: value});\n        }\n\n        function onSelectedTagsChange(tagIds) {\n          setAttributes({tags: tagIds});\n        }\n\n        function onSelectedPostsChange(value) {\n          setAttributes({posts: value});\n        }\n\n        function onSelectedPostTypesChange(postTypeIds) {\n          setAttributes({post_types: postTypeIds});\n        }\n\n        function onIgnoreCategoriesChange(value) {\n          setAttributes({ignore_categories: value});\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Articles\n          {...attributes}\n          isSelected={isSelected}\n          tagsList={tagsList}\n          postTypesList={postTypesList}\n          onSelectedTagsChange={onSelectedTagsChange}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onCountChange={onCountChange}\n          onSelectedPostsChange={onSelectedPostsChange}\n          onSelectedPostTypesChange={onSelectedPostTypesChange}\n          onReadmoretextChange={onReadmoretextChange}\n          onReadmorelinkChange={onReadmorelinkChange}\n          onButtonLinkTabChange={onButtonLinkTabChange}\n          onIgnoreCategoriesChange={onIgnoreCategoriesChange}/>\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import { React } from 'react';\nimport {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender,\n  Dashicon,\n  Tooltip,\n  ToggleControl\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Columns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {columns_title,columns_description,columns_block_style,columns} = this.props;\n\n      return (\n        <Fragment>\n          <h3>{__('What style of column do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={columns_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('No Image', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-no_images.jpg',\n                  value: 'no_image',\n                  help: __('Optional headers, description text and buttons in a column display.', 'p4ge')\n                },\n                {\n                  label: __('Tasks', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-tasks.jpg',\n                  value: 'tasks',\n                  help: __('Used on Take Action pages, this display has ordered tasks, and call to action buttons.', 'p4ge')\n                },\n                {\n                  label: __('Icons', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-icons.jpg',\n                  value: 'icons',\n                  help: __('For more static content, this display has an icon, header, description and text link.', 'p4ge')\n                },\n                {\n                  label: __('Images', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-images.jpg',\n                  value: 'image',\n                  help: __('For more static content, this display has an image, header, description and text link.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter block title', 'p4ge')}\n              value={columns_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter block description', 'p4ge')}\n              value={columns_description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n          <div>\n\n            {columns.map((item, index) => {\n              return (\n                <div key={index}>\n                  <div><hr /><i>{__('In order for the column to appear at least <strong>Header or Body</strong> has to be filled.', 'p4ge')}</i></div>\n\n                  <TextControl\n                    label={__('Column %s: Header', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter header of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.title}\n                    onChange={this.props.onColumnHeaderChange.bind(this,index)}\n                  />\n                  <TextareaControl\n                    label={__('Column %s: Body', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter body of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.description}\n                    onChange={this.props.onColumnDescriptionChange.bind(this,index)}\n                  />\n\n                  { 'no_image' != columns_block_style &&\n                    <MediaPlaceholder\n                      labels={{ title: __('Column %s: Image', 'p4ge').replace('%s', index+1)}}\n                      icon=\"format-image\"\n                      onSelect={this.props.onSelectImage.bind(this,index)}\n                      onSelectURL={this.props.onSelectURL.bind(this,index)}\n                      onError={this.props.onUploadError}\n                      accept=\"image/*\"\n                      allowedTypes={[\"image\"]}\n                    />\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Button/CtA Link', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_link}\n                    onChange={this.props.onCTALinkChange.bind(this,index)}\n                  />\n                  <ToggleControl\n                    label={__('Open link in new tab', 'p4ge')}\n                    help={__('Open Column %s: Button/CtA Link in a new tab', 'p4ge').replace('%s', index+1)}\n                    value={item.link_new_tab}\n                    checked={item.link_new_tab}\n                    onChange={this.props.onLinkNewTabChange.bind(this,index)}\n                  />\n                  <TextControl\n                    label={__('Column %s: Button/CtA Text', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter text of button/link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_text}\n                    onChange={this.props.onCTAButtonTextChange.bind(this,index)}\n                  />\n                </div>\n              );\n            })}\n\n            { columns.length < 4 && (\n              <Tooltip text={__('Add Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__addIcon\"\n                  }\n                  onClick={this.props.addColumn}\n                >\n                  {__('Add Column', 'p4ge')} <Dashicon icon={\"plus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n\n            { columns.length > 0 && (\n              <Tooltip text={__('Remove Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__removeIcon\"\n                  }\n                  onClick={this.props.removeColumn}\n                >\n                  {__('Remove Column', 'p4ge')} <Dashicon icon={\"minus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/columns'}\n                  attributes={{\n                    columns_block_style: this.props.columns_block_style,\n                    columns_title: this.props.columns_title,\n                    columns_description: this.props.columns_description,\n                    columns: this.props.columns,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Columns} from './Columns.js';\n\nconst {__} = wp.i18n;\n\nexport class ColumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/columns', {\n        title: __('Columns', 'p4ge'),\n        icon: \"grid-view\",\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_columns columns_block_style=\"image\" columns_title=\"Lorem Ipsum\" columns_description=\"Lorem Ipsum\"\n         *                    title_1=\"col1\" description_1=\"col1 body\" attachment_1=\"5096\" link_1=\"cta link1\" link_new_tab_1=\"true\" cta_text_1=\"cta text\"\n         *                    title_2=\"col2\" description_2=\"col2 body\" attachment_2=\"5186\" link_2=\"cta link2\" link_new_tab_2=\"true\" cta_text_2=\"cta text 2\" link_new_tab_3=\"false\" link_new_tab_4=\"false\" /]\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/columns {\"columns_block_style\":\"image\",\"columns_title\":\"Lorem Ipsum\",\"columns_description\":\"Lorem Ipsum\",\n         *      \"columns\":[{\"title\":\"col1\",\"description\":\"col1 body\",\"attachment\":5096,\"cta_link\":\"cta link1\",\"cta_text\":\"cta text 1\",\"link_new_tab\":true},{\"title\":\"col2\",\"description\":\"col2 body\",\"attachment\":5186,\"cta_link\":\"cta link2\",\"cta_text\":\"cta text 2\",\"link_new_tab\":true}]} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_columns',\n              attributes: {\n                columns_block_style: {\n                  type: 'string',\n                  shortcode: ({named: {columns_block_style = ''}}) => columns_block_style,\n                },\n                columns_title: {\n                  type: 'string',\n                  shortcode: ({named: {columns_title = ''}}) => columns_title,\n                },\n                columns_description: {\n                  type: 'string',\n                  shortcode: ({named: {columns_description = ''}}) => columns_description,\n                },\n                columns: {\n                  type: 'array',\n                  shortcode: function (attributes) {\n                    let columns = [];\n                    if (attributes.named.title_1) {\n                      let column = {\n                        title: attributes.named.title_1,\n                        description: attributes.named.description_1 || '',\n                        cta_link: attributes.named.link_1 || '',\n                        cta_text: attributes.named.cta_text_1 || '',\n                        link_new_tab: attributes.named.link_new_tab_1 || false\n                      };\n                      if (attributes.named.columns_block_style != 'no_image')\n                        column.attachment = attributes.named.attachment_1 || false;\n                      columns.push(Object.assign({}, column));\n\n                      if (attributes.named.title_2) {\n                        let column = {\n                          title: attributes.named.title_2,\n                          description: attributes.named.description_2 || '',\n                          cta_link: attributes.named.link_2 || '',\n                          cta_text: attributes.named.cta_text_2 || '',\n                          link_new_tab: attributes.named.link_new_tab_2 || false\n                        };\n                        if (attributes.named.columns_block_style != 'no_image')\n                          column.attachment = attributes.named.attachment_2 || false;\n                        columns.push(Object.assign({}, column));\n\n                        if (attributes.named.title_3) {\n                          let column = {\n                            title: attributes.named.title_3,\n                            description: attributes.named.description_3 || '',\n                            cta_link: attributes.named.link_3 || '',\n                            cta_text: attributes.named.cta_text_3 || '',\n                            link_new_tab: attributes.named.link_new_tab_3 || false\n                          };\n                          if (attributes.named.columns_block_style != 'no_image')\n                            column.attachment = attributes.named.attachment_3 || false;\n                          columns.push(Object.assign({}, column));\n\n                          if (attributes.named.title_4) {\n                            let column = {\n                              title: attributes.named.title_4,\n                              description: attributes.named.description_4 || '',\n                              cta_link: attributes.named.link_4 || '',\n                              cta_text: attributes.named.cta_text_4 || '',\n                              link_new_tab: attributes.named.link_new_tab_4 || false\n                            };\n                            if (attributes.named.columns_block_style != 'no_image')\n                              column.attachment = attributes.named.attachment_4 || false;\n                            columns.push(Object.assign({}, column));\n                          }\n                        }\n                      }\n                    }\n                    return columns;\n                  },\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          columns_block_style: {\n            type: 'string',\n          },\n          columns_title: {\n            type: 'string'\n          },\n          columns_description: {\n            type: 'string'\n          },\n          columns: {\n            type: \"array\",\n            default: [],\n            title:{\n              type: 'string'\n            },\n            description:{\n              type: 'string'\n            },\n            attachment:{\n              type: 'string'\n            },\n            cta_link:{\n              type: 'string'\n            },\n            link_new_tab:{\n              type: 'string'\n            },\n            cta_text:{\n              type: 'string'\n            },\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n\n          function onTitleChange(value) {\n            setAttributes({columns_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({columns_description: value});\n          }\n\n          function onSelectImage(index, value) {\n            const {columns} = attributes;\n            let {id}          = value;\n            let new_columns   = [...columns];\n            new_columns[index]['attachment'] = id;\n            setAttributes({columns: new_columns});\n          }\n\n          function onSelectURL(index, value) {\n            const {columns} = attributes;\n            let {id} = null;\n            let new_columns = [...columns];\n            new_columns[index]['attachment'] = id;\n            setAttributes({columns: new_columns});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({columns_block_style: value});\n\n            if ( 'no_image' == value ) {\n              const {columns} = attributes;\n              if ( 0 < columns.length ) {\n                let new_columns = [...columns];\n                let i;\n                for ( i = 0; i < columns.length; i++ ) {\n                  new_columns[i]['attachment'] = '';\n                }\n                setAttributes({columns: new_columns});\n              }\n            }\n          }\n\n          function addColumn() {\n            const {columns} = attributes;\n\n            if ( columns.length < 4 ) {\n              setAttributes({\n                columns: [...columns, {\n                  title:'',\n                  description:'',\n                  attachment:'',\n                  cta_link:'',\n                  cta_text:'',\n                  link_new_tab:'',\n                }]\n              });\n            }\n          }\n\n          function removeColumn() {\n            setAttributes({columns: attributes.columns.slice(0, -1) });\n          }\n\n          function onColumnHeaderChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].title = value;\n            setAttributes({columns});\n          }\n\n          function onColumnDescriptionChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].description = value;\n            setAttributes({columns});\n          }\n\n          function onCTALinkChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_link = value;\n            setAttributes({columns});\n          }\n\n          function onLinkNewTabChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].link_new_tab = value;\n            setAttributes({columns});\n          }\n\n          function onCTAButtonTextChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_text = value;\n            setAttributes({columns});\n          }\n\n          return <Columns\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            addColumn={addColumn}\n            removeColumn={removeColumn}\n            onUploadError={onUploadError}\n            onColumnHeaderChange={onColumnHeaderChange}\n            onColumnDescriptionChange={onColumnDescriptionChange}\n            onCTALinkChange={onCTALinkChange}\n            onLinkNewTabChange={onLinkNewTabChange}\n            onCTAButtonTextChange={onCTAButtonTextChange}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\nexport class Cookies extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Cookies options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display opt-in options for cookies',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={this.props.title}\n              onChange={this.props.onTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"Necessary Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.necessary_cookies_name}\n              onChange={this.props.onNecessaryCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Necessary Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.necessary_cookies_description}\n              onChange={this.props.onNecessaryCookiesDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"All Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.all_cookies_name}\n              onChange={this.props.onAllCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"All Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.all_cookies_description}\n              onChange={this.props.onAllCookiesDescriptionChange}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/cookies'}\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              necessary_cookies_name: this.props.necessary_cookies_name,\n              necessary_cookies_description: this.props.necessary_cookies_description,\n              all_cookies_name: this.props.all_cookies_name,\n              all_cookies_description: this.props.all_cookies_description,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Cookies} from './Cookies.js';\n\nexport class CookiesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/cookies', {\n      title: 'Cookies',\n      icon: 'welcome-view-site',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_cookies',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              necessary_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_name;\n                }\n              },\n              necessary_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_description;\n                }\n              },\n              all_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_name;\n                }\n              },\n              all_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_description;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        necessary_cookies_name: {\n          type: 'string',\n        },\n        necessary_cookies_description: {\n          type: 'string',\n        },\n        all_cookies_name: {\n          type: 'string',\n        },\n        all_cookies_description: {\n          type: 'string',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onNecessaryCookiesNameChange(value) {\n          setAttributes({necessary_cookies_name: value});\n        }\n\n        function onNecessaryCookiesDescriptionChange(value) {\n          setAttributes({necessary_cookies_description: value});\n        }\n\n        function onAllCookiesNameChange(value) {\n          setAttributes({all_cookies_name: value});\n        }\n\n        function onAllCookiesDescriptionChange(value) {\n          setAttributes({all_cookies_description: value});\n        }\n\n        return <Cookies\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onNecessaryCookiesNameChange={onNecessaryCookiesNameChange}\n          onNecessaryCookiesDescriptionChange={onNecessaryCookiesDescriptionChange}\n          onAllCookiesNameChange={onAllCookiesNameChange}\n          onAllCookiesDescriptionChange={onAllCookiesDescriptionChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import { React, Component } from 'react';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nexport class Counter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const { __ } = wp.i18n;\n\n    return (\n      <div>\n        <h3>{ __('What style of counter do you need?', 'p4ge') }</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={ this.props.style }\n            onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n            options={[\n              {\n                label: __('Text Only', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_text.png',\n                value: 'plain',\n                help: __('Text to describe your progress', 'p4ge')\n              },\n              {\n                label: __('Progress Bar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'bar',\n                help: __('A bar to visualise the progress.', 'p4ge'),\n              },\n              {\n                label: __('Progress Dial', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_arc.png',\n                value: 'arc',\n                help: __('A dial to visualise the progress.', 'p4ge')\n              },\n              {\n                label: __('Progress bar inside EN Form', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'en-forms-bar',\n                help: __('A bar inside an En Form. Select this only if you are adding an EN Form to the same page.', 'p4ge')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Title', 'p4ge') }\n            placeholder= { __('Enter title', 'p4ge') }\n            value={ this.props.title }\n            onChange={ this.props.onTitleChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Description', 'p4ge') }\n            placeholder= { __('Enter description', 'p4ge') }\n            value={ this.props.description }\n            onChange={ this.props.onDescriptionChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed', 'p4ge') }\n            placeholder= { __('e.g. number of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.completed }\n            onChange={ this.props.onCompletedChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed API URL', 'p4ge') }\n            placeholder= { __('API URL of completed number. If filled in will overide the \\'Completed\\' field', 'p4ge') }\n            value={ this.props.completed_api }\n            onChange={ this.props.onCompletedAPIChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Target', 'p4ge') }\n            placeholder= { __('e.g. target no. of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.target }\n            onChange={ this.props.onTargetChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Text', 'p4ge') }\n            placeholder= { __('e.g. \"signatures collected of %target%\"', 'p4ge') }\n            value={ this.props.text }\n            onChange={ this.props.onTextChange }\n          />\n          <p className='FieldHelp'>These placeholders can be used: <code>%completed%</code>, <code>%target%</code>, <code>%remaining%</code> </p>\n        </div>\n\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={ this.props.isSelected }>\n          <ServerSideRender\n            block={ 'planet4-blocks/counter' }\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              style: this.props.style,\n              completed: this.props.completed,\n              completed_api: this.props.completed_api,\n              target: this.props.target,\n              text: this.props.text,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n};","import { Counter } from './Counter.js';\n\nexport class CounterBlock {\n  constructor() {\n    const { registerBlockType } = wp.blocks;\n    const { withSelect } = wp.data;\n\n    registerBlockType( 'planet4-blocks/counter', {\n      title: 'Counter',\n      icon: 'dashboard',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_counter',\n            attributes: {\n              style: {\n                type: 'string',\n                shortcode: ( { named: { style = 'plain' } } ) => style,\n              },\n              title: {\n                type: 'string',\n                shortcode: ( { named: { title = '' } } ) => title,\n              },\n              description: {\n                type: 'string',\n                shortcode: ( { named: { description = '' } } ) => description,\n              },\n              completed: {\n                type: 'integer',\n                shortcode: ( { named: { completed = 0 } } ) => completed,\n              },\n              completed_api: {\n                type: 'string',\n                shortcode: ( { named: { completed_api = '' } } ) => completed_api,\n              },\n              target: {\n                type: 'integer',\n                shortcode: ( { named: { target = 0 } } ) => target,\n              },\n              text: {\n                type: 'string',\n                shortcode: ( { named: { text = '' } } ) => text,\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        style: {\n          type: 'string',\n          default: 'plain'\n        },\n        completed: {\n          type: 'integer',\n        },\n        completed_api: {\n          type: 'string',\n        },\n        target: {\n          type: 'integer',\n        },\n        text: {\n          type: 'string',\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange( value ) {\n          setAttributes( { title: value } );\n        }\n\n        function onDescriptionChange( value ) {\n          setAttributes( { description: value } );\n        }\n\n        function onSelectedLayoutChange( value ) {\n          setAttributes( { style: value } );\n        }\n\n        function onCompletedChange( value ) {\n          setAttributes( { completed: Number(value) } );\n        }\n\n        function onCompletedAPIChange( value ) {\n          setAttributes( { completed_api: value } );\n        }\n\n        function onTargetChange( value ) {\n          setAttributes( { target: Number(value) } );\n        }\n\n        function onTextChange( value ) {\n          setAttributes( { text: value } );\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Counter\n          { ...attributes }\n          isSelected={ isSelected }\n          onTitleChange={ onTitleChange }\n          onDescriptionChange={ onDescriptionChange }\n          onSelectedLayoutChange={ onSelectedLayoutChange }\n          onCompletedChange={ onCompletedChange }\n          onCompletedAPIChange={ onCompletedAPIChange }\n          onTargetChange={ onTargetChange }\n          onTextChange={ onTextChange }   />\n      },\n      save() {\n        return null;\n      }\n    } );\n  };\n}\n\n","import React, { Component } from 'react';\n\nimport {\n  FormTokenField,\n  SelectControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\n\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Covers extends Component {\n    constructor(props) {\n      super(props);\n\n      // Populate tag tokens for saved tags.\n      let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n      // Populate post types tokens for saved post types.\n      let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n      // Populate component state with block's saved tags tokens and post type tokens\n      this.state = {\n        tagTokens: tagTokens,\n        postTypeTokens: postTypeTokens,\n        selectedPosts: [],\n      };\n\n      this.populatePostsToken();\n      this.searchTimeout = null;\n    }\n\n    static getDerivedStateFromProps(props, state) {\n\n      // Post types should be available for cover_type 3\n      // If cover_type is not 3, reset post types tokens.\n      if ('1' === props.cover_type || '2' === props.cover_type) {\n        state.postTypeTokens= [];\n      }\n\n      // If posts attribute was reset, reset also the posts tokens.\n      if (0 === props.posts.length) {\n        state.postsTokens= [];\n      }\n      return state;\n    }\n\n\n    /**\n     * Set component's state for existing blocks.\n     */\n    populatePostsToken() {\n\n      if (this.props.posts.length > 0) {\n\n        let post_type = this.props.cover_type === '1' ? 'pages' : 'posts';\n        apiFetch(\n          {\n            path: addQueryArgs('/wp/v2/'+ post_type, {\n              per_page: 50,\n              page: 1,\n              include: this.props.posts\n            })\n          }\n        ).then(posts => {\n          const postsTokens = posts.map(post => post.title.rendered);\n          const postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({\n              postsTokens: postsTokens,\n              postsList: posts,\n              postsSuggestions: postsSuggestions,\n              selectedPosts: posts,\n            }\n          );\n        });\n      } else {\n        this.setState(\n          {\n            postsTokens: [],\n            postsList: [],\n            postsSuggestions: [],\n            selectedPosts: [],\n          }\n        );\n      }\n    }\n\n    /**\n     * Search posts using wp api.\n     *\n     * @param tokens\n     */\n    searchPosts(tokens) {\n\n      let queryArgs;\n      if ('1' === this.props.cover_type) {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/pages', {\n            per_page: -1,\n            post_type: 'page',\n            post_parent: window.p4ge_vars.planet4_options.act_page,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      } else {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      }\n\n\n      apiFetch(queryArgs)\n        .then(posts => {\n          let postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n        });\n    }\n\n    onPostsSearch(token) {\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(function () {\n        this.searchPosts(token);\n      }.bind(this), 500);\n    }\n\n    onSelectedTagsChange(tokens) {\n      const tagIds = tokens.map( token => {\n        return this.props.tagsList.filter( tag => tag.name === token )[0].id;\n      });\n      this.props.onSelectedTagsChange(tagIds);\n      this.setState({ tagTokens: tokens })\n    }\n\n    onSelectedPostTypesChange(tokens) {\n      const postTypeIds = tokens.map( token => {\n        return this.props.postTypesList.filter( postType => postType.name === token )[0].id;\n      });\n      this.props.onSelectedPostTypesChange(postTypeIds);\n      this.setState({ postTypeTokens: tokens })\n    }\n\n    onSelectedPostsChange(tokens) {\n      // Array to hold references to selected posts objects.\n      let currentSelectedPosts = [];\n      tokens.forEach(token => {\n        let f = this.state.postsList.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n        f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n      });\n\n      const postIds = currentSelectedPosts.map(post => post.id);\n      this.props.onSelectedPostsChange(postIds);\n      this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n    }\n\n    renderEdit() {\n      const { __ } = wp.i18n;\n\n      const tagSuggestions = this.props.tagsList.map( tag => tag.name );\n      const postTypeSuggestions = this.props.postTypesList.map( postType => postType.name );\n\n      return (\n        <div>\n          <h3>{ __('What style of cover do you need?', 'p4ge') }</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={ this.props.cover_type }\n              onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n              options={[\n                {\n                  label: __('Take Action Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/take_action_covers.png',\n                  value: '1',\n                  help: __('Take action covers pull the featured image, tags, have a 25 character excerpt and have a call to action button')\n                },\n                {\n                  label: __('Campaign Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/campaign_covers.png',\n                  value: '2',\n                  help: __('Campaign covers pull the associated image and hashtag from the system tag definitions.'),\n                },\n                {\n                  label: __('Content Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/content_covers.png',\n                  value: '3',\n                  help: __('Content covers pull the image from the post.')\n                },\n              ]}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label=\"Rows to display\"\n              value={ this.props.covers_view }\n              options={ [\n                { label: '1 Row', value: '1' },\n                { label: '2 Rows', value: '2' },\n                { label: 'All rows', value: '3' },\n              ] }\n              onChange={ this.props.onRowsChange }\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={ this.props.title }\n              onChange={ this.props.onTitleChange }\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={ this.props.description }\n              onChange={ this.props.onDescriptionChange }\n            />\n          </div>\n\n          {\n            this.props.posts !== 'undefined' && this.props.posts.length === 0\n              ?\n              <div>\n\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label='Select Tags'\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                  placeholder=\"Select Tags\"\n                />\n                <p class='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              : null\n          }\n\n          {\n            this.props.cover_type === '3' && this.props.posts.length === 0\n              ? <FormTokenField\n                value={this.state.postTypeTokens}\n                suggestions={postTypeSuggestions}\n                label='Post Types'\n                onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                placeholder=\"Select Tags\"\n              />\n              : null\n          }\n\n          {\n            (this.props.cover_type === '1' || this.props.cover_type === '3') &&\n            (this.props.tags.length === 0 && this.props.post_types.length === 0)\n              ? <div>\n                <label>Manual override</label>\n                <FormTokenField\n                  value={this.state.postsTokens}\n                  suggestions={this.state.postsSuggestions}\n                  label='CAUTION: Adding covers manually will override the automatic functionality.'\n                  onChange={tokens => this.onSelectedPostsChange(tokens)}\n                  onInputChange={token => this.onPostsSearch(token)}\n                  placeholder=\"Select Tags\"\n                />\n              </div>\n              : null\n          }\n\n        </div>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={ this.props.isSelected }>\n                <ServerSideRender\n                  block={ 'planet4-blocks/covers' }\n                  attributes={{\n                    cover_type: this.props.cover_type,\n                    covers_view: this.props.covers_view,\n                    tags: this.props.tags,\n                    post_types: this.props.post_types,\n                    posts: this.props.posts,\n                    title: this.props.title,\n                    description: this.props.description,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n};\n","import { CoversIcon } from './CoversIcon.js';\nimport { Covers } from './Covers.js';\n\nexport class CoversBlock {\n    constructor() {\n      const { registerBlockType } = wp.blocks;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/covers', {\n        title: 'Covers',\n        icon: 'slides',\n        category: 'planet4-blocks',\n\n        // Transform the shortcode into a Gutenberg block\n        // this is used when a user clicks \"Convert to blocks\"\n        // on the \"Classic Editor\" block\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_newcovers',\n              attributes: {\n                cover_type: {\n                  type: 'integer',\n                  // This `shortcode` definition will be used as a callback,\n                  // it is a function which expects an object with at least\n                  // a `named` key with `cover_type` property whose default value is 1.\n                  // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n                  shortcode: ({named: {cover_type = '1'}}) => cover_type,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                covers_view: {\n                  type: 'string',\n                  shortcode: ({named: {covers_view = ''}}) => covers_view,\n                },\n                tags: {\n                  type: 'string',\n                  shortcode: ({named: {tags = ''}}) => tags.split(','),\n                },\n                post_types: {\n                  type: 'string',\n                  shortcode: ({named: {post_types = ''}}) => post_types.split(','),\n                },\n                posts: {\n                  type: 'string',\n                  shortcode: ({named: {posts = ''}}) => posts.split(','),\n                },\n              },\n            },\n          ]\n        },\n        // This attributes definition mimics the one in the PHP side.\n        attributes: {\n          title: {\n            type: 'string',\n          },\n          description: {\n            type: 'string',\n          },\n          tags: {\n            type: 'array',\n            default: []\n          },\n          posts: {\n            type: 'array',\n            default: []\n          },\n          post_types: {\n            type: 'array',\n            default: []\n          },\n          covers_view: {\n            type: 'string',\n            default: '1'\n          },\n          cover_type: {\n            type: 'string',\n          }\n        },\n        // withSelect is a \"Higher Order Component\", it works as\n        // a Decorator, it will provide some basic API functionality\n        // through `select`.\n        edit: withSelect( ( select ) => {\n          const tagsTaxonomy = 'post_tag';\n          const postTypesTaxonomy = 'p4-page-type';\n          const args = {\n            hide_empty: false,\n            per_page: -1,\n          };\n\n          const { getEntityRecords } = select( 'core' );\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords( 'taxonomy', tagsTaxonomy, args );\n          const postTypesList = getEntityRecords( 'taxonomy', postTypesTaxonomy );\n\n          return {\n            postTypesList,\n            tagsList,\n          };\n        } )( ( {\n          postTypesList,\n          tagsList,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n            if ( !tagsList || !postTypesList ) {\n                return \"Populating block's fields...\";\n            }\n\n            // TO-DO: Check for posts types and posts too...\n            if ( !tagsList && !tagsList.length === 0 ) {\n                return \"No tags...\";\n            }\n\n            // These methods are passed down to the\n            // Covers component, they update the corresponding attribute.\n\n            function onRowsChange( value ) {\n              setAttributes( { covers_view: value } );\n            }\n\n            function onTitleChange( value ) {\n              setAttributes( { title: value } );\n            }\n\n            function onDescriptionChange( value ) {\n              setAttributes( { description: value } );\n            }\n\n            function onSelectedTagsChange( tagIds ) {\n              setAttributes( { tags: tagIds } );\n            }\n\n            function onSelectedPostsChange(value) {\n              setAttributes({posts: value});\n            }\n\n            function onSelectedPostTypesChange( postTypeIds ) {\n              setAttributes( { post_types: postTypeIds } );\n            }\n\n            function onSelectedLayoutChange( value ) {\n\n              // Post types are available only on cover_type 3, so we reset the post_types attribute in the other 2 cases.\n              if ( '1' === value) {\n                setAttributes( { post_types: [] } );\n              }\n              if ( '2' === value) {\n                setAttributes( { post_types: []} );\n              }\n              // Reset posts attribute when changing layout also.\n              setAttributes({cover_type: value, posts: []});\n            }\n\n            // We pass down all the attributes to Covers as props using\n            // the spread operator. Then we selectively add more\n            // props.\n            return <Covers\n              { ...attributes }\n              isSelected={ isSelected }\n              tagsList={ tagsList }\n              postTypesList={ postTypesList }\n              onSelectedTagsChange={ onSelectedTagsChange }\n              onSelectedLayoutChange={ onSelectedLayoutChange }\n              onTitleChange={ onTitleChange }\n              onDescriptionChange={ onDescriptionChange }\n              onSelectedPostsChange={ onSelectedPostsChange }\n              onSelectedPostTypesChange={ onSelectedPostTypesChange }\n              onRowsChange={ onRowsChange } />\n        } ),\n        save() {\n          return null;\n        }\n      } );\n    };\n}\n\n","import { React, Component } from 'react';\n\nexport class CoversIcon extends Component {\n\trender() {\n\t\treturn <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 66 82.5\" enable-background=\"new 0 0 66 66\"><g><g><path d=\"M8.193,37.334l23.804-10.512v-8.007L6.099,30.093c-0.24,0.11-0.44,0.31-0.53,0.56c-0.1,0.24-0.09,0.52,0.01,0.76    L8.193,37.334z\"/><path d=\"M8.999,39.163l4.9,11.08c4.55-1.49,7.1,2.61,8.76,3.78c1.51-1.01,4.47-5.71,9.34-3.55v-21.47L8.999,39.163z     M21.059,42.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49    C21.779,42.033,21.559,42.623,21.059,42.853z M27.059,39.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33    l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49C27.779,39.033,27.559,39.623,27.059,39.853z\"/><path d=\"M33.998,26.816l24.005,10.392l2.416-5.816c0.21-0.5-0.02-1.08-0.52-1.3L33.998,18.813V26.816z\"/><path d=\"M33.999,28.993v22.77c0.95,0.8,2.02,2.26,2.44,2.26c1.97-1.66,3.56-4.08,6.88-4.08c4.21,0,6.03,4.07,6.9,4.07    c0.1-0.087,0.722-0.298,1.25-1.09l5.77-13.87L33.999,28.993z M41.269,39.823c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46    c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.83-0.72,1.33-0.49l1,0.46C41.279,38.733,41.499,39.323,41.269,39.823z M47.269,42.823    c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.82-0.72,1.33-0.49l1,0.46    C47.279,41.733,47.499,42.323,47.269,42.823z\"/></g><g><path d=\"M37.999,2.983v5.63h-10v-5.63c0-1.1,0.9-2,2-2h6C37.099,0.983,37.999,1.883,37.999,2.983z\"/></g><path d=\"M48.319,13.823c-0.38-1.86-2.03-3.21-3.93-3.21h-22.78c-1.9,0-3.55,1.35-3.92,3.21l-1.98,9.91   c5.27-2.31,11.32-4.94,17.29-7.54c1.02,0.45,9.84,4.29,17.29,7.54L48.319,13.823z M24.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1   h2c0.55,0,1,0.45,1,1S25.549,17.233,24.999,17.233z M42.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1h2c0.55,0,1,0.45,1,1   S43.549,17.233,42.999,17.233z\"/><path d=\"M64,62.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1C65,63.43,64.552,62.982,64,62.982z\"/><path d=\"M64,55.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1S64.552,55.982,64,55.982z\"/></g></svg>\n\t}\n}\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  Toolbar,\n  IconButton,\n  Button\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Gallery extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const getImageOrButton = (openEvent) => {\n        if ( 0 < this.props.image_data.length ) {\n\n          return (\n\n            this.props.image_data.map((item, index) => {\n              return (\n                <span>\n                  <img\n                    src={ item.url }\n                    onClick={ openEvent }\n                    className=\"gallery__imgs\"\n                    key={index}\n                    width='150 px'\n                    style={{padding: '10px 10px'}}\n                  />\n                </span>\n              );\n            })\n\n          );\n        }\n        else {\n          return (\n            <div className=\"button-container\">\n              <Button\n                onClick={ openEvent }\n                className=\"button\">\n                + {__('Select Gallery Images', 'p4ge')}\n              </Button>\n\n              <div>{__('Select images in the order you want them to appear.', 'p4ge')}</div>\n            </div>\n          );\n        }\n      };\n\n      const {__} = wp.i18n;\n\n      const {gallery_block_style , gallery_block_title , gallery_block_description , multiple_image , image_data} = this.props;\n\n      const dimensions = {width: 400, height: 100};\n\n      let multiple_image_array = multiple_image ? multiple_image.split(',') : [];\n\n      return (\n        <Fragment>\n          <BlockControls>\n            { 0 < image_data.length && (\n              <Toolbar>\n                { 0 < multiple_image_array.length && (\n                  <MediaUploadCheck>\n                    <MediaUpload\n                      onSelect={this.props.onSelectImage}\n                      allowedTypes={[\"image\"]}\n                      value={multiple_image_array}\n                      type=\"image\"\n                      multiple=\"true\"\n                      render={({ open }) => {\n                        return (\n                          <IconButton\n                            className=\"components-icon-button components-toolbar__control\"\n                            label={__(\n                              \"Edit Images\",\n                              \"mytheme-blocks\"\n                            )}\n                            onClick={open}\n                            icon=\"edit\"\n                          />\n                        );\n                      }}\n                    />\n                  </MediaUploadCheck>\n                )}\n                <IconButton\n                  className=\"components-icon-button components-toolbar__control\"\n                  label={__(\"Remove Images\", \"mytheme-blocks\")}\n                  onClick={this.props.onRemoveImages}\n                  icon=\"trash\"\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          <h3>{__('What style of gallery do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={gallery_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('Slider', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-slider.jpg',\n                  value: 1,\n                  help: __('The slider is a carousel of images. For more than 5 images, consider using a grid.', 'p4ge')\n                },\n                {\n                  label: __('3 Column', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-3-column.jpg',\n                  value: 2,\n                  help: __('The 3 column image display is great for accentuating text, and telling a visual story.', 'p4ge')\n                },\n                {\n                  label: __('Grid', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-grid.jpg',\n                  value: 3,\n                  help: __('The grid shows thumbnails of lots of images. Good to use when showing lots of activity.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={gallery_block_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('Please Enter Description', 'p4ge')}\n              value={gallery_block_description}\n              onChange={this.props.onDescriptionChange}\n            />\n\n            {__('Select Gallery Images', 'p4ge')}\n            <div>\n              <MediaUploadCheck>\n                <MediaUpload\n                  title={__('Select Gallery Images', 'p4ge')}\n                  type=\"image\"\n                  onSelect={this.props.onSelectImage}\n                  value={multiple_image_array}\n                  allowedTypes={[\"image\"]}\n                  multiple=\"true\"\n                  render={ ({ open }) => getImageOrButton(open) }\n                />\n              </MediaUploadCheck>\n            </div>\n\n            {image_data &&\n            <div\n              className={\n                \"wp-block-master-theme-gallery__FocalPointPicker\"\n              }\n            >\n              <ul>\n                {image_data.map((item, index) => {\n                  return (\n                    <li\n                      key={index}\n                    >\n                      {__('Select gallery image focal point', 'p4ge')}\n                      <FocalPointPicker\n                        url={item.url}\n                        dimensions={dimensions}\n                        value={item.focalPoint}\n                        onChange={this.props.onFocalPointChange.bind(this,item.id)}\n                        key={item.id}\n                      />\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n            }\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/gallery'}\n                  attributes={{\n                    gallery_block_style: this.props.gallery_block_style,\n                    gallery_block_title: this.props.gallery_block_title,\n                    gallery_block_description: this.props.gallery_block_description,\n                    multiple_image: this.props.multiple_image,\n                    gallery_block_focus_points: this.props.gallery_block_focus_points,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Gallery} from './Gallery';\n\nconst {__} = wp.i18n;\n\nexport class GalleryBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/gallery', {\n        title: __('Gallery', 'p4ge'),\n        icon: 'format-gallery',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_gallery gallery_block_style=\"2\" gallery_block_title=\"test title\"\n         *                    gallery_block_description=\"test desc\" multiple_image=\"23603,23602,23600,23596\"\n         *                    gallery_block_focus_points=\"{'23596':'left top','23597':'left top','23599':'left top'}\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/gallery {\"gallery_block_style\":3,\"gallery_block_title\":\"test title\",\"gallery_block_description\":\"test desc\",\n         *      \"multiple_image\":\"23603,23602,23600,23596\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_gallery',\n              attributes: {\n                gallery_block_style: {\n                  type: 'integer',\n                  shortcode: ({named: {gallery_block_style = ''}}) => gallery_block_style,\n                },\n                gallery_block_title: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_title = ''}}) => gallery_block_title,\n                },\n                gallery_block_description: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_description = ''}}) => gallery_block_description,\n                },\n                multiple_image: {\n                  type: 'string',\n                  shortcode: ({named: {multiple_image = ''}}) => multiple_image,\n                },\n                gallery_block_focus_points: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_focus_points = ''}}) => gallery_block_focus_points,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          gallery_block_style: {\n            type: 'number',\n            default: 1\n          },\n          gallery_block_title: {\n            type: 'string',\n          },\n          gallery_block_description: {\n            type: 'string',\n          },\n          multiple_image: {\n            type: 'string',\n          },\n          gallery_block_focus_points: {\n            type: 'string',\n          },\n          image_data: {\n            type: 'object',\n            default: []\n          },\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { multiple_image } = attributes;\n\n          let image_urls_array = [];\n\n          if ( multiple_image ) {\n            let image_id_array = multiple_image.split(',');\n\n            $.each(image_id_array, function( index, img_id ) {\n              let img_url = select('core').getMedia(img_id);\n              if ( img_url ) {\n                image_urls_array[img_id] = img_url.media_details.sizes.medium.source_url;\n              }\n            });\n          }\n\n          return {\n            image_urls_array\n          };\n        } )( ( {\n          image_urls_array,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          let {image_data,gallery_block_focus_points} = attributes;\n\n          // Prepare image_data array on edit gallery block.\n          if (0 == image_data.length && 0 < image_urls_array.length) {\n            let new_image_data = [];\n            let focal_points_json = gallery_block_focus_points ? JSON.parse(gallery_block_focus_points):{};\n\n            for (const img_id in image_urls_array) {\n\n              let x,y;\n              if ($.isEmptyObject(focal_points_json)) {\n                [x,y] = [50,50];\n              } else {\n                [x,y] = focal_points_json[img_id].replace(/\\%/g, '').split(' ');\n              }\n\n              new_image_data.push({\n                url: image_urls_array[img_id],\n                focalPoint: {\n                  x:parseInt(x)/100,\n                  y:parseInt(y)/100\n                },\n                id: img_id\n              });\n            }\n\n            setAttributes({image_data: new_image_data});\n          }\n\n          function onTitleChange( value ) {\n            setAttributes({gallery_block_title: value});\n          }\n\n          function onDescriptionChange( value ) {\n            setAttributes({gallery_block_description: value });\n          }\n\n          function onSelectImage(value) {\n            let image_ids = [];\n            let image_data = [];\n            for (const key in value) {\n              image_ids.push(value[key].id);\n              let img_id = value[key].id;\n              image_data.push({url: value[key].url, focalPoint: {x:0.5, y:0.5}, id: img_id});\n            }\n            setAttributes({multiple_image: image_ids.join(',')});\n            setAttributes({image_data: image_data});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({gallery_block_style: Number(value)});\n          }\n\n          function onFocalPointChange( image_id, value ) {\n\n            let updated_image_data = [];\n            let gallery_block_focus_points = {};\n\n            image_data.map(function(object){\n              if (object.id === image_id) {\n                let x = parseFloat(value.x).toFixed(2);\n                let y = parseFloat(value.y).toFixed(2);\n\n                updated_image_data.push({url: object.url, focalPoint: {x,y}, id: image_id});\n                gallery_block_focus_points[image_id] = (x*100)+'% '+(y*100)+'%';\n\n              } else {\n                updated_image_data.push(object);\n                let img_id = object.id;\n                gallery_block_focus_points[img_id] = parseInt(object.focalPoint.x*100)+'% '+parseInt(object.focalPoint.y*100)+'%';\n              }\n            });\n\n            setAttributes({gallery_block_focus_points: JSON.stringify(gallery_block_focus_points)});\n            setAttributes({image_data: updated_image_data});\n          }\n\n          function onRemoveImages() {\n            setAttributes({multiple_image: ''});\n            setAttributes({gallery_block_focus_points: ''});\n            setAttributes({image_data: []});\n          }\n\n          return <Gallery\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onSelectImage={onSelectImage}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {Component,Fragment} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\n\nimport {\n  MediaPlaceholder,\n  InspectorControls,\n  BlockControls,\n  MediaUpload,\n  MediaUploadCheck\n} from '@wordpress/editor';\n\nimport {\n  TextControl,\n  ServerSideRender,\n  FocalPointPicker,\n  ToggleControl,\n  RangeControl,\n  PanelBody,\n  Button,\n  Toolbar,\n  IconButton\n} from '@wordpress/components';\n\nexport class Happypoint extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const dimensions = {width: 400, height: 100};\n\n      const {focus_image, opacity, mailing_list_iframe, iframe_url, url, id} = this.props;\n\n      let focal_point_params = {x:'',y:''};\n\n      if (focus_image) {\n        let focus_image_str = focus_image.replace(/%/g, '');\n        let [x, y] = focus_image_str.split(' ');\n        focal_point_params = {x: x/100,y: y/100};\n      } else {\n        focal_point_params = {x:0.5, y:0.5};\n      }\n\n      const getImageOrButton = (openEvent) => {\n        if ( this.props.id && ( 0 < this.props.id ) ) {\n\n          return (\n\n            <div align='center'>\n              <img\n                src={ this.props.url }\n                onClick={ openEvent }\n                className='happypoint__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n            </div>\n\n          );\n        }\n        else {\n          return (\n            <div className='button-container'>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Background Image', 'p4ge')}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <InspectorControls>\n            <PanelBody title={__('Setting', 'p4ge')}>\n              <RangeControl\n                label={__('Opacity', 'p4ge')}\n                value={opacity}\n                onChange={this.props.onOpacityChange}\n                min={1}\n                max={100}\n                initialPosition={opacity}\n                help={__('We use an overlay to fade the image back. Use a number between 1 and 100, the higher the number, the more faded the image will look. If you leave this empty, the default of 30 will be used.', 'p4ge')}\n              />\n              <ToggleControl\n                label={__('Use mailing list iframe', 'p4ge')}\n                help={__('Use mailing list iframe', 'p4ge')}\n                value={mailing_list_iframe}\n                checked={this.props.mailing_list_iframe}\n                onChange={this.props.onMailingListIframeChange}\n              />\n              <TextControl\n                label={__('Iframe url', 'p4ge')}\n                placeholder={__('Enter Iframe url', 'p4ge')}\n                help={__('If a url is set in this field and the \\'mailing list iframe\\' option is enabled, it will override the planet4 engaging network setting.', 'p4ge')}\n                value={iframe_url}\n                onChange={this.props.onIframeUrlChange}\n              />\n            </PanelBody>\n          </InspectorControls>\n          <BlockControls>\n            { this.props.id && ( 0 < this.props.id ) && (\n              <Toolbar>\n                <MediaUploadCheck>\n                  <MediaUpload\n                    onSelect={this.props.onSelectImage}\n                    allowedTypes={['image']}\n                    value={id}\n                    type='image'\n                    render={({ open }) => {\n                      return (\n                        <IconButton\n                          className='components-icon-button components-toolbar__control'\n                          label={__('Edit Image', 'p4ge')}\n                          onClick={open}\n                          icon='edit'\n                        />\n                      );\n                    }}\n                  />\n                </MediaUploadCheck>\n                <IconButton\n                  className='components-icon-button components-toolbar__control'\n                  label={__('Remove Image', 'p4ge')}\n                  onClick={this.props.onRemoveImages}\n                  icon='trash'\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          {__('Select Background Image', 'p4ge')}\n          <div>\n            <MediaUploadCheck>\n              <MediaUpload\n                title={__('Select Background Image', 'p4ge')}\n                type='image'\n                onSelect={this.props.onSelectImage}\n                value={id}\n                allowedTypes={['image']}\n                render={ ({ open }) => getImageOrButton(open) }\n              />\n            </MediaUploadCheck>\n          </div>\n          {id && 0 < id &&\n            <div>\n              {__('Select focus point for background image', 'p4ge')}\n              <FocalPointPicker\n                url={url}\n                dimensions={dimensions}\n                value={focal_point_params}\n                onChange={this.props.onFocalPointChange}\n              />\n            </div>\n          }\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/happypoint'}\n                  attributes={{\n                    id: this.props.id,\n                    focus_image: this.props.focus_image,\n                    opacity: this.props.opacity,\n                    mailing_list_iframe: this.props.mailing_list_iframe,\n                    iframe_url: this.props.iframe_url,\n                    load_iframe: true,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Happypoint} from './Happypoint';\n\nexport class HappypointBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/happypoint', {\n        title: __('Happypoint', 'p4ge'),\n        icon: 'format-image',\n        category: 'planet4-blocks',\n\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_happy_point background=\"4968\" focus_image=\"center center\" opacity=\"60\" mailing_list_iframe=\"true\" iframe_url=\"https%3A%2F%2Fact.greenpeace.org%2Fpage%2F34215%2Fsubscribe%2F1\" /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/happypoint {\"focus_image\":\"50% 50%\",\"opacity\":60,\"mailing_list_iframe\":true,\"iframe_url\":\"https://act.greenpeace.org/page/34215/subscribe/1\",\"id\":4968} /-->\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_happy_point',\n              attributes: {\n                opacity: {\n                  type: 'integer',\n                  shortcode: ({named: {opacity = ''}}) => opacity,\n                },\n                id: {\n                  type: 'integer',\n                  shortcode: ({named: {id = ''}}) => id,\n                },\n                focus_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_image = ''}}) => focus_image,\n                },\n                mailing_list_iframe: {\n                  type: 'string',\n                  shortcode: ({named: {mailing_list_iframe = ''}}) => mailing_list_iframe,\n                },\n                iframe_url: {\n                  type: 'string',\n                  shortcode: ({named: {iframe_url = ''}}) => iframe_url,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          focus_image: {\n            type: 'string',\n          },\n          opacity: {\n            type: 'number',\n            default: 60\n          },\n          mailing_list_iframe: {\n            type: 'boolean',\n          },\n          iframe_url: {\n            type: 'string',\n          },\n          id: {\n            type: 'number',\n          },\n          load_iframe: {\n            type: 'boolean',\n            default: false\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n          const { attributes } = props;\n          const { id } = attributes;\n          let img_url = '';\n\n          if (id && (0 < id)) {\n            img_url = select('core').getMedia(id);\n            if(img_url){\n              img_url = img_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          return {\n            img_url\n          };\n        } )( ( {\n          img_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n          function onBackgroundChange( value ) {\n            setAttributes({background: value});\n          }\n\n          function onOpacityChange( value ) {\n            setAttributes({opacity: value});\n          }\n\n          function onMailingListIframeChange( value ) {\n            setAttributes({mailing_list_iframe: value});\n          }\n\n          function onIframeUrlChange( value ) {\n            setAttributes({iframe_url: value});\n          }\n\n          function onFocalPointChange( {x,y} ) {\n            x = parseFloat(x).toFixed(2);\n            y = parseFloat(y).toFixed(2);\n            setAttributes({focus_image: (x*100)+'% '+(y*100)+'%'});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({id});\n          }\n\n          function onRemoveImages() {\n            setAttributes({id: -1});\n            setAttributes({focus_image: ''});\n          }\n\n          return <Happypoint\n            {...attributes}\n            isSelected={isSelected}\n            url={img_url}\n            onSelectImage={onSelectImage}\n            onOpacityChange={onOpacityChange}\n            onMailingListIframeChange={onMailingListIframeChange}\n            onIframeUrlChange={onIframeUrlChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\n\nexport class Media extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {video_title,description,youtube_id} = this.props;\n\n      return (\n        <Fragment>\n          <div>\n            <TextControl\n              label={__('Media Title', 'p4ge')}\n              placeholder={__('Enter video title', 'p4ge')}\n              value={video_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={description}\n              onChange={this.props.onDescriptionChange}\n            />\n            <TextControl\n              label={__('Media URL/ID', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              value={youtube_id}\n              onChange={this.props.onMediaUrlChange}\n              help={__('Can be a YouTube, Vimeo or Soundcloud URL or an mp4, mp3 or wav file URL.', 'p4ge')}\n            />\n            <MediaPlaceholder\n              labels={{ title: __('Video poster image [Optional]', 'p4ge'), instructions: __('Applicable for .mp4 video URLs only.', 'p4ge')}}\n              icon=\"format-image\"\n              onSelect={this.props.onSelectImage}\n              onSelectURL={this.props.onSelectURL}\n              onError={this.props.onUploadError}\n              accept=\"image/*\"\n              allowedTypes={[\"image\"]}\n            />\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                { this.props.youtube_id &&\n                  <ServerSideRender\n                    block={'planet4-blocks/media-video'}\n                    attributes={{\n                      video_title: this.props.video_title,\n                      description: this.props.description,\n                      youtube_id: this.props.youtube_id,\n                      video_poster_img: this.props.video_poster_img,\n                    }}>\n                  </ServerSideRender>\n                }\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Media} from './Media';\n\nconst {__} = wp.i18n;\n\nexport class MediaBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/media-video', {\n        title: __('Media block', 'p4ge'),\n        icon: 'format-video',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_media_video video_title=\"Lorem Ipsum\"\n         *                        description=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\"\n         *                        youtube_id=\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\"\n         *                        video_poster_img=\"23241\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/media-video {\"video_title\":\"Lorem Ipsum\",\"description\":\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\",\"youtube_id\":\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\"video_poster_img\":23241} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_media_video',\n              attributes: {\n                video_title: {\n                  type: 'string',\n                  shortcode: ({named: {video_title = ''}}) => video_title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                youtube_id: {\n                  type: 'string',\n                  shortcode: ({named: {youtube_id = ''}}) => youtube_id,\n                },\n                video_poster_img: {\n                  type: 'integer',\n                  shortcode: ({named: {video_poster_img = ''}}) => video_poster_img,\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          video_title: {\n            type: 'string'\n          },\n          description: {\n            type: 'string'\n          },\n          youtube_id: {\n            type: 'string'\n          },\n          video_poster_img: {\n            type: 'integer'\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n          function onTitleChange(value) {\n            setAttributes({video_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({description: value});\n          }\n\n          function onMediaUrlChange(value) {\n            setAttributes({youtube_id: value});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({video_poster_img: id});\n          }\n\n          function onSelectURL({url}) {\n            setAttributes({id: null});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          return <Media\n            {...attributes}\n            isSelected={isSelected}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onMediaUrlChange={onMediaUrlChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            onUploadError={onUploadError}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\nimport {\n  RadioControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Socialmedia extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  componentDidUpdate() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  /**\n   * Check if twitter embeds script is loaded and initiliaze it.\n   */\n  checkTwitterScript() {\n    if (this.props.social_media_url.includes('twitter')) {\n      let twitterScript = document.querySelector('script[src=\"https://platform.twitter.com/widgets.js\"]');\n\n      if (null === twitterScript) {\n        let scriptLoaded = this.loadScriptAsync('https://platform.twitter.com/widgets.js');\n        scriptLoaded.then(function () {\n          this.initializeTwitterEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeTwitterEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Check if instgram embeds script is loaded and initiliaze it.\n   */\n  checkInstagramScript() {\n    if (this.props.social_media_url.includes('instagram')) {\n      let instaScript = document.querySelector('script[src=\"https://www.instagram.com/embed.js\"]');\n\n      if (null === instaScript) {\n        let scriptLoaded = this.loadScriptAsync('https://www.instagram.com/embed.js');\n        scriptLoaded.then(function () {\n          this.initializeInstagramEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeInstagramEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Initialize twitter embeds.\n   */\n  initializeTwitterEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.twttr) {\n        window.twttr.widgets.load();\n      }\n    }, 2000);\n  }\n\n  /**\n   * Initialize instagram embeds.\n   */\n  initializeInstagramEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.instgrm) {\n        window.instgrm.Embeds.process();\n      }\n    }, 3000);\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const embed_type_help = __('Select oEmbed for the following types of social media<br>- Twitter: tweet, profile, list, collection, likes, moment<br>- Facebook: post, activity, photo, video, media, question, note<br>- Instagram: image', 'planet4-blocks-backend');\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'planet4-blocks-backend')}\n            placeholder={__('Enter title', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'planet4-blocks-backend')}\n            placeholder={__('Enter description', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <RadioControl\n            label={__('Embed type', 'planet4-blocks-backend')}\n            help={\n              <RawHTML>{embed_type_help}</RawHTML>\n            }\n            options={[\n              {label: 'oEmbed', value: 'oembed'},\n              {label: 'Facebook page', value: 'facebook_page'},\n            ]}\n            selected={this.props.embed_type}\n            onChange={this.props.onEmbedTypeChange}\n          />\n        </div>\n\n        {\n          this.props.embed_type === 'facebook_page'\n            ?\n            <div>\n              <SelectControl\n                label={__('What Facebook page content would you like to display?', 'planet4-blocks-backend')}\n                value={this.props.facebook_page_tab}\n                options={[\n                  {label: 'Timeline', value: 'timeline'},\n                  {label: 'Events', value: 'events'},\n                  {label: 'Mesages', value: 'messages'},\n                ]}\n                onChange={this.props.onFacebookPageTabChange}\n              />\n            </div>\n            : null\n        }\n\n        <div>\n          <TextControl\n            label={__('URL', 'planet4-blocks-backend')}\n            placeholder={__('Enter URL', 'planet4-blocks-backend')}\n            value={this.props.social_media_url}\n            onChange={this.props.onSocialMediaUrlChange}\n          />\n        </div>\n\n        <div>\n          <SelectControl\n            label={__('Alignment', 'planet4-blocks-backend')}\n            value={this.props.alignment_class}\n            options={[\n              {label: 'None', value: ''},\n              {label: 'Left', value: 'alignleft'},\n              {label: 'Center', value: 'aligncenter'},\n              {label: 'Right', value: 'alignright'},\n            ]}\n            onChange={this.props.onAlignmentChange}\n          />\n        </div>\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n            <ServerSideRender\n              block={'planet4-blocks/social-media'}\n              attributes={{\n                title: this.props.title,\n                description: this.props.description,\n                embed_type: this.props.embed_type,\n                facebook_page_tab: this.props.facebook_page_tab,\n                social_media_url: this.props.social_media_url,\n                alignment_class: this.props.alignment_class,\n              }}>\n            </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Socialmedia} from './Socialmedia.js';\n\nexport class SocialmediaBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {__} = wp.i18n;\n\n    registerBlockType('planet4-blocks/social-media', {\n      title: __('Social Media', 'p4ge'),\n      icon: 'share',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_social_media',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              embed_type: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.embed_type;\n                }\n              },\n              facebook_page_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.facebook_page_tab;\n                }\n              },\n              social_media_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.social_media_url;\n                }\n              },\n              alignment_class: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.alignment_class;\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        title: {\n          type: 'string',\n          default: '',\n        },\n        description: {\n          type: 'string',\n          default: '',\n        },\n        embed_type: {\n          type: 'string',\n          default: 'oembed'\n        },\n        facebook_page_tab: {\n          type: 'string',\n          default: 'timeline'\n        },\n        social_media_url: {\n          type: 'string',\n          default: ''\n        },\n        alignment_class: {\n          type: 'string',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        // These methods are passed down to the\n        // Socialmedia component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onEmbedTypeChange(value) {\n          setAttributes({embed_type: value});\n        }\n\n        function onFacebookPageTabChange(value) {\n          setAttributes({facebook_page_tab: value});\n        }\n\n        function onSocialMediaUrlChange(value) {\n          setAttributes({social_media_url: value});\n        }\n\n        function onAlignmentChange(value) {\n          setAttributes({alignment_class: value});\n        }\n\n\n        // We pass down all the attributes to Socialmedia as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Socialmedia\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onEmbedTypeChange={onEmbedTypeChange}\n          onFacebookPageTabChange={onFacebookPageTabChange}\n          onSocialMediaUrlChange={onSocialMediaUrlChange}\n          onAlignmentChange={onAlignmentChange} />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  SelectControl\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\n\nexport class Splittwocolumns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      let tag_list   = this.props.tagsList.map((tag) => ({label: tag.name, value: tag.id}));\n      tag_list.unshift({label: '--Select Tag--', value: 0});\n\n      let issuepage_list = this.props.issuepageList.map((issue) => ({label: issue.title.raw, value: issue.id}));\n      issuepage_list.unshift({label: '--Select Issue--', value: 0});\n\n      const {__} = wp.i18n;\n\n      const {\n        select_issue,\n        title,\n        issue_description,\n        issue_link_text,\n        issue_link_path,\n        issue_image,\n        focus_issue_image,\n        select_tag,\n        tag_description,\n        button_text,\n        button_link,\n        tag_image,\n        focus_tag_image,\n        issue_image_url,\n        tag_image_url\n      } = this.props;\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_issue_image_obj = {x: 0.5,y: 0.5};\n      if (focus_issue_image) {\n        let [x,y] = focus_issue_image.replace(/\\%/g, '').split(' ');\n        focus_issue_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_tag_image_obj = {x: 0.5,y: 0.5};\n      if (focus_tag_image) {\n        let [x,y] = focus_tag_image.replace(/\\%/g, '').split(' ');\n        focus_tag_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      const dimensions = {width: 400, height: 100};\n\n      return (\n        <Fragment>\n          <h3>{__('Issue fields (Column 1 - Left side)', 'p4ge')}</h3>\n          <div>\n            {issuepage_list &&\n              <SelectControl\n                label={__('Select an issue', 'p4ge')}\n                value={select_issue}\n                options={issuepage_list}\n                onChange={this.props.onSelectIssue}\n              />\n            }\n            <TextControl\n              label={__('Issue Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={title}\n              onChange={this.props.onIssueTitleChange}\n              help={__('(Optional) Fill this only if you need to override issue title.', 'p4ge')}\n            />\n            <TextareaControl\n              label={__('Issue Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional) Fill this only if you need to override issue description.', 'p4ge')}\n              value={issue_description}\n              onChange={this.props.onIssueDescriptionChange}\n            />\n            <TextControl\n              label={__('Issue link text', 'p4ge')}\n              placeholder={__('Enter link text', 'p4ge')}\n              value={issue_link_text}\n              onChange={this.props.onIssueLinkTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Issue link path', 'p4ge')}\n              placeholder={__('Enter link path', 'p4ge')}\n              value={issue_link_path}\n              onChange={this.props.onIssueLinkPathChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Issue Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Issue', 'p4ge')}\n              onSelectImage={this.props.onSelectIssueImage}\n              imageId={issue_image}\n              imageUrl={issue_image_url}\n              buttonLabel={__('+ Select Image for Issue', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-issue-imgs'\n            />\n\n            {issue_image &&\n            <div>\n              {__('Select focal point for issue image', 'p4ge')}\n              <FocalPointPicker\n                url={issue_image_url}\n                dimensions={dimensions}\n                value={focus_issue_image_obj}\n                onChange={this.props.onIssueImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n          <h3>{__('Campaign fields (Column 2 - Right side)', 'p4ge')}</h3>\n          <div>\n            {tag_list &&\n              <SelectControl\n                label={__('Select a tag', 'p4ge')}\n                value={select_tag}\n                options={tag_list}\n                onChange={this.props.onSelectTag}\n              />\n            }\n            <TextareaControl\n              label={__('Campaign Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={tag_description}\n              onChange={this.props.onTagDescriptionChange}\n            />\n            <TextControl\n              label={__('Campaign button text', 'p4ge')}\n              placeholder={__('Enter button text', 'p4ge')}\n              value={button_text}\n              onChange={this.props.onButtonTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Campaign button link', 'p4ge')}\n              placeholder={__('Enter button link', 'p4ge')}\n              value={button_link}\n              onChange={this.props.onButtonLinkChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Campaign Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Campaign', 'p4ge')}\n              onSelectImage={this.props.onSelectCampaignImage}\n              imageId={tag_image}\n              imageUrl={tag_image_url}\n              buttonLabel={__('+ Select Image for Campaign', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-tag_imgs'\n            />\n\n            {tag_image &&\n            <div>\n              {__('Select focal point for campaign image', 'p4ge')}\n              <FocalPointPicker\n                url={tag_image_url}\n                dimensions={dimensions}\n                value={focus_tag_image_obj}\n                onChange={this.props.onCampaignImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/split-two-columns'}\n                  attributes={{\n                    select_issue: this.props.select_issue,\n                    title: this.props.title,\n                    issue_description: this.props.issue_description,\n                    issue_link_text: this.props.issue_link_text,\n                    issue_link_path: this.props.issue_link_path,\n                    issue_image: this.props.issue_image,\n                    focus_issue_image: this.props.focus_issue_image,\n                    select_tag: this.props.select_tag,\n                    tag_description: this.props.tag_description,\n                    button_text: this.props.button_text,\n                    button_link: this.props.button_link,\n                    tag_image: this.props.tag_image,\n                    focus_tag_image: this.props.focus_tag_image,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Splittwocolumns} from './Splittwocolumns';\n\nconst {__} = wp.i18n;\n\nexport class SplittwocolumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/split-two-columns', {\n        title: __('Split Two Columns', 'p4ge'),\n        icon: 'editor-table',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_split_two_columns select_issue=\"13813\" title=\"lorem ipsum\" issue_description=\"lorem ipsum\" issue_link_text=\"test link\"\n         *        issue_link_path=\"http://www.googlw.com\" issue_image=\"23634\" focus_issue_image=\"right top\" select_tag=\"19\"\n         *        tag_description=\"lorem ipsum\" button_text=\"btn text\" button_link=\"http://www.google.com\" tag_image=\"23634\" focus_tag_image=\"right top\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/split-two-columns {\"select_issue\":2079,\"title\":\"Lorem Ipsum\",\"issue_description\":\"Lorem Ipsum\",\"issue_link_text\":\"tets link\",\"issue_link_path\":\"http://www.google.com\",\"issue_image\":23634,\"focus_issue_image\":\"33% 60%\",\"select_tag\":65,\"tag_description\":\"Lorem Ipsum\",\"button_text\":\"btn text\",\"button_link\":\"http://www.google.com\",\"tag_image\":23634,\"focus_tag_image\":\"30% 79%\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_split_two_columns',\n              attributes: {\n                select_issue: {\n                  type: 'integer',\n                  shortcode: ({named: {select_issue = ''}}) => select_issue,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                issue_description: {\n                  type: 'string',\n                  shortcode: ({named: {issue_description = ''}}) => issue_description,\n                },\n                issue_link_text: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_text = ''}}) => issue_link_text,\n                },\n                issue_link_path: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_path = ''}}) => issue_link_path,\n                },\n                issue_image: {\n                  type: 'integer',\n                  shortcode: ({named: {issue_image = ''}}) => issue_image,\n                },\n                focus_issue_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_issue_image = ''}}) => focus_issue_image,\n                },\n                select_tag: {\n                  type: 'integer',\n                  shortcode: ({named: {select_tag = ''}}) => select_tag,\n                },\n                tag_description: {\n                  type: 'string',\n                  shortcode: ({named: {tag_description = ''}}) => tag_description,\n                },\n                button_text: {\n                  type: 'string',\n                  shortcode: ({named: {button_text = ''}}) => button_text,\n                },\n                button_link: {\n                  type: 'string',\n                  shortcode: ({named: {button_link = ''}}) => button_link,\n                },\n                tag_image: {\n                  type: 'integer',\n                  shortcode: ({named: {tag_image = ''}}) => tag_image,\n                },\n                focus_tag_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_tag_image = ''}}) => focus_tag_image,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          select_issue: {\n            type: 'number',\n            default: 0,\n          },\n          title: {\n            type: 'string',\n          },\n          issue_description: {\n            type: 'string',\n          },\n          issue_link_text: {\n            type: 'string',\n          },\n          issue_link_path: {\n            type: 'string',\n          },\n          issue_image: {\n            type: 'number',\n          },\n          focus_issue_image: {\n            type: 'string',\n          },\n          select_tag: {\n            type: 'number',\n            default: 0,\n          },\n          tag_description: {\n            type: 'string',\n          },\n          button_text: {\n            type: 'string',\n          },\n          button_link: {\n            type: 'string',\n          },\n          tag_image: {\n            type: 'number',\n          },\n          focus_tag_image: {\n            type: 'string',\n          },\n        },\n        edit: withSelect((select,props) => {\n          const tagsTaxonomy = 'post_tag';\n          const issuePage    = 'page';\n\n          const taxonomy_args = {\n            hide_empty: false,\n            per_page: 50,\n          };\n          const {getEntityRecords} = select('core');\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, taxonomy_args);\n\n          const issue_page_args = {\n            per_page: -1,\n            sort_order: 'asc',\n            sort_column: 'post_title',\n            parent: window.p4ge_vars.planet4_options.explore_page,\n            post_status: 'publish',\n          };\n          const issuepageList = getEntityRecords('postType', issuePage, issue_page_args);\n\n          const { attributes } = props;\n          const { issue_image,tag_image } = attributes;\n\n          let issue_image_url = '';\n          if (issue_image) {\n            issue_image_url = select('core').getMedia(issue_image);\n            if ( issue_image_url ) {\n              issue_image_url = issue_image_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          let tag_image_url = '';\n          if (tag_image) {\n            tag_image_url = select('core').getMedia(tag_image);\n            if ( tag_image_url ) {\n              tag_image_url = tag_image_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          return {\n            tagsList,\n            issuepageList,\n            issue_image_url,\n            tag_image_url,\n          };\n\n        } )( ( {\n          tagsList,\n          issuepageList,\n          issue_image_url,\n          tag_image_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          if (!tagsList || !issuepageList) {\n            return \"Populating block's fields...\";\n          }\n\n          if ((tagsList && tagsList.length === 0) || (issuepageList && issuepageList.length === 0)) {\n            return \"Populating block's fields...\";\n          }\n\n          function onSelectIssue( value ) {\n            setAttributes({select_issue: parseInt(value)});\n          }\n\n          function onIssueTitleChange( value ) {\n            setAttributes({title: value });\n          }\n\n          function onIssueDescriptionChange( value ) {\n            setAttributes({issue_description: value});\n          }\n\n          function onIssueLinkTextChange( value ) {\n            setAttributes({issue_link_text: value });\n          }\n\n          function onIssueLinkPathChange( value ) {\n            setAttributes({issue_link_path: value});\n          }\n\n          function onSelectIssueImage( {id} ) {\n            setAttributes({issue_image: id});\n          }\n\n          function onIssueImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_issue_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          function onSelectTag( value ) {\n            setAttributes({select_tag: parseInt(value)});\n          }\n\n          function onTagDescriptionChange( value ) {\n            setAttributes({tag_description: value});\n          }\n\n          function onButtonTextChange( value ) {\n            setAttributes({button_text: value });\n          }\n\n          function onButtonLinkChange( value ) {\n            setAttributes({button_link: value});\n          }\n\n          function onSelectCampaignImage( {id} ) {\n            setAttributes({tag_image: id});\n          }\n\n          function onCampaignImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_tag_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          return <Splittwocolumns\n            {...attributes}\n            isSelected={isSelected}\n            tagsList={tagsList}\n            issuepageList={issuepageList}\n            issue_image_url={issue_image_url}\n            tag_image_url={tag_image_url}\n            onSelectIssue={onSelectIssue}\n            onIssueTitleChange={onIssueTitleChange}\n            onIssueDescriptionChange={onIssueDescriptionChange}\n            onIssueLinkTextChange={onIssueLinkTextChange}\n            onIssueLinkPathChange={onIssueLinkPathChange}\n            onSelectIssueImage={onSelectIssueImage}\n            onIssueImageFocalPointChange={onIssueImageFocalPointChange}\n            onSelectTag={onSelectTag}\n            onTagDescriptionChange={onTagDescriptionChange}\n            onButtonTextChange={onButtonTextChange}\n            onButtonLinkChange={onButtonLinkChange}\n            onSelectCampaignImage={onSelectCampaignImage}\n            onCampaignImageFocalPointChange={onCampaignImageFocalPointChange}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component} from 'react';\nimport {\n  CheckboxControl,\n  SelectControl,\n} from '@wordpress/components';\n\nexport class MenuLevel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>Level {this.props.index + 1}</div>\n        <SelectControl\n          label=\"Submenu item\"\n          help=\"Submenu item\"\n          value={this.props.heading}\n          options={[\n            {label: 'None', value: '0'},\n            {label: 'Heading 1', value: '1'},\n            {label: 'Heading 2', value: '2'},\n            {label: 'Heading 3', value: '3'},\n            {label: 'Heading 4', value: '4'},\n            {label: 'Heading 5', value: '5'},\n            {label: 'Heading 6', value: '6'},\n          ]}\n          onChange={(e) => this.props.onHeadingChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n\n        <CheckboxControl\n          heading=\"Link\"\n          help=\"Link item\"\n          value={this.props.link}\n          checked={this.props.link}\n          onChange={(e) => this.props.onLinkChange(this.props.index, e)}\n          className=\"submenu-level-link\"\n        />\n\n        <SelectControl\n          label=\"List style\"\n          help=\"List style\"\n          value={this.props.style}\n          options={[\n            {label: 'None', value: 'none'},\n            {label: 'Bullet', value: 'bullet'},\n            {label: 'Number', value: 'number'},\n          ]}\n          onChange={(e) => this.props.onStyleChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n      </div>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  TextControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {MenuLevel} from \"./MenuLevel\";\n\nexport class Submenu extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h2>{__('Anchor Link Submenu', 'p4ge')}</h2>\n        <p><i>{__(\n          'An in-page table of contents to help users have a sense of what\\'s on the page and let them jump to a topic they are interested in.',\n          'p4ge'\n        )}</i></p>\n        <h3>{__('What style of menu do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.submenu_style}\n            onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n            options={[\n              {\n                label: __('Long full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-long.jpg',\n                value: 1,\n                help: __('Use: on long pages (more than 5 screens) when list items are long (+ 10 words)<br>No max items<br>recommended.')\n              }, {\n                label: __('Short full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-short.jpg',\n                value: 2,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 5 words)<br>No max items<br>recommended.'),\n              },\n              {\n                label: __('Short sidebar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-sidebar.jpg',\n                value: 3,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 10 words)<br>Max items<br>recommended: 9')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label=\"Submenu Title\"\n            placeholder=\"Enter title\"\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <hr/>\n        {this.props.levels.map((heading, i) => {\n          return (\n            <MenuLevel\n              {...heading}\n              onHeadingChange={this.props.onHeadingChange}\n              onLinkChange={this.props.onLinkChange}\n              onStyleChange={this.props.onStyleChange}\n              index={i}\n              key={i}\n            />\n          );\n        })}\n\n        <div>\n          <Button isPrimary\n                  onClick={this.props.addLevel}\n                  disabled={this.props.levels.length >= 3 || this.props.levels.slice(-1)[0].heading === 0}\n          >\n            Add level\n          </Button>\n          <Button isDefault\n                  onClick={this.props.removeLevel} disabled={this.props.levels.length <= 1}\n          >\n            Remove level\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/submenu'}\n            attributes={{\n              submenu_style: this.props.submenu_style,\n              title: this.props.title,\n              levels: this.props.levels,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {Submenu} from './Submenu.js';\n\nexport class SubmenuBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/submenu', {\n      title: 'Submenu',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_submenu submenu_style=\"3\" title=\"title22\" heading1=\"2\"\n       *                    link1=\"true\" style1=\"bullet\" heading2=\"3\" link2=\"true\" style2=\"number\"\n       *                    heading3=\"4\" link3=\"false\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/submenu {\"submenu_style\":3,\"title\":\"title22\",\"levels\":[{\"heading\":\"2\",\"link\":\"true\",\"style\":\"bullet\"},\n       *    {\"heading\":\"3\",\"link\":\"true\",\"style\":\"number\"},{\"heading\":\"4\",\"link\":\"false\",\"style\":\"none\"}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_submenu',\n            attributes: {\n              submenu_style: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.submenu_style);\n                }\n              },\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              levels: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  let levels = [];\n                  if (attributes.named.heading1 > 0) {\n                    let level = {\n                      heading: Number(attributes.named.heading1),\n                      link: attributes.named.link1 || false,\n                      style: attributes.named.style1 || 'none'\n                    };\n                    levels.push(Object.assign({}, level));\n\n                    if (attributes.named.heading2 > 0) {\n                      let level = {\n                        heading: Number(attributes.named.heading2),\n                        link: attributes.named.link2 || false,\n                        style: attributes.named.style2 || 'none'\n                      };\n                      levels.push(Object.assign({}, level));\n\n                      if (attributes.named.heading3 > 0) {\n                        let level = {\n                          heading: Number(attributes.named.heading3),\n                          link: attributes.named.link3 || false,\n                          style: attributes.named.style3 || 'none'\n                        };\n                        levels.push(Object.assign({}, level));\n                      }\n                    }\n                  }\n                  return levels;\n                },\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        submenu_style: {\n          type: 'integer',\n          default: 1\n        },\n        title: {\n          type: 'string',\n        },\n        levels: {\n          type: 'array',\n          default: [ {heading: 0, link: false, style: 'none'}]\n        },\n      },\n      edit: withSelect((select) => {\n\n      })(({\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        function addLevel() {\n          setAttributes({levels: attributes.levels.concat({heading: 0, link: false, style: 'none'})});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onHeadingChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].heading = Number(value);\n          setAttributes({levels: levels});\n        }\n\n        function onLayoutChange(value) {\n          setAttributes({submenu_style: Number(value)});\n        }\n\n        function onLinkChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].link = value;\n          setAttributes({levels: levels});\n        }\n\n        function onStyleChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].style = value;\n          setAttributes({levels: levels});\n        }\n\n        function removeLevel() {\n          setAttributes({levels: attributes.levels.slice(0, -1)});\n        }\n\n        return <Submenu\n          {...attributes}\n          isSelected={isSelected}\n          onSelectedLayoutChange={onLayoutChange}\n          onTitleChange={onTitleChange}\n          onHeadingChange={onHeadingChange}\n          onLinkChange={onLinkChange}\n          onStyleChange={onStyleChange}\n          addLevel={addLevel}\n          removeLevel={removeLevel}\n        />\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\nimport {\n\tFormTokenField,\n\tTextControl,\n\tTextareaControl,\n\tServerSideRender,\n\tToggleControl,\n\tSelectControl,\n\tCheckboxControl,\n\tToolbar,\n\tIconButton, Button\n} from '@wordpress/components';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Takeactionboxout extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// Populate tag tokens for saved tags.\n\t\tlet tagTokens = props.tagsList.filter(tag => props.tag_ids.includes(tag.id)).map(tag => tag.name);\n\n\t\tthis.state = {\n\t\t\ttagTokens: tagTokens,\n\t\t};\n\t}\n\n\tonSelectedTagsChange(tokens) {\n\t\tconst tagIds = tokens.map(token => {\n\t\t\treturn this.props.tagsList.filter(tag => tag.name === token)[0].id;\n\t\t});\n\t\tthis.props.onSelectedTagsChange(tagIds);\n\t\tthis.setState({tagTokens: tokens})\n\t}\n\n\tisCustomised() {\n\t\treturn ( this.props.custom_title || this.props.custom_excerpt || this.props.custom_link || this.props.custom_link_text || this.props.custom_link_new_tab || this.state.tagTokens.length > 0 || ( this.props.background_image && 0 < this.props.background_image ) );\n\t}\n\n\ttakeActionPageSelected() {\n\t\treturn ( this.props.take_action_page && this.props.take_action_page !== '0' );\n\t}\n\n\trenderEdit() {\n\t\tconst tagSuggestions = this.props.tagsList.map(tag => tag.name);\n\n\t\tlet actpage_list = this.props.actPageList.map((actPage) => ({label: actPage.title.raw, value: actPage.id}));\n\t\tconst {__} = wp.i18n;\n\n\t\tactpage_list.unshift({label: __('--Select Take Action Page--'), value: 0});\n\n\t\tconst getImageOrButton = (openEvent) => {\n\t\t\tif ( this.props.background_image && ( 0 < this.props.background_image ) ) {\n\n\t\t\t\treturn (\n\n\t\t\t\t\t<div align='center'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ this.props.background_image_url }\n\t\t\t\t\t\t\tonClick={ openEvent }\n\t\t\t\t\t\t\tclassName='takeactionboxout-block-background-img'\n\t\t\t\t\t\t\twidth={'400px'}\n\t\t\t\t\t\t\tstyle={{padding: '10px 10px'}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t\t<div className='button-container'>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={ openEvent }\n\t\t\t\t\t\t\tclassName='button'\n\t\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}>\n\t\t\t\t\t\t\t+ {__('Select Background Image', 'p4ge')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<h3>{__('Take Action Boxout', 'p4ge')}</h3>\n\t\t\t\t<div>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={__('Select Take Action Page', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.take_action_page}\n\t\t\t\t\t\toptions={actpage_list}\n\t\t\t\t\t\tonChange={this.props.onSelectTakeActoinPage}\n\t\t\t\t\t\tdisabled={this.isCustomised()}\n\t\t\t\t\t/>\n\t\t\t\t\t<h5>{__('Or customise your take action boxout (if inserted in POSTS, the block will float on the side, if inserted in PAGES, it will appear in the page body)', 'p4ge')}</h5>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Title', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Title', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_title}\n\t\t\t\t\t\tonChange={this.props.onCustomTitleChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\tlabel={__('Custom Excerpt', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Excerpt', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_excerpt}\n\t\t\t\t\t\tonChange={this.props.onCustomExcerptChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Link', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Link', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link}\n\t\t\t\t\t\tonChange={this.props.onCustomLinkChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Custom Link Text', 'p4ge')}\n\t\t\t\t\t\tplaceholder={__('Enter Custom Link Text', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link_text}\n\t\t\t\t\t\tonChange={this.props.onCustomLinkTextChange}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tlabel={__('Open in a new Tab', 'p4ge')}\n\t\t\t\t\t\thelp={__('Open custom link in new tab', 'p4ge')}\n\t\t\t\t\t\tvalue={this.props.custom_link_new_tab}\n\t\t\t\t\t\tchecked={this.props.custom_link_new_tab}\n\t\t\t\t\t\tonChange={(e) => this.props.onCustomLinkNewTabChange(e)}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormTokenField\n\t\t\t\t\t\tvalue={this.state.tagTokens}\n\t\t\t\t\t\tsuggestions={tagSuggestions}\n\t\t\t\t\t\tlabel={__('Select Tags', 'p4ge')}\n\t\t\t\t\t\tonChange={tokens => this.onSelectedTagsChange(tokens)}\n\t\t\t\t\t\tdisabled={this.takeActionPageSelected()}\n\t\t\t\t\t/>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t{__('Select Background Image', 'p4ge')}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\ttitle={__('Select Background Image', 'p4ge')}\n\t\t\t\t\t\t\t\ttype='image'\n\t\t\t\t\t\t\t\tonSelect={this.props.onSelectBackGroundImage}\n\t\t\t\t\t\t\t\tvalue={this.props.background_image}\n\t\t\t\t\t\t\t\tallowedTypes={['image']}\n\t\t\t\t\t\t\t\trender={ ({ open }) => getImageOrButton(open) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t</div>\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t{ this.props.background_image && ( 0 < this.props.background_image ) && (\n\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tclassName='components-icon-button components-toolbar__control'\n\t\t\t\t\t\t\t\t\tlabel={__('Remove Image', 'p4ge')}\n\t\t\t\t\t\t\t\t\tonClick={this.props.onRemoveBackGroundImage}\n\t\t\t\t\t\t\t\t\ticon='trash'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</BlockControls>\n\t\t\t\t</div>\n\t\t\t\t<hr />\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\tthis.props.isSelected\n\t\t\t\t\t\t? this.renderEdit()\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t<Preview showBar={this.props.isSelected}>\n\t\t\t\t\t<ServerSideRender\n\t\t\t\t\t\tblock={'planet4-blocks/take-action-boxout'}\n\t\t\t\t\t\tattributes={{\n\t\t\t\t\t\t\ttake_action_page: this.props.take_action_page,\n\t\t\t\t\t\t\tcustom_title: this.props.custom_title,\n\t\t\t\t\t\t\tcustom_excerpt: this.props.custom_excerpt,\n\t\t\t\t\t\t\tcustom_link: this.props.custom_link,\n\t\t\t\t\t\t\tcustom_link_text: this.props.custom_link_text,\n\t\t\t\t\t\t\tcustom_link_new_tab: this.props.custom_link_new_tab,\n\t\t\t\t\t\t\ttag_ids: this.props.tag_ids,\n\t\t\t\t\t\t\tbackground_image: this.props.background_image,\n\t\t\t\t\t\t}}>\n\t\t\t\t\t</ServerSideRender>\n\t\t\t\t</Preview>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import {Takeactionboxout} from './Takeactionboxout.js';\n\nexport class TakeactionboxoutBlock {\n\tconstructor() {\n\t\tconst {registerBlockType} = wp.blocks;\n\t\tconst {__} = wp.i18n;\n\t\tconst {withSelect} = wp.data;\n\n\t\tregisterBlockType('planet4-blocks/take-action-boxout', {\n\t\t\ttitle: __('Take Action Boxout'),\n\t\t\ticon: 'welcome-widgets-menus',\n\t\t\tcategory: 'planet4-blocks',\n\t\t\tsupports: {\n\t\t\t\tmultiple: false, // Use the block just once per post.\n\t\t\t},\n\n\t\t\t// Transform the shortcode into a Gutenberg block\n\t\t\t// this is used when a user clicks \"Convert to blocks\"\n\t\t\t// on the \"Classic Editor\" block\n\t\t\ttransforms: {\n\t\t\t\tfrom: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'shortcode',\n\t\t\t\t\t\t// Shortcode tag can also be an array of shortcode aliases\n\t\t\t\t\t\ttag: 'shortcake_take_action_boxout',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\ttake_action_page: {\n\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.take_action_page;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_title: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_title;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_excerpt: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_excerpt;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link_text: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link_text;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcustom_link_new_tab: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.custom_link_new_tab;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttag_ids: {\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tshortcode: function (attributes) {\n\t\t\t\t\t\t\t\t\treturn attributes.named.tag_ids ? attributes.named.tag_ids.split(',') : [];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbackground_image: {\n\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\tshortcode: ({named: {background_image = ''}}) => background_image,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t},\n\t\t\t// This attributes definition mimics the one in the PHP side.\n\t\t\tattributes: {\n\t\t\t\ttake_action_page: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t\tcustom_title: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_excerpt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link_text: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcustom_link_new_tab: {\n\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\tdefault: false\n\t\t\t\t},\n\t\t\t\ttag_ids: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: []\n\t\t\t\t},\n\t\t\t\tbackground_image: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t},\n\t\t\t// withSelect is a \"Higher Order Component\", it works as\n\t\t\t// a Decorator, it will provide some basic API functionality\n\t\t\t// through `select`.\n\t\t\tedit: withSelect( ( select, props ) => {\n\t\t\t\tconst tagsTaxonomy = 'post_tag';\n\t\t\t\tconst actPage = 'page';\n\n\t\t\t\tconst args = {\n\t\t\t\t\thide_empty: false,\n\t\t\t\t\tper_page: 50,\n\t\t\t\t};\n\t\t\t\tconst {getEntityRecords, getMedia} = select('core');\n\n\t\t\t\tconst tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n\n\t\t\t\tconst act_page_args = {\n\t\t\t\t\tper_page: -1,\n\t\t\t\t\tsort_order: 'asc',\n\t\t\t\t\tsort_column: 'post_title',\n\t\t\t\t\tparent: window.p4ge_vars.planet4_options.act_page,\n\t\t\t\t\tpost_status: 'publish',\n\t\t\t\t};\n\n\t\t\t\tconst actPageList = getEntityRecords('postType', actPage, act_page_args);\n\n\t\t\t\tconst { attributes } = props;\n\t\t\t\tconst { background_image } = attributes;\n\n\t\t\t\tlet background_image_url = '';\n\t\t\t\tif (background_image) {\n\t\t\t\t\tbackground_image_url = select('core').getMedia(background_image);\n\t\t\t\t\tif ( background_image_url ) {\n\t\t\t\t\t\tbackground_image_url = background_image_url.media_details.sizes.medium.source_url;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tactPageList,\n\t\t\t\t\ttagsList,\n\t\t\t\t\tbackground_image_url,\n\t\t\t\t};\n\t\t\t} )( ( {\n\t\t\t\ttagsList,\n\t\t\t\tactPageList,\n\t\t\t\tbackground_image_url,\n\t\t\t\tisSelected,\n\t\t\t\tattributes,\n\t\t\t\tsetAttributes\n\t\t\t} ) => {\n\n\t\t\t\tif (!tagsList || !actPageList) {\n\t\t\t\t\treturn \"Populating block's fields...\";\n\t\t\t\t}\n\n\t\t\t\tif ((tagsList && tagsList.length === 0) || (actPageList && actPageList.length === 0)) {\n\t\t\t\t\treturn \"Populating block's fields...\";\n\t\t\t\t}\n\n\t\t\t\t// These methods are passed down to the\n\t\t\t\t// Articles component, they update the corresponding attribute.\n\t\t\t\tfunction onSelectTakeActoinPage( value ) {\n\t\t\t\t\tsetAttributes({ take_action_page: value });\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomTitleChange(value) {\n\t\t\t\t\tsetAttributes({custom_title: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomExcerptChange(value) {\n\t\t\t\t\tsetAttributes({custom_excerpt: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkChange(value) {\n\t\t\t\t\tsetAttributes({custom_link: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkTextChange(value) {\n\t\t\t\t\tsetAttributes({custom_link_text: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onCustomLinkNewTabChange(value) {\n\t\t\t\t\tsetAttributes({custom_link_new_tab: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onButtonLinkTabChange(value) {\n\t\t\t\t\tsetAttributes({button_link_new_tab: value});\n\t\t\t\t}\n\n\t\t\t\tfunction onSelectedTagsChange(tagIds) {\n\t\t\t\t\tsetAttributes({tag_ids: tagIds});\n\t\t\t\t}\n\n\t\t\t\tfunction onSelectBackGroundImage( {id} ) {\n\t\t\t\t\tsetAttributes({background_image: id});\n\t\t\t\t}\n\n\t\t\t\tfunction onRemoveBackGroundImage() {\n\t\t\t\t\tsetAttributes({background_image: -1});\n\t\t\t\t}\n\n\t\t\t\t// We pass down all the attributes to Covers as props using\n\t\t\t\t// the spread operator. Then we selectively add more\n\t\t\t\t// props.\n\t\t\t\treturn <Takeactionboxout\n\t\t\t\t\t{...attributes}\n\t\t\t\t\tisSelected={isSelected}\n\t\t\t\t\ttagsList={tagsList}\n\t\t\t\t\tactPageList={actPageList}\n\t\t\t\t\tbackground_image_url={background_image_url}\n\t\t\t\t\tonSelectTakeActoinPage={onSelectTakeActoinPage}\n\t\t\t\t\tonCustomTitleChange={onCustomTitleChange}\n\t\t\t\t\tonCustomExcerptChange={onCustomExcerptChange}\n\t\t\t\t\tonCustomLinkChange={onCustomLinkChange}\n\t\t\t\t\tonCustomLinkTextChange={onCustomLinkTextChange}\n\t\t\t\t\tonCustomLinkNewTabChange={onCustomLinkNewTabChange}\n\t\t\t\t\tonButtonLinkTabChange={onButtonLinkTabChange}\n\t\t\t\t\tonSelectedTagsChange={onSelectedTagsChange}\n\t\t\t\t\tonSelectBackGroundImage={onSelectBackGroundImage}\n\t\t\t\t\tonRemoveBackGroundImage={onRemoveBackGroundImage}/>\n\t\t\t}),\n\t\t\tsave() {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} );\n\t};\n}\n\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from \"@wordpress/element\";\nimport {\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {Preview} from '../../components/Preview';\n\nexport class Timeline extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.loadTimeline(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    this.loadTimeline(prevProps);\n  }\n\n  loadTimeline(data) {\n    const timelinejs_version = '3.6.3';\n\n    let js = 'https://cdn.knightlab.com/libs/timeline3/' + timelinejs_version + '/js/timeline-min.js';\n    let scriptLoaded = this.loadScriptAsync(js);\n    scriptLoaded.then(function () {\n      new TL.Timeline('timeline-1', data.google_sheets_url, {\n        \"timenav_position\": data.timenav_position,\n        \"start_at_end\": data.start_at_end,\n        \"language\": data.language\n      });\n    }.bind(this));\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const position = [\n      {label: 'Bottom', value: 'bottom'},\n      {label: 'Top', value: 'top'},\n    ]\n\n    const languages = [\n      {label: 'Afrikaans', value: 'af'},\n      {label: 'Arabic', value: 'ar'},\n      {label: 'Armenian', value: 'hy'},\n      {label: 'Basque', value: 'eu'},\n      {label: 'Belarusian', value: 'be'},\n      {label: 'Bulgarian', value: 'bg'},\n      {label: 'Catalan', value: 'ca'},\n      {label: 'Chinese', value: 'zh-cn'},\n      {label: 'Croatian / Hrvatski', value: 'hr'},\n      {label: 'Czech', value: 'cz'},\n      {label: 'Danish', value: 'da'},\n      {label: 'Dutch', value: 'nl'},\n      {label: 'English', value: 'en'},\n      {label: 'English (24-hour time)', value: 'en-24hr'},\n      {label: 'Esperanto', value: 'eo'},\n      {label: 'Estonian', value: 'et'},\n      {label: 'Faroese', value: 'fo'},\n      {label: 'Farsi', value: 'fa'},\n      {label: 'Finnish', value: 'fi'},\n      {label: 'French', value: 'fr'},\n      {label: 'Frisian', value: 'fy'},\n      {label: 'Galician', value: 'gl'},\n      {label: 'Georgian', value: 'ka'},\n      {label: 'German / Deutsch', value: 'de'},\n      {label: 'Greek', value: 'el'},\n      {label: 'Hebrew', value: 'he'},\n      {label: 'Hindi', value: 'hi'},\n      {label: 'Hungarian', value: 'hu'},\n      {label: 'Icelandic', value: 'is'},\n      {label: 'Indonesian', value: 'id'},\n      {label: 'Irish', value: 'ga'},\n      {label: 'Italian', value: 'it'},\n      {label: 'Japanese', value: 'ja'},\n      {label: 'Korean', value: 'ko'},\n      {label: 'Latvian', value: 'lv'},\n      {label: 'Lithuanian', value: 'lt'},\n      {label: 'Luxembourgish', value: 'lb'},\n      {label: 'Malay', value: 'ms'},\n      {label: 'Myanmar', value: 'my'},\n      {label: 'Nepali', value: 'ne'},\n      {label: 'Norwegian', value: 'no'},\n      {label: 'Polish', value: 'pl'},\n      {label: 'Portuguese', value: 'pt'},\n      {label: 'pt-br', value: 'Portuguese (Brazilian)'},\n      {label: 'Romanian', value: 'ro'},\n      {label: 'Romansh', value: 'rm'},\n      {label: 'Russian', value: 'ru'},\n      {label: 'Serbian - Cyrillic', value: 'sr-cy'},\n      {label: 'Serbian - Latin', value: 'sr'},\n      {label: 'Sinhalese', value: 'si'},\n      {label: 'Slovak', value: 'sk'},\n      {label: 'Slovenian', value: 'sl'},\n      {label: 'Spanish', value: 'es'},\n      {label: 'Swedish', value: 'sv'},\n      {label: 'Tagalog', value: 'tl'},\n      {label: 'Tamil', value: 'ta'},\n      {label: 'Taiwanese', value: 'zh-tw'},\n      {label: 'Telugu', value: 'te'},\n      {label: 'Thai', value: 'th'},\n      {label: 'Turkish', value: 'tr'},\n      {label: 'Ukrainian', value: 'uk'},\n      {label: 'Urdu', value: 'ur'},\n    ]\n\n    let url_desc  = __(\n      'Enter the URL of the Google Sheets spreadsheet containing your timeline data.',\n      'p4ge'\n    );\n    url_desc += '<br><a href=\"https://timeline.knightlab.com/#make\" target=\"_blank\" rel=\"noopener noreferrer\">';\n    url_desc += __(\n      'See the TimelineJS website for a template GSheet.',\n      'p4ge'\n    );\n    url_desc += '</a><br>';\n    url_desc += __(\n      'Copy this, add your own timeline data, and publish to the web.',\n      'p4ge'\n    );\n    url_desc += '<br>';\n    url_desc += __(\n      \"Once you have done so, use the URL from your address bar (not the one provided in Google's 'publish to web' dialog).\",\n      'p4ge'\n    );\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Timeline options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display a timeline from a Google Sheet',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label={__('Timeline Title', 'p4ge')}\n              placeholder={__('Enter title', 'p4ge')}\n              value={this.props.timeline_title}\n              onChange={this.props.onTimelineTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter description', 'p4ge')}\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label={__('Google Sheets URL', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              help=<RawHTML>{url_desc}</RawHTML>\n              value={this.props.google_sheets_url}\n              onChange={this.props.onGoogleSheetsUrlChange}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Language', 'p4ge')}\n              value={this.props.language}\n              options={languages}\n              onChange={(e) => this.props.onLanguageChange(e)}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Timeline navigation position', 'p4ge')}\n              value={this.props.timenav_position}\n              options={position}\n              onChange={(e) => this.props.onTimenavPositionChange(e)}\n            />\n          </div>\n\n          <div>\n            <CheckboxControl\n              label={__('Start at end', 'p4ge')}\n              help={__('Begin at the end of the timeline', 'p4ge')}\n              value={this.props.start_at_end}\n              checked={this.props.start_at_end}\n              onChange={(e) => this.props.onStartAtEndChange(e)}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/timeline'}\n            attributes={{\n              timeline_title: this.props.timeline_title,\n              description: this.props.description,\n              google_sheets_url: this.props.google_sheets_url,\n              language: this.props.language,\n              timenav_position: this.props.timenav_position,\n              start_at_end: this.props.start_at_end,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Timeline} from './Timeline.js';\n\nconst {__} = wp.i18n;\n\nexport class TimelineBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/timeline', {\n      title: __('Timeline', 'p4ge'),\n      icon: 'clock',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_timeline',\n            attributes: {\n              timeline_title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.timeline_title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              google_sheets_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.google_sheets_url;\n                }\n              },\n              language: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.language;\n                }\n              },\n              timenav_position: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.timenav_position;\n                }\n              },\n              start_at_end: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.start_at_end;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        timeline_title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        google_sheets_url: {\n          type: 'string',\n        },\n        language: {\n          type: 'string',\n          default: 'en',\n        },\n        timenav_position: {\n          type: 'string',\n        },\n        start_at_end: {\n          type: 'boolean',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTimelineTitleChange(value) {\n          setAttributes({timeline_title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onGoogleSheetsUrlChange(value) {\n          setAttributes({google_sheets_url: value});\n        }\n\n        function onLanguageChange(value) {\n          setAttributes({language: value});\n        }\n\n        function onTimenavPositionChange(value) {\n          setAttributes({timenav_position: value});\n        }\n\n        function onStartAtEndChange(value) {\n          setAttributes({start_at_end: value});\n        }\n\n        return <Timeline\n          {...attributes}\n          isSelected={isSelected}\n          onTimelineTitleChange={onTimelineTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onGoogleSheetsUrlChange={onGoogleSheetsUrlChange}\n          onLanguageChange={onLanguageChange}\n          onTimenavPositionChange={onTimenavPositionChange}\n          onStartAtEndChange={onStartAtEndChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import {React, Component} from 'react';\nimport {Button} from '@wordpress/components';\nimport {MediaUpload,MediaUploadCheck} from '@wordpress/editor';\n\nexport class ImageOrButton extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    if ( typeof this.props.disabled == 'undefined' ) {\n      this.props.disabled = false;\n    }\n\n    const getImageOrButton = (openEvent) => {\n      if ( this.props.imageId ) {\n\n        return (\n\n          <img\n            src={ this.props.imageUrl }\n            onClick={ openEvent }\n            className={ this.props.imgClass }\n          />\n\n        );\n      }\n      else {\n        return (\n          <div className='button-container'>\n            <Button\n              onClick={ openEvent }\n              className='button'\n              disabled={ this.props.disabled }>\n              { this.props.buttonLabel }\n            </Button>\n\n            <div>{ this.props.help }</div>\n          </div>\n        );\n      }\n    };\n\n    return <div className='ImageOrButton'>\n      <MediaUploadCheck>\n        <MediaUpload\n          title={this.props.title}\n          type='image'\n          onSelect={this.props.onSelectImage}\n          value={this.props.imageId}\n          allowedTypes={['image']}\n          render={ ({ open }) => getImageOrButton(open) }\n        />\n      </MediaUploadCheck>\n    </div>;\n  }\n}\n","import {React, Component} from 'react';\nimport {RadioControl} from '@wordpress/components';\n\nexport class LayoutSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: props.selectedOption\n    };\n    this.setSelected = this.setSelected.bind(this);\n  }\n\n  setSelected(option) {\n    this.setState({selectedOption: option});\n    this.props.onSelectedLayoutChange(option);\n  }\n\n  render() {\n    return <div className='LayoutSelector'>\n      {\n        this.props.options.map((layoutOption, i) => {\n          return (\n            <label className='LayoutOption' key={i}>\n              <div style={{display: 'flex'}}>\n                <RadioControl\n                  name={'layoutOption'}\n                  selected={this.state.selectedOption}\n                  options={[\n                    {value: layoutOption.value}\n                  ]}\n                  onChange={this.setSelected}\n                />\n                {layoutOption.label}\n              </div>\n              {\n                layoutOption.image\n                  ? <img src={layoutOption.image}/>\n                  : null\n              }\n              {\n                layoutOption.help\n                  ? <p className='help' dangerouslySetInnerHTML={{__html: layoutOption.help}}/>\n                  : null\n              }\n            </label>\n          )\n        })\n      }\n    </div>;\n  }\n}\n","import { React, Component } from 'react';\n\nexport class Preview extends Component {\n\trender() {\n\t\treturn <div className='Preview'>\n\t\t\t{\n\t\t\t\tthis.props.showBar\n\t\t\t\t? <div className='PreviewBar'>Preview</div>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{ this.props.children }\n\t\t</div>\n\t}\n}","import { ArticlesBlock } from './blocks/Articles/ArticlesBlock';\nimport { ColumnsBlock } from './blocks/Columns/ColumnsBlock';\nimport { CookiesBlock } from './blocks/Cookies/CookiesBlock';\nimport { CounterBlock } from './blocks/Counter/CounterBlock';\nimport { CoversBlock } from './blocks/Covers/CoversBlock';\nimport { GalleryBlock } from './blocks/Gallery/GalleryBlock';\nimport { HappypointBlock } from './blocks/Happypoint/HappypointBlock';\nimport { MediaBlock } from './blocks/Media/MediaBlock';\nimport { SocialmediaBlock } from './blocks/Socialmedia/SocialmediaBlock';\nimport { SplittwocolumnsBlock } from './blocks/Splittwocolumns/SplittwocolumnsBlock';\nimport { SubmenuBlock } from './blocks/Submenu/SubmenuBlock';\nimport { TakeactionboxoutBlock } from './blocks/Takeactionboxout/TakeactionboxoutBlock';\nimport { TimelineBlock } from './blocks/Timeline/TimelineBlock';\n\nconst articlesBlock = new ArticlesBlock();\nconst columnsBlock = new ColumnsBlock();\nconst cookiesBlock = new CookiesBlock();\nconst counterBlock = new CounterBlock();\nconst coversBlock = new CoversBlock();\nconst galleryBlock = new GalleryBlock();\nconst happypointBlock = new HappypointBlock();\nconst mediaBlock = new MediaBlock();\nconst socialmediaBlock = new SocialmediaBlock();\nconst splittwocolumnsBlock = new SplittwocolumnsBlock();\nconst submenuBlock = new SubmenuBlock();\nconst takeActionBoxoutBlock = new TakeactionboxoutBlock();\nconst timelineBlock = new TimelineBlock();\n\n","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"editor\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"React\"]; }());"],"sourceRoot":""}
>>>>>>> PLANET-4049 takeactionboxout
=======
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./react-blocks/src/RichTextEnhancements.js","webpack:///./react-blocks/src/blocks/Articles/Articles.js","webpack:///./react-blocks/src/blocks/Articles/ArticlesBlock.js","webpack:///./react-blocks/src/blocks/Columns/Columns.js","webpack:///./react-blocks/src/blocks/Columns/ColumnsBlock.js","webpack:///./react-blocks/src/blocks/Cookies/Cookies.js","webpack:///./react-blocks/src/blocks/Cookies/CookiesBlock.js","webpack:///./react-blocks/src/blocks/Counter/Counter.js","webpack:///./react-blocks/src/blocks/Counter/CounterBlock.js","webpack:///./react-blocks/src/blocks/Covers/Covers.js","webpack:///./react-blocks/src/blocks/Covers/CoversBlock.js","webpack:///./react-blocks/src/blocks/Covers/CoversIcon.js","webpack:///./react-blocks/src/blocks/Gallery/Gallery.js","webpack:///./react-blocks/src/blocks/Gallery/GalleryBlock.js","webpack:///./react-blocks/src/blocks/Happypoint/Happypoint.js","webpack:///./react-blocks/src/blocks/Happypoint/HappypointBlock.js","webpack:///./react-blocks/src/blocks/Media/Media.js","webpack:///./react-blocks/src/blocks/Media/MediaBlock.js","webpack:///./react-blocks/src/blocks/Socialmedia/Socialmedia.js","webpack:///./react-blocks/src/blocks/Socialmedia/SocialmediaBlock.js","webpack:///./react-blocks/src/blocks/Splittwocolumns/Splittwocolumns.js","webpack:///./react-blocks/src/blocks/Splittwocolumns/SplittwocolumnsBlock.js","webpack:///./react-blocks/src/blocks/Submenu/MenuLevel.js","webpack:///./react-blocks/src/blocks/Submenu/Submenu.js","webpack:///./react-blocks/src/blocks/Submenu/SubmenuBlock.js","webpack:///./react-blocks/src/blocks/Timeline/Timeline.js","webpack:///./react-blocks/src/blocks/Timeline/TimelineBlock.js","webpack:///./react-blocks/src/components/ImageOrButton/ImageOrButton.js","webpack:///./react-blocks/src/components/LayoutSelector/LayoutSelector.js","webpack:///./react-blocks/src/components/Preview.js","webpack:///./react-blocks/src/editorIndex.js","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"editor\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":\"React\"}"],"names":["addSubAndSuperscript","wp","el","element","createElement","superscriptIcon","width","height","d","subscriptIcon","SubscriptButton","props","editor","RichTextToolbarButton","icon","title","isActive","onClick","onChange","richText","toggleFormat","value","type","className","registerFormatType","tagName","edit","SuperscriptButton","apiFetch","addQueryArgs","url","Articles","tagTokens","tagsList","filter","tag","tags","includes","id","map","name","postTypeTokens","postTypesList","post_type","post_types","state","selectedPosts","populatePostsToken","posts","length","path","per_page","page","include","then","postsTokens","post","rendered","postsSuggestions","setState","postsList","tokens","search","orderby","post_status","tagIds","token","onSelectedTagsChange","postTypeIds","postType","onSelectedPostTypesChange","currentSelectedPosts","forEach","f","push","postIds","onSelectedPostsChange","__","i18n","tagSuggestions","postTypeSuggestions","article_heading","onTitleChange","articles_description","onDescriptionChange","read_more_text","onReadmoretextChange","read_more_link","onReadmorelinkChange","button_link_new_tab","e","onButtonLinkTabChange","article_count","onCountChange","ignore_categories","onIgnoreCategoriesChange","onPostsSearch","isSelected","renderEdit","Component","ArticlesBlock","registerBlockType","blocks","withSelect","data","category","transforms","from","attributes","shortcode","named","split","default","select","tagsTaxonomy","postTypesTaxonomy","args","hide_empty","getEntityRecords","setAttributes","Number","save","Columns","columns_title","columns_description","columns_block_style","columns","onSelectedLayoutChange","label","image","window","p4ge_vars","home","help","item","index","replace","onColumnHeaderChange","bind","description","onColumnDescriptionChange","onSelectImage","onSelectURL","onUploadError","cta_link","onCTALinkChange","link_new_tab","onLinkNewTabChange","cta_text","onCTAButtonTextChange","addColumn","removeColumn","ColumnsBlock","title_1","column","description_1","link_1","cta_text_1","link_new_tab_1","attachment","attachment_1","Object","assign","title_2","description_2","link_2","cta_text_2","link_new_tab_2","attachment_2","title_3","description_3","link_3","cta_text_3","link_new_tab_3","attachment_3","title_4","description_4","link_4","cta_text_4","link_new_tab_4","attachment_4","new_columns","message","console","log","i","slice","JSON","parse","stringify","Cookies","necessary_cookies_name","onNecessaryCookiesNameChange","necessary_cookies_description","onNecessaryCookiesDescriptionChange","all_cookies_name","onAllCookiesNameChange","all_cookies_description","onAllCookiesDescriptionChange","post_id","document","querySelector","CookiesBlock","supports","multiple","Counter","style","completed","onCompletedChange","completed_api","onCompletedAPIChange","target","onTargetChange","text","onTextChange","CounterBlock","Covers","searchTimeout","cover_type","queryArgs","post_parent","planet4_options","act_page","clearTimeout","setTimeout","searchPosts","covers_view","onRowsChange","CoversBlock","CoversIcon","Gallery","getImageOrButton","openEvent","image_data","padding","gallery_block_style","gallery_block_title","gallery_block_description","multiple_image","dimensions","multiple_image_array","open","onRemoveImages","focalPoint","onFocalPointChange","gallery_block_focus_points","GalleryBlock","image_urls_array","image_id_array","$","each","img_id","img_url","getMedia","media_details","sizes","medium","source_url","new_image_data","focal_points_json","x","y","isEmptyObject","parseInt","image_ids","key","join","image_id","updated_image_data","object","parseFloat","toFixed","Happypoint","focus_image","opacity","mailing_list_iframe","iframe_url","focal_point_params","focus_image_str","onOpacityChange","onMailingListIframeChange","onIframeUrlChange","load_iframe","HappypointBlock","onBackgroundChange","background","Media","video_title","youtube_id","onMediaUrlChange","instructions","video_poster_img","MediaBlock","Socialmedia","checkTwitterScript","checkInstagramScript","social_media_url","twitterScript","scriptLoaded","loadScriptAsync","initializeTwitterEmbeds","instaScript","initializeInstagramEmbeds","twttr","widgets","load","instgrm","Embeds","process","uri","Promise","resolve","reject","src","async","onload","body","getElementsByTagName","appendChild","embed_type_help","embed_type","onEmbedTypeChange","facebook_page_tab","onFacebookPageTabChange","onSocialMediaUrlChange","alignment_class","onAlignmentChange","SocialmediaBlock","Splittwocolumns","tag_list","unshift","issuepage_list","issuepageList","issue","raw","select_issue","issue_description","issue_link_text","issue_link_path","issue_image","focus_issue_image","select_tag","tag_description","button_text","button_link","tag_image","focus_tag_image","issue_image_url","tag_image_url","focus_issue_image_obj","focus_tag_image_obj","onSelectIssue","onIssueTitleChange","onIssueDescriptionChange","onIssueLinkTextChange","onIssueLinkPathChange","onSelectIssueImage","onIssueImageFocalPointChange","onSelectTag","onTagDescriptionChange","onButtonTextChange","onButtonLinkChange","onSelectCampaignImage","onCampaignImageFocalPointChange","SplittwocolumnsBlock","issuePage","taxonomy_args","issue_page_args","sort_order","sort_column","parent","explore_page","MenuLevel","heading","onHeadingChange","link","onLinkChange","onStyleChange","Submenu","submenu_style","levels","addLevel","removeLevel","SubmenuBlock","heading1","level","link1","style1","heading2","link2","style2","heading3","link3","style3","concat","onLayoutChange","Timeline","loadTimeline","prevProps","timelinejs_version","js","TL","google_sheets_url","timenav_position","start_at_end","language","position","languages","url_desc","timeline_title","onTimelineTitleChange","onGoogleSheetsUrlChange","onLanguageChange","onTimenavPositionChange","onStartAtEndChange","TimelineBlock","ImageOrButton","imageId","imageUrl","imgClass","buttonLabel","LayoutSelector","selectedOption","setSelected","option","options","layoutOption","display","__html","Preview","showBar","children","articlesBlock","columnsBlock","cookiesBlock","counterBlock","coversBlock","galleryBlock","happypointBlock","mediaBlock","socialmediaBlock","splittwocolumnsBlock","submenuBlock","timelineBlock"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;ACnEA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACJA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wC;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACNA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;;;;;;AChBA;AACA;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,0B;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACPA,qBAAqB,mBAAO,CAAC,iFAAkB;;AAE/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,2B;;;;;;;;;;;ACjBA;AACA;AACA;;AAEA,kC;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,+BAA+B;AAC5E;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA,uC;;;;;;;;;;;AC1BA;AACA;AACA;;AAEA,kC;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,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","file":"editorIndex.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./react-blocks/src/editorIndex.js\");\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","export const addSubAndSuperscript = function (wp){\n\tconst el = wp.element.createElement\n\n\t/* Superscript icon */\n\tconst superscriptIcon = wp.element.createElement( 'svg',\n\t  {\n\t\t  width: 20,\n\t\t  height: 20,\n\t  },\n\t  wp.element.createElement( 'path',\n\t\t{\n\t\t\td: 'm 11.451024,15.991879 v 1.900559 H 8.6286372 L 6.8191261,15.024528 6.5459915,14.546546 Q 6.4549468,14.444115 6.4208029,14.307552 h -0.03414 l -0.1024233,0.238994 q -0.113806,0.227613 -0.284517,0.500744 L 4.2357343,17.892438 H 1.2995409 V 15.991879 H 2.7562552 L 4.9982324,12.68013 2.8928217,9.5846081 H 1.3336801 V 7.6726705 h 3.1410444 l 1.5819027,2.5947735 q 0.022772,0.04552 0.2617521,0.477987 0.091045,0.102421 0.1251849,0.23899 h 0.03414 q 0.034139,-0.102432 0.1251845,-0.23899 L 6.8874061,10.267444 8.4806875,7.6726705 H 11.405498 V 9.5846081 H 9.982924 l -2.0940281,3.0386179 2.3216401,3.368653 z m 7.249435,-7.7274175 v 2.3444015 h -5.849622 l -0.03415,-0.307279 q -0.04552,-0.318656 -0.04552,-0.5235031 0,-0.7283595 0.295896,-1.3315288 0.295896,-0.6031748 0.739738,-0.9844236 0.443844,-0.3812499 0.95597,-0.7397383 0.512126,-0.3584877 0.955968,-0.6202403 0.443845,-0.2617558 0.739742,-0.6145521 0.295891,-0.3527973 0.295891,-0.7283591 0,-0.4324593 -0.335727,-0.711285 -0.335727,-0.2788267 -0.80233,-0.2788267 -0.580409,0 -1.103918,0.4438464 Q 14.35307,4.3381578 14.102696,4.645436 L 12.907742,3.5984202 q 0.295895,-0.4210809 0.716976,-0.7511204 0.944588,-0.7397375 2.139551,-0.7397375 1.251867,0 2.025745,0.6771454 0.773881,0.6771454 0.773881,1.8038232 0,0.6373144 -0.278825,1.1722012 -0.278822,0.5348868 -0.705595,0.8706133 -0.426771,0.3357272 -0.927519,0.6657667 -0.500747,0.3300361 -0.933209,0.5747178 -0.43246,0.2446817 -0.74543,0.5861006 -0.312966,0.3414178 -0.347105,0.7169762 H 17.26651 V 8.2644615 Z',\n\t\t},\n\t  ),\n\t)\n\n\t/* Subscript icon */\n\tconst subscriptIcon = wp.element.createElement( 'svg',\n\t  {\n\t\t  width: 20,\n\t\t  height: 20,\n\t  },\n\t  wp.element.createElement( 'path',\n\t\t{\n\t\t\td: 'M 11.415572,11.723303 V 13.59208 H 8.6403806 L 6.8611266,10.772129 6.5925593,10.302137 Q 6.5030369,10.201425 6.4694659,10.067141 H 6.4358949 L 6.3351822,10.302137 Q 6.2232813,10.525943 6.0554268,10.79451 L 4.3209317,13.59208 H 1.4338398 V 11.723303 H 2.8661965 L 5.0706822,8.4669311 3.0004802,5.4231745 H 1.4674107 V 3.5432079 h 3.0885176 l 1.5554501,2.5513836 q 0.022381,0.044757 0.2573749,0.4699921 0.089522,0.1007124 0.1230932,0.2349956 h 0.033571 Q 6.5589882,6.6988668 6.6485107,6.5645836 L 6.9282683,6.0945915 8.4949066,3.5432079 H 11.370811 V 5.4231745 H 9.9720247 L 7.9130129,8.4109791 10.195831,11.723303 Z m 7.150588,2.428291 v 2.305198 h -5.751805 l -0.04476,-0.302137 q -0.03357,-0.503563 -0.03357,-0.514753 0,-0.716178 0.290947,-1.309263 0.290948,-0.593086 0.727368,-0.96796 0.436422,-0.374874 0.939986,-0.727368 0.503561,-0.352494 0.939983,-0.60987 0.43642,-0.257377 0.727368,-0.604275 0.290947,-0.3469 0.290947,-0.716178 0,-0.425232 -0.330112,-0.699394 -0.330115,-0.2741619 -0.788916,-0.2741619 -0.570706,0 -1.085457,0.4364219 -0.156665,0.123093 -0.402851,0.425231 L 12.870301,9.5635781 q 0.290948,-0.414039 0.70499,-0.738558 0.895222,-0.727368 2.103773,-0.727368 1.230931,0 1.991869,0.665822 0.760939,0.665821 0.760939,1.7736599 0,0.738558 -0.386064,1.326048 -0.386065,0.587489 -0.939984,0.962363 -0.553918,0.374875 -1.113434,0.699393 -0.559513,0.324518 -0.973554,0.704988 -0.41404,0.380469 -0.458801,0.816891 h 2.596145 v -0.895223 z',\n\t\t},\n\t  ),\n\t)\n\n\t/**\n\t * Add a button for subscript (<sub>) in Gutenberg rich text\n\t */\n\tvar SubscriptButton = function( props ) {\n\t\treturn wp.element.createElement(\n\t\t  wp.editor.RichTextToolbarButton, {\n\t\t\t  icon: subscriptIcon,\n\t\t\t  title: 'Subscript',\n\t\t\t  isActive: props.isActive,\n\t\t\t  onClick: function() {\n\t\t\t\t  props.onChange( wp.richText.toggleFormat(\n\t\t\t\t\tprops.value,\n\t\t\t\t\t{ type: 'planet4-blocks/subscript' },\n\t\t\t\t  ) )\n\t\t\t  },\n\t\t\t  className: 'toolbar-button-planet4-subscript',\n\t\t  },\n\t\t)\n\t}\n\n\twp.richText.registerFormatType(\n\t  'planet4-blocks/subscript', {\n\t\t  title: 'Subscript',\n\t\t  tagName: 'sub',\n\t\t  className: null,\n\t\t  edit: SubscriptButton,\n\t  },\n\t)\n\n\t/**\n\t * Add a button for superscript (<sup>) in Gutenberg rich text\n\t */\n\tvar SuperscriptButton = function( props ) {\n\t\treturn wp.element.createElement(\n\t\t  wp.editor.RichTextToolbarButton, {\n\t\t\t  icon: superscriptIcon,\n\t\t\t  title: 'Superscript',\n\t\t\t  isActive: props.isActive,\n\t\t\t  onClick: function() {\n\t\t\t\t  props.onChange( wp.richText.toggleFormat(\n\t\t\t\t\tprops.value,\n\t\t\t\t\t{ type: 'planet4-blocks/superscript' },\n\t\t\t\t  ) )\n\t\t\t  },\n\t\t  },\n\t\t)\n\t}\n\n\twp.richText.registerFormatType(\n\t  'planet4-blocks/superscript', {\n\t\t  title: 'Superscript',\n\t\t  tagName: 'sup',\n\t\t  className: null,\n\t\t  edit: SuperscriptButton,\n\t  },\n\t)\n};\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  FormTokenField,\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Articles extends Component {\n  constructor(props) {\n    super(props);\n\n    // Populate tag tokens for saved tags.\n    let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n    // Populate post types tokens for saved post types.\n    let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n    this.state = {\n      tagTokens: tagTokens,\n      postTypeTokens: postTypeTokens,\n      selectedPosts: [],\n    };\n\n    this.populatePostsToken();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  populatePostsToken() {\n\n    if (this.props.posts.length > 0) {\n\n      apiFetch(\n        {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            include: this.props.posts\n          })\n        }\n      ).then(posts => {\n        const postsTokens = posts.map(post => post.title.rendered);\n        const postsSuggestions = posts.map(post => post.title.rendered);\n        this.setState({\n            postsTokens: postsTokens,\n            postsList: posts,\n            postsSuggestions: postsSuggestions,\n            selectedPosts: posts,\n          }\n        );\n      });\n    } else {\n      this.setState(\n        {\n          postsTokens: [],\n          postsList: [],\n          postsSuggestions: [],\n          selectedPosts: [],\n        }\n      );\n    }\n  }\n\n  /**\n   * Search posts using wp api.\n   *\n   * @param tokens\n   */\n  onPostsSearch(tokens) {\n\n    apiFetch(\n      {\n        path: addQueryArgs('/wp/v2/posts', {\n          per_page: 50,\n          page: 1,\n          search: tokens,\n          orderby: 'title',\n          post_status: 'publish',\n\n        })\n      }\n    ).then(posts => {\n      let postsSuggestions = posts.map(post => post.title.rendered);\n      this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n    });\n  }\n\n  onSelectedTagsChange(tokens) {\n    const tagIds = tokens.map(token => {\n      return this.props.tagsList.filter(tag => tag.name === token)[0].id;\n    });\n    this.props.onSelectedTagsChange(tagIds);\n    this.setState({tagTokens: tokens})\n  }\n\n  onSelectedPostTypesChange(tokens) {\n    const postTypeIds = tokens.map(token => {\n      return this.props.postTypesList.filter(postType => postType.name === token)[0].id;\n    });\n    this.props.onSelectedPostTypesChange(postTypeIds);\n    this.setState({postTypeTokens: tokens})\n  }\n\n  onSelectedPostsChange(tokens) {\n    // Array to hold references to selected posts objects.\n    let currentSelectedPosts = [];\n    tokens.forEach(token => {\n      let f = this.state.postsList.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n      f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n    });\n\n    const postIds = currentSelectedPosts.map(post => post.id);\n    this.props.onSelectedPostsChange(postIds);\n    this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const tagSuggestions = this.props.tagsList.map(tag => tag.name);\n    const postTypeSuggestions = this.props.postTypesList.map(postType => postType.name);\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'p4ge')}\n            placeholder={__('Enter title', 'p4ge')}\n            help={__('Your default is set to [ Latest Articles ]', 'p4ge')}\n            value={this.props.article_heading}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'p4ge')}\n            placeholder={__('Enter description', 'p4ge')}\n            value={this.props.articles_description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label={__('Button Text', 'p4ge')}\n            placeholder={__('Override button text', 'p4ge')}\n            help={__('Your default is set to [ Load More ]', 'p4ge')}\n            value={this.props.read_more_text}\n            onChange={this.props.onReadmoretextChange}\n          />\n        </div>\n\n\n        <div>\n          <TextControl\n            label={__('Button Link', 'p4ge')}\n            placeholder={__('Add read more button link', 'p4ge')}\n            value={this.props.read_more_link}\n            onChange={this.props.onReadmorelinkChange}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Open in a new Tab', 'p4ge')}\n            help={__('Open button link in new tab', 'p4ge')}\n            value={this.props.button_link_new_tab}\n            checked={this.props.button_link_new_tab}\n            onChange={(e) => this.props.onButtonLinkTabChange(e)}\n          />\n        </div>\n\n        {\n          this.props.posts !== 'undefined' && this.props.posts.length === 0\n            ?\n            <Fragment>\n              <div>\n                <TextControl\n                  label={__('Articles count', 'p4ge')}\n                  help={__('Number of articles', 'p4ge')}\n                  type=\"number\"\n                  value={this.props.article_count}\n                  onChange={this.props.onCountChange}\n                />\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label={__('Select Tags', 'p4ge')}\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                />\n                <p className='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.postTypeTokens}\n                  suggestions={postTypeSuggestions}\n                  label={__('Post Types', 'p4ge')}\n                  onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                />\n              </div>\n              <div className=\"ignore-categories-wrapper\">\n                <CheckboxControl\n                  label={__('Ignore categories', 'p4ge')}\n                  help={__('Ignore categories when filtering posts to populate the content of this block', 'p4ge')}\n                  value={this.props.ignore_categories}\n                  checked={this.props.ignore_categories}\n                  onChange={(e) => this.props.onIgnoreCategoriesChange(e)}\n                />\n              </div>\n            </Fragment>\n            : null\n        }\n\n        {\n          (this.props.tags.length === 0 && this.props.post_types.length === 0)\n            ? <div>\n              <hr/>\n              <label>{__('Manual override', 'p4ge')}</label>\n              <FormTokenField\n                value={this.state.postsTokens}\n                suggestions={this.state.postsSuggestions}\n                label={__('CAUTION: Adding articles individually will override the automatic functionality of this block. For good user experience, please include at least three articles so that spacing and alignment of the design remains in tact.', 'p4ge')}\n                onChange={tokens => this.onSelectedPostsChange(tokens)}\n                onInputChange={tokens => this.onPostsSearch(tokens)}\n                placeholder=\"Select Posts\"\n                maxLength=\"10\"\n                maxSuggestions=\"20\"\n              />\n            </div>\n            : null\n        }\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/articles'}\n            attributes={{\n              read_more_text: this.props.read_more_text,\n              read_more_link: this.props.read_more_link,\n              tags: this.props.tags,\n              post_types: this.props.post_types,\n              posts: this.props.posts,\n              article_heading: this.props.article_heading,\n              articles_description: this.props.articles_description,\n              article_count: this.props.article_count,\n              ignore_categories: this.props.ignore_categories,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Articles} from './Articles.js';\n\nexport class ArticlesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/articles', {\n      title: 'Articles',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_articles',\n            attributes: {\n              article_heading: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_heading;\n                }\n              },\n              articles_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.articles_description;\n                }\n              },\n              article_count: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_count;\n                }\n              },\n              read_more_text: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_text;\n                }\n              },\n              read_more_link: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_link;\n                }\n              },\n              button_link_new_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.button_link_new_tab;\n                }\n              },\n              ignore_categories: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.ignore_categories;\n                }\n              },\n              tags: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.tags.split(',') : [];\n                }\n              },\n              post_types: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.post_types.split(',') : [];\n                }\n              },\n              posts: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.posts.split(',') : [];\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        article_heading: {\n          type: 'string',\n        },\n        articles_description: {\n          type: 'string',\n        },\n        article_count: {\n          type: 'integer',\n          default: 3\n        },\n        tags: {\n          type: 'array',\n          default: []\n        },\n        posts: {\n          type: 'array',\n          default: []\n        },\n        post_types: {\n          type: 'array',\n          default: []\n        },\n        read_more_text: {\n          type: 'string'\n        },\n        read_more_link: {\n          type: 'string',\n          default: ''\n        },\n        button_link_new_tab: {\n          type: 'boolean',\n          default: false\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: withSelect((select) => {\n        const tagsTaxonomy = 'post_tag';\n        const postTypesTaxonomy = 'p4-page-type';\n        const args = {\n          hide_empty: false,\n          per_page: 50,\n        };\n        const {getEntityRecords} = select('core');\n\n        // We should probably wrap all these in a single call,\n        // or maybe use our own way of retrieving data from the\n        // API, I don't know how this scales.\n        const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n        const postTypesList = getEntityRecords('taxonomy', postTypesTaxonomy, args);\n\n        return {\n          postTypesList,\n          tagsList,\n        };\n      })(({\n            postTypesList,\n            tagsList,\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        if (!tagsList || !postTypesList) {\n          return \"Populating block's fields...\";\n        }\n\n        // TO-DO: Check for posts types and posts too...\n        if ((tagsList && tagsList.length === 0) || (postTypesList && postTypesList.length === 0)) {\n          return \"Populating block's fields...\";\n        }\n\n        // These methods are passed down to the\n        // Articles component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({article_heading: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({articles_description: value});\n        }\n\n        function onReadmoretextChange(value) {\n          setAttributes({read_more_text: value});\n        }\n\n        function onCountChange(value) {\n          setAttributes({article_count: Number(value)});\n        }\n\n        function onReadmorelinkChange(value) {\n          setAttributes({read_more_link: value});\n        }\n\n        function onButtonLinkTabChange(value) {\n          setAttributes({button_link_new_tab: value});\n        }\n\n        function onSelectedTagsChange(tagIds) {\n          setAttributes({tags: tagIds});\n        }\n\n        function onSelectedPostsChange(value) {\n          setAttributes({posts: value});\n        }\n\n        function onSelectedPostTypesChange(postTypeIds) {\n          setAttributes({post_types: postTypeIds});\n        }\n\n        function onIgnoreCategoriesChange(value) {\n          setAttributes({ignore_categories: value});\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Articles\n          {...attributes}\n          isSelected={isSelected}\n          tagsList={tagsList}\n          postTypesList={postTypesList}\n          onSelectedTagsChange={onSelectedTagsChange}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onCountChange={onCountChange}\n          onSelectedPostsChange={onSelectedPostsChange}\n          onSelectedPostTypesChange={onSelectedPostTypesChange}\n          onReadmoretextChange={onReadmoretextChange}\n          onReadmorelinkChange={onReadmorelinkChange}\n          onButtonLinkTabChange={onButtonLinkTabChange}\n          onIgnoreCategoriesChange={onIgnoreCategoriesChange}/>\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import { React } from 'react';\nimport {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender,\n  Dashicon,\n  Tooltip,\n  ToggleControl\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Columns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {columns_title,columns_description,columns_block_style,columns} = this.props;\n\n      return (\n        <Fragment>\n          <h3>{__('What style of column do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={columns_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('No Image', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-no_images.jpg',\n                  value: 'no_image',\n                  help: __('Optional headers, description text and buttons in a column display.', 'p4ge')\n                },\n                {\n                  label: __('Tasks', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-tasks.jpg',\n                  value: 'tasks',\n                  help: __('Used on Take Action pages, this display has ordered tasks, and call to action buttons.', 'p4ge')\n                },\n                {\n                  label: __('Icons', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-icons.jpg',\n                  value: 'icons',\n                  help: __('For more static content, this display has an icon, header, description and text link.', 'p4ge')\n                },\n                {\n                  label: __('Images', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-images.jpg',\n                  value: 'image',\n                  help: __('For more static content, this display has an image, header, description and text link.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter block title', 'p4ge')}\n              value={columns_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter block description', 'p4ge')}\n              value={columns_description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n          <div>\n\n            {columns.map((item, index) => {\n              return (\n                <div key={index}>\n                  <div><hr /><i>{__('In order for the column to appear at least <strong>Header or Body</strong> has to be filled.', 'p4ge')}</i></div>\n\n                  <TextControl\n                    label={__('Column %s: Header', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter header of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.title}\n                    onChange={this.props.onColumnHeaderChange.bind(this,index)}\n                  />\n                  <TextareaControl\n                    label={__('Column %s: Body', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter body of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.description}\n                    onChange={this.props.onColumnDescriptionChange.bind(this,index)}\n                  />\n\n                  { 'no_image' != columns_block_style &&\n                    <MediaPlaceholder\n                      labels={{ title: __('Column %s: Image', 'p4ge').replace('%s', index+1)}}\n                      icon=\"format-image\"\n                      onSelect={this.props.onSelectImage.bind(this,index)}\n                      onSelectURL={this.props.onSelectURL.bind(this,index)}\n                      onError={this.props.onUploadError}\n                      accept=\"image/*\"\n                      allowedTypes={[\"image\"]}\n                    />\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Button/CtA Link', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_link}\n                    onChange={this.props.onCTALinkChange.bind(this,index)}\n                  />\n                  <ToggleControl\n                    label={__('Open link in new tab', 'p4ge')}\n                    help={__('Open Column %s: Button/CtA Link in a new tab', 'p4ge').replace('%s', index+1)}\n                    value={item.link_new_tab}\n                    checked={item.link_new_tab}\n                    onChange={this.props.onLinkNewTabChange.bind(this,index)}\n                  />\n                  <TextControl\n                    label={__('Column %s: Button/CtA Text', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter text of button/link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_text}\n                    onChange={this.props.onCTAButtonTextChange.bind(this,index)}\n                  />\n                </div>\n              );\n            })}\n\n            { columns.length < 4 && (\n              <Tooltip text={__('Add Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__addIcon\"\n                  }\n                  onClick={this.props.addColumn}\n                >\n                  {__('Add Column', 'p4ge')} <Dashicon icon={\"plus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n\n            { columns.length > 0 && (\n              <Tooltip text={__('Remove Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__removeIcon\"\n                  }\n                  onClick={this.props.removeColumn}\n                >\n                  {__('Remove Column', 'p4ge')} <Dashicon icon={\"minus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/columns'}\n                  attributes={{\n                    columns_block_style: this.props.columns_block_style,\n                    columns_title: this.props.columns_title,\n                    columns_description: this.props.columns_description,\n                    columns: this.props.columns,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Columns} from './Columns.js';\n\nconst {__} = wp.i18n;\n\nexport class ColumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/columns', {\n        title: __('Columns', 'p4ge'),\n        icon: \"grid-view\",\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_columns columns_block_style=\"image\" columns_title=\"Lorem Ipsum\" columns_description=\"Lorem Ipsum\"\n         *                    title_1=\"col1\" description_1=\"col1 body\" attachment_1=\"5096\" link_1=\"cta link1\" link_new_tab_1=\"true\" cta_text_1=\"cta text\"\n         *                    title_2=\"col2\" description_2=\"col2 body\" attachment_2=\"5186\" link_2=\"cta link2\" link_new_tab_2=\"true\" cta_text_2=\"cta text 2\" link_new_tab_3=\"false\" link_new_tab_4=\"false\" /]\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/columns {\"columns_block_style\":\"image\",\"columns_title\":\"Lorem Ipsum\",\"columns_description\":\"Lorem Ipsum\",\n         *      \"columns\":[{\"title\":\"col1\",\"description\":\"col1 body\",\"attachment\":5096,\"cta_link\":\"cta link1\",\"cta_text\":\"cta text 1\",\"link_new_tab\":true},{\"title\":\"col2\",\"description\":\"col2 body\",\"attachment\":5186,\"cta_link\":\"cta link2\",\"cta_text\":\"cta text 2\",\"link_new_tab\":true}]} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_columns',\n              attributes: {\n                columns_block_style: {\n                  type: 'string',\n                  shortcode: ({named: {columns_block_style = ''}}) => columns_block_style,\n                },\n                columns_title: {\n                  type: 'string',\n                  shortcode: ({named: {columns_title = ''}}) => columns_title,\n                },\n                columns_description: {\n                  type: 'string',\n                  shortcode: ({named: {columns_description = ''}}) => columns_description,\n                },\n                columns: {\n                  type: 'array',\n                  shortcode: function (attributes) {\n                    let columns = [];\n                    if (attributes.named.title_1) {\n                      let column = {\n                        title: attributes.named.title_1,\n                        description: attributes.named.description_1 || '',\n                        cta_link: attributes.named.link_1 || '',\n                        cta_text: attributes.named.cta_text_1 || '',\n                        link_new_tab: attributes.named.link_new_tab_1 || false\n                      };\n                      if (attributes.named.columns_block_style != 'no_image')\n                        column.attachment = attributes.named.attachment_1 || false;\n                      columns.push(Object.assign({}, column));\n\n                      if (attributes.named.title_2) {\n                        let column = {\n                          title: attributes.named.title_2,\n                          description: attributes.named.description_2 || '',\n                          cta_link: attributes.named.link_2 || '',\n                          cta_text: attributes.named.cta_text_2 || '',\n                          link_new_tab: attributes.named.link_new_tab_2 || false\n                        };\n                        if (attributes.named.columns_block_style != 'no_image')\n                          column.attachment = attributes.named.attachment_2 || false;\n                        columns.push(Object.assign({}, column));\n\n                        if (attributes.named.title_3) {\n                          let column = {\n                            title: attributes.named.title_3,\n                            description: attributes.named.description_3 || '',\n                            cta_link: attributes.named.link_3 || '',\n                            cta_text: attributes.named.cta_text_3 || '',\n                            link_new_tab: attributes.named.link_new_tab_3 || false\n                          };\n                          if (attributes.named.columns_block_style != 'no_image')\n                            column.attachment = attributes.named.attachment_3 || false;\n                          columns.push(Object.assign({}, column));\n\n                          if (attributes.named.title_4) {\n                            let column = {\n                              title: attributes.named.title_4,\n                              description: attributes.named.description_4 || '',\n                              cta_link: attributes.named.link_4 || '',\n                              cta_text: attributes.named.cta_text_4 || '',\n                              link_new_tab: attributes.named.link_new_tab_4 || false\n                            };\n                            if (attributes.named.columns_block_style != 'no_image')\n                              column.attachment = attributes.named.attachment_4 || false;\n                            columns.push(Object.assign({}, column));\n                          }\n                        }\n                      }\n                    }\n                    return columns;\n                  },\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          columns_block_style: {\n            type: 'string',\n          },\n          columns_title: {\n            type: 'string'\n          },\n          columns_description: {\n            type: 'string'\n          },\n          columns: {\n            type: \"array\",\n            default: [],\n            title:{\n              type: 'string'\n            },\n            description:{\n              type: 'string'\n            },\n            attachment:{\n              type: 'string'\n            },\n            cta_link:{\n              type: 'string'\n            },\n            link_new_tab:{\n              type: 'string'\n            },\n            cta_text:{\n              type: 'string'\n            },\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n\n          function onTitleChange(value) {\n            setAttributes({columns_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({columns_description: value});\n          }\n\n          function onSelectImage(index, value) {\n            const {columns} = attributes;\n            let {id}          = value;\n            let new_columns   = [...columns];\n            new_columns[index]['attachment'] = id;\n            setAttributes({columns: new_columns});\n          }\n\n          function onSelectURL(index, value) {\n            const {columns} = attributes;\n            let {id} = null;\n            let new_columns = [...columns];\n            new_columns[index]['attachment'] = id;\n            setAttributes({columns: new_columns});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({columns_block_style: value});\n\n            if ( 'no_image' == value ) {\n              const {columns} = attributes;\n              if ( 0 < columns.length ) {\n                let new_columns = [...columns];\n                let i;\n                for ( i = 0; i < columns.length; i++ ) {\n                  new_columns[i]['attachment'] = '';\n                }\n                setAttributes({columns: new_columns});\n              }\n            }\n          }\n\n          function addColumn() {\n            const {columns} = attributes;\n\n            if ( columns.length < 4 ) {\n              setAttributes({\n                columns: [...columns, {\n                  title:'',\n                  description:'',\n                  attachment:'',\n                  cta_link:'',\n                  cta_text:'',\n                  link_new_tab:'',\n                }]\n              });\n            }\n          }\n\n          function removeColumn() {\n            setAttributes({columns: attributes.columns.slice(0, -1) });\n          }\n\n          function onColumnHeaderChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].title = value;\n            setAttributes({columns});\n          }\n\n          function onColumnDescriptionChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].description = value;\n            setAttributes({columns});\n          }\n\n          function onCTALinkChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_link = value;\n            setAttributes({columns});\n          }\n\n          function onLinkNewTabChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].link_new_tab = value;\n            setAttributes({columns});\n          }\n\n          function onCTAButtonTextChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_text = value;\n            setAttributes({columns});\n          }\n\n          return <Columns\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            addColumn={addColumn}\n            removeColumn={removeColumn}\n            onUploadError={onUploadError}\n            onColumnHeaderChange={onColumnHeaderChange}\n            onColumnDescriptionChange={onColumnDescriptionChange}\n            onCTALinkChange={onCTALinkChange}\n            onLinkNewTabChange={onLinkNewTabChange}\n            onCTAButtonTextChange={onCTAButtonTextChange}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\nexport class Cookies extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Cookies options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display opt-in options for cookies',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={this.props.title}\n              onChange={this.props.onTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"Necessary Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.necessary_cookies_name}\n              onChange={this.props.onNecessaryCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Necessary Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.necessary_cookies_description}\n              onChange={this.props.onNecessaryCookiesDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"All Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.all_cookies_name}\n              onChange={this.props.onAllCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"All Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.all_cookies_description}\n              onChange={this.props.onAllCookiesDescriptionChange}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/cookies'}\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              necessary_cookies_name: this.props.necessary_cookies_name,\n              necessary_cookies_description: this.props.necessary_cookies_description,\n              all_cookies_name: this.props.all_cookies_name,\n              all_cookies_description: this.props.all_cookies_description,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Cookies} from './Cookies.js';\n\nexport class CookiesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/cookies', {\n      title: 'Cookies',\n      icon: 'visibility',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_cookies',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              necessary_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_name;\n                }\n              },\n              necessary_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_description;\n                }\n              },\n              all_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_name;\n                }\n              },\n              all_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_description;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        necessary_cookies_name: {\n          type: 'string',\n        },\n        necessary_cookies_description: {\n          type: 'string',\n        },\n        all_cookies_name: {\n          type: 'string',\n        },\n        all_cookies_description: {\n          type: 'string',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onNecessaryCookiesNameChange(value) {\n          setAttributes({necessary_cookies_name: value});\n        }\n\n        function onNecessaryCookiesDescriptionChange(value) {\n          setAttributes({necessary_cookies_description: value});\n        }\n\n        function onAllCookiesNameChange(value) {\n          setAttributes({all_cookies_name: value});\n        }\n\n        function onAllCookiesDescriptionChange(value) {\n          setAttributes({all_cookies_description: value});\n        }\n\n        return <Cookies\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onNecessaryCookiesNameChange={onNecessaryCookiesNameChange}\n          onNecessaryCookiesDescriptionChange={onNecessaryCookiesDescriptionChange}\n          onAllCookiesNameChange={onAllCookiesNameChange}\n          onAllCookiesDescriptionChange={onAllCookiesDescriptionChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import { React, Component } from 'react';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nexport class Counter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const { __ } = wp.i18n;\n\n    return (\n      <div>\n        <h3>{ __('What style of counter do you need?', 'p4ge') }</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={ this.props.style }\n            onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n            options={[\n              {\n                label: __('Text Only', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_text.png',\n                value: 'plain',\n                help: __('Text to describe your progress', 'p4ge')\n              },\n              {\n                label: __('Progress Bar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'bar',\n                help: __('A bar to visualise the progress.', 'p4ge'),\n              },\n              {\n                label: __('Progress Dial', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_arc.png',\n                value: 'arc',\n                help: __('A dial to visualise the progress.', 'p4ge')\n              },\n              {\n                label: __('Progress bar inside EN Form', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'en-forms-bar',\n                help: __('A bar inside an En Form. Select this only if you are adding an EN Form to the same page.', 'p4ge')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Title', 'p4ge') }\n            placeholder= { __('Enter title', 'p4ge') }\n            value={ this.props.title }\n            onChange={ this.props.onTitleChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Description', 'p4ge') }\n            placeholder= { __('Enter description', 'p4ge') }\n            value={ this.props.description }\n            onChange={ this.props.onDescriptionChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed', 'p4ge') }\n            placeholder= { __('e.g. number of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.completed }\n            onChange={ this.props.onCompletedChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed API URL', 'p4ge') }\n            placeholder= { __('API URL of completed number. If filled in will overide the \\'Completed\\' field', 'p4ge') }\n            value={ this.props.completed_api }\n            onChange={ this.props.onCompletedAPIChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Target', 'p4ge') }\n            placeholder= { __('e.g. target no. of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.target }\n            onChange={ this.props.onTargetChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Text', 'p4ge') }\n            placeholder= { __('e.g. \"signatures collected of %target%\"', 'p4ge') }\n            value={ this.props.text }\n            onChange={ this.props.onTextChange }\n          />\n          <p className='FieldHelp'>These placeholders can be used: <code>%completed%</code>, <code>%target%</code>, <code>%remaining%</code> </p>\n        </div>\n\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={ this.props.isSelected }>\n          <ServerSideRender\n            block={ 'planet4-blocks/counter' }\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              style: this.props.style,\n              completed: this.props.completed,\n              completed_api: this.props.completed_api,\n              target: this.props.target,\n              text: this.props.text,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n};","import { Counter } from './Counter.js';\n\nexport class CounterBlock {\n  constructor() {\n    const { registerBlockType } = wp.blocks;\n    const { withSelect } = wp.data;\n\n    registerBlockType( 'planet4-blocks/counter', {\n      title: 'Counter',\n      icon: 'dashboard',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_counter',\n            attributes: {\n              style: {\n                type: 'string',\n                shortcode: ( { named: { style = 'plain' } } ) => style,\n              },\n              title: {\n                type: 'string',\n                shortcode: ( { named: { title = '' } } ) => title,\n              },\n              description: {\n                type: 'string',\n                shortcode: ( { named: { description = '' } } ) => description,\n              },\n              completed: {\n                type: 'integer',\n                shortcode: ( { named: { completed = 0 } } ) => completed,\n              },\n              completed_api: {\n                type: 'string',\n                shortcode: ( { named: { completed_api = '' } } ) => completed_api,\n              },\n              target: {\n                type: 'integer',\n                shortcode: ( { named: { target = 0 } } ) => target,\n              },\n              text: {\n                type: 'string',\n                shortcode: ( { named: { text = '' } } ) => text,\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        style: {\n          type: 'string',\n          default: 'plain'\n        },\n        completed: {\n          type: 'integer',\n        },\n        completed_api: {\n          type: 'string',\n        },\n        target: {\n          type: 'integer',\n        },\n        text: {\n          type: 'string',\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange( value ) {\n          setAttributes( { title: value } );\n        }\n\n        function onDescriptionChange( value ) {\n          setAttributes( { description: value } );\n        }\n\n        function onSelectedLayoutChange( value ) {\n          setAttributes( { style: value } );\n        }\n\n        function onCompletedChange( value ) {\n          setAttributes( { completed: Number(value) } );\n        }\n\n        function onCompletedAPIChange( value ) {\n          setAttributes( { completed_api: value } );\n        }\n\n        function onTargetChange( value ) {\n          setAttributes( { target: Number(value) } );\n        }\n\n        function onTextChange( value ) {\n          setAttributes( { text: value } );\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Counter\n          { ...attributes }\n          isSelected={ isSelected }\n          onTitleChange={ onTitleChange }\n          onDescriptionChange={ onDescriptionChange }\n          onSelectedLayoutChange={ onSelectedLayoutChange }\n          onCompletedChange={ onCompletedChange }\n          onCompletedAPIChange={ onCompletedAPIChange }\n          onTargetChange={ onTargetChange }\n          onTextChange={ onTextChange }   />\n      },\n      save() {\n        return null;\n      }\n    } );\n  };\n}\n\n","import React, { Component } from 'react';\n\nimport {\n  FormTokenField,\n  SelectControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\n\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Covers extends Component {\n    constructor(props) {\n      super(props);\n\n      // Populate tag tokens for saved tags.\n      let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n      // Populate post types tokens for saved post types.\n      let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n      // Populate component state with block's saved tags tokens and post type tokens\n      this.state = {\n        tagTokens: tagTokens,\n        postTypeTokens: postTypeTokens,\n        selectedPosts: [],\n      };\n\n      this.populatePostsToken();\n      this.searchTimeout = null;\n    }\n\n    static getDerivedStateFromProps(props, state) {\n\n      // Post types should be available for cover_type 3\n      // If cover_type is not 3, reset post types tokens.\n      if ('1' === props.cover_type || '2' === props.cover_type) {\n        state.postTypeTokens= [];\n      }\n\n      // If posts attribute was reset, reset also the posts tokens.\n      if (0 === props.posts.length) {\n        state.postsTokens= [];\n      }\n      return state;\n    }\n\n\n    /**\n     * Set component's state for existing blocks.\n     */\n    populatePostsToken() {\n\n      if (this.props.posts.length > 0) {\n\n        let post_type = this.props.cover_type === '1' ? 'pages' : 'posts';\n        apiFetch(\n          {\n            path: addQueryArgs('/wp/v2/'+ post_type, {\n              per_page: 50,\n              page: 1,\n              include: this.props.posts\n            })\n          }\n        ).then(posts => {\n          const postsTokens = posts.map(post => post.title.rendered);\n          const postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({\n              postsTokens: postsTokens,\n              postsList: posts,\n              postsSuggestions: postsSuggestions,\n              selectedPosts: posts,\n            }\n          );\n        });\n      } else {\n        this.setState(\n          {\n            postsTokens: [],\n            postsList: [],\n            postsSuggestions: [],\n            selectedPosts: [],\n          }\n        );\n      }\n    }\n\n    /**\n     * Search posts using wp api.\n     *\n     * @param tokens\n     */\n    searchPosts(tokens) {\n\n      let queryArgs;\n      if ('1' === this.props.cover_type) {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/pages', {\n            per_page: -1,\n            post_type: 'page',\n            post_parent: window.p4ge_vars.planet4_options.act_page,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      } else {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      }\n\n\n      apiFetch(queryArgs)\n        .then(posts => {\n          let postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n        });\n    }\n\n    onPostsSearch(token) {\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(function () {\n        this.searchPosts(token);\n      }.bind(this), 500);\n    }\n\n    onSelectedTagsChange(tokens) {\n      const tagIds = tokens.map( token => {\n        return this.props.tagsList.filter( tag => tag.name === token )[0].id;\n      });\n      this.props.onSelectedTagsChange(tagIds);\n      this.setState({ tagTokens: tokens })\n    }\n\n    onSelectedPostTypesChange(tokens) {\n      const postTypeIds = tokens.map( token => {\n        return this.props.postTypesList.filter( postType => postType.name === token )[0].id;\n      });\n      this.props.onSelectedPostTypesChange(postTypeIds);\n      this.setState({ postTypeTokens: tokens })\n    }\n\n    onSelectedPostsChange(tokens) {\n      // Array to hold references to selected posts objects.\n      let currentSelectedPosts = [];\n      tokens.forEach(token => {\n        let f = this.state.postsList.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n        f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n      });\n\n      const postIds = currentSelectedPosts.map(post => post.id);\n      this.props.onSelectedPostsChange(postIds);\n      this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n    }\n\n    renderEdit() {\n      const { __ } = wp.i18n;\n\n      const tagSuggestions = this.props.tagsList.map( tag => tag.name );\n      const postTypeSuggestions = this.props.postTypesList.map( postType => postType.name );\n\n      return (\n        <div>\n          <h3>{ __('What style of cover do you need?', 'p4ge') }</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={ this.props.cover_type }\n              onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n              options={[\n                {\n                  label: __('Take Action Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/take_action_covers.png',\n                  value: '1',\n                  help: __('Take action covers pull the featured image, tags, have a 25 character excerpt and have a call to action button')\n                },\n                {\n                  label: __('Campaign Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/campaign_covers.png',\n                  value: '2',\n                  help: __('Campaign covers pull the associated image and hashtag from the system tag definitions.'),\n                },\n                {\n                  label: __('Content Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/content_covers.png',\n                  value: '3',\n                  help: __('Content covers pull the image from the post.')\n                },\n              ]}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label=\"Rows to display\"\n              value={ this.props.covers_view }\n              options={ [\n                { label: '1 Row', value: '1' },\n                { label: '2 Rows', value: '2' },\n                { label: 'All rows', value: '3' },\n              ] }\n              onChange={ this.props.onRowsChange }\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={ this.props.title }\n              onChange={ this.props.onTitleChange }\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={ this.props.description }\n              onChange={ this.props.onDescriptionChange }\n            />\n          </div>\n\n          {\n            this.props.posts !== 'undefined' && this.props.posts.length === 0\n              ?\n              <div>\n\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label='Select Tags'\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                  placeholder=\"Select Tags\"\n                />\n                <p class='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              : null\n          }\n\n          {\n            this.props.cover_type === '3' && this.props.posts.length === 0\n              ? <FormTokenField\n                value={this.state.postTypeTokens}\n                suggestions={postTypeSuggestions}\n                label='Post Types'\n                onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                placeholder=\"Select Tags\"\n              />\n              : null\n          }\n\n          {\n            (this.props.cover_type === '1' || this.props.cover_type === '3') &&\n            (this.props.tags.length === 0 && this.props.post_types.length === 0)\n              ? <div>\n                <label>Manual override</label>\n                <FormTokenField\n                  value={this.state.postsTokens}\n                  suggestions={this.state.postsSuggestions}\n                  label='CAUTION: Adding covers manually will override the automatic functionality.'\n                  onChange={tokens => this.onSelectedPostsChange(tokens)}\n                  onInputChange={token => this.onPostsSearch(token)}\n                  placeholder=\"Select Tags\"\n                />\n              </div>\n              : null\n          }\n\n        </div>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={ this.props.isSelected }>\n                <ServerSideRender\n                  block={ 'planet4-blocks/covers' }\n                  attributes={{\n                    cover_type: this.props.cover_type,\n                    covers_view: this.props.covers_view,\n                    tags: this.props.tags,\n                    post_types: this.props.post_types,\n                    posts: this.props.posts,\n                    title: this.props.title,\n                    description: this.props.description,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n};\n","import { CoversIcon } from './CoversIcon.js';\nimport { Covers } from './Covers.js';\n\nexport class CoversBlock {\n    constructor() {\n      const { registerBlockType } = wp.blocks;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/covers', {\n        title: 'Covers',\n        icon: CoversIcon,\n        category: 'planet4-blocks',\n\n        // Transform the shortcode into a Gutenberg block\n        // this is used when a user clicks \"Convert to blocks\"\n        // on the \"Classic Editor\" block\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_newcovers',\n              attributes: {\n                cover_type: {\n                  type: 'integer',\n                  // This `shortcode` definition will be used as a callback,\n                  // it is a function which expects an object with at least\n                  // a `named` key with `cover_type` property whose default value is 1.\n                  // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n                  shortcode: ({named: {cover_type = '1'}}) => cover_type,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                covers_view: {\n                  type: 'string',\n                  shortcode: ({named: {covers_view = ''}}) => covers_view,\n                },\n                tags: {\n                  type: 'string',\n                  shortcode: ({named: {tags = ''}}) => tags.split(','),\n                },\n                post_types: {\n                  type: 'string',\n                  shortcode: ({named: {post_types = ''}}) => post_types.split(','),\n                },\n                posts: {\n                  type: 'string',\n                  shortcode: ({named: {posts = ''}}) => posts.split(','),\n                },\n              },\n            },\n          ]\n        },\n        // This attributes definition mimics the one in the PHP side.\n        attributes: {\n          title: {\n            type: 'string',\n          },\n          description: {\n            type: 'string',\n          },\n          tags: {\n            type: 'array',\n            default: []\n          },\n          posts: {\n            type: 'array',\n            default: []\n          },\n          post_types: {\n            type: 'array',\n            default: []\n          },\n          covers_view: {\n            type: 'string',\n            default: '1'\n          },\n          cover_type: {\n            type: 'string',\n          }\n        },\n        // withSelect is a \"Higher Order Component\", it works as\n        // a Decorator, it will provide some basic API functionality\n        // through `select`.\n        edit: withSelect( ( select ) => {\n          const tagsTaxonomy = 'post_tag';\n          const postTypesTaxonomy = 'p4-page-type';\n          const args = {\n            hide_empty: false,\n            per_page: -1,\n          };\n\n          const { getEntityRecords } = select( 'core' );\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords( 'taxonomy', tagsTaxonomy, args );\n          const postTypesList = getEntityRecords( 'taxonomy', postTypesTaxonomy );\n\n          return {\n            postTypesList,\n            tagsList,\n          };\n        } )( ( {\n          postTypesList,\n          tagsList,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n            if ( !tagsList || !postTypesList ) {\n                return \"Populating block's fields...\";\n            }\n\n            // TO-DO: Check for posts types and posts too...\n            if ( !tagsList && !tagsList.length === 0 ) {\n                return \"No tags...\";\n            }\n\n            // These methods are passed down to the\n            // Covers component, they update the corresponding attribute.\n\n            function onRowsChange( value ) {\n              setAttributes( { covers_view: value } );\n            }\n\n            function onTitleChange( value ) {\n              setAttributes( { title: value } );\n            }\n\n            function onDescriptionChange( value ) {\n              setAttributes( { description: value } );\n            }\n\n            function onSelectedTagsChange( tagIds ) {\n              setAttributes( { tags: tagIds } );\n            }\n\n            function onSelectedPostsChange(value) {\n              setAttributes({posts: value});\n            }\n\n            function onSelectedPostTypesChange( postTypeIds ) {\n              setAttributes( { post_types: postTypeIds } );\n            }\n\n            function onSelectedLayoutChange( value ) {\n\n              // Post types are available only on cover_type 3, so we reset the post_types attribute in the other 2 cases.\n              if ( '1' === value) {\n                setAttributes( { post_types: [] } );\n              }\n              if ( '2' === value) {\n                setAttributes( { post_types: []} );\n              }\n              // Reset posts attribute when changing layout also.\n              setAttributes({cover_type: value, posts: []});\n            }\n\n            // We pass down all the attributes to Covers as props using\n            // the spread operator. Then we selectively add more\n            // props.\n            return <Covers\n              { ...attributes }\n              isSelected={ isSelected }\n              tagsList={ tagsList }\n              postTypesList={ postTypesList }\n              onSelectedTagsChange={ onSelectedTagsChange }\n              onSelectedLayoutChange={ onSelectedLayoutChange }\n              onTitleChange={ onTitleChange }\n              onDescriptionChange={ onDescriptionChange }\n              onSelectedPostsChange={ onSelectedPostsChange }\n              onSelectedPostTypesChange={ onSelectedPostTypesChange }\n              onRowsChange={ onRowsChange } />\n        } ),\n        save() {\n          return null;\n        }\n      } );\n    };\n}\n\n","import { React, Component } from 'react';\n\nexport class CoversIcon extends Component {\n\trender() {\n\t\treturn <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 66 82.5\" enable-background=\"new 0 0 66 66\"><g><g><path d=\"M8.193,37.334l23.804-10.512v-8.007L6.099,30.093c-0.24,0.11-0.44,0.31-0.53,0.56c-0.1,0.24-0.09,0.52,0.01,0.76    L8.193,37.334z\"/><path d=\"M8.999,39.163l4.9,11.08c4.55-1.49,7.1,2.61,8.76,3.78c1.51-1.01,4.47-5.71,9.34-3.55v-21.47L8.999,39.163z     M21.059,42.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49    C21.779,42.033,21.559,42.623,21.059,42.853z M27.059,39.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33    l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49C27.779,39.033,27.559,39.623,27.059,39.853z\"/><path d=\"M33.998,26.816l24.005,10.392l2.416-5.816c0.21-0.5-0.02-1.08-0.52-1.3L33.998,18.813V26.816z\"/><path d=\"M33.999,28.993v22.77c0.95,0.8,2.02,2.26,2.44,2.26c1.97-1.66,3.56-4.08,6.88-4.08c4.21,0,6.03,4.07,6.9,4.07    c0.1-0.087,0.722-0.298,1.25-1.09l5.77-13.87L33.999,28.993z M41.269,39.823c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46    c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.83-0.72,1.33-0.49l1,0.46C41.279,38.733,41.499,39.323,41.269,39.823z M47.269,42.823    c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.82-0.72,1.33-0.49l1,0.46    C47.279,41.733,47.499,42.323,47.269,42.823z\"/></g><g><path d=\"M37.999,2.983v5.63h-10v-5.63c0-1.1,0.9-2,2-2h6C37.099,0.983,37.999,1.883,37.999,2.983z\"/></g><path d=\"M48.319,13.823c-0.38-1.86-2.03-3.21-3.93-3.21h-22.78c-1.9,0-3.55,1.35-3.92,3.21l-1.98,9.91   c5.27-2.31,11.32-4.94,17.29-7.54c1.02,0.45,9.84,4.29,17.29,7.54L48.319,13.823z M24.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1   h2c0.55,0,1,0.45,1,1S25.549,17.233,24.999,17.233z M42.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1h2c0.55,0,1,0.45,1,1   S43.549,17.233,42.999,17.233z\"/><path d=\"M64,62.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1C65,63.43,64.552,62.982,64,62.982z\"/><path d=\"M64,55.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1S64.552,55.982,64,55.982z\"/></g></svg>\n\t}\n}\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  Toolbar,\n  IconButton,\n  Button\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Gallery extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const getImageOrButton = (openEvent) => {\n        if ( 0 < this.props.image_data.length ) {\n\n          return (\n\n            this.props.image_data.map((item, index) => {\n              return (\n                <span>\n                  <img\n                    src={ item.url }\n                    onClick={ openEvent }\n                    className=\"gallery__imgs\"\n                    key={index}\n                    width='150 px'\n                    style={{padding: '10px 10px'}}\n                  />\n                </span>\n              );\n            })\n\n          );\n        }\n        else {\n          return (\n            <div className=\"button-container\">\n              <Button\n                onClick={ openEvent }\n                className=\"button\">\n                + {__('Select Gallery Images', 'p4ge')}\n              </Button>\n\n              <div>{__('Select images in the order you want them to appear.', 'p4ge')}</div>\n            </div>\n          );\n        }\n      };\n\n      const {__} = wp.i18n;\n\n      const {gallery_block_style , gallery_block_title , gallery_block_description , multiple_image , image_data} = this.props;\n\n      const dimensions = {width: 400, height: 100};\n\n      let multiple_image_array = multiple_image ? multiple_image.split(',') : [];\n\n      return (\n        <Fragment>\n          <BlockControls>\n            { 0 < image_data.length && (\n              <Toolbar>\n                { 0 < multiple_image_array.length && (\n                  <MediaUploadCheck>\n                    <MediaUpload\n                      onSelect={this.props.onSelectImage}\n                      allowedTypes={[\"image\"]}\n                      value={multiple_image_array}\n                      type=\"image\"\n                      multiple=\"true\"\n                      render={({ open }) => {\n                        return (\n                          <IconButton\n                            className=\"components-icon-button components-toolbar__control\"\n                            label={__(\n                              \"Edit Images\",\n                              \"mytheme-blocks\"\n                            )}\n                            onClick={open}\n                            icon=\"edit\"\n                          />\n                        );\n                      }}\n                    />\n                  </MediaUploadCheck>\n                )}\n                <IconButton\n                  className=\"components-icon-button components-toolbar__control\"\n                  label={__(\"Remove Images\", \"mytheme-blocks\")}\n                  onClick={this.props.onRemoveImages}\n                  icon=\"trash\"\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          <h3>{__('What style of gallery do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={gallery_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('Slider', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-slider.jpg',\n                  value: 1,\n                  help: __('The slider is a carousel of images. For more than 5 images, consider using a grid.', 'p4ge')\n                },\n                {\n                  label: __('3 Column', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-3-column.jpg',\n                  value: 2,\n                  help: __('The 3 column image display is great for accentuating text, and telling a visual story.', 'p4ge')\n                },\n                {\n                  label: __('Grid', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-grid.jpg',\n                  value: 3,\n                  help: __('The grid shows thumbnails of lots of images. Good to use when showing lots of activity.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={gallery_block_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('Please Enter Description', 'p4ge')}\n              value={gallery_block_description}\n              onChange={this.props.onDescriptionChange}\n            />\n\n            {__('Select Gallery Images', 'p4ge')}\n            <div>\n              <MediaUploadCheck>\n                <MediaUpload\n                  title={__('Select Gallery Images', 'p4ge')}\n                  type=\"image\"\n                  onSelect={this.props.onSelectImage}\n                  value={multiple_image_array}\n                  allowedTypes={[\"image\"]}\n                  multiple=\"true\"\n                  render={ ({ open }) => getImageOrButton(open) }\n                />\n              </MediaUploadCheck>\n            </div>\n\n            {image_data &&\n            <div\n              className={\n                \"wp-block-master-theme-gallery__FocalPointPicker\"\n              }\n            >\n              <ul>\n                {image_data.map((item, index) => {\n                  return (\n                    <li\n                      key={index}\n                    >\n                      {__('Select gallery image focal point', 'p4ge')}\n                      <FocalPointPicker\n                        url={item.url}\n                        dimensions={dimensions}\n                        value={item.focalPoint}\n                        onChange={this.props.onFocalPointChange.bind(this,item.id)}\n                        key={item.id}\n                      />\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n            }\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/gallery'}\n                  attributes={{\n                    gallery_block_style: this.props.gallery_block_style,\n                    gallery_block_title: this.props.gallery_block_title,\n                    gallery_block_description: this.props.gallery_block_description,\n                    multiple_image: this.props.multiple_image,\n                    gallery_block_focus_points: this.props.gallery_block_focus_points,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Gallery} from './Gallery';\n\nconst {__} = wp.i18n;\n\nexport class GalleryBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/gallery', {\n        title: __('Gallery', 'p4ge'),\n        icon: 'format-gallery',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_gallery gallery_block_style=\"2\" gallery_block_title=\"test title\"\n         *                    gallery_block_description=\"test desc\" multiple_image=\"23603,23602,23600,23596\"\n         *                    gallery_block_focus_points=\"{'23596':'left top','23597':'left top','23599':'left top'}\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/gallery {\"gallery_block_style\":3,\"gallery_block_title\":\"test title\",\"gallery_block_description\":\"test desc\",\n         *      \"multiple_image\":\"23603,23602,23600,23596\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_gallery',\n              attributes: {\n                gallery_block_style: {\n                  type: 'integer',\n                  shortcode: ({named: {gallery_block_style = ''}}) => gallery_block_style,\n                },\n                gallery_block_title: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_title = ''}}) => gallery_block_title,\n                },\n                gallery_block_description: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_description = ''}}) => gallery_block_description,\n                },\n                multiple_image: {\n                  type: 'string',\n                  shortcode: ({named: {multiple_image = ''}}) => multiple_image,\n                },\n                gallery_block_focus_points: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_focus_points = ''}}) => gallery_block_focus_points,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          gallery_block_style: {\n            type: 'number',\n            default: 1\n          },\n          gallery_block_title: {\n            type: 'string',\n          },\n          gallery_block_description: {\n            type: 'string',\n          },\n          multiple_image: {\n            type: 'string',\n          },\n          gallery_block_focus_points: {\n            type: 'string',\n          },\n          image_data: {\n            type: 'object',\n            default: []\n          },\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { multiple_image } = attributes;\n\n          let image_urls_array = [];\n\n          if ( multiple_image ) {\n            let image_id_array = multiple_image.split(',');\n\n            $.each(image_id_array, function( index, img_id ) {\n              let img_url = select('core').getMedia(img_id);\n              if ( img_url ) {\n                image_urls_array[img_id] = img_url.media_details.sizes.medium.source_url;\n              }\n            });\n          }\n\n          return {\n            image_urls_array\n          };\n        } )( ( {\n          image_urls_array,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          let {image_data,gallery_block_focus_points} = attributes;\n\n          // Prepare image_data array on edit gallery block.\n          if (0 == image_data.length && 0 < image_urls_array.length) {\n            let new_image_data = [];\n            let focal_points_json = gallery_block_focus_points ? JSON.parse(gallery_block_focus_points):{};\n\n            for (const img_id in image_urls_array) {\n\n              let x,y;\n              if ($.isEmptyObject(focal_points_json)) {\n                [x,y] = [50,50];\n              } else {\n                [x,y] = focal_points_json[img_id].replace(/\\%/g, '').split(' ');\n              }\n\n              new_image_data.push({\n                url: image_urls_array[img_id],\n                focalPoint: {\n                  x:parseInt(x)/100,\n                  y:parseInt(y)/100\n                },\n                id: img_id\n              });\n            }\n\n            setAttributes({image_data: new_image_data});\n          }\n\n          function onTitleChange( value ) {\n            setAttributes({gallery_block_title: value});\n          }\n\n          function onDescriptionChange( value ) {\n            setAttributes({gallery_block_description: value });\n          }\n\n          function onSelectImage(value) {\n            let image_ids = [];\n            let image_data = [];\n            for (const key in value) {\n              image_ids.push(value[key].id);\n              let img_id = value[key].id;\n              image_data.push({url: value[key].url, focalPoint: {x:0.5, y:0.5}, id: img_id});\n            }\n            setAttributes({multiple_image: image_ids.join(',')});\n            setAttributes({image_data: image_data});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({gallery_block_style: Number(value)});\n          }\n\n          function onFocalPointChange( image_id, value ) {\n\n            let updated_image_data = [];\n            let gallery_block_focus_points = {};\n\n            image_data.map(function(object){\n              if (object.id === image_id) {\n                let x = parseFloat(value.x).toFixed(2);\n                let y = parseFloat(value.y).toFixed(2);\n\n                updated_image_data.push({url: object.url, focalPoint: {x,y}, id: image_id});\n                gallery_block_focus_points[image_id] = (x*100)+'% '+(y*100)+'%';\n\n              } else {\n                updated_image_data.push(object);\n                let img_id = object.id;\n                gallery_block_focus_points[img_id] = parseInt(object.focalPoint.x*100)+'% '+parseInt(object.focalPoint.y*100)+'%';\n              }\n            });\n\n            setAttributes({gallery_block_focus_points: JSON.stringify(gallery_block_focus_points)});\n            setAttributes({image_data: updated_image_data});\n          }\n\n          function onRemoveImages() {\n            setAttributes({multiple_image: ''});\n            setAttributes({gallery_block_focus_points: ''});\n            setAttributes({image_data: []});\n          }\n\n          return <Gallery\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onSelectImage={onSelectImage}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {Component,Fragment} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\n\nimport {\n  MediaPlaceholder,\n  InspectorControls,\n  BlockControls,\n  MediaUpload,\n  MediaUploadCheck\n} from '@wordpress/editor';\n\nimport {\n  TextControl,\n  ServerSideRender,\n  FocalPointPicker,\n  ToggleControl,\n  RangeControl,\n  PanelBody,\n  Button,\n  Toolbar,\n  IconButton\n} from '@wordpress/components';\n\nexport class Happypoint extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const dimensions = {width: 400, height: 100};\n\n      const {focus_image, opacity, mailing_list_iframe, iframe_url, url, id} = this.props;\n\n      let focal_point_params = {x:'',y:''};\n\n      if (focus_image) {\n        let focus_image_str = focus_image.replace(/%/g, '');\n        let [x, y] = focus_image_str.split(' ');\n        focal_point_params = {x: x/100,y: y/100};\n      } else {\n        focal_point_params = {x:0.5, y:0.5};\n      }\n\n      const getImageOrButton = (openEvent) => {\n        if ( this.props.id && ( 0 < this.props.id ) ) {\n\n          return (\n\n            <div align='center'>\n              <img\n                src={ this.props.url }\n                onClick={ openEvent }\n                className='happypoint__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n            </div>\n\n          );\n        }\n        else {\n          return (\n            <div className='button-container'>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Background Image', 'p4ge')}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <InspectorControls>\n            <PanelBody title={__('Setting', 'p4ge')}>\n              <RangeControl\n                label={__('Opacity', 'p4ge')}\n                value={opacity}\n                onChange={this.props.onOpacityChange}\n                min={1}\n                max={100}\n                initialPosition={opacity}\n                help={__('We use an overlay to fade the image back. Use a number between 1 and 100, the higher the number, the more faded the image will look. If you leave this empty, the default of 30 will be used.', 'p4ge')}\n              />\n              <ToggleControl\n                label={__('Use mailing list iframe', 'p4ge')}\n                help={__('Use mailing list iframe', 'p4ge')}\n                value={mailing_list_iframe}\n                checked={this.props.mailing_list_iframe}\n                onChange={this.props.onMailingListIframeChange}\n              />\n              <TextControl\n                label={__('Iframe url', 'p4ge')}\n                placeholder={__('Enter Iframe url', 'p4ge')}\n                help={__('If a url is set in this field and the \\'mailing list iframe\\' option is enabled, it will override the planet4 engaging network setting.', 'p4ge')}\n                value={iframe_url}\n                onChange={this.props.onIframeUrlChange}\n              />\n            </PanelBody>\n          </InspectorControls>\n          <BlockControls>\n            { this.props.id && ( 0 < this.props.id ) && (\n              <Toolbar>\n                <MediaUploadCheck>\n                  <MediaUpload\n                    onSelect={this.props.onSelectImage}\n                    allowedTypes={['image']}\n                    value={id}\n                    type='image'\n                    render={({ open }) => {\n                      return (\n                        <IconButton\n                          className='components-icon-button components-toolbar__control'\n                          label={__('Edit Image', 'p4ge')}\n                          onClick={open}\n                          icon='edit'\n                        />\n                      );\n                    }}\n                  />\n                </MediaUploadCheck>\n                <IconButton\n                  className='components-icon-button components-toolbar__control'\n                  label={__('Remove Image', 'p4ge')}\n                  onClick={this.props.onRemoveImages}\n                  icon='trash'\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          {__('Select Background Image', 'p4ge')}\n          <div>\n            <MediaUploadCheck>\n              <MediaUpload\n                title={__('Select Background Image', 'p4ge')}\n                type='image'\n                onSelect={this.props.onSelectImage}\n                value={id}\n                allowedTypes={['image']}\n                render={ ({ open }) => getImageOrButton(open) }\n              />\n            </MediaUploadCheck>\n          </div>\n          {id && 0 < id &&\n            <div>\n              {__('Select focus point for background image', 'p4ge')}\n              <FocalPointPicker\n                url={url}\n                dimensions={dimensions}\n                value={focal_point_params}\n                onChange={this.props.onFocalPointChange}\n              />\n            </div>\n          }\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/happypoint'}\n                  attributes={{\n                    id: this.props.id,\n                    focus_image: this.props.focus_image,\n                    opacity: this.props.opacity,\n                    mailing_list_iframe: this.props.mailing_list_iframe,\n                    iframe_url: this.props.iframe_url,\n                    load_iframe: true,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Happypoint} from './Happypoint';\n\nexport class HappypointBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/happypoint', {\n        title: __('Happypoint', 'p4ge'),\n        icon: 'format-image',\n        category: 'planet4-blocks',\n\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_happy_point background=\"4968\" focus_image=\"center center\" opacity=\"60\" mailing_list_iframe=\"true\" iframe_url=\"https%3A%2F%2Fact.greenpeace.org%2Fpage%2F34215%2Fsubscribe%2F1\" /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/happypoint {\"focus_image\":\"50% 50%\",\"opacity\":60,\"mailing_list_iframe\":true,\"iframe_url\":\"https://act.greenpeace.org/page/34215/subscribe/1\",\"id\":4968} /-->\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_happy_point',\n              attributes: {\n                opacity: {\n                  type: 'integer',\n                  shortcode: ({named: {opacity = ''}}) => opacity,\n                },\n                id: {\n                  type: 'integer',\n                  shortcode: ({named: {id = ''}}) => id,\n                },\n                focus_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_image = ''}}) => focus_image,\n                },\n                mailing_list_iframe: {\n                  type: 'string',\n                  shortcode: ({named: {mailing_list_iframe = ''}}) => mailing_list_iframe,\n                },\n                iframe_url: {\n                  type: 'string',\n                  shortcode: ({named: {iframe_url = ''}}) => iframe_url,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          focus_image: {\n            type: 'string',\n          },\n          opacity: {\n            type: 'number',\n            default: 60\n          },\n          mailing_list_iframe: {\n            type: 'boolean',\n          },\n          iframe_url: {\n            type: 'string',\n          },\n          id: {\n            type: 'number',\n          },\n          load_iframe: {\n            type: 'boolean',\n            default: false\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n          const { attributes } = props;\n          const { id } = attributes;\n          let img_url = '';\n\n          if (id && (0 < id)) {\n            img_url = select('core').getMedia(id);\n            if(img_url){\n              img_url = img_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          return {\n            img_url\n          };\n        } )( ( {\n          img_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n          function onBackgroundChange( value ) {\n            setAttributes({background: value});\n          }\n\n          function onOpacityChange( value ) {\n            setAttributes({opacity: value});\n          }\n\n          function onMailingListIframeChange( value ) {\n            setAttributes({mailing_list_iframe: value});\n          }\n\n          function onIframeUrlChange( value ) {\n            setAttributes({iframe_url: value});\n          }\n\n          function onFocalPointChange( {x,y} ) {\n            x = parseFloat(x).toFixed(2);\n            y = parseFloat(y).toFixed(2);\n            setAttributes({focus_image: (x*100)+'% '+(y*100)+'%'});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({id});\n          }\n\n          function onRemoveImages() {\n            setAttributes({id: -1});\n            setAttributes({focus_image: ''});\n          }\n\n          return <Happypoint\n            {...attributes}\n            isSelected={isSelected}\n            url={img_url}\n            onSelectImage={onSelectImage}\n            onOpacityChange={onOpacityChange}\n            onMailingListIframeChange={onMailingListIframeChange}\n            onIframeUrlChange={onIframeUrlChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\n\nexport class Media extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {video_title,description,youtube_id} = this.props;\n\n      return (\n        <Fragment>\n          <div>\n            <TextControl\n              label={__('Media Title', 'p4ge')}\n              placeholder={__('Enter video title', 'p4ge')}\n              value={video_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={description}\n              onChange={this.props.onDescriptionChange}\n            />\n            <TextControl\n              label={__('Media URL/ID', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              value={youtube_id}\n              onChange={this.props.onMediaUrlChange}\n              help={__('Can be a YouTube, Vimeo or Soundcloud URL or an mp4, mp3 or wav file URL.', 'p4ge')}\n            />\n            <MediaPlaceholder\n              labels={{ title: __('Video poster image [Optional]', 'p4ge'), instructions: __('Applicable for .mp4 video URLs only.', 'p4ge')}}\n              icon=\"format-image\"\n              onSelect={this.props.onSelectImage}\n              onSelectURL={this.props.onSelectURL}\n              onError={this.props.onUploadError}\n              accept=\"image/*\"\n              allowedTypes={[\"image\"]}\n            />\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                { this.props.youtube_id &&\n                  <ServerSideRender\n                    block={'planet4-blocks/media-video'}\n                    attributes={{\n                      video_title: this.props.video_title,\n                      description: this.props.description,\n                      youtube_id: this.props.youtube_id,\n                      video_poster_img: this.props.video_poster_img,\n                    }}>\n                  </ServerSideRender>\n                }\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Media} from './Media';\n\nconst {__} = wp.i18n;\n\nexport class MediaBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/media-video', {\n        title: __('Media block', 'p4ge'),\n        icon: 'format-video',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_media_video video_title=\"Lorem Ipsum\"\n         *                        description=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\"\n         *                        youtube_id=\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\"\n         *                        video_poster_img=\"23241\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/media-video {\"video_title\":\"Lorem Ipsum\",\"description\":\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\",\"youtube_id\":\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\"video_poster_img\":23241} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_media_video',\n              attributes: {\n                video_title: {\n                  type: 'string',\n                  shortcode: ({named: {video_title = ''}}) => video_title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                youtube_id: {\n                  type: 'string',\n                  shortcode: ({named: {youtube_id = ''}}) => youtube_id,\n                },\n                video_poster_img: {\n                  type: 'integer',\n                  shortcode: ({named: {video_poster_img = ''}}) => video_poster_img,\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          video_title: {\n            type: 'string'\n          },\n          description: {\n            type: 'string'\n          },\n          youtube_id: {\n            type: 'string'\n          },\n          video_poster_img: {\n            type: 'integer'\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n          function onTitleChange(value) {\n            setAttributes({video_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({description: value});\n          }\n\n          function onMediaUrlChange(value) {\n            setAttributes({youtube_id: value});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({video_poster_img: id});\n          }\n\n          function onSelectURL({url}) {\n            setAttributes({id: null});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          return <Media\n            {...attributes}\n            isSelected={isSelected}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onMediaUrlChange={onMediaUrlChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            onUploadError={onUploadError}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\nimport {\n  RadioControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Socialmedia extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  componentDidUpdate() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  /**\n   * Check if twitter embeds script is loaded and initiliaze it.\n   */\n  checkTwitterScript() {\n    if (this.props.social_media_url.includes('twitter')) {\n      let twitterScript = document.querySelector('script[src=\"https://platform.twitter.com/widgets.js\"]');\n\n      if (null === twitterScript) {\n        let scriptLoaded = this.loadScriptAsync('https://platform.twitter.com/widgets.js');\n        scriptLoaded.then(function () {\n          this.initializeTwitterEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeTwitterEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Check if instgram embeds script is loaded and initiliaze it.\n   */\n  checkInstagramScript() {\n    if (this.props.social_media_url.includes('instagram')) {\n      let instaScript = document.querySelector('script[src=\"https://www.instagram.com/embed.js\"]');\n\n      if (null === instaScript) {\n        let scriptLoaded = this.loadScriptAsync('https://www.instagram.com/embed.js');\n        scriptLoaded.then(function () {\n          this.initializeInstagramEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeInstagramEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Initialize twitter embeds.\n   */\n  initializeTwitterEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.twttr) {\n        window.twttr.widgets.load();\n      }\n    }, 2000);\n  }\n\n  /**\n   * Initialize instagram embeds.\n   */\n  initializeInstagramEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.instgrm) {\n        window.instgrm.Embeds.process();\n      }\n    }, 3000);\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const embed_type_help = __('Select oEmbed for the following types of social media<br>- Twitter: tweet, profile, list, collection, likes, moment<br>- Facebook: post, activity, photo, video, media, question, note<br>- Instagram: image', 'planet4-blocks-backend');\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'planet4-blocks-backend')}\n            placeholder={__('Enter title', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'planet4-blocks-backend')}\n            placeholder={__('Enter description', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <RadioControl\n            label={__('Embed type', 'planet4-blocks-backend')}\n            help={\n              <RawHTML>{embed_type_help}</RawHTML>\n            }\n            options={[\n              {label: 'oEmbed', value: 'oembed'},\n              {label: 'Facebook page', value: 'facebook_page'},\n            ]}\n            selected={this.props.embed_type}\n            onChange={this.props.onEmbedTypeChange}\n          />\n        </div>\n\n        {\n          this.props.embed_type === 'facebook_page'\n            ?\n            <div>\n              <SelectControl\n                label={__('What Facebook page content would you like to display?', 'planet4-blocks-backend')}\n                value={this.props.facebook_page_tab}\n                options={[\n                  {label: 'Timeline', value: 'timeline'},\n                  {label: 'Events', value: 'events'},\n                  {label: 'Mesages', value: 'messages'},\n                ]}\n                onChange={this.props.onFacebookPageTabChange}\n              />\n            </div>\n            : null\n        }\n\n        <div>\n          <TextControl\n            label={__('URL', 'planet4-blocks-backend')}\n            placeholder={__('Enter URL', 'planet4-blocks-backend')}\n            value={this.props.social_media_url}\n            onChange={this.props.onSocialMediaUrlChange}\n          />\n        </div>\n\n        <div>\n          <SelectControl\n            label={__('Alignment', 'planet4-blocks-backend')}\n            value={this.props.alignment_class}\n            options={[\n              {label: 'None', value: ''},\n              {label: 'Left', value: 'alignleft'},\n              {label: 'Center', value: 'aligncenter'},\n              {label: 'Right', value: 'alignright'},\n            ]}\n            onChange={this.props.onAlignmentChange}\n          />\n        </div>\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n            <ServerSideRender\n              block={'planet4-blocks/social-media'}\n              attributes={{\n                title: this.props.title,\n                description: this.props.description,\n                embed_type: this.props.embed_type,\n                facebook_page_tab: this.props.facebook_page_tab,\n                social_media_url: this.props.social_media_url,\n                alignment_class: this.props.alignment_class,\n              }}>\n            </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Socialmedia} from './Socialmedia.js';\n\nexport class SocialmediaBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {__} = wp.i18n;\n\n    registerBlockType('planet4-blocks/social-media', {\n      title: __('Social Media', 'p4ge'),\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_social_media',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              embed_type: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.embed_type;\n                }\n              },\n              facebook_page_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.facebook_page_tab;\n                }\n              },\n              social_media_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.social_media_url;\n                }\n              },\n              alignment_class: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.alignment_class;\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        title: {\n          type: 'string',\n          default: '',\n        },\n        description: {\n          type: 'string',\n          default: '',\n        },\n        embed_type: {\n          type: 'string',\n          default: 'oembed'\n        },\n        facebook_page_tab: {\n          type: 'string',\n          default: 'timeline'\n        },\n        social_media_url: {\n          type: 'string',\n          default: ''\n        },\n        alignment_class: {\n          type: 'string',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        // These methods are passed down to the\n        // Socialmedia component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onEmbedTypeChange(value) {\n          setAttributes({embed_type: value});\n        }\n\n        function onFacebookPageTabChange(value) {\n          setAttributes({facebook_page_tab: value});\n        }\n\n        function onSocialMediaUrlChange(value) {\n          setAttributes({social_media_url: value});\n        }\n\n        function onAlignmentChange(value) {\n          setAttributes({alignment_class: value});\n        }\n\n\n        // We pass down all the attributes to Socialmedia as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Socialmedia\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onEmbedTypeChange={onEmbedTypeChange}\n          onFacebookPageTabChange={onFacebookPageTabChange}\n          onSocialMediaUrlChange={onSocialMediaUrlChange}\n          onAlignmentChange={onAlignmentChange} />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  SelectControl\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\n\nexport class Splittwocolumns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      let tag_list   = this.props.tagsList.map((tag) => ({label: tag.name, value: tag.id}));\n      tag_list.unshift({label: '--Select Tag--', value: 0});\n\n      let issuepage_list = this.props.issuepageList.map((issue) => ({label: issue.title.raw, value: issue.id}));\n      issuepage_list.unshift({label: '--Select Issue--', value: 0});\n\n      const {__} = wp.i18n;\n\n      const {\n        select_issue,\n        title,\n        issue_description,\n        issue_link_text,\n        issue_link_path,\n        issue_image,\n        focus_issue_image,\n        select_tag,\n        tag_description,\n        button_text,\n        button_link,\n        tag_image,\n        focus_tag_image,\n        issue_image_url,\n        tag_image_url\n      } = this.props;\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_issue_image_obj = {x: 0.5,y: 0.5};\n      if (focus_issue_image) {\n        let [x,y] = focus_issue_image.replace(/\\%/g, '').split(' ');\n        focus_issue_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_tag_image_obj = {x: 0.5,y: 0.5};\n      if (focus_tag_image) {\n        let [x,y] = focus_tag_image.replace(/\\%/g, '').split(' ');\n        focus_tag_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      const dimensions = {width: 400, height: 100};\n\n      return (\n        <Fragment>\n          <h3>{__('Issue fields (Column 1 - Left side)', 'p4ge')}</h3>\n          <div>\n            {issuepage_list &&\n              <SelectControl\n                label={__('Select an issue', 'p4ge')}\n                value={select_issue}\n                options={issuepage_list}\n                onChange={this.props.onSelectIssue}\n              />\n            }\n            <TextControl\n              label={__('Issue Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={title}\n              onChange={this.props.onIssueTitleChange}\n              help={__('(Optional) Fill this only if you need to override issue title.', 'p4ge')}\n            />\n            <TextareaControl\n              label={__('Issue Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional) Fill this only if you need to override issue description.', 'p4ge')}\n              value={issue_description}\n              onChange={this.props.onIssueDescriptionChange}\n            />\n            <TextControl\n              label={__('Issue link text', 'p4ge')}\n              placeholder={__('Enter link text', 'p4ge')}\n              value={issue_link_text}\n              onChange={this.props.onIssueLinkTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Issue link path', 'p4ge')}\n              placeholder={__('Enter link path', 'p4ge')}\n              value={issue_link_path}\n              onChange={this.props.onIssueLinkPathChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Issue Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Issue', 'p4ge')}\n              onSelectImage={this.props.onSelectIssueImage}\n              imageId={issue_image}\n              imageUrl={issue_image_url}\n              buttonLabel={__('+ Select Image for Issue', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-issue-imgs'\n            />\n\n            {issue_image &&\n            <div>\n              {__('Select focal point for issue image', 'p4ge')}\n              <FocalPointPicker\n                url={issue_image_url}\n                dimensions={dimensions}\n                value={focus_issue_image_obj}\n                onChange={this.props.onIssueImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n          <h3>{__('Campaign fields (Column 2 - Right side)', 'p4ge')}</h3>\n          <div>\n            {tag_list &&\n              <SelectControl\n                label={__('Select a tag', 'p4ge')}\n                value={select_tag}\n                options={tag_list}\n                onChange={this.props.onSelectTag}\n              />\n            }\n            <TextareaControl\n              label={__('Campaign Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={tag_description}\n              onChange={this.props.onTagDescriptionChange}\n            />\n            <TextControl\n              label={__('Campaign button text', 'p4ge')}\n              placeholder={__('Enter button text', 'p4ge')}\n              value={button_text}\n              onChange={this.props.onButtonTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Campaign button link', 'p4ge')}\n              placeholder={__('Enter button link', 'p4ge')}\n              value={button_link}\n              onChange={this.props.onButtonLinkChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Campaign Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Campaign', 'p4ge')}\n              onSelectImage={this.props.onSelectCampaignImage}\n              imageId={tag_image}\n              imageUrl={tag_image_url}\n              buttonLabel={__('+ Select Image for Campaign', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-tag_imgs'\n            />\n\n            {tag_image &&\n            <div>\n              {__('Select focal point for campaign image', 'p4ge')}\n              <FocalPointPicker\n                url={tag_image_url}\n                dimensions={dimensions}\n                value={focus_tag_image_obj}\n                onChange={this.props.onCampaignImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/split-two-columns'}\n                  attributes={{\n                    select_issue: this.props.select_issue,\n                    title: this.props.title,\n                    issue_description: this.props.issue_description,\n                    issue_link_text: this.props.issue_link_text,\n                    issue_link_path: this.props.issue_link_path,\n                    issue_image: this.props.issue_image,\n                    focus_issue_image: this.props.focus_issue_image,\n                    select_tag: this.props.select_tag,\n                    tag_description: this.props.tag_description,\n                    button_text: this.props.button_text,\n                    button_link: this.props.button_link,\n                    tag_image: this.props.tag_image,\n                    focus_tag_image: this.props.focus_tag_image,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Splittwocolumns} from './Splittwocolumns';\n\nconst {__} = wp.i18n;\n\nexport class SplittwocolumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/split-two-columns', {\n        title: __('Split Two Columns', 'p4ge'),\n        icon: 'format-gallery',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_split_two_columns select_issue=\"13813\" title=\"lorem ipsum\" issue_description=\"lorem ipsum\" issue_link_text=\"test link\"\n         *        issue_link_path=\"http://www.googlw.com\" issue_image=\"23634\" focus_issue_image=\"right top\" select_tag=\"19\"\n         *        tag_description=\"lorem ipsum\" button_text=\"btn text\" button_link=\"http://www.google.com\" tag_image=\"23634\" focus_tag_image=\"right top\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/split-two-columns {\"select_issue\":2079,\"title\":\"Lorem Ipsum\",\"issue_description\":\"Lorem Ipsum\",\"issue_link_text\":\"tets link\",\"issue_link_path\":\"http://www.google.com\",\"issue_image\":23634,\"focus_issue_image\":\"33% 60%\",\"select_tag\":65,\"tag_description\":\"Lorem Ipsum\",\"button_text\":\"btn text\",\"button_link\":\"http://www.google.com\",\"tag_image\":23634,\"focus_tag_image\":\"30% 79%\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_split_two_columns',\n              attributes: {\n                select_issue: {\n                  type: 'integer',\n                  shortcode: ({named: {select_issue = ''}}) => select_issue,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                issue_description: {\n                  type: 'string',\n                  shortcode: ({named: {issue_description = ''}}) => issue_description,\n                },\n                issue_link_text: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_text = ''}}) => issue_link_text,\n                },\n                issue_link_path: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_path = ''}}) => issue_link_path,\n                },\n                issue_image: {\n                  type: 'integer',\n                  shortcode: ({named: {issue_image = ''}}) => issue_image,\n                },\n                focus_issue_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_issue_image = ''}}) => focus_issue_image,\n                },\n                select_tag: {\n                  type: 'integer',\n                  shortcode: ({named: {select_tag = ''}}) => select_tag,\n                },\n                tag_description: {\n                  type: 'string',\n                  shortcode: ({named: {tag_description = ''}}) => tag_description,\n                },\n                button_text: {\n                  type: 'string',\n                  shortcode: ({named: {button_text = ''}}) => button_text,\n                },\n                button_link: {\n                  type: 'string',\n                  shortcode: ({named: {button_link = ''}}) => button_link,\n                },\n                tag_image: {\n                  type: 'integer',\n                  shortcode: ({named: {tag_image = ''}}) => tag_image,\n                },\n                focus_tag_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_tag_image = ''}}) => focus_tag_image,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          select_issue: {\n            type: 'number',\n            default: 0,\n          },\n          title: {\n            type: 'string',\n          },\n          issue_description: {\n            type: 'string',\n          },\n          issue_link_text: {\n            type: 'string',\n          },\n          issue_link_path: {\n            type: 'string',\n          },\n          issue_image: {\n            type: 'number',\n          },\n          focus_issue_image: {\n            type: 'string',\n          },\n          select_tag: {\n            type: 'number',\n            default: 0,\n          },\n          tag_description: {\n            type: 'string',\n          },\n          button_text: {\n            type: 'string',\n          },\n          button_link: {\n            type: 'string',\n          },\n          tag_image: {\n            type: 'number',\n          },\n          focus_tag_image: {\n            type: 'string',\n          },\n        },\n        edit: withSelect((select,props) => {\n          const tagsTaxonomy = 'post_tag';\n          const issuePage    = 'page';\n\n          const taxonomy_args = {\n            hide_empty: false,\n            per_page: 50,\n          };\n          const {getEntityRecords} = select('core');\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, taxonomy_args);\n\n          const issue_page_args = {\n            per_page: -1,\n            sort_order: 'asc',\n            sort_column: 'post_title',\n            parent: window.p4ge_vars.planet4_options.explore_page,\n            post_status: 'publish',\n          };\n          const issuepageList = getEntityRecords('postType', issuePage, issue_page_args);\n\n          const { attributes } = props;\n          const { issue_image,tag_image } = attributes;\n\n          let issue_image_url = '';\n          if (issue_image) {\n            issue_image_url = select('core').getMedia(issue_image);\n            if ( issue_image_url ) {\n              issue_image_url = issue_image_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          let tag_image_url = '';\n          if (tag_image) {\n            tag_image_url = select('core').getMedia(tag_image);\n            if ( tag_image_url ) {\n              tag_image_url = tag_image_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          return {\n            tagsList,\n            issuepageList,\n            issue_image_url,\n            tag_image_url,\n          };\n\n        } )( ( {\n          tagsList,\n          issuepageList,\n          issue_image_url,\n          tag_image_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          if (!tagsList || !issuepageList) {\n            return \"Populating block's fields...\";\n          }\n\n          if ((tagsList && tagsList.length === 0) || (issuepageList && issuepageList.length === 0)) {\n            return \"Populating block's fields...\";\n          }\n\n          function onSelectIssue( value ) {\n            setAttributes({select_issue: parseInt(value)});\n          }\n\n          function onIssueTitleChange( value ) {\n            setAttributes({title: value });\n          }\n\n          function onIssueDescriptionChange( value ) {\n            setAttributes({issue_description: value});\n          }\n\n          function onIssueLinkTextChange( value ) {\n            setAttributes({issue_link_text: value });\n          }\n\n          function onIssueLinkPathChange( value ) {\n            setAttributes({issue_link_path: value});\n          }\n\n          function onSelectIssueImage( {id} ) {\n            setAttributes({issue_image: id});\n          }\n\n          function onIssueImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_issue_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          function onSelectTag( value ) {\n            setAttributes({select_tag: parseInt(value)});\n          }\n\n          function onTagDescriptionChange( value ) {\n            setAttributes({tag_description: value});\n          }\n\n          function onButtonTextChange( value ) {\n            setAttributes({button_text: value });\n          }\n\n          function onButtonLinkChange( value ) {\n            setAttributes({button_link: value});\n          }\n\n          function onSelectCampaignImage( {id} ) {\n            setAttributes({tag_image: id});\n          }\n\n          function onCampaignImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_tag_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          return <Splittwocolumns\n            {...attributes}\n            isSelected={isSelected}\n            tagsList={tagsList}\n            issuepageList={issuepageList}\n            issue_image_url={issue_image_url}\n            tag_image_url={tag_image_url}\n            onSelectIssue={onSelectIssue}\n            onIssueTitleChange={onIssueTitleChange}\n            onIssueDescriptionChange={onIssueDescriptionChange}\n            onIssueLinkTextChange={onIssueLinkTextChange}\n            onIssueLinkPathChange={onIssueLinkPathChange}\n            onSelectIssueImage={onSelectIssueImage}\n            onIssueImageFocalPointChange={onIssueImageFocalPointChange}\n            onSelectTag={onSelectTag}\n            onTagDescriptionChange={onTagDescriptionChange}\n            onButtonTextChange={onButtonTextChange}\n            onButtonLinkChange={onButtonLinkChange}\n            onSelectCampaignImage={onSelectCampaignImage}\n            onCampaignImageFocalPointChange={onCampaignImageFocalPointChange}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component} from 'react';\nimport {\n  CheckboxControl,\n  SelectControl,\n} from '@wordpress/components';\n\nexport class MenuLevel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>Level {this.props.index + 1}</div>\n        <SelectControl\n          label=\"Submenu item\"\n          help=\"Submenu item\"\n          value={this.props.heading}\n          options={[\n            {label: 'None', value: '0'},\n            {label: 'Heading 1', value: '1'},\n            {label: 'Heading 2', value: '2'},\n            {label: 'Heading 3', value: '3'},\n            {label: 'Heading 4', value: '4'},\n            {label: 'Heading 5', value: '5'},\n            {label: 'Heading 6', value: '6'},\n          ]}\n          onChange={(e) => this.props.onHeadingChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n\n        <CheckboxControl\n          heading=\"Link\"\n          help=\"Link item\"\n          value={this.props.link}\n          checked={this.props.link}\n          onChange={(e) => this.props.onLinkChange(this.props.index, e)}\n          className=\"submenu-level-link\"\n        />\n\n        <SelectControl\n          label=\"List style\"\n          help=\"List style\"\n          value={this.props.style}\n          options={[\n            {label: 'None', value: 'none'},\n            {label: 'Bullet', value: 'bullet'},\n            {label: 'Number', value: 'number'},\n          ]}\n          onChange={(e) => this.props.onStyleChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n      </div>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  TextControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {MenuLevel} from \"./MenuLevel\";\n\nexport class Submenu extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h2>{__('Anchor Link Submenu', 'p4ge')}</h2>\n        <p><i>{__(\n          'An in-page table of contents to help users have a sense of what\\'s on the page and let them jump to a topic they are interested in.',\n          'p4ge'\n        )}</i></p>\n        <h3>{__('What style of menu do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.submenu_style}\n            onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n            options={[\n              {\n                label: __('Long full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-long.jpg',\n                value: 1,\n                help: __('Use: on long pages (more than 5 screens) when list items are long (+ 10 words)<br>No max items<br>recommended.')\n              }, {\n                label: __('Short full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-short.jpg',\n                value: 2,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 5 words)<br>No max items<br>recommended.'),\n              },\n              {\n                label: __('Short sidebar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-sidebar.jpg',\n                value: 3,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 10 words)<br>Max items<br>recommended: 9')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label=\"Submenu Title\"\n            placeholder=\"Enter title\"\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <hr/>\n        {this.props.levels.map((heading, i) => {\n          return (\n            <MenuLevel\n              {...heading}\n              onHeadingChange={this.props.onHeadingChange}\n              onLinkChange={this.props.onLinkChange}\n              onStyleChange={this.props.onStyleChange}\n              index={i}\n              key={i}\n            />\n          );\n        })}\n\n        <div>\n          <Button isPrimary\n                  onClick={this.props.addLevel}\n                  disabled={this.props.levels.length >= 3 || this.props.levels.slice(-1)[0].heading === 0}\n          >\n            Add level\n          </Button>\n          <Button isDefault\n                  onClick={this.props.removeLevel} disabled={this.props.levels.length <= 1}\n          >\n            Remove level\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/submenu'}\n            attributes={{\n              submenu_style: this.props.submenu_style,\n              title: this.props.title,\n              levels: this.props.levels,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {Submenu} from './Submenu.js';\n\nexport class SubmenuBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/submenu', {\n      title: 'Submenu',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_submenu submenu_style=\"3\" title=\"title22\" heading1=\"2\"\n       *                    link1=\"true\" style1=\"bullet\" heading2=\"3\" link2=\"true\" style2=\"number\"\n       *                    heading3=\"4\" link3=\"false\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/submenu {\"submenu_style\":3,\"title\":\"title22\",\"levels\":[{\"heading\":\"2\",\"link\":\"true\",\"style\":\"bullet\"},\n       *    {\"heading\":\"3\",\"link\":\"true\",\"style\":\"number\"},{\"heading\":\"4\",\"link\":\"false\",\"style\":\"none\"}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_submenu',\n            attributes: {\n              submenu_style: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.submenu_style);\n                }\n              },\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              levels: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  let levels = [];\n                  if (attributes.named.heading1 > 0) {\n                    let level = {\n                      heading: Number(attributes.named.heading1),\n                      link: attributes.named.link1 || false,\n                      style: attributes.named.style1 || 'none'\n                    };\n                    levels.push(Object.assign({}, level));\n\n                    if (attributes.named.heading2 > 0) {\n                      let level = {\n                        heading: Number(attributes.named.heading2),\n                        link: attributes.named.link2 || false,\n                        style: attributes.named.style2 || 'none'\n                      };\n                      levels.push(Object.assign({}, level));\n\n                      if (attributes.named.heading3 > 0) {\n                        let level = {\n                          heading: Number(attributes.named.heading3),\n                          link: attributes.named.link3 || false,\n                          style: attributes.named.style3 || 'none'\n                        };\n                        levels.push(Object.assign({}, level));\n                      }\n                    }\n                  }\n                  return levels;\n                },\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        submenu_style: {\n          type: 'integer',\n          default: 1\n        },\n        title: {\n          type: 'string',\n        },\n        levels: {\n          type: 'array',\n          default: [ {heading: 0, link: false, style: 'none'}]\n        },\n      },\n      edit: withSelect((select) => {\n\n      })(({\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        function addLevel() {\n          setAttributes({levels: attributes.levels.concat({heading: 0, link: false, style: 'none'})});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onHeadingChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].heading = Number(value);\n          setAttributes({levels: levels});\n        }\n\n        function onLayoutChange(value) {\n          setAttributes({submenu_style: Number(value)});\n        }\n\n        function onLinkChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].link = value;\n          setAttributes({levels: levels});\n        }\n\n        function onStyleChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].style = value;\n          setAttributes({levels: levels});\n        }\n\n        function removeLevel() {\n          setAttributes({levels: attributes.levels.slice(0, -1)});\n        }\n\n        return <Submenu\n          {...attributes}\n          isSelected={isSelected}\n          onSelectedLayoutChange={onLayoutChange}\n          onTitleChange={onTitleChange}\n          onHeadingChange={onHeadingChange}\n          onLinkChange={onLinkChange}\n          onStyleChange={onStyleChange}\n          addLevel={addLevel}\n          removeLevel={removeLevel}\n        />\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from \"@wordpress/element\";\nimport {\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {Preview} from '../../components/Preview';\n\nexport class Timeline extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.loadTimeline(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    this.loadTimeline(prevProps);\n  }\n\n  loadTimeline(data) {\n    const timelinejs_version = '3.6.3';\n\n    let js = 'https://cdn.knightlab.com/libs/timeline3/' + timelinejs_version + '/js/timeline-min.js';\n    let scriptLoaded = this.loadScriptAsync(js);\n    scriptLoaded.then(function () {\n      new TL.Timeline('timeline-1', data.google_sheets_url, {\n        \"timenav_position\": data.timenav_position,\n        \"start_at_end\": data.start_at_end,\n        \"language\": data.language\n      });\n    }.bind(this));\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const position = [\n      {label: 'Bottom', value: 'bottom'},\n      {label: 'Top', value: 'top'},\n    ]\n\n    const languages = [\n      {label: 'Afrikaans', value: 'af'},\n      {label: 'Arabic', value: 'ar'},\n      {label: 'Armenian', value: 'hy'},\n      {label: 'Basque', value: 'eu'},\n      {label: 'Belarusian', value: 'be'},\n      {label: 'Bulgarian', value: 'bg'},\n      {label: 'Catalan', value: 'ca'},\n      {label: 'Chinese', value: 'zh-cn'},\n      {label: 'Croatian / Hrvatski', value: 'hr'},\n      {label: 'Czech', value: 'cz'},\n      {label: 'Danish', value: 'da'},\n      {label: 'Dutch', value: 'nl'},\n      {label: 'English', value: 'en'},\n      {label: 'English (24-hour time)', value: 'en-24hr'},\n      {label: 'Esperanto', value: 'eo'},\n      {label: 'Estonian', value: 'et'},\n      {label: 'Faroese', value: 'fo'},\n      {label: 'Farsi', value: 'fa'},\n      {label: 'Finnish', value: 'fi'},\n      {label: 'French', value: 'fr'},\n      {label: 'Frisian', value: 'fy'},\n      {label: 'Galician', value: 'gl'},\n      {label: 'Georgian', value: 'ka'},\n      {label: 'German / Deutsch', value: 'de'},\n      {label: 'Greek', value: 'el'},\n      {label: 'Hebrew', value: 'he'},\n      {label: 'Hindi', value: 'hi'},\n      {label: 'Hungarian', value: 'hu'},\n      {label: 'Icelandic', value: 'is'},\n      {label: 'Indonesian', value: 'id'},\n      {label: 'Irish', value: 'ga'},\n      {label: 'Italian', value: 'it'},\n      {label: 'Japanese', value: 'ja'},\n      {label: 'Korean', value: 'ko'},\n      {label: 'Latvian', value: 'lv'},\n      {label: 'Lithuanian', value: 'lt'},\n      {label: 'Luxembourgish', value: 'lb'},\n      {label: 'Malay', value: 'ms'},\n      {label: 'Myanmar', value: 'my'},\n      {label: 'Nepali', value: 'ne'},\n      {label: 'Norwegian', value: 'no'},\n      {label: 'Polish', value: 'pl'},\n      {label: 'Portuguese', value: 'pt'},\n      {label: 'pt-br', value: 'Portuguese (Brazilian)'},\n      {label: 'Romanian', value: 'ro'},\n      {label: 'Romansh', value: 'rm'},\n      {label: 'Russian', value: 'ru'},\n      {label: 'Serbian - Cyrillic', value: 'sr-cy'},\n      {label: 'Serbian - Latin', value: 'sr'},\n      {label: 'Sinhalese', value: 'si'},\n      {label: 'Slovak', value: 'sk'},\n      {label: 'Slovenian', value: 'sl'},\n      {label: 'Spanish', value: 'es'},\n      {label: 'Swedish', value: 'sv'},\n      {label: 'Tagalog', value: 'tl'},\n      {label: 'Tamil', value: 'ta'},\n      {label: 'Taiwanese', value: 'zh-tw'},\n      {label: 'Telugu', value: 'te'},\n      {label: 'Thai', value: 'th'},\n      {label: 'Turkish', value: 'tr'},\n      {label: 'Ukrainian', value: 'uk'},\n      {label: 'Urdu', value: 'ur'},\n    ]\n\n    let url_desc  = __(\n      'Enter the URL of the Google Sheets spreadsheet containing your timeline data.',\n      'p4ge'\n    );\n    url_desc += '<br><a href=\"https://timeline.knightlab.com/#make\" target=\"_blank\" rel=\"noopener noreferrer\">';\n    url_desc += __(\n      'See the TimelineJS website for a template GSheet.',\n      'p4ge'\n    );\n    url_desc += '</a><br>';\n    url_desc += __(\n      'Copy this, add your own timeline data, and publish to the web.',\n      'p4ge'\n    );\n    url_desc += '<br>';\n    url_desc += __(\n      \"Once you have done so, use the URL from your address bar (not the one provided in Google's 'publish to web' dialog).\",\n      'p4ge'\n    );\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Timeline options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display a timeline from a Google Sheet',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label={__('Timeline Title', 'p4ge')}\n              placeholder={__('Enter title', 'p4ge')}\n              value={this.props.timeline_title}\n              onChange={this.props.onTimelineTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter description', 'p4ge')}\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label={__('Google Sheets URL', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              help=<RawHTML>{url_desc}</RawHTML>\n              value={this.props.google_sheets_url}\n              onChange={this.props.onGoogleSheetsUrlChange}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Language', 'p4ge')}\n              value={this.props.language}\n              options={languages}\n              onChange={(e) => this.props.onLanguageChange(e)}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Timeline navigation position', 'p4ge')}\n              value={this.props.timenav_position}\n              options={position}\n              onChange={(e) => this.props.onTimenavPositionChange(e)}\n            />\n          </div>\n\n          <div>\n            <CheckboxControl\n              label={__('Start at end', 'p4ge')}\n              help={__('Begin at the end of the timeline', 'p4ge')}\n              value={this.props.start_at_end}\n              checked={this.props.start_at_end}\n              onChange={(e) => this.props.onStartAtEndChange(e)}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/timeline'}\n            attributes={{\n              timeline_title: this.props.timeline_title,\n              description: this.props.description,\n              google_sheets_url: this.props.google_sheets_url,\n              language: this.props.language,\n              timenav_position: this.props.timenav_position,\n              start_at_end: this.props.start_at_end,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Timeline} from './Timeline.js';\n\nconst {__} = wp.i18n;\n\nexport class TimelineBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/timeline', {\n      title: __('Timeline', 'p4ge'),\n      icon: 'clock',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_timeline',\n            attributes: {\n              timeline_title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.timeline_title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              google_sheets_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.google_sheets_url;\n                }\n              },\n              language: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.language;\n                }\n              },\n              timenav_position: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.timenav_position;\n                }\n              },\n              start_at_end: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.start_at_end;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        timeline_title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        google_sheets_url: {\n          type: 'string',\n        },\n        language: {\n          type: 'string',\n          default: 'en',\n        },\n        timenav_position: {\n          type: 'string',\n        },\n        start_at_end: {\n          type: 'boolean',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTimelineTitleChange(value) {\n          setAttributes({timeline_title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onGoogleSheetsUrlChange(value) {\n          setAttributes({google_sheets_url: value});\n        }\n\n        function onLanguageChange(value) {\n          setAttributes({language: value});\n        }\n\n        function onTimenavPositionChange(value) {\n          setAttributes({timenav_position: value});\n        }\n\n        function onStartAtEndChange(value) {\n          setAttributes({start_at_end: value});\n        }\n\n        return <Timeline\n          {...attributes}\n          isSelected={isSelected}\n          onTimelineTitleChange={onTimelineTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onGoogleSheetsUrlChange={onGoogleSheetsUrlChange}\n          onLanguageChange={onLanguageChange}\n          onTimenavPositionChange={onTimenavPositionChange}\n          onStartAtEndChange={onStartAtEndChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import {React, Component} from 'react';\nimport {Button} from '@wordpress/components';\nimport {MediaUpload,MediaUploadCheck} from '@wordpress/editor';\n\nexport class ImageOrButton extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    const getImageOrButton = (openEvent) => {\n      if ( this.props.imageId ) {\n\n        return (\n\n          <img\n            src={ this.props.imageUrl }\n            onClick={ openEvent }\n            className={ this.props.imgClass }\n          />\n\n        );\n      }\n      else {\n        return (\n          <div className='button-container'>\n            <Button\n              onClick={ openEvent }\n              className='button'>\n              { this.props.buttonLabel }\n            </Button>\n\n            <div>{ this.props.help }</div>\n          </div>\n        );\n      }\n    };\n\n    return <div className='ImageOrButton'>\n      <MediaUploadCheck>\n        <MediaUpload\n          title={this.props.title}\n          type='image'\n          onSelect={this.props.onSelectImage}\n          value={this.props.imageId}\n          allowedTypes={['image']}\n          render={ ({ open }) => getImageOrButton(open) }\n        />\n      </MediaUploadCheck>\n    </div>;\n  }\n}\n","import {React, Component} from 'react';\nimport {RadioControl} from '@wordpress/components';\n\nexport class LayoutSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: props.selectedOption\n    };\n    this.setSelected = this.setSelected.bind(this);\n  }\n\n  setSelected(option) {\n    this.setState({selectedOption: option});\n    this.props.onSelectedLayoutChange(option);\n  }\n\n  render() {\n    return <div className='LayoutSelector'>\n      {\n        this.props.options.map((layoutOption, i) => {\n          return (\n            <label className='LayoutOption' key={i}>\n              <div style={{display: 'flex'}}>\n                <RadioControl\n                  name={'layoutOption'}\n                  selected={this.state.selectedOption}\n                  options={[\n                    {value: layoutOption.value}\n                  ]}\n                  onChange={this.setSelected}\n                />\n                {layoutOption.label}\n              </div>\n              {\n                layoutOption.image\n                  ? <img src={layoutOption.image}/>\n                  : null\n              }\n              {\n                layoutOption.help\n                  ? <p className='help' dangerouslySetInnerHTML={{__html: layoutOption.help}}/>\n                  : null\n              }\n            </label>\n          )\n        })\n      }\n    </div>;\n  }\n}\n","import { React, Component } from 'react';\n\nexport class Preview extends Component {\n\trender() {\n\t\treturn <div className='Preview'>\n\t\t\t{\n\t\t\t\tthis.props.showBar\n\t\t\t\t? <div className='PreviewBar'>Preview</div>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{ this.props.children }\n\t\t</div>\n\t}\n}","import { ArticlesBlock } from './blocks/Articles/ArticlesBlock';\nimport { ColumnsBlock } from './blocks/Columns/ColumnsBlock';\nimport { CookiesBlock } from './blocks/Cookies/CookiesBlock';\nimport { CounterBlock } from './blocks/Counter/CounterBlock';\nimport { CoversBlock } from './blocks/Covers/CoversBlock';\nimport { GalleryBlock } from './blocks/Gallery/GalleryBlock';\nimport { HappypointBlock } from './blocks/Happypoint/HappypointBlock';\nimport { MediaBlock } from './blocks/Media/MediaBlock';\nimport { SocialmediaBlock } from './blocks/Socialmedia/SocialmediaBlock';\nimport { SplittwocolumnsBlock } from './blocks/Splittwocolumns/SplittwocolumnsBlock';\nimport { SubmenuBlock } from './blocks/Submenu/SubmenuBlock';\nimport { TimelineBlock } from './blocks/Timeline/TimelineBlock';\nimport { addSubAndSuperscript } from './RichTextEnhancements';\n\nconst articlesBlock = new ArticlesBlock();\nconst columnsBlock = new ColumnsBlock();\nconst cookiesBlock = new CookiesBlock();\nconst counterBlock = new CounterBlock();\nconst coversBlock = new CoversBlock();\nconst galleryBlock = new GalleryBlock();\nconst happypointBlock = new HappypointBlock();\nconst mediaBlock = new MediaBlock();\nconst socialmediaBlock = new SocialmediaBlock();\nconst splittwocolumnsBlock = new SplittwocolumnsBlock();\nconst submenuBlock = new SubmenuBlock();\nconst timelineBlock = new TimelineBlock();\n\naddSubAndSuperscript(window.wp);\n","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"editor\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"React\"]; }());"],"sourceRoot":""}
>>>>>>> Add subscript and superscript options to the Rich Text editor
=======
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/src/blocks/Articles/Articles.js","webpack:///./assets/src/blocks/Articles/ArticlesBlock.js","webpack:///./assets/src/blocks/Columns/Columns.js","webpack:///./assets/src/blocks/Columns/ColumnsBlock.js","webpack:///./assets/src/blocks/Cookies/Cookies.js","webpack:///./assets/src/blocks/Cookies/CookiesBlock.js","webpack:///./assets/src/blocks/Counter/Counter.js","webpack:///./assets/src/blocks/Counter/CounterBlock.js","webpack:///./assets/src/blocks/Covers/Covers.js","webpack:///./assets/src/blocks/Covers/CoversBlock.js","webpack:///./assets/src/blocks/Covers/CoversIcon.js","webpack:///./assets/src/blocks/Gallery/Gallery.js","webpack:///./assets/src/blocks/Gallery/GalleryBlock.js","webpack:///./assets/src/blocks/Happypoint/Happypoint.js","webpack:///./assets/src/blocks/Happypoint/HappypointBlock.js","webpack:///./assets/src/blocks/Media/Media.js","webpack:///./assets/src/blocks/Media/MediaBlock.js","webpack:///./assets/src/blocks/Socialmedia/Socialmedia.js","webpack:///./assets/src/blocks/Socialmedia/SocialmediaBlock.js","webpack:///./assets/src/blocks/Splittwocolumns/Splittwocolumns.js","webpack:///./assets/src/blocks/Splittwocolumns/SplittwocolumnsBlock.js","webpack:///./assets/src/blocks/Submenu/MenuLevel.js","webpack:///./assets/src/blocks/Submenu/Submenu.js","webpack:///./assets/src/blocks/Submenu/SubmenuBlock.js","webpack:///./assets/src/blocks/Timeline/Timeline.js","webpack:///./assets/src/blocks/Timeline/TimelineBlock.js","webpack:///./assets/src/components/ImageOrButton/ImageOrButton.js","webpack:///./assets/src/components/LayoutSelector/LayoutSelector.js","webpack:///./assets/src/components/Preview.js","webpack:///./assets/src/editorIndex.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"editor\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":\"React\"}"],"names":["wp","apiFetch","addQueryArgs","url","Articles","props","tagTokens","tagsList","filter","tag","tags","includes","id","map","name","postTypeTokens","postTypesList","post_type","post_types","state","selectedPosts","populatePostsToken","posts","length","path","per_page","page","include","then","postsTokens","post","title","rendered","postsSuggestions","setState","postsList","tokens","search","orderby","post_status","tagIds","token","onSelectedTagsChange","postTypeIds","postType","onSelectedPostTypesChange","currentSelectedPosts","forEach","f","push","postIds","onSelectedPostsChange","__","i18n","tagSuggestions","postTypeSuggestions","article_heading","onTitleChange","articles_description","onDescriptionChange","read_more_text","onReadmoretextChange","read_more_link","onReadmorelinkChange","button_link_new_tab","e","onButtonLinkTabChange","article_count","onCountChange","ignore_categories","onIgnoreCategoriesChange","onPostsSearch","isSelected","renderEdit","Component","ArticlesBlock","registerBlockType","blocks","withSelect","data","icon","category","transforms","from","type","attributes","shortcode","named","split","default","edit","select","tagsTaxonomy","postTypesTaxonomy","args","hide_empty","getEntityRecords","setAttributes","value","Number","save","Columns","columns_title","columns_description","columns_block_style","columns","onSelectedLayoutChange","label","image","window","p4ge_vars","home","help","item","index","replace","onColumnHeaderChange","bind","description","onColumnDescriptionChange","onSelectImage","onSelectURL","onUploadError","cta_link","onCTALinkChange","link_new_tab","onLinkNewTabChange","cta_text","onCTAButtonTextChange","addColumn","removeColumn","ColumnsBlock","title_1","column","description_1","link_1","cta_text_1","link_new_tab_1","attachment","attachment_1","Object","assign","title_2","description_2","link_2","cta_text_2","link_new_tab_2","attachment_2","title_3","description_3","link_3","cta_text_3","link_new_tab_3","attachment_3","title_4","description_4","link_4","cta_text_4","link_new_tab_4","attachment_4","new_columns","message","console","log","i","slice","JSON","parse","stringify","Cookies","necessary_cookies_name","onNecessaryCookiesNameChange","necessary_cookies_description","onNecessaryCookiesDescriptionChange","all_cookies_name","onAllCookiesNameChange","all_cookies_description","onAllCookiesDescriptionChange","post_id","document","querySelector","CookiesBlock","supports","multiple","Counter","style","completed","onCompletedChange","completed_api","onCompletedAPIChange","target","onTargetChange","text","onTextChange","CounterBlock","Covers","searchTimeout","cover_type","queryArgs","post_parent","planet4_options","act_page","clearTimeout","setTimeout","searchPosts","covers_view","onRowsChange","CoversBlock","CoversIcon","Gallery","getImageOrButton","openEvent","image_data","padding","gallery_block_style","gallery_block_title","gallery_block_description","multiple_image","dimensions","width","height","multiple_image_array","open","onRemoveImages","focalPoint","onFocalPointChange","gallery_block_focus_points","GalleryBlock","image_urls_array","image_id_array","$","each","img_id","img_url","getMedia","media_details","sizes","medium","source_url","new_image_data","focal_points_json","x","y","isEmptyObject","parseInt","image_ids","key","join","image_id","updated_image_data","object","parseFloat","toFixed","Happypoint","focus_image","opacity","mailing_list_iframe","iframe_url","focal_point_params","focus_image_str","onOpacityChange","onMailingListIframeChange","onIframeUrlChange","load_iframe","HappypointBlock","onBackgroundChange","background","Media","video_title","youtube_id","onMediaUrlChange","instructions","video_poster_img","MediaBlock","Socialmedia","checkTwitterScript","checkInstagramScript","social_media_url","twitterScript","scriptLoaded","loadScriptAsync","initializeTwitterEmbeds","instaScript","initializeInstagramEmbeds","twttr","widgets","load","instgrm","Embeds","process","uri","Promise","resolve","reject","createElement","src","async","onload","body","getElementsByTagName","appendChild","embed_type_help","embed_type","onEmbedTypeChange","facebook_page_tab","onFacebookPageTabChange","onSocialMediaUrlChange","alignment_class","onAlignmentChange","SocialmediaBlock","Splittwocolumns","tag_list","unshift","issuepage_list","issuepageList","issue","raw","select_issue","issue_description","issue_link_text","issue_link_path","issue_image","focus_issue_image","select_tag","tag_description","button_text","button_link","tag_image","focus_tag_image","issue_image_url","tag_image_url","focus_issue_image_obj","focus_tag_image_obj","onSelectIssue","onIssueTitleChange","onIssueDescriptionChange","onIssueLinkTextChange","onIssueLinkPathChange","onSelectIssueImage","onIssueImageFocalPointChange","onSelectTag","onTagDescriptionChange","onButtonTextChange","onButtonLinkChange","onSelectCampaignImage","onCampaignImageFocalPointChange","SplittwocolumnsBlock","issuePage","taxonomy_args","issue_page_args","sort_order","sort_column","parent","explore_page","MenuLevel","heading","onHeadingChange","link","onLinkChange","onStyleChange","Submenu","submenu_style","levels","addLevel","removeLevel","SubmenuBlock","heading1","level","link1","style1","heading2","link2","style2","heading3","link3","style3","concat","onLayoutChange","Timeline","loadTimeline","prevProps","timelinejs_version","js","TL","google_sheets_url","timenav_position","start_at_end","language","position","languages","url_desc","timeline_title","onTimelineTitleChange","onGoogleSheetsUrlChange","onLanguageChange","onTimenavPositionChange","onStartAtEndChange","TimelineBlock","ImageOrButton","imageId","imageUrl","imgClass","buttonLabel","LayoutSelector","selectedOption","setSelected","option","options","layoutOption","display","__html","Preview","showBar","children","articlesBlock","columnsBlock","cookiesBlock","counterBlock","coversBlock","galleryBlock","happypointBlock","mediaBlock","socialmediaBlock","splittwocolumnsBlock","submenuBlock","timelineBlock"],"mappings":"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","file":"editorIndex.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/src/editorIndex.js\");\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  FormTokenField,\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Articles extends Component {\n  constructor(props) {\n    super(props);\n\n    // Populate tag tokens for saved tags.\n    let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n    // Populate post types tokens for saved post types.\n    let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n    this.state = {\n      tagTokens: tagTokens,\n      postTypeTokens: postTypeTokens,\n      selectedPosts: [],\n    };\n\n    this.populatePostsToken();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  populatePostsToken() {\n\n    if (this.props.posts.length > 0) {\n\n      apiFetch(\n        {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            include: this.props.posts\n          })\n        }\n      ).then(posts => {\n        const postsTokens = posts.map(post => post.title.rendered);\n        const postsSuggestions = posts.map(post => post.title.rendered);\n        this.setState({\n            postsTokens: postsTokens,\n            postsList: posts,\n            postsSuggestions: postsSuggestions,\n            selectedPosts: posts,\n          }\n        );\n      });\n    } else {\n      this.setState(\n        {\n          postsTokens: [],\n          postsList: [],\n          postsSuggestions: [],\n          selectedPosts: [],\n        }\n      );\n    }\n  }\n\n  /**\n   * Search posts using wp api.\n   *\n   * @param tokens\n   */\n  onPostsSearch(tokens) {\n\n    apiFetch(\n      {\n        path: addQueryArgs('/wp/v2/posts', {\n          per_page: 50,\n          page: 1,\n          search: tokens,\n          orderby: 'title',\n          post_status: 'publish',\n\n        })\n      }\n    ).then(posts => {\n      let postsSuggestions = posts.map(post => post.title.rendered);\n      this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n    });\n  }\n\n  onSelectedTagsChange(tokens) {\n    const tagIds = tokens.map(token => {\n      return this.props.tagsList.filter(tag => tag.name === token)[0].id;\n    });\n    this.props.onSelectedTagsChange(tagIds);\n    this.setState({tagTokens: tokens})\n  }\n\n  onSelectedPostTypesChange(tokens) {\n    const postTypeIds = tokens.map(token => {\n      return this.props.postTypesList.filter(postType => postType.name === token)[0].id;\n    });\n    this.props.onSelectedPostTypesChange(postTypeIds);\n    this.setState({postTypeTokens: tokens})\n  }\n\n  onSelectedPostsChange(tokens) {\n    // Array to hold references to selected posts objects.\n    let currentSelectedPosts = [];\n    tokens.forEach(token => {\n      let f = this.state.postsList.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n      f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n    });\n\n    const postIds = currentSelectedPosts.map(post => post.id);\n    this.props.onSelectedPostsChange(postIds);\n    this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const tagSuggestions = this.props.tagsList.map(tag => tag.name);\n    const postTypeSuggestions = this.props.postTypesList.map(postType => postType.name);\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'p4ge')}\n            placeholder={__('Enter title', 'p4ge')}\n            help={__('Your default is set to [ Latest Articles ]', 'p4ge')}\n            value={this.props.article_heading}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'p4ge')}\n            placeholder={__('Enter description', 'p4ge')}\n            value={this.props.articles_description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label={__('Button Text', 'p4ge')}\n            placeholder={__('Override button text', 'p4ge')}\n            help={__('Your default is set to [ Load More ]', 'p4ge')}\n            value={this.props.read_more_text}\n            onChange={this.props.onReadmoretextChange}\n          />\n        </div>\n\n\n        <div>\n          <TextControl\n            label={__('Button Link', 'p4ge')}\n            placeholder={__('Add read more button link', 'p4ge')}\n            value={this.props.read_more_link}\n            onChange={this.props.onReadmorelinkChange}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Open in a new Tab', 'p4ge')}\n            help={__('Open button link in new tab', 'p4ge')}\n            value={this.props.button_link_new_tab}\n            checked={this.props.button_link_new_tab}\n            onChange={(e) => this.props.onButtonLinkTabChange(e)}\n          />\n        </div>\n\n        {\n          this.props.posts !== 'undefined' && this.props.posts.length === 0\n            ?\n            <Fragment>\n              <div>\n                <TextControl\n                  label={__('Articles count', 'p4ge')}\n                  help={__('Number of articles', 'p4ge')}\n                  type=\"number\"\n                  value={this.props.article_count}\n                  onChange={this.props.onCountChange}\n                />\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label={__('Select Tags', 'p4ge')}\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                />\n                <p className='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.postTypeTokens}\n                  suggestions={postTypeSuggestions}\n                  label={__('Post Types', 'p4ge')}\n                  onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                />\n              </div>\n              <div className=\"ignore-categories-wrapper\">\n                <CheckboxControl\n                  label={__('Ignore categories', 'p4ge')}\n                  help={__('Ignore categories when filtering posts to populate the content of this block', 'p4ge')}\n                  value={this.props.ignore_categories}\n                  checked={this.props.ignore_categories}\n                  onChange={(e) => this.props.onIgnoreCategoriesChange(e)}\n                />\n              </div>\n            </Fragment>\n            : null\n        }\n\n        {\n          (this.props.tags.length === 0 && this.props.post_types.length === 0)\n            ? <div>\n              <hr/>\n              <label>{__('Manual override', 'p4ge')}</label>\n              <FormTokenField\n                value={this.state.postsTokens}\n                suggestions={this.state.postsSuggestions}\n                label={__('CAUTION: Adding articles individually will override the automatic functionality of this block. For good user experience, please include at least three articles so that spacing and alignment of the design remains in tact.', 'p4ge')}\n                onChange={tokens => this.onSelectedPostsChange(tokens)}\n                onInputChange={tokens => this.onPostsSearch(tokens)}\n                placeholder=\"Select Posts\"\n                maxLength=\"10\"\n                maxSuggestions=\"20\"\n              />\n            </div>\n            : null\n        }\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/articles'}\n            attributes={{\n              read_more_text: this.props.read_more_text,\n              read_more_link: this.props.read_more_link,\n              tags: this.props.tags,\n              post_types: this.props.post_types,\n              posts: this.props.posts,\n              article_heading: this.props.article_heading,\n              articles_description: this.props.articles_description,\n              article_count: this.props.article_count,\n              ignore_categories: this.props.ignore_categories,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Articles} from './Articles.js';\n\nexport class ArticlesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/articles', {\n      title: 'Articles',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_articles',\n            attributes: {\n              article_heading: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_heading;\n                }\n              },\n              articles_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.articles_description;\n                }\n              },\n              article_count: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_count;\n                }\n              },\n              read_more_text: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_text;\n                }\n              },\n              read_more_link: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_link;\n                }\n              },\n              button_link_new_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.button_link_new_tab;\n                }\n              },\n              ignore_categories: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.ignore_categories;\n                }\n              },\n              tags: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.tags.split(',') : [];\n                }\n              },\n              post_types: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.post_types.split(',') : [];\n                }\n              },\n              posts: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.posts.split(',') : [];\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        article_heading: {\n          type: 'string',\n        },\n        articles_description: {\n          type: 'string',\n        },\n        article_count: {\n          type: 'integer',\n          default: 3\n        },\n        tags: {\n          type: 'array',\n          default: []\n        },\n        posts: {\n          type: 'array',\n          default: []\n        },\n        post_types: {\n          type: 'array',\n          default: []\n        },\n        read_more_text: {\n          type: 'string'\n        },\n        read_more_link: {\n          type: 'string',\n          default: ''\n        },\n        button_link_new_tab: {\n          type: 'boolean',\n          default: false\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: withSelect((select) => {\n        const tagsTaxonomy = 'post_tag';\n        const postTypesTaxonomy = 'p4-page-type';\n        const args = {\n          hide_empty: false,\n          per_page: 50,\n        };\n        const {getEntityRecords} = select('core');\n\n        // We should probably wrap all these in a single call,\n        // or maybe use our own way of retrieving data from the\n        // API, I don't know how this scales.\n        const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n        const postTypesList = getEntityRecords('taxonomy', postTypesTaxonomy, args);\n\n        return {\n          postTypesList,\n          tagsList,\n        };\n      })(({\n            postTypesList,\n            tagsList,\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        if (!tagsList || !postTypesList) {\n          return \"Populating block's fields...\";\n        }\n\n        // TO-DO: Check for posts types and posts too...\n        if ((tagsList && tagsList.length === 0) || (postTypesList && postTypesList.length === 0)) {\n          return \"Populating block's fields...\";\n        }\n\n        // These methods are passed down to the\n        // Articles component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({article_heading: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({articles_description: value});\n        }\n\n        function onReadmoretextChange(value) {\n          setAttributes({read_more_text: value});\n        }\n\n        function onCountChange(value) {\n          setAttributes({article_count: Number(value)});\n        }\n\n        function onReadmorelinkChange(value) {\n          setAttributes({read_more_link: value});\n        }\n\n        function onButtonLinkTabChange(value) {\n          setAttributes({button_link_new_tab: value});\n        }\n\n        function onSelectedTagsChange(tagIds) {\n          setAttributes({tags: tagIds});\n        }\n\n        function onSelectedPostsChange(value) {\n          setAttributes({posts: value});\n        }\n\n        function onSelectedPostTypesChange(postTypeIds) {\n          setAttributes({post_types: postTypeIds});\n        }\n\n        function onIgnoreCategoriesChange(value) {\n          setAttributes({ignore_categories: value});\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Articles\n          {...attributes}\n          isSelected={isSelected}\n          tagsList={tagsList}\n          postTypesList={postTypesList}\n          onSelectedTagsChange={onSelectedTagsChange}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onCountChange={onCountChange}\n          onSelectedPostsChange={onSelectedPostsChange}\n          onSelectedPostTypesChange={onSelectedPostTypesChange}\n          onReadmoretextChange={onReadmoretextChange}\n          onReadmorelinkChange={onReadmorelinkChange}\n          onButtonLinkTabChange={onButtonLinkTabChange}\n          onIgnoreCategoriesChange={onIgnoreCategoriesChange}/>\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import { React } from 'react';\nimport {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender,\n  Dashicon,\n  Tooltip,\n  ToggleControl\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Columns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {columns_title,columns_description,columns_block_style,columns} = this.props;\n\n      return (\n        <Fragment>\n          <h3>{__('What style of column do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={columns_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('No Image', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-no_images.jpg',\n                  value: 'no_image',\n                  help: __('Optional headers, description text and buttons in a column display.', 'p4ge')\n                },\n                {\n                  label: __('Tasks', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-tasks.jpg',\n                  value: 'tasks',\n                  help: __('Used on Take Action pages, this display has ordered tasks, and call to action buttons.', 'p4ge')\n                },\n                {\n                  label: __('Icons', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-icons.jpg',\n                  value: 'icons',\n                  help: __('For more static content, this display has an icon, header, description and text link.', 'p4ge')\n                },\n                {\n                  label: __('Images', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-images.jpg',\n                  value: 'image',\n                  help: __('For more static content, this display has an image, header, description and text link.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter block title', 'p4ge')}\n              value={columns_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter block description', 'p4ge')}\n              value={columns_description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n          <div>\n\n            {columns.map((item, index) => {\n              return (\n                <div key={index}>\n                  <div><hr /><i>{__('In order for the column to appear at least <strong>Header or Body</strong> has to be filled.', 'p4ge')}</i></div>\n\n                  <TextControl\n                    label={__('Column %s: Header', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter header of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.title}\n                    onChange={this.props.onColumnHeaderChange.bind(this,index)}\n                  />\n                  <TextareaControl\n                    label={__('Column %s: Body', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter body of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.description}\n                    onChange={this.props.onColumnDescriptionChange.bind(this,index)}\n                  />\n\n                  { 'no_image' != columns_block_style &&\n                    <MediaPlaceholder\n                      labels={{ title: __('Column %s: Image', 'p4ge').replace('%s', index+1)}}\n                      icon=\"format-image\"\n                      onSelect={this.props.onSelectImage.bind(this,index)}\n                      onSelectURL={this.props.onSelectURL.bind(this,index)}\n                      onError={this.props.onUploadError}\n                      accept=\"image/*\"\n                      allowedTypes={[\"image\"]}\n                    />\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Button/CtA Link', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_link}\n                    onChange={this.props.onCTALinkChange.bind(this,index)}\n                  />\n                  <ToggleControl\n                    label={__('Open link in new tab', 'p4ge')}\n                    help={__('Open Column %s: Button/CtA Link in a new tab', 'p4ge').replace('%s', index+1)}\n                    value={item.link_new_tab}\n                    checked={item.link_new_tab}\n                    onChange={this.props.onLinkNewTabChange.bind(this,index)}\n                  />\n                  <TextControl\n                    label={__('Column %s: Button/CtA Text', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter text of button/link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_text}\n                    onChange={this.props.onCTAButtonTextChange.bind(this,index)}\n                  />\n                </div>\n              );\n            })}\n\n            { columns.length < 4 && (\n              <Tooltip text={__('Add Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__addIcon\"\n                  }\n                  onClick={this.props.addColumn}\n                >\n                  {__('Add Column', 'p4ge')} <Dashicon icon={\"plus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n\n            { columns.length > 0 && (\n              <Tooltip text={__('Remove Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__removeIcon\"\n                  }\n                  onClick={this.props.removeColumn}\n                >\n                  {__('Remove Column', 'p4ge')} <Dashicon icon={\"minus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/columns'}\n                  attributes={{\n                    columns_block_style: this.props.columns_block_style,\n                    columns_title: this.props.columns_title,\n                    columns_description: this.props.columns_description,\n                    columns: this.props.columns,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Columns} from './Columns.js';\n\nconst {__} = wp.i18n;\n\nexport class ColumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/columns', {\n        title: __('Columns', 'p4ge'),\n        icon: \"grid-view\",\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_columns columns_block_style=\"image\" columns_title=\"Lorem Ipsum\" columns_description=\"Lorem Ipsum\"\n         *                    title_1=\"col1\" description_1=\"col1 body\" attachment_1=\"5096\" link_1=\"cta link1\" link_new_tab_1=\"true\" cta_text_1=\"cta text\"\n         *                    title_2=\"col2\" description_2=\"col2 body\" attachment_2=\"5186\" link_2=\"cta link2\" link_new_tab_2=\"true\" cta_text_2=\"cta text 2\" link_new_tab_3=\"false\" link_new_tab_4=\"false\" /]\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/columns {\"columns_block_style\":\"image\",\"columns_title\":\"Lorem Ipsum\",\"columns_description\":\"Lorem Ipsum\",\n         *      \"columns\":[{\"title\":\"col1\",\"description\":\"col1 body\",\"attachment\":5096,\"cta_link\":\"cta link1\",\"cta_text\":\"cta text 1\",\"link_new_tab\":true},{\"title\":\"col2\",\"description\":\"col2 body\",\"attachment\":5186,\"cta_link\":\"cta link2\",\"cta_text\":\"cta text 2\",\"link_new_tab\":true}]} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_columns',\n              attributes: {\n                columns_block_style: {\n                  type: 'string',\n                  shortcode: ({named: {columns_block_style = ''}}) => columns_block_style,\n                },\n                columns_title: {\n                  type: 'string',\n                  shortcode: ({named: {columns_title = ''}}) => columns_title,\n                },\n                columns_description: {\n                  type: 'string',\n                  shortcode: ({named: {columns_description = ''}}) => columns_description,\n                },\n                columns: {\n                  type: 'array',\n                  shortcode: function (attributes) {\n                    let columns = [];\n                    if (attributes.named.title_1) {\n                      let column = {\n                        title: attributes.named.title_1,\n                        description: attributes.named.description_1 || '',\n                        cta_link: attributes.named.link_1 || '',\n                        cta_text: attributes.named.cta_text_1 || '',\n                        link_new_tab: attributes.named.link_new_tab_1 || false\n                      };\n                      if (attributes.named.columns_block_style != 'no_image')\n                        column.attachment = attributes.named.attachment_1 || false;\n                      columns.push(Object.assign({}, column));\n\n                      if (attributes.named.title_2) {\n                        let column = {\n                          title: attributes.named.title_2,\n                          description: attributes.named.description_2 || '',\n                          cta_link: attributes.named.link_2 || '',\n                          cta_text: attributes.named.cta_text_2 || '',\n                          link_new_tab: attributes.named.link_new_tab_2 || false\n                        };\n                        if (attributes.named.columns_block_style != 'no_image')\n                          column.attachment = attributes.named.attachment_2 || false;\n                        columns.push(Object.assign({}, column));\n\n                        if (attributes.named.title_3) {\n                          let column = {\n                            title: attributes.named.title_3,\n                            description: attributes.named.description_3 || '',\n                            cta_link: attributes.named.link_3 || '',\n                            cta_text: attributes.named.cta_text_3 || '',\n                            link_new_tab: attributes.named.link_new_tab_3 || false\n                          };\n                          if (attributes.named.columns_block_style != 'no_image')\n                            column.attachment = attributes.named.attachment_3 || false;\n                          columns.push(Object.assign({}, column));\n\n                          if (attributes.named.title_4) {\n                            let column = {\n                              title: attributes.named.title_4,\n                              description: attributes.named.description_4 || '',\n                              cta_link: attributes.named.link_4 || '',\n                              cta_text: attributes.named.cta_text_4 || '',\n                              link_new_tab: attributes.named.link_new_tab_4 || false\n                            };\n                            if (attributes.named.columns_block_style != 'no_image')\n                              column.attachment = attributes.named.attachment_4 || false;\n                            columns.push(Object.assign({}, column));\n                          }\n                        }\n                      }\n                    }\n                    return columns;\n                  },\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          columns_block_style: {\n            type: 'string',\n          },\n          columns_title: {\n            type: 'string'\n          },\n          columns_description: {\n            type: 'string'\n          },\n          columns: {\n            type: \"array\",\n            default: [],\n            title:{\n              type: 'string'\n            },\n            description:{\n              type: 'string'\n            },\n            attachment:{\n              type: 'string'\n            },\n            cta_link:{\n              type: 'string'\n            },\n            link_new_tab:{\n              type: 'string'\n            },\n            cta_text:{\n              type: 'string'\n            },\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n\n          function onTitleChange(value) {\n            setAttributes({columns_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({columns_description: value});\n          }\n\n          function onSelectImage(index, value) {\n            const {columns} = attributes;\n            let {id}          = value;\n            let new_columns   = [...columns];\n            new_columns[index]['attachment'] = id;\n            setAttributes({columns: new_columns});\n          }\n\n          function onSelectURL(index, value) {\n            const {columns} = attributes;\n            let {id} = null;\n            let new_columns = [...columns];\n            new_columns[index]['attachment'] = id;\n            setAttributes({columns: new_columns});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({columns_block_style: value});\n\n            if ( 'no_image' == value ) {\n              const {columns} = attributes;\n              if ( 0 < columns.length ) {\n                let new_columns = [...columns];\n                let i;\n                for ( i = 0; i < columns.length; i++ ) {\n                  new_columns[i]['attachment'] = '';\n                }\n                setAttributes({columns: new_columns});\n              }\n            }\n          }\n\n          function addColumn() {\n            const {columns} = attributes;\n\n            if ( columns.length < 4 ) {\n              setAttributes({\n                columns: [...columns, {\n                  title:'',\n                  description:'',\n                  attachment:'',\n                  cta_link:'',\n                  cta_text:'',\n                  link_new_tab:'',\n                }]\n              });\n            }\n          }\n\n          function removeColumn() {\n            setAttributes({columns: attributes.columns.slice(0, -1) });\n          }\n\n          function onColumnHeaderChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].title = value;\n            setAttributes({columns});\n          }\n\n          function onColumnDescriptionChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].description = value;\n            setAttributes({columns});\n          }\n\n          function onCTALinkChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_link = value;\n            setAttributes({columns});\n          }\n\n          function onLinkNewTabChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].link_new_tab = value;\n            setAttributes({columns});\n          }\n\n          function onCTAButtonTextChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_text = value;\n            setAttributes({columns});\n          }\n\n          return <Columns\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            addColumn={addColumn}\n            removeColumn={removeColumn}\n            onUploadError={onUploadError}\n            onColumnHeaderChange={onColumnHeaderChange}\n            onColumnDescriptionChange={onColumnDescriptionChange}\n            onCTALinkChange={onCTALinkChange}\n            onLinkNewTabChange={onLinkNewTabChange}\n            onCTAButtonTextChange={onCTAButtonTextChange}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\nexport class Cookies extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Cookies options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display opt-in options for cookies',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={this.props.title}\n              onChange={this.props.onTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"Necessary Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.necessary_cookies_name}\n              onChange={this.props.onNecessaryCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Necessary Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.necessary_cookies_description}\n              onChange={this.props.onNecessaryCookiesDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"All Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.all_cookies_name}\n              onChange={this.props.onAllCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"All Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.all_cookies_description}\n              onChange={this.props.onAllCookiesDescriptionChange}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/cookies'}\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              necessary_cookies_name: this.props.necessary_cookies_name,\n              necessary_cookies_description: this.props.necessary_cookies_description,\n              all_cookies_name: this.props.all_cookies_name,\n              all_cookies_description: this.props.all_cookies_description,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Cookies} from './Cookies.js';\n\nexport class CookiesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/cookies', {\n      title: 'Cookies',\n      icon: 'visibility',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_cookies',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              necessary_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_name;\n                }\n              },\n              necessary_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_description;\n                }\n              },\n              all_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_name;\n                }\n              },\n              all_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_description;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        necessary_cookies_name: {\n          type: 'string',\n        },\n        necessary_cookies_description: {\n          type: 'string',\n        },\n        all_cookies_name: {\n          type: 'string',\n        },\n        all_cookies_description: {\n          type: 'string',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onNecessaryCookiesNameChange(value) {\n          setAttributes({necessary_cookies_name: value});\n        }\n\n        function onNecessaryCookiesDescriptionChange(value) {\n          setAttributes({necessary_cookies_description: value});\n        }\n\n        function onAllCookiesNameChange(value) {\n          setAttributes({all_cookies_name: value});\n        }\n\n        function onAllCookiesDescriptionChange(value) {\n          setAttributes({all_cookies_description: value});\n        }\n\n        return <Cookies\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onNecessaryCookiesNameChange={onNecessaryCookiesNameChange}\n          onNecessaryCookiesDescriptionChange={onNecessaryCookiesDescriptionChange}\n          onAllCookiesNameChange={onAllCookiesNameChange}\n          onAllCookiesDescriptionChange={onAllCookiesDescriptionChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import { React, Component } from 'react';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nexport class Counter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const { __ } = wp.i18n;\n\n    return (\n      <div>\n        <h3>{ __('What style of counter do you need?', 'p4ge') }</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={ this.props.style }\n            onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n            options={[\n              {\n                label: __('Text Only', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_text.png',\n                value: 'plain',\n                help: __('Text to describe your progress', 'p4ge')\n              },\n              {\n                label: __('Progress Bar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'bar',\n                help: __('A bar to visualise the progress.', 'p4ge'),\n              },\n              {\n                label: __('Progress Dial', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_arc.png',\n                value: 'arc',\n                help: __('A dial to visualise the progress.', 'p4ge')\n              },\n              {\n                label: __('Progress bar inside EN Form', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'en-forms-bar',\n                help: __('A bar inside an En Form. Select this only if you are adding an EN Form to the same page.', 'p4ge')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Title', 'p4ge') }\n            placeholder= { __('Enter title', 'p4ge') }\n            value={ this.props.title }\n            onChange={ this.props.onTitleChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Description', 'p4ge') }\n            placeholder= { __('Enter description', 'p4ge') }\n            value={ this.props.description }\n            onChange={ this.props.onDescriptionChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed', 'p4ge') }\n            placeholder= { __('e.g. number of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.completed }\n            onChange={ this.props.onCompletedChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed API URL', 'p4ge') }\n            placeholder= { __('API URL of completed number. If filled in will overide the \\'Completed\\' field', 'p4ge') }\n            value={ this.props.completed_api }\n            onChange={ this.props.onCompletedAPIChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Target', 'p4ge') }\n            placeholder= { __('e.g. target no. of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.target }\n            onChange={ this.props.onTargetChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Text', 'p4ge') }\n            placeholder= { __('e.g. \"signatures collected of %target%\"', 'p4ge') }\n            value={ this.props.text }\n            onChange={ this.props.onTextChange }\n          />\n          <p className='FieldHelp'>These placeholders can be used: <code>%completed%</code>, <code>%target%</code>, <code>%remaining%</code> </p>\n        </div>\n\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={ this.props.isSelected }>\n          <ServerSideRender\n            block={ 'planet4-blocks/counter' }\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              style: this.props.style,\n              completed: this.props.completed,\n              completed_api: this.props.completed_api,\n              target: this.props.target,\n              text: this.props.text,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n};","import { Counter } from './Counter.js';\n\nexport class CounterBlock {\n  constructor() {\n    const { registerBlockType } = wp.blocks;\n    const { withSelect } = wp.data;\n\n    registerBlockType( 'planet4-blocks/counter', {\n      title: 'Counter',\n      icon: 'dashboard',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_counter',\n            attributes: {\n              style: {\n                type: 'string',\n                shortcode: ( { named: { style = 'plain' } } ) => style,\n              },\n              title: {\n                type: 'string',\n                shortcode: ( { named: { title = '' } } ) => title,\n              },\n              description: {\n                type: 'string',\n                shortcode: ( { named: { description = '' } } ) => description,\n              },\n              completed: {\n                type: 'integer',\n                shortcode: ( { named: { completed = 0 } } ) => completed,\n              },\n              completed_api: {\n                type: 'string',\n                shortcode: ( { named: { completed_api = '' } } ) => completed_api,\n              },\n              target: {\n                type: 'integer',\n                shortcode: ( { named: { target = 0 } } ) => target,\n              },\n              text: {\n                type: 'string',\n                shortcode: ( { named: { text = '' } } ) => text,\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        style: {\n          type: 'string',\n          default: 'plain'\n        },\n        completed: {\n          type: 'integer',\n        },\n        completed_api: {\n          type: 'string',\n        },\n        target: {\n          type: 'integer',\n        },\n        text: {\n          type: 'string',\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange( value ) {\n          setAttributes( { title: value } );\n        }\n\n        function onDescriptionChange( value ) {\n          setAttributes( { description: value } );\n        }\n\n        function onSelectedLayoutChange( value ) {\n          setAttributes( { style: value } );\n        }\n\n        function onCompletedChange( value ) {\n          setAttributes( { completed: Number(value) } );\n        }\n\n        function onCompletedAPIChange( value ) {\n          setAttributes( { completed_api: value } );\n        }\n\n        function onTargetChange( value ) {\n          setAttributes( { target: Number(value) } );\n        }\n\n        function onTextChange( value ) {\n          setAttributes( { text: value } );\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Counter\n          { ...attributes }\n          isSelected={ isSelected }\n          onTitleChange={ onTitleChange }\n          onDescriptionChange={ onDescriptionChange }\n          onSelectedLayoutChange={ onSelectedLayoutChange }\n          onCompletedChange={ onCompletedChange }\n          onCompletedAPIChange={ onCompletedAPIChange }\n          onTargetChange={ onTargetChange }\n          onTextChange={ onTextChange }   />\n      },\n      save() {\n        return null;\n      }\n    } );\n  };\n}\n\n","import React, { Component } from 'react';\n\nimport {\n  FormTokenField,\n  SelectControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\n\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Covers extends Component {\n    constructor(props) {\n      super(props);\n\n      // Populate tag tokens for saved tags.\n      let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n      // Populate post types tokens for saved post types.\n      let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n      // Populate component state with block's saved tags tokens and post type tokens\n      this.state = {\n        tagTokens: tagTokens,\n        postTypeTokens: postTypeTokens,\n        selectedPosts: [],\n      };\n\n      this.populatePostsToken();\n      this.searchTimeout = null;\n    }\n\n    static getDerivedStateFromProps(props, state) {\n\n      // Post types should be available for cover_type 3\n      // If cover_type is not 3, reset post types tokens.\n      if ('1' === props.cover_type || '2' === props.cover_type) {\n        state.postTypeTokens= [];\n      }\n\n      // If posts attribute was reset, reset also the posts tokens.\n      if (0 === props.posts.length) {\n        state.postsTokens= [];\n      }\n      return state;\n    }\n\n\n    /**\n     * Set component's state for existing blocks.\n     */\n    populatePostsToken() {\n\n      if (this.props.posts.length > 0) {\n\n        let post_type = this.props.cover_type === '1' ? 'pages' : 'posts';\n        apiFetch(\n          {\n            path: addQueryArgs('/wp/v2/'+ post_type, {\n              per_page: 50,\n              page: 1,\n              include: this.props.posts\n            })\n          }\n        ).then(posts => {\n          const postsTokens = posts.map(post => post.title.rendered);\n          const postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({\n              postsTokens: postsTokens,\n              postsList: posts,\n              postsSuggestions: postsSuggestions,\n              selectedPosts: posts,\n            }\n          );\n        });\n      } else {\n        this.setState(\n          {\n            postsTokens: [],\n            postsList: [],\n            postsSuggestions: [],\n            selectedPosts: [],\n          }\n        );\n      }\n    }\n\n    /**\n     * Search posts using wp api.\n     *\n     * @param tokens\n     */\n    searchPosts(tokens) {\n\n      let queryArgs;\n      if ('1' === this.props.cover_type) {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/pages', {\n            per_page: -1,\n            post_type: 'page',\n            post_parent: window.p4ge_vars.planet4_options.act_page,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      } else {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      }\n\n\n      apiFetch(queryArgs)\n        .then(posts => {\n          let postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n        });\n    }\n\n    onPostsSearch(token) {\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(function () {\n        this.searchPosts(token);\n      }.bind(this), 500);\n    }\n\n    onSelectedTagsChange(tokens) {\n      const tagIds = tokens.map( token => {\n        return this.props.tagsList.filter( tag => tag.name === token )[0].id;\n      });\n      this.props.onSelectedTagsChange(tagIds);\n      this.setState({ tagTokens: tokens })\n    }\n\n    onSelectedPostTypesChange(tokens) {\n      const postTypeIds = tokens.map( token => {\n        return this.props.postTypesList.filter( postType => postType.name === token )[0].id;\n      });\n      this.props.onSelectedPostTypesChange(postTypeIds);\n      this.setState({ postTypeTokens: tokens })\n    }\n\n    onSelectedPostsChange(tokens) {\n      // Array to hold references to selected posts objects.\n      let currentSelectedPosts = [];\n      tokens.forEach(token => {\n        let f = this.state.postsList.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n        f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n      });\n\n      const postIds = currentSelectedPosts.map(post => post.id);\n      this.props.onSelectedPostsChange(postIds);\n      this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n    }\n\n    renderEdit() {\n      const { __ } = wp.i18n;\n\n      const tagSuggestions = this.props.tagsList.map( tag => tag.name );\n      const postTypeSuggestions = this.props.postTypesList.map( postType => postType.name );\n\n      return (\n        <div>\n          <h3>{ __('What style of cover do you need?', 'p4ge') }</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={ this.props.cover_type }\n              onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n              options={[\n                {\n                  label: __('Take Action Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/take_action_covers.png',\n                  value: '1',\n                  help: __('Take action covers pull the featured image, tags, have a 25 character excerpt and have a call to action button')\n                },\n                {\n                  label: __('Campaign Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/campaign_covers.png',\n                  value: '2',\n                  help: __('Campaign covers pull the associated image and hashtag from the system tag definitions.'),\n                },\n                {\n                  label: __('Content Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/content_covers.png',\n                  value: '3',\n                  help: __('Content covers pull the image from the post.')\n                },\n              ]}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label=\"Rows to display\"\n              value={ this.props.covers_view }\n              options={ [\n                { label: '1 Row', value: '1' },\n                { label: '2 Rows', value: '2' },\n                { label: 'All rows', value: '3' },\n              ] }\n              onChange={ this.props.onRowsChange }\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={ this.props.title }\n              onChange={ this.props.onTitleChange }\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={ this.props.description }\n              onChange={ this.props.onDescriptionChange }\n            />\n          </div>\n\n          {\n            this.props.posts !== 'undefined' && this.props.posts.length === 0\n              ?\n              <div>\n\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label='Select Tags'\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                  placeholder=\"Select Tags\"\n                />\n                <p class='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              : null\n          }\n\n          {\n            this.props.cover_type === '3' && this.props.posts.length === 0\n              ? <FormTokenField\n                value={this.state.postTypeTokens}\n                suggestions={postTypeSuggestions}\n                label='Post Types'\n                onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                placeholder=\"Select Tags\"\n              />\n              : null\n          }\n\n          {\n            (this.props.cover_type === '1' || this.props.cover_type === '3') &&\n            (this.props.tags.length === 0 && this.props.post_types.length === 0)\n              ? <div>\n                <label>Manual override</label>\n                <FormTokenField\n                  value={this.state.postsTokens}\n                  suggestions={this.state.postsSuggestions}\n                  label='CAUTION: Adding covers manually will override the automatic functionality.'\n                  onChange={tokens => this.onSelectedPostsChange(tokens)}\n                  onInputChange={token => this.onPostsSearch(token)}\n                  placeholder=\"Select Tags\"\n                />\n              </div>\n              : null\n          }\n\n        </div>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={ this.props.isSelected }>\n                <ServerSideRender\n                  block={ 'planet4-blocks/covers' }\n                  attributes={{\n                    cover_type: this.props.cover_type,\n                    covers_view: this.props.covers_view,\n                    tags: this.props.tags,\n                    post_types: this.props.post_types,\n                    posts: this.props.posts,\n                    title: this.props.title,\n                    description: this.props.description,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n};\n","import { CoversIcon } from './CoversIcon.js';\nimport { Covers } from './Covers.js';\n\nexport class CoversBlock {\n    constructor() {\n      const { registerBlockType } = wp.blocks;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/covers', {\n        title: 'Covers',\n        icon: CoversIcon,\n        category: 'planet4-blocks',\n\n        // Transform the shortcode into a Gutenberg block\n        // this is used when a user clicks \"Convert to blocks\"\n        // on the \"Classic Editor\" block\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_newcovers',\n              attributes: {\n                cover_type: {\n                  type: 'integer',\n                  // This `shortcode` definition will be used as a callback,\n                  // it is a function which expects an object with at least\n                  // a `named` key with `cover_type` property whose default value is 1.\n                  // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n                  shortcode: ({named: {cover_type = '1'}}) => cover_type,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                covers_view: {\n                  type: 'string',\n                  shortcode: ({named: {covers_view = ''}}) => covers_view,\n                },\n                tags: {\n                  type: 'string',\n                  shortcode: ({named: {tags = ''}}) => tags.split(','),\n                },\n                post_types: {\n                  type: 'string',\n                  shortcode: ({named: {post_types = ''}}) => post_types.split(','),\n                },\n                posts: {\n                  type: 'string',\n                  shortcode: ({named: {posts = ''}}) => posts.split(','),\n                },\n              },\n            },\n          ]\n        },\n        // This attributes definition mimics the one in the PHP side.\n        attributes: {\n          title: {\n            type: 'string',\n          },\n          description: {\n            type: 'string',\n          },\n          tags: {\n            type: 'array',\n            default: []\n          },\n          posts: {\n            type: 'array',\n            default: []\n          },\n          post_types: {\n            type: 'array',\n            default: []\n          },\n          covers_view: {\n            type: 'string',\n            default: '1'\n          },\n          cover_type: {\n            type: 'string',\n          }\n        },\n        // withSelect is a \"Higher Order Component\", it works as\n        // a Decorator, it will provide some basic API functionality\n        // through `select`.\n        edit: withSelect( ( select ) => {\n          const tagsTaxonomy = 'post_tag';\n          const postTypesTaxonomy = 'p4-page-type';\n          const args = {\n            hide_empty: false,\n            per_page: -1,\n          };\n\n          const { getEntityRecords } = select( 'core' );\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords( 'taxonomy', tagsTaxonomy, args );\n          const postTypesList = getEntityRecords( 'taxonomy', postTypesTaxonomy );\n\n          return {\n            postTypesList,\n            tagsList,\n          };\n        } )( ( {\n          postTypesList,\n          tagsList,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n            if ( !tagsList || !postTypesList ) {\n                return \"Populating block's fields...\";\n            }\n\n            // TO-DO: Check for posts types and posts too...\n            if ( !tagsList && !tagsList.length === 0 ) {\n                return \"No tags...\";\n            }\n\n            // These methods are passed down to the\n            // Covers component, they update the corresponding attribute.\n\n            function onRowsChange( value ) {\n              setAttributes( { covers_view: value } );\n            }\n\n            function onTitleChange( value ) {\n              setAttributes( { title: value } );\n            }\n\n            function onDescriptionChange( value ) {\n              setAttributes( { description: value } );\n            }\n\n            function onSelectedTagsChange( tagIds ) {\n              setAttributes( { tags: tagIds } );\n            }\n\n            function onSelectedPostsChange(value) {\n              setAttributes({posts: value});\n            }\n\n            function onSelectedPostTypesChange( postTypeIds ) {\n              setAttributes( { post_types: postTypeIds } );\n            }\n\n            function onSelectedLayoutChange( value ) {\n\n              // Post types are available only on cover_type 3, so we reset the post_types attribute in the other 2 cases.\n              if ( '1' === value) {\n                setAttributes( { post_types: [] } );\n              }\n              if ( '2' === value) {\n                setAttributes( { post_types: []} );\n              }\n              // Reset posts attribute when changing layout also.\n              setAttributes({cover_type: value, posts: []});\n            }\n\n            // We pass down all the attributes to Covers as props using\n            // the spread operator. Then we selectively add more\n            // props.\n            return <Covers\n              { ...attributes }\n              isSelected={ isSelected }\n              tagsList={ tagsList }\n              postTypesList={ postTypesList }\n              onSelectedTagsChange={ onSelectedTagsChange }\n              onSelectedLayoutChange={ onSelectedLayoutChange }\n              onTitleChange={ onTitleChange }\n              onDescriptionChange={ onDescriptionChange }\n              onSelectedPostsChange={ onSelectedPostsChange }\n              onSelectedPostTypesChange={ onSelectedPostTypesChange }\n              onRowsChange={ onRowsChange } />\n        } ),\n        save() {\n          return null;\n        }\n      } );\n    };\n}\n\n","import { React, Component } from 'react';\n\nexport class CoversIcon extends Component {\n\trender() {\n\t\treturn <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 66 82.5\" enable-background=\"new 0 0 66 66\"><g><g><path d=\"M8.193,37.334l23.804-10.512v-8.007L6.099,30.093c-0.24,0.11-0.44,0.31-0.53,0.56c-0.1,0.24-0.09,0.52,0.01,0.76    L8.193,37.334z\"/><path d=\"M8.999,39.163l4.9,11.08c4.55-1.49,7.1,2.61,8.76,3.78c1.51-1.01,4.47-5.71,9.34-3.55v-21.47L8.999,39.163z     M21.059,42.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49    C21.779,42.033,21.559,42.623,21.059,42.853z M27.059,39.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33    l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49C27.779,39.033,27.559,39.623,27.059,39.853z\"/><path d=\"M33.998,26.816l24.005,10.392l2.416-5.816c0.21-0.5-0.02-1.08-0.52-1.3L33.998,18.813V26.816z\"/><path d=\"M33.999,28.993v22.77c0.95,0.8,2.02,2.26,2.44,2.26c1.97-1.66,3.56-4.08,6.88-4.08c4.21,0,6.03,4.07,6.9,4.07    c0.1-0.087,0.722-0.298,1.25-1.09l5.77-13.87L33.999,28.993z M41.269,39.823c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46    c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.83-0.72,1.33-0.49l1,0.46C41.279,38.733,41.499,39.323,41.269,39.823z M47.269,42.823    c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.82-0.72,1.33-0.49l1,0.46    C47.279,41.733,47.499,42.323,47.269,42.823z\"/></g><g><path d=\"M37.999,2.983v5.63h-10v-5.63c0-1.1,0.9-2,2-2h6C37.099,0.983,37.999,1.883,37.999,2.983z\"/></g><path d=\"M48.319,13.823c-0.38-1.86-2.03-3.21-3.93-3.21h-22.78c-1.9,0-3.55,1.35-3.92,3.21l-1.98,9.91   c5.27-2.31,11.32-4.94,17.29-7.54c1.02,0.45,9.84,4.29,17.29,7.54L48.319,13.823z M24.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1   h2c0.55,0,1,0.45,1,1S25.549,17.233,24.999,17.233z M42.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1h2c0.55,0,1,0.45,1,1   S43.549,17.233,42.999,17.233z\"/><path d=\"M64,62.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1C65,63.43,64.552,62.982,64,62.982z\"/><path d=\"M64,55.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1S64.552,55.982,64,55.982z\"/></g></svg>\n\t}\n}\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  Toolbar,\n  IconButton,\n  Button\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Gallery extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const getImageOrButton = (openEvent) => {\n        if ( 0 < this.props.image_data.length ) {\n\n          return (\n\n            this.props.image_data.map((item, index) => {\n              return (\n                <span>\n                  <img\n                    src={ item.url }\n                    onClick={ openEvent }\n                    className=\"gallery__imgs\"\n                    key={index}\n                    width='150 px'\n                    style={{padding: '10px 10px'}}\n                  />\n                </span>\n              );\n            })\n\n          );\n        }\n        else {\n          return (\n            <div className=\"button-container\">\n              <Button\n                onClick={ openEvent }\n                className=\"button\">\n                + {__('Select Gallery Images', 'p4ge')}\n              </Button>\n\n              <div>{__('Select images in the order you want them to appear.', 'p4ge')}</div>\n            </div>\n          );\n        }\n      };\n\n      const {__} = wp.i18n;\n\n      const {gallery_block_style , gallery_block_title , gallery_block_description , multiple_image , image_data} = this.props;\n\n      const dimensions = {width: 400, height: 100};\n\n      let multiple_image_array = multiple_image ? multiple_image.split(',') : [];\n\n      return (\n        <Fragment>\n          <BlockControls>\n            { 0 < image_data.length && (\n              <Toolbar>\n                { 0 < multiple_image_array.length && (\n                  <MediaUploadCheck>\n                    <MediaUpload\n                      onSelect={this.props.onSelectImage}\n                      allowedTypes={[\"image\"]}\n                      value={multiple_image_array}\n                      type=\"image\"\n                      multiple=\"true\"\n                      render={({ open }) => {\n                        return (\n                          <IconButton\n                            className=\"components-icon-button components-toolbar__control\"\n                            label={__(\n                              \"Edit Images\",\n                              \"mytheme-blocks\"\n                            )}\n                            onClick={open}\n                            icon=\"edit\"\n                          />\n                        );\n                      }}\n                    />\n                  </MediaUploadCheck>\n                )}\n                <IconButton\n                  className=\"components-icon-button components-toolbar__control\"\n                  label={__(\"Remove Images\", \"mytheme-blocks\")}\n                  onClick={this.props.onRemoveImages}\n                  icon=\"trash\"\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          <h3>{__('What style of gallery do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={gallery_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('Slider', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-slider.jpg',\n                  value: 1,\n                  help: __('The slider is a carousel of images. For more than 5 images, consider using a grid.', 'p4ge')\n                },\n                {\n                  label: __('3 Column', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-3-column.jpg',\n                  value: 2,\n                  help: __('The 3 column image display is great for accentuating text, and telling a visual story.', 'p4ge')\n                },\n                {\n                  label: __('Grid', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-grid.jpg',\n                  value: 3,\n                  help: __('The grid shows thumbnails of lots of images. Good to use when showing lots of activity.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={gallery_block_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('Please Enter Description', 'p4ge')}\n              value={gallery_block_description}\n              onChange={this.props.onDescriptionChange}\n            />\n\n            {__('Select Gallery Images', 'p4ge')}\n            <div>\n              <MediaUploadCheck>\n                <MediaUpload\n                  title={__('Select Gallery Images', 'p4ge')}\n                  type=\"image\"\n                  onSelect={this.props.onSelectImage}\n                  value={multiple_image_array}\n                  allowedTypes={[\"image\"]}\n                  multiple=\"true\"\n                  render={ ({ open }) => getImageOrButton(open) }\n                />\n              </MediaUploadCheck>\n            </div>\n\n            {image_data &&\n            <div\n              className={\n                \"wp-block-master-theme-gallery__FocalPointPicker\"\n              }\n            >\n              <ul>\n                {image_data.map((item, index) => {\n                  return (\n                    <li\n                      key={index}\n                    >\n                      {__('Select gallery image focal point', 'p4ge')}\n                      <FocalPointPicker\n                        url={item.url}\n                        dimensions={dimensions}\n                        value={item.focalPoint}\n                        onChange={this.props.onFocalPointChange.bind(this,item.id)}\n                        key={item.id}\n                      />\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n            }\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/gallery'}\n                  attributes={{\n                    gallery_block_style: this.props.gallery_block_style,\n                    gallery_block_title: this.props.gallery_block_title,\n                    gallery_block_description: this.props.gallery_block_description,\n                    multiple_image: this.props.multiple_image,\n                    gallery_block_focus_points: this.props.gallery_block_focus_points,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Gallery} from './Gallery';\n\nconst {__} = wp.i18n;\n\nexport class GalleryBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/gallery', {\n        title: __('Gallery', 'p4ge'),\n        icon: 'format-gallery',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_gallery gallery_block_style=\"2\" gallery_block_title=\"test title\"\n         *                    gallery_block_description=\"test desc\" multiple_image=\"23603,23602,23600,23596\"\n         *                    gallery_block_focus_points=\"{'23596':'left top','23597':'left top','23599':'left top'}\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/gallery {\"gallery_block_style\":3,\"gallery_block_title\":\"test title\",\"gallery_block_description\":\"test desc\",\n         *      \"multiple_image\":\"23603,23602,23600,23596\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_gallery',\n              attributes: {\n                gallery_block_style: {\n                  type: 'integer',\n                  shortcode: ({named: {gallery_block_style = ''}}) => gallery_block_style,\n                },\n                gallery_block_title: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_title = ''}}) => gallery_block_title,\n                },\n                gallery_block_description: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_description = ''}}) => gallery_block_description,\n                },\n                multiple_image: {\n                  type: 'string',\n                  shortcode: ({named: {multiple_image = ''}}) => multiple_image,\n                },\n                gallery_block_focus_points: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_focus_points = ''}}) => gallery_block_focus_points,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          gallery_block_style: {\n            type: 'number',\n            default: 1\n          },\n          gallery_block_title: {\n            type: 'string',\n          },\n          gallery_block_description: {\n            type: 'string',\n          },\n          multiple_image: {\n            type: 'string',\n          },\n          gallery_block_focus_points: {\n            type: 'string',\n          },\n          image_data: {\n            type: 'object',\n            default: []\n          },\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { multiple_image } = attributes;\n\n          let image_urls_array = [];\n\n          if ( multiple_image ) {\n            let image_id_array = multiple_image.split(',');\n\n            $.each(image_id_array, function( index, img_id ) {\n              let img_url = select('core').getMedia(img_id);\n              if ( img_url ) {\n                image_urls_array[img_id] = img_url.media_details.sizes.medium.source_url;\n              }\n            });\n          }\n\n          return {\n            image_urls_array\n          };\n        } )( ( {\n          image_urls_array,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          let {image_data,gallery_block_focus_points} = attributes;\n\n          // Prepare image_data array on edit gallery block.\n          if (0 == image_data.length && 0 < image_urls_array.length) {\n            let new_image_data = [];\n            let focal_points_json = gallery_block_focus_points ? JSON.parse(gallery_block_focus_points):{};\n\n            for (const img_id in image_urls_array) {\n\n              let x,y;\n              if ($.isEmptyObject(focal_points_json)) {\n                [x,y] = [50,50];\n              } else {\n                [x,y] = focal_points_json[img_id].replace(/\\%/g, '').split(' ');\n              }\n\n              new_image_data.push({\n                url: image_urls_array[img_id],\n                focalPoint: {\n                  x:parseInt(x)/100,\n                  y:parseInt(y)/100\n                },\n                id: img_id\n              });\n            }\n\n            setAttributes({image_data: new_image_data});\n          }\n\n          function onTitleChange( value ) {\n            setAttributes({gallery_block_title: value});\n          }\n\n          function onDescriptionChange( value ) {\n            setAttributes({gallery_block_description: value });\n          }\n\n          function onSelectImage(value) {\n            let image_ids = [];\n            let image_data = [];\n            for (const key in value) {\n              image_ids.push(value[key].id);\n              let img_id = value[key].id;\n              image_data.push({url: value[key].url, focalPoint: {x:0.5, y:0.5}, id: img_id});\n            }\n            setAttributes({multiple_image: image_ids.join(',')});\n            setAttributes({image_data: image_data});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({gallery_block_style: Number(value)});\n          }\n\n          function onFocalPointChange( image_id, value ) {\n\n            let updated_image_data = [];\n            let gallery_block_focus_points = {};\n\n            image_data.map(function(object){\n              if (object.id === image_id) {\n                let x = parseFloat(value.x).toFixed(2);\n                let y = parseFloat(value.y).toFixed(2);\n\n                updated_image_data.push({url: object.url, focalPoint: {x,y}, id: image_id});\n                gallery_block_focus_points[image_id] = (x*100)+'% '+(y*100)+'%';\n\n              } else {\n                updated_image_data.push(object);\n                let img_id = object.id;\n                gallery_block_focus_points[img_id] = parseInt(object.focalPoint.x*100)+'% '+parseInt(object.focalPoint.y*100)+'%';\n              }\n            });\n\n            setAttributes({gallery_block_focus_points: JSON.stringify(gallery_block_focus_points)});\n            setAttributes({image_data: updated_image_data});\n          }\n\n          function onRemoveImages() {\n            setAttributes({multiple_image: ''});\n            setAttributes({gallery_block_focus_points: ''});\n            setAttributes({image_data: []});\n          }\n\n          return <Gallery\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onSelectImage={onSelectImage}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {Component,Fragment} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\n\nimport {\n  MediaPlaceholder,\n  InspectorControls,\n  BlockControls,\n  MediaUpload,\n  MediaUploadCheck\n} from '@wordpress/editor';\n\nimport {\n  TextControl,\n  ServerSideRender,\n  FocalPointPicker,\n  ToggleControl,\n  RangeControl,\n  PanelBody,\n  Button,\n  Toolbar,\n  IconButton\n} from '@wordpress/components';\n\nexport class Happypoint extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const dimensions = {width: 400, height: 100};\n\n      const {focus_image, opacity, mailing_list_iframe, iframe_url, url, id} = this.props;\n\n      let focal_point_params = {x:'',y:''};\n\n      if (focus_image) {\n        let focus_image_str = focus_image.replace(/%/g, '');\n        let [x, y] = focus_image_str.split(' ');\n        focal_point_params = {x: x/100,y: y/100};\n      } else {\n        focal_point_params = {x:0.5, y:0.5};\n      }\n\n      const getImageOrButton = (openEvent) => {\n        if ( this.props.id && ( 0 < this.props.id ) ) {\n\n          return (\n\n            <div align='center'>\n              <img\n                src={ this.props.url }\n                onClick={ openEvent }\n                className='happypoint__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n            </div>\n\n          );\n        }\n        else {\n          return (\n            <div className='button-container'>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Background Image', 'p4ge')}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <InspectorControls>\n            <PanelBody title={__('Setting', 'p4ge')}>\n              <RangeControl\n                label={__('Opacity', 'p4ge')}\n                value={opacity}\n                onChange={this.props.onOpacityChange}\n                min={1}\n                max={100}\n                initialPosition={opacity}\n                help={__('We use an overlay to fade the image back. Use a number between 1 and 100, the higher the number, the more faded the image will look. If you leave this empty, the default of 30 will be used.', 'p4ge')}\n              />\n              <ToggleControl\n                label={__('Use mailing list iframe', 'p4ge')}\n                help={__('Use mailing list iframe', 'p4ge')}\n                value={mailing_list_iframe}\n                checked={this.props.mailing_list_iframe}\n                onChange={this.props.onMailingListIframeChange}\n              />\n              <TextControl\n                label={__('Iframe url', 'p4ge')}\n                placeholder={__('Enter Iframe url', 'p4ge')}\n                help={__('If a url is set in this field and the \\'mailing list iframe\\' option is enabled, it will override the planet4 engaging network setting.', 'p4ge')}\n                value={iframe_url}\n                onChange={this.props.onIframeUrlChange}\n              />\n            </PanelBody>\n          </InspectorControls>\n          <BlockControls>\n            { this.props.id && ( 0 < this.props.id ) && (\n              <Toolbar>\n                <MediaUploadCheck>\n                  <MediaUpload\n                    onSelect={this.props.onSelectImage}\n                    allowedTypes={['image']}\n                    value={id}\n                    type='image'\n                    render={({ open }) => {\n                      return (\n                        <IconButton\n                          className='components-icon-button components-toolbar__control'\n                          label={__('Edit Image', 'p4ge')}\n                          onClick={open}\n                          icon='edit'\n                        />\n                      );\n                    }}\n                  />\n                </MediaUploadCheck>\n                <IconButton\n                  className='components-icon-button components-toolbar__control'\n                  label={__('Remove Image', 'p4ge')}\n                  onClick={this.props.onRemoveImages}\n                  icon='trash'\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          {__('Select Background Image', 'p4ge')}\n          <div>\n            <MediaUploadCheck>\n              <MediaUpload\n                title={__('Select Background Image', 'p4ge')}\n                type='image'\n                onSelect={this.props.onSelectImage}\n                value={id}\n                allowedTypes={['image']}\n                render={ ({ open }) => getImageOrButton(open) }\n              />\n            </MediaUploadCheck>\n          </div>\n          {id && 0 < id &&\n            <div>\n              {__('Select focus point for background image', 'p4ge')}\n              <FocalPointPicker\n                url={url}\n                dimensions={dimensions}\n                value={focal_point_params}\n                onChange={this.props.onFocalPointChange}\n              />\n            </div>\n          }\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/happypoint'}\n                  attributes={{\n                    id: this.props.id,\n                    focus_image: this.props.focus_image,\n                    opacity: this.props.opacity,\n                    mailing_list_iframe: this.props.mailing_list_iframe,\n                    iframe_url: this.props.iframe_url,\n                    load_iframe: true,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Happypoint} from './Happypoint';\n\nexport class HappypointBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/happypoint', {\n        title: __('Happypoint', 'p4ge'),\n        icon: 'format-image',\n        category: 'planet4-blocks',\n\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_happy_point background=\"4968\" focus_image=\"center center\" opacity=\"60\" mailing_list_iframe=\"true\" iframe_url=\"https%3A%2F%2Fact.greenpeace.org%2Fpage%2F34215%2Fsubscribe%2F1\" /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/happypoint {\"focus_image\":\"50% 50%\",\"opacity\":60,\"mailing_list_iframe\":true,\"iframe_url\":\"https://act.greenpeace.org/page/34215/subscribe/1\",\"id\":4968} /-->\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_happy_point',\n              attributes: {\n                opacity: {\n                  type: 'integer',\n                  shortcode: ({named: {opacity = ''}}) => opacity,\n                },\n                id: {\n                  type: 'integer',\n                  shortcode: ({named: {id = ''}}) => id,\n                },\n                focus_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_image = ''}}) => focus_image,\n                },\n                mailing_list_iframe: {\n                  type: 'string',\n                  shortcode: ({named: {mailing_list_iframe = ''}}) => mailing_list_iframe,\n                },\n                iframe_url: {\n                  type: 'string',\n                  shortcode: ({named: {iframe_url = ''}}) => iframe_url,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          focus_image: {\n            type: 'string',\n          },\n          opacity: {\n            type: 'number',\n            default: 60\n          },\n          mailing_list_iframe: {\n            type: 'boolean',\n          },\n          iframe_url: {\n            type: 'string',\n          },\n          id: {\n            type: 'number',\n          },\n          load_iframe: {\n            type: 'boolean',\n            default: false\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n          const { attributes } = props;\n          const { id } = attributes;\n          let img_url = '';\n\n          if (id && (0 < id)) {\n            img_url = select('core').getMedia(id);\n            if(img_url){\n              img_url = img_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          return {\n            img_url\n          };\n        } )( ( {\n          img_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n          function onBackgroundChange( value ) {\n            setAttributes({background: value});\n          }\n\n          function onOpacityChange( value ) {\n            setAttributes({opacity: value});\n          }\n\n          function onMailingListIframeChange( value ) {\n            setAttributes({mailing_list_iframe: value});\n          }\n\n          function onIframeUrlChange( value ) {\n            setAttributes({iframe_url: value});\n          }\n\n          function onFocalPointChange( {x,y} ) {\n            x = parseFloat(x).toFixed(2);\n            y = parseFloat(y).toFixed(2);\n            setAttributes({focus_image: (x*100)+'% '+(y*100)+'%'});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({id});\n          }\n\n          function onRemoveImages() {\n            setAttributes({id: -1});\n            setAttributes({focus_image: ''});\n          }\n\n          return <Happypoint\n            {...attributes}\n            isSelected={isSelected}\n            url={img_url}\n            onSelectImage={onSelectImage}\n            onOpacityChange={onOpacityChange}\n            onMailingListIframeChange={onMailingListIframeChange}\n            onIframeUrlChange={onIframeUrlChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\n\nexport class Media extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {video_title,description,youtube_id} = this.props;\n\n      return (\n        <Fragment>\n          <div>\n            <TextControl\n              label={__('Media Title', 'p4ge')}\n              placeholder={__('Enter video title', 'p4ge')}\n              value={video_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={description}\n              onChange={this.props.onDescriptionChange}\n            />\n            <TextControl\n              label={__('Media URL/ID', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              value={youtube_id}\n              onChange={this.props.onMediaUrlChange}\n              help={__('Can be a YouTube, Vimeo or Soundcloud URL or an mp4, mp3 or wav file URL.', 'p4ge')}\n            />\n            <MediaPlaceholder\n              labels={{ title: __('Video poster image [Optional]', 'p4ge'), instructions: __('Applicable for .mp4 video URLs only.', 'p4ge')}}\n              icon=\"format-image\"\n              onSelect={this.props.onSelectImage}\n              onSelectURL={this.props.onSelectURL}\n              onError={this.props.onUploadError}\n              accept=\"image/*\"\n              allowedTypes={[\"image\"]}\n            />\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                { this.props.youtube_id &&\n                  <ServerSideRender\n                    block={'planet4-blocks/media-video'}\n                    attributes={{\n                      video_title: this.props.video_title,\n                      description: this.props.description,\n                      youtube_id: this.props.youtube_id,\n                      video_poster_img: this.props.video_poster_img,\n                    }}>\n                  </ServerSideRender>\n                }\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Media} from './Media';\n\nconst {__} = wp.i18n;\n\nexport class MediaBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/media-video', {\n        title: __('Media block', 'p4ge'),\n        icon: 'format-video',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_media_video video_title=\"Lorem Ipsum\"\n         *                        description=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\"\n         *                        youtube_id=\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\"\n         *                        video_poster_img=\"23241\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/media-video {\"video_title\":\"Lorem Ipsum\",\"description\":\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\",\"youtube_id\":\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\"video_poster_img\":23241} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_media_video',\n              attributes: {\n                video_title: {\n                  type: 'string',\n                  shortcode: ({named: {video_title = ''}}) => video_title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                youtube_id: {\n                  type: 'string',\n                  shortcode: ({named: {youtube_id = ''}}) => youtube_id,\n                },\n                video_poster_img: {\n                  type: 'integer',\n                  shortcode: ({named: {video_poster_img = ''}}) => video_poster_img,\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          video_title: {\n            type: 'string'\n          },\n          description: {\n            type: 'string'\n          },\n          youtube_id: {\n            type: 'string'\n          },\n          video_poster_img: {\n            type: 'integer'\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n          function onTitleChange(value) {\n            setAttributes({video_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({description: value});\n          }\n\n          function onMediaUrlChange(value) {\n            setAttributes({youtube_id: value});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({video_poster_img: id});\n          }\n\n          function onSelectURL({url}) {\n            setAttributes({id: null});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          return <Media\n            {...attributes}\n            isSelected={isSelected}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onMediaUrlChange={onMediaUrlChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            onUploadError={onUploadError}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\nimport {\n  RadioControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Socialmedia extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  componentDidUpdate() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  /**\n   * Check if twitter embeds script is loaded and initiliaze it.\n   */\n  checkTwitterScript() {\n    if (this.props.social_media_url.includes('twitter')) {\n      let twitterScript = document.querySelector('script[src=\"https://platform.twitter.com/widgets.js\"]');\n\n      if (null === twitterScript) {\n        let scriptLoaded = this.loadScriptAsync('https://platform.twitter.com/widgets.js');\n        scriptLoaded.then(function () {\n          this.initializeTwitterEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeTwitterEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Check if instgram embeds script is loaded and initiliaze it.\n   */\n  checkInstagramScript() {\n    if (this.props.social_media_url.includes('instagram')) {\n      let instaScript = document.querySelector('script[src=\"https://www.instagram.com/embed.js\"]');\n\n      if (null === instaScript) {\n        let scriptLoaded = this.loadScriptAsync('https://www.instagram.com/embed.js');\n        scriptLoaded.then(function () {\n          this.initializeInstagramEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeInstagramEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Initialize twitter embeds.\n   */\n  initializeTwitterEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.twttr) {\n        window.twttr.widgets.load();\n      }\n    }, 2000);\n  }\n\n  /**\n   * Initialize instagram embeds.\n   */\n  initializeInstagramEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.instgrm) {\n        window.instgrm.Embeds.process();\n      }\n    }, 3000);\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const embed_type_help = __('Select oEmbed for the following types of social media<br>- Twitter: tweet, profile, list, collection, likes, moment<br>- Facebook: post, activity, photo, video, media, question, note<br>- Instagram: image', 'planet4-blocks-backend');\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'planet4-blocks-backend')}\n            placeholder={__('Enter title', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'planet4-blocks-backend')}\n            placeholder={__('Enter description', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <RadioControl\n            label={__('Embed type', 'planet4-blocks-backend')}\n            help={\n              <RawHTML>{embed_type_help}</RawHTML>\n            }\n            options={[\n              {label: 'oEmbed', value: 'oembed'},\n              {label: 'Facebook page', value: 'facebook_page'},\n            ]}\n            selected={this.props.embed_type}\n            onChange={this.props.onEmbedTypeChange}\n          />\n        </div>\n\n        {\n          this.props.embed_type === 'facebook_page'\n            ?\n            <div>\n              <SelectControl\n                label={__('What Facebook page content would you like to display?', 'planet4-blocks-backend')}\n                value={this.props.facebook_page_tab}\n                options={[\n                  {label: 'Timeline', value: 'timeline'},\n                  {label: 'Events', value: 'events'},\n                  {label: 'Mesages', value: 'messages'},\n                ]}\n                onChange={this.props.onFacebookPageTabChange}\n              />\n            </div>\n            : null\n        }\n\n        <div>\n          <TextControl\n            label={__('URL', 'planet4-blocks-backend')}\n            placeholder={__('Enter URL', 'planet4-blocks-backend')}\n            value={this.props.social_media_url}\n            onChange={this.props.onSocialMediaUrlChange}\n          />\n        </div>\n\n        <div>\n          <SelectControl\n            label={__('Alignment', 'planet4-blocks-backend')}\n            value={this.props.alignment_class}\n            options={[\n              {label: 'None', value: ''},\n              {label: 'Left', value: 'alignleft'},\n              {label: 'Center', value: 'aligncenter'},\n              {label: 'Right', value: 'alignright'},\n            ]}\n            onChange={this.props.onAlignmentChange}\n          />\n        </div>\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n            <ServerSideRender\n              block={'planet4-blocks/social-media'}\n              attributes={{\n                title: this.props.title,\n                description: this.props.description,\n                embed_type: this.props.embed_type,\n                facebook_page_tab: this.props.facebook_page_tab,\n                social_media_url: this.props.social_media_url,\n                alignment_class: this.props.alignment_class,\n              }}>\n            </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Socialmedia} from './Socialmedia.js';\n\nexport class SocialmediaBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {__} = wp.i18n;\n\n    registerBlockType('planet4-blocks/social-media', {\n      title: __('Social Media', 'p4ge'),\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_social_media',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              embed_type: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.embed_type;\n                }\n              },\n              facebook_page_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.facebook_page_tab;\n                }\n              },\n              social_media_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.social_media_url;\n                }\n              },\n              alignment_class: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.alignment_class;\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        title: {\n          type: 'string',\n          default: '',\n        },\n        description: {\n          type: 'string',\n          default: '',\n        },\n        embed_type: {\n          type: 'string',\n          default: 'oembed'\n        },\n        facebook_page_tab: {\n          type: 'string',\n          default: 'timeline'\n        },\n        social_media_url: {\n          type: 'string',\n          default: ''\n        },\n        alignment_class: {\n          type: 'string',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        // These methods are passed down to the\n        // Socialmedia component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onEmbedTypeChange(value) {\n          setAttributes({embed_type: value});\n        }\n\n        function onFacebookPageTabChange(value) {\n          setAttributes({facebook_page_tab: value});\n        }\n\n        function onSocialMediaUrlChange(value) {\n          setAttributes({social_media_url: value});\n        }\n\n        function onAlignmentChange(value) {\n          setAttributes({alignment_class: value});\n        }\n\n\n        // We pass down all the attributes to Socialmedia as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Socialmedia\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onEmbedTypeChange={onEmbedTypeChange}\n          onFacebookPageTabChange={onFacebookPageTabChange}\n          onSocialMediaUrlChange={onSocialMediaUrlChange}\n          onAlignmentChange={onAlignmentChange} />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  SelectControl\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\n\nexport class Splittwocolumns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      let tag_list   = this.props.tagsList.map((tag) => ({label: tag.name, value: tag.id}));\n      tag_list.unshift({label: '--Select Tag--', value: 0});\n\n      let issuepage_list = this.props.issuepageList.map((issue) => ({label: issue.title.raw, value: issue.id}));\n      issuepage_list.unshift({label: '--Select Issue--', value: 0});\n\n      const {__} = wp.i18n;\n\n      const {\n        select_issue,\n        title,\n        issue_description,\n        issue_link_text,\n        issue_link_path,\n        issue_image,\n        focus_issue_image,\n        select_tag,\n        tag_description,\n        button_text,\n        button_link,\n        tag_image,\n        focus_tag_image,\n        issue_image_url,\n        tag_image_url\n      } = this.props;\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_issue_image_obj = {x: 0.5,y: 0.5};\n      if (focus_issue_image) {\n        let [x,y] = focus_issue_image.replace(/\\%/g, '').split(' ');\n        focus_issue_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_tag_image_obj = {x: 0.5,y: 0.5};\n      if (focus_tag_image) {\n        let [x,y] = focus_tag_image.replace(/\\%/g, '').split(' ');\n        focus_tag_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      const dimensions = {width: 400, height: 100};\n\n      return (\n        <Fragment>\n          <h3>{__('Issue fields (Column 1 - Left side)', 'p4ge')}</h3>\n          <div>\n            {issuepage_list &&\n              <SelectControl\n                label={__('Select an issue', 'p4ge')}\n                value={select_issue}\n                options={issuepage_list}\n                onChange={this.props.onSelectIssue}\n              />\n            }\n            <TextControl\n              label={__('Issue Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={title}\n              onChange={this.props.onIssueTitleChange}\n              help={__('(Optional) Fill this only if you need to override issue title.', 'p4ge')}\n            />\n            <TextareaControl\n              label={__('Issue Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional) Fill this only if you need to override issue description.', 'p4ge')}\n              value={issue_description}\n              onChange={this.props.onIssueDescriptionChange}\n            />\n            <TextControl\n              label={__('Issue link text', 'p4ge')}\n              placeholder={__('Enter link text', 'p4ge')}\n              value={issue_link_text}\n              onChange={this.props.onIssueLinkTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Issue link path', 'p4ge')}\n              placeholder={__('Enter link path', 'p4ge')}\n              value={issue_link_path}\n              onChange={this.props.onIssueLinkPathChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Issue Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Issue', 'p4ge')}\n              onSelectImage={this.props.onSelectIssueImage}\n              imageId={issue_image}\n              imageUrl={issue_image_url}\n              buttonLabel={__('+ Select Image for Issue', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-issue-imgs'\n            />\n\n            {issue_image &&\n            <div>\n              {__('Select focal point for issue image', 'p4ge')}\n              <FocalPointPicker\n                url={issue_image_url}\n                dimensions={dimensions}\n                value={focus_issue_image_obj}\n                onChange={this.props.onIssueImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n          <h3>{__('Campaign fields (Column 2 - Right side)', 'p4ge')}</h3>\n          <div>\n            {tag_list &&\n              <SelectControl\n                label={__('Select a tag', 'p4ge')}\n                value={select_tag}\n                options={tag_list}\n                onChange={this.props.onSelectTag}\n              />\n            }\n            <TextareaControl\n              label={__('Campaign Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={tag_description}\n              onChange={this.props.onTagDescriptionChange}\n            />\n            <TextControl\n              label={__('Campaign button text', 'p4ge')}\n              placeholder={__('Enter button text', 'p4ge')}\n              value={button_text}\n              onChange={this.props.onButtonTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Campaign button link', 'p4ge')}\n              placeholder={__('Enter button link', 'p4ge')}\n              value={button_link}\n              onChange={this.props.onButtonLinkChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Campaign Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Campaign', 'p4ge')}\n              onSelectImage={this.props.onSelectCampaignImage}\n              imageId={tag_image}\n              imageUrl={tag_image_url}\n              buttonLabel={__('+ Select Image for Campaign', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-tag_imgs'\n            />\n\n            {tag_image &&\n            <div>\n              {__('Select focal point for campaign image', 'p4ge')}\n              <FocalPointPicker\n                url={tag_image_url}\n                dimensions={dimensions}\n                value={focus_tag_image_obj}\n                onChange={this.props.onCampaignImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/split-two-columns'}\n                  attributes={{\n                    select_issue: this.props.select_issue,\n                    title: this.props.title,\n                    issue_description: this.props.issue_description,\n                    issue_link_text: this.props.issue_link_text,\n                    issue_link_path: this.props.issue_link_path,\n                    issue_image: this.props.issue_image,\n                    focus_issue_image: this.props.focus_issue_image,\n                    select_tag: this.props.select_tag,\n                    tag_description: this.props.tag_description,\n                    button_text: this.props.button_text,\n                    button_link: this.props.button_link,\n                    tag_image: this.props.tag_image,\n                    focus_tag_image: this.props.focus_tag_image,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Splittwocolumns} from './Splittwocolumns';\n\nconst {__} = wp.i18n;\n\nexport class SplittwocolumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/split-two-columns', {\n        title: __('Split Two Columns', 'p4ge'),\n        icon: 'format-gallery',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_split_two_columns select_issue=\"13813\" title=\"lorem ipsum\" issue_description=\"lorem ipsum\" issue_link_text=\"test link\"\n         *        issue_link_path=\"http://www.googlw.com\" issue_image=\"23634\" focus_issue_image=\"right top\" select_tag=\"19\"\n         *        tag_description=\"lorem ipsum\" button_text=\"btn text\" button_link=\"http://www.google.com\" tag_image=\"23634\" focus_tag_image=\"right top\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/split-two-columns {\"select_issue\":2079,\"title\":\"Lorem Ipsum\",\"issue_description\":\"Lorem Ipsum\",\"issue_link_text\":\"tets link\",\"issue_link_path\":\"http://www.google.com\",\"issue_image\":23634,\"focus_issue_image\":\"33% 60%\",\"select_tag\":65,\"tag_description\":\"Lorem Ipsum\",\"button_text\":\"btn text\",\"button_link\":\"http://www.google.com\",\"tag_image\":23634,\"focus_tag_image\":\"30% 79%\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_split_two_columns',\n              attributes: {\n                select_issue: {\n                  type: 'integer',\n                  shortcode: ({named: {select_issue = ''}}) => select_issue,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                issue_description: {\n                  type: 'string',\n                  shortcode: ({named: {issue_description = ''}}) => issue_description,\n                },\n                issue_link_text: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_text = ''}}) => issue_link_text,\n                },\n                issue_link_path: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_path = ''}}) => issue_link_path,\n                },\n                issue_image: {\n                  type: 'integer',\n                  shortcode: ({named: {issue_image = ''}}) => issue_image,\n                },\n                focus_issue_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_issue_image = ''}}) => focus_issue_image,\n                },\n                select_tag: {\n                  type: 'integer',\n                  shortcode: ({named: {select_tag = ''}}) => select_tag,\n                },\n                tag_description: {\n                  type: 'string',\n                  shortcode: ({named: {tag_description = ''}}) => tag_description,\n                },\n                button_text: {\n                  type: 'string',\n                  shortcode: ({named: {button_text = ''}}) => button_text,\n                },\n                button_link: {\n                  type: 'string',\n                  shortcode: ({named: {button_link = ''}}) => button_link,\n                },\n                tag_image: {\n                  type: 'integer',\n                  shortcode: ({named: {tag_image = ''}}) => tag_image,\n                },\n                focus_tag_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_tag_image = ''}}) => focus_tag_image,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          select_issue: {\n            type: 'number',\n            default: 0,\n          },\n          title: {\n            type: 'string',\n          },\n          issue_description: {\n            type: 'string',\n          },\n          issue_link_text: {\n            type: 'string',\n          },\n          issue_link_path: {\n            type: 'string',\n          },\n          issue_image: {\n            type: 'number',\n          },\n          focus_issue_image: {\n            type: 'string',\n          },\n          select_tag: {\n            type: 'number',\n            default: 0,\n          },\n          tag_description: {\n            type: 'string',\n          },\n          button_text: {\n            type: 'string',\n          },\n          button_link: {\n            type: 'string',\n          },\n          tag_image: {\n            type: 'number',\n          },\n          focus_tag_image: {\n            type: 'string',\n          },\n        },\n        edit: withSelect((select,props) => {\n          const tagsTaxonomy = 'post_tag';\n          const issuePage    = 'page';\n\n          const taxonomy_args = {\n            hide_empty: false,\n            per_page: 50,\n          };\n          const {getEntityRecords} = select('core');\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, taxonomy_args);\n\n          const issue_page_args = {\n            per_page: -1,\n            sort_order: 'asc',\n            sort_column: 'post_title',\n            parent: window.p4ge_vars.planet4_options.explore_page,\n            post_status: 'publish',\n          };\n          const issuepageList = getEntityRecords('postType', issuePage, issue_page_args);\n\n          const { attributes } = props;\n          const { issue_image,tag_image } = attributes;\n\n          let issue_image_url = '';\n          if (issue_image) {\n            issue_image_url = select('core').getMedia(issue_image);\n            if ( issue_image_url ) {\n              issue_image_url = issue_image_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          let tag_image_url = '';\n          if (tag_image) {\n            tag_image_url = select('core').getMedia(tag_image);\n            if ( tag_image_url ) {\n              tag_image_url = tag_image_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          return {\n            tagsList,\n            issuepageList,\n            issue_image_url,\n            tag_image_url,\n          };\n\n        } )( ( {\n          tagsList,\n          issuepageList,\n          issue_image_url,\n          tag_image_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          if (!tagsList || !issuepageList) {\n            return \"Populating block's fields...\";\n          }\n\n          if ((tagsList && tagsList.length === 0) || (issuepageList && issuepageList.length === 0)) {\n            return \"Populating block's fields...\";\n          }\n\n          function onSelectIssue( value ) {\n            setAttributes({select_issue: parseInt(value)});\n          }\n\n          function onIssueTitleChange( value ) {\n            setAttributes({title: value });\n          }\n\n          function onIssueDescriptionChange( value ) {\n            setAttributes({issue_description: value});\n          }\n\n          function onIssueLinkTextChange( value ) {\n            setAttributes({issue_link_text: value });\n          }\n\n          function onIssueLinkPathChange( value ) {\n            setAttributes({issue_link_path: value});\n          }\n\n          function onSelectIssueImage( {id} ) {\n            setAttributes({issue_image: id});\n          }\n\n          function onIssueImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_issue_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          function onSelectTag( value ) {\n            setAttributes({select_tag: parseInt(value)});\n          }\n\n          function onTagDescriptionChange( value ) {\n            setAttributes({tag_description: value});\n          }\n\n          function onButtonTextChange( value ) {\n            setAttributes({button_text: value });\n          }\n\n          function onButtonLinkChange( value ) {\n            setAttributes({button_link: value});\n          }\n\n          function onSelectCampaignImage( {id} ) {\n            setAttributes({tag_image: id});\n          }\n\n          function onCampaignImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_tag_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          return <Splittwocolumns\n            {...attributes}\n            isSelected={isSelected}\n            tagsList={tagsList}\n            issuepageList={issuepageList}\n            issue_image_url={issue_image_url}\n            tag_image_url={tag_image_url}\n            onSelectIssue={onSelectIssue}\n            onIssueTitleChange={onIssueTitleChange}\n            onIssueDescriptionChange={onIssueDescriptionChange}\n            onIssueLinkTextChange={onIssueLinkTextChange}\n            onIssueLinkPathChange={onIssueLinkPathChange}\n            onSelectIssueImage={onSelectIssueImage}\n            onIssueImageFocalPointChange={onIssueImageFocalPointChange}\n            onSelectTag={onSelectTag}\n            onTagDescriptionChange={onTagDescriptionChange}\n            onButtonTextChange={onButtonTextChange}\n            onButtonLinkChange={onButtonLinkChange}\n            onSelectCampaignImage={onSelectCampaignImage}\n            onCampaignImageFocalPointChange={onCampaignImageFocalPointChange}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component} from 'react';\nimport {\n  CheckboxControl,\n  SelectControl,\n} from '@wordpress/components';\n\nexport class MenuLevel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>Level {this.props.index + 1}</div>\n        <SelectControl\n          label=\"Submenu item\"\n          help=\"Submenu item\"\n          value={this.props.heading}\n          options={[\n            {label: 'None', value: '0'},\n            {label: 'Heading 1', value: '1'},\n            {label: 'Heading 2', value: '2'},\n            {label: 'Heading 3', value: '3'},\n            {label: 'Heading 4', value: '4'},\n            {label: 'Heading 5', value: '5'},\n            {label: 'Heading 6', value: '6'},\n          ]}\n          onChange={(e) => this.props.onHeadingChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n\n        <CheckboxControl\n          heading=\"Link\"\n          help=\"Link item\"\n          value={this.props.link}\n          checked={this.props.link}\n          onChange={(e) => this.props.onLinkChange(this.props.index, e)}\n          className=\"submenu-level-link\"\n        />\n\n        <SelectControl\n          label=\"List style\"\n          help=\"List style\"\n          value={this.props.style}\n          options={[\n            {label: 'None', value: 'none'},\n            {label: 'Bullet', value: 'bullet'},\n            {label: 'Number', value: 'number'},\n          ]}\n          onChange={(e) => this.props.onStyleChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n      </div>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  TextControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {MenuLevel} from \"./MenuLevel\";\n\nexport class Submenu extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h2>{__('Anchor Link Submenu', 'p4ge')}</h2>\n        <p><i>{__(\n          'An in-page table of contents to help users have a sense of what\\'s on the page and let them jump to a topic they are interested in.',\n          'p4ge'\n        )}</i></p>\n        <h3>{__('What style of menu do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.submenu_style}\n            onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n            options={[\n              {\n                label: __('Long full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-long.jpg',\n                value: 1,\n                help: __('Use: on long pages (more than 5 screens) when list items are long (+ 10 words)<br>No max items<br>recommended.')\n              }, {\n                label: __('Short full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-short.jpg',\n                value: 2,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 5 words)<br>No max items<br>recommended.'),\n              },\n              {\n                label: __('Short sidebar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-sidebar.jpg',\n                value: 3,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 10 words)<br>Max items<br>recommended: 9')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label=\"Submenu Title\"\n            placeholder=\"Enter title\"\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <hr/>\n        {this.props.levels.map((heading, i) => {\n          return (\n            <MenuLevel\n              {...heading}\n              onHeadingChange={this.props.onHeadingChange}\n              onLinkChange={this.props.onLinkChange}\n              onStyleChange={this.props.onStyleChange}\n              index={i}\n              key={i}\n            />\n          );\n        })}\n\n        <div>\n          <Button isPrimary\n                  onClick={this.props.addLevel}\n                  disabled={this.props.levels.length >= 3 || this.props.levels.slice(-1)[0].heading === 0}\n          >\n            Add level\n          </Button>\n          <Button isDefault\n                  onClick={this.props.removeLevel} disabled={this.props.levels.length <= 1}\n          >\n            Remove level\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/submenu'}\n            attributes={{\n              submenu_style: this.props.submenu_style,\n              title: this.props.title,\n              levels: this.props.levels,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {Submenu} from './Submenu.js';\n\nexport class SubmenuBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/submenu', {\n      title: 'Submenu',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_submenu submenu_style=\"3\" title=\"title22\" heading1=\"2\"\n       *                    link1=\"true\" style1=\"bullet\" heading2=\"3\" link2=\"true\" style2=\"number\"\n       *                    heading3=\"4\" link3=\"false\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/submenu {\"submenu_style\":3,\"title\":\"title22\",\"levels\":[{\"heading\":\"2\",\"link\":\"true\",\"style\":\"bullet\"},\n       *    {\"heading\":\"3\",\"link\":\"true\",\"style\":\"number\"},{\"heading\":\"4\",\"link\":\"false\",\"style\":\"none\"}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_submenu',\n            attributes: {\n              submenu_style: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.submenu_style);\n                }\n              },\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              levels: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  let levels = [];\n                  if (attributes.named.heading1 > 0) {\n                    let level = {\n                      heading: Number(attributes.named.heading1),\n                      link: attributes.named.link1 || false,\n                      style: attributes.named.style1 || 'none'\n                    };\n                    levels.push(Object.assign({}, level));\n\n                    if (attributes.named.heading2 > 0) {\n                      let level = {\n                        heading: Number(attributes.named.heading2),\n                        link: attributes.named.link2 || false,\n                        style: attributes.named.style2 || 'none'\n                      };\n                      levels.push(Object.assign({}, level));\n\n                      if (attributes.named.heading3 > 0) {\n                        let level = {\n                          heading: Number(attributes.named.heading3),\n                          link: attributes.named.link3 || false,\n                          style: attributes.named.style3 || 'none'\n                        };\n                        levels.push(Object.assign({}, level));\n                      }\n                    }\n                  }\n                  return levels;\n                },\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        submenu_style: {\n          type: 'integer',\n          default: 1\n        },\n        title: {\n          type: 'string',\n        },\n        levels: {\n          type: 'array',\n          default: [ {heading: 0, link: false, style: 'none'}]\n        },\n      },\n      edit: withSelect((select) => {\n\n      })(({\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        function addLevel() {\n          setAttributes({levels: attributes.levels.concat({heading: 0, link: false, style: 'none'})});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onHeadingChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].heading = Number(value);\n          setAttributes({levels: levels});\n        }\n\n        function onLayoutChange(value) {\n          setAttributes({submenu_style: Number(value)});\n        }\n\n        function onLinkChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].link = value;\n          setAttributes({levels: levels});\n        }\n\n        function onStyleChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].style = value;\n          setAttributes({levels: levels});\n        }\n\n        function removeLevel() {\n          setAttributes({levels: attributes.levels.slice(0, -1)});\n        }\n\n        return <Submenu\n          {...attributes}\n          isSelected={isSelected}\n          onSelectedLayoutChange={onLayoutChange}\n          onTitleChange={onTitleChange}\n          onHeadingChange={onHeadingChange}\n          onLinkChange={onLinkChange}\n          onStyleChange={onStyleChange}\n          addLevel={addLevel}\n          removeLevel={removeLevel}\n        />\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from \"@wordpress/element\";\nimport {\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {Preview} from '../../components/Preview';\n\nexport class Timeline extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.loadTimeline(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    this.loadTimeline(prevProps);\n  }\n\n  loadTimeline(data) {\n    const timelinejs_version = '3.6.3';\n\n    let js = 'https://cdn.knightlab.com/libs/timeline3/' + timelinejs_version + '/js/timeline-min.js';\n    let scriptLoaded = this.loadScriptAsync(js);\n    scriptLoaded.then(function () {\n      new TL.Timeline('timeline-1', data.google_sheets_url, {\n        \"timenav_position\": data.timenav_position,\n        \"start_at_end\": data.start_at_end,\n        \"language\": data.language\n      });\n    }.bind(this));\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const position = [\n      {label: 'Bottom', value: 'bottom'},\n      {label: 'Top', value: 'top'},\n    ]\n\n    const languages = [\n      {label: 'Afrikaans', value: 'af'},\n      {label: 'Arabic', value: 'ar'},\n      {label: 'Armenian', value: 'hy'},\n      {label: 'Basque', value: 'eu'},\n      {label: 'Belarusian', value: 'be'},\n      {label: 'Bulgarian', value: 'bg'},\n      {label: 'Catalan', value: 'ca'},\n      {label: 'Chinese', value: 'zh-cn'},\n      {label: 'Croatian / Hrvatski', value: 'hr'},\n      {label: 'Czech', value: 'cz'},\n      {label: 'Danish', value: 'da'},\n      {label: 'Dutch', value: 'nl'},\n      {label: 'English', value: 'en'},\n      {label: 'English (24-hour time)', value: 'en-24hr'},\n      {label: 'Esperanto', value: 'eo'},\n      {label: 'Estonian', value: 'et'},\n      {label: 'Faroese', value: 'fo'},\n      {label: 'Farsi', value: 'fa'},\n      {label: 'Finnish', value: 'fi'},\n      {label: 'French', value: 'fr'},\n      {label: 'Frisian', value: 'fy'},\n      {label: 'Galician', value: 'gl'},\n      {label: 'Georgian', value: 'ka'},\n      {label: 'German / Deutsch', value: 'de'},\n      {label: 'Greek', value: 'el'},\n      {label: 'Hebrew', value: 'he'},\n      {label: 'Hindi', value: 'hi'},\n      {label: 'Hungarian', value: 'hu'},\n      {label: 'Icelandic', value: 'is'},\n      {label: 'Indonesian', value: 'id'},\n      {label: 'Irish', value: 'ga'},\n      {label: 'Italian', value: 'it'},\n      {label: 'Japanese', value: 'ja'},\n      {label: 'Korean', value: 'ko'},\n      {label: 'Latvian', value: 'lv'},\n      {label: 'Lithuanian', value: 'lt'},\n      {label: 'Luxembourgish', value: 'lb'},\n      {label: 'Malay', value: 'ms'},\n      {label: 'Myanmar', value: 'my'},\n      {label: 'Nepali', value: 'ne'},\n      {label: 'Norwegian', value: 'no'},\n      {label: 'Polish', value: 'pl'},\n      {label: 'Portuguese', value: 'pt'},\n      {label: 'pt-br', value: 'Portuguese (Brazilian)'},\n      {label: 'Romanian', value: 'ro'},\n      {label: 'Romansh', value: 'rm'},\n      {label: 'Russian', value: 'ru'},\n      {label: 'Serbian - Cyrillic', value: 'sr-cy'},\n      {label: 'Serbian - Latin', value: 'sr'},\n      {label: 'Sinhalese', value: 'si'},\n      {label: 'Slovak', value: 'sk'},\n      {label: 'Slovenian', value: 'sl'},\n      {label: 'Spanish', value: 'es'},\n      {label: 'Swedish', value: 'sv'},\n      {label: 'Tagalog', value: 'tl'},\n      {label: 'Tamil', value: 'ta'},\n      {label: 'Taiwanese', value: 'zh-tw'},\n      {label: 'Telugu', value: 'te'},\n      {label: 'Thai', value: 'th'},\n      {label: 'Turkish', value: 'tr'},\n      {label: 'Ukrainian', value: 'uk'},\n      {label: 'Urdu', value: 'ur'},\n    ]\n\n    let url_desc  = __(\n      'Enter the URL of the Google Sheets spreadsheet containing your timeline data.',\n      'p4ge'\n    );\n    url_desc += '<br><a href=\"https://timeline.knightlab.com/#make\" target=\"_blank\" rel=\"noopener noreferrer\">';\n    url_desc += __(\n      'See the TimelineJS website for a template GSheet.',\n      'p4ge'\n    );\n    url_desc += '</a><br>';\n    url_desc += __(\n      'Copy this, add your own timeline data, and publish to the web.',\n      'p4ge'\n    );\n    url_desc += '<br>';\n    url_desc += __(\n      \"Once you have done so, use the URL from your address bar (not the one provided in Google's 'publish to web' dialog).\",\n      'p4ge'\n    );\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Timeline options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display a timeline from a Google Sheet',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label={__('Timeline Title', 'p4ge')}\n              placeholder={__('Enter title', 'p4ge')}\n              value={this.props.timeline_title}\n              onChange={this.props.onTimelineTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter description', 'p4ge')}\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label={__('Google Sheets URL', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              help=<RawHTML>{url_desc}</RawHTML>\n              value={this.props.google_sheets_url}\n              onChange={this.props.onGoogleSheetsUrlChange}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Language', 'p4ge')}\n              value={this.props.language}\n              options={languages}\n              onChange={(e) => this.props.onLanguageChange(e)}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Timeline navigation position', 'p4ge')}\n              value={this.props.timenav_position}\n              options={position}\n              onChange={(e) => this.props.onTimenavPositionChange(e)}\n            />\n          </div>\n\n          <div>\n            <CheckboxControl\n              label={__('Start at end', 'p4ge')}\n              help={__('Begin at the end of the timeline', 'p4ge')}\n              value={this.props.start_at_end}\n              checked={this.props.start_at_end}\n              onChange={(e) => this.props.onStartAtEndChange(e)}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/timeline'}\n            attributes={{\n              timeline_title: this.props.timeline_title,\n              description: this.props.description,\n              google_sheets_url: this.props.google_sheets_url,\n              language: this.props.language,\n              timenav_position: this.props.timenav_position,\n              start_at_end: this.props.start_at_end,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Timeline} from './Timeline.js';\n\nconst {__} = wp.i18n;\n\nexport class TimelineBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/timeline', {\n      title: __('Timeline', 'p4ge'),\n      icon: 'clock',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_timeline',\n            attributes: {\n              timeline_title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.timeline_title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              google_sheets_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.google_sheets_url;\n                }\n              },\n              language: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.language;\n                }\n              },\n              timenav_position: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.timenav_position;\n                }\n              },\n              start_at_end: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.start_at_end;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        timeline_title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        google_sheets_url: {\n          type: 'string',\n        },\n        language: {\n          type: 'string',\n          default: 'en',\n        },\n        timenav_position: {\n          type: 'string',\n        },\n        start_at_end: {\n          type: 'boolean',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTimelineTitleChange(value) {\n          setAttributes({timeline_title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onGoogleSheetsUrlChange(value) {\n          setAttributes({google_sheets_url: value});\n        }\n\n        function onLanguageChange(value) {\n          setAttributes({language: value});\n        }\n\n        function onTimenavPositionChange(value) {\n          setAttributes({timenav_position: value});\n        }\n\n        function onStartAtEndChange(value) {\n          setAttributes({start_at_end: value});\n        }\n\n        return <Timeline\n          {...attributes}\n          isSelected={isSelected}\n          onTimelineTitleChange={onTimelineTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onGoogleSheetsUrlChange={onGoogleSheetsUrlChange}\n          onLanguageChange={onLanguageChange}\n          onTimenavPositionChange={onTimenavPositionChange}\n          onStartAtEndChange={onStartAtEndChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import {React, Component} from 'react';\nimport {Button} from '@wordpress/components';\nimport {MediaUpload,MediaUploadCheck} from '@wordpress/editor';\n\nexport class ImageOrButton extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    const getImageOrButton = (openEvent) => {\n      if ( this.props.imageId ) {\n\n        return (\n\n          <img\n            src={ this.props.imageUrl }\n            onClick={ openEvent }\n            className={ this.props.imgClass }\n          />\n\n        );\n      }\n      else {\n        return (\n          <div className='button-container'>\n            <Button\n              onClick={ openEvent }\n              className='button'>\n              { this.props.buttonLabel }\n            </Button>\n\n            <div>{ this.props.help }</div>\n          </div>\n        );\n      }\n    };\n\n    return <div className='ImageOrButton'>\n      <MediaUploadCheck>\n        <MediaUpload\n          title={this.props.title}\n          type='image'\n          onSelect={this.props.onSelectImage}\n          value={this.props.imageId}\n          allowedTypes={['image']}\n          render={ ({ open }) => getImageOrButton(open) }\n        />\n      </MediaUploadCheck>\n    </div>;\n  }\n}\n","import {React, Component} from 'react';\nimport {RadioControl} from '@wordpress/components';\n\nexport class LayoutSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: props.selectedOption\n    };\n    this.setSelected = this.setSelected.bind(this);\n  }\n\n  setSelected(option) {\n    this.setState({selectedOption: option});\n    this.props.onSelectedLayoutChange(option);\n  }\n\n  render() {\n    return <div className='LayoutSelector'>\n      {\n        this.props.options.map((layoutOption, i) => {\n          return (\n            <label className='LayoutOption' key={i}>\n              <div style={{display: 'flex'}}>\n                <RadioControl\n                  name={'layoutOption'}\n                  selected={this.state.selectedOption}\n                  options={[\n                    {value: layoutOption.value}\n                  ]}\n                  onChange={this.setSelected}\n                />\n                {layoutOption.label}\n              </div>\n              {\n                layoutOption.image\n                  ? <img src={layoutOption.image}/>\n                  : null\n              }\n              {\n                layoutOption.help\n                  ? <p className='help' dangerouslySetInnerHTML={{__html: layoutOption.help}}/>\n                  : null\n              }\n            </label>\n          )\n        })\n      }\n    </div>;\n  }\n}\n","import { React, Component } from 'react';\n\nexport class Preview extends Component {\n\trender() {\n\t\treturn <div className='Preview'>\n\t\t\t{\n\t\t\t\tthis.props.showBar\n\t\t\t\t? <div className='PreviewBar'>Preview</div>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{ this.props.children }\n\t\t</div>\n\t}\n}","import { ArticlesBlock } from './blocks/Articles/ArticlesBlock';\nimport { ColumnsBlock } from './blocks/Columns/ColumnsBlock';\nimport { CookiesBlock } from './blocks/Cookies/CookiesBlock';\nimport { CounterBlock } from './blocks/Counter/CounterBlock';\nimport { CoversBlock } from './blocks/Covers/CoversBlock';\nimport { GalleryBlock } from './blocks/Gallery/GalleryBlock';\nimport { HappypointBlock } from './blocks/Happypoint/HappypointBlock';\nimport { MediaBlock } from './blocks/Media/MediaBlock';\nimport { SocialmediaBlock } from './blocks/Socialmedia/SocialmediaBlock';\nimport { SplittwocolumnsBlock } from './blocks/Splittwocolumns/SplittwocolumnsBlock';\nimport { SubmenuBlock } from './blocks/Submenu/SubmenuBlock';\nimport { TimelineBlock } from './blocks/Timeline/TimelineBlock';\n\nconst articlesBlock = new ArticlesBlock();\nconst columnsBlock = new ColumnsBlock();\nconst cookiesBlock = new CookiesBlock();\nconst counterBlock = new CounterBlock();\nconst coversBlock = new CoversBlock();\nconst galleryBlock = new GalleryBlock();\nconst happypointBlock = new HappypointBlock();\nconst mediaBlock = new MediaBlock();\nconst socialmediaBlock = new SocialmediaBlock();\nconst splittwocolumnsBlock = new SplittwocolumnsBlock();\nconst submenuBlock = new SubmenuBlock();\nconst timelineBlock = new TimelineBlock();\n\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"editor\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"React\"]; }());"],"sourceRoot":""}
>>>>>>> Polishing styles build
=======
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/src/blocks/Articles/Articles.js","webpack:///./assets/src/blocks/Articles/ArticlesBlock.js","webpack:///./assets/src/blocks/Columns/Columns.js","webpack:///./assets/src/blocks/Columns/ColumnsBlock.js","webpack:///./assets/src/blocks/Cookies/Cookies.js","webpack:///./assets/src/blocks/Cookies/CookiesBlock.js","webpack:///./assets/src/blocks/Counter/Counter.js","webpack:///./assets/src/blocks/Counter/CounterBlock.js","webpack:///./assets/src/blocks/Covers/Covers.js","webpack:///./assets/src/blocks/Covers/CoversBlock.js","webpack:///./assets/src/blocks/Covers/CoversIcon.js","webpack:///./assets/src/blocks/Gallery/Gallery.js","webpack:///./assets/src/blocks/Gallery/GalleryBlock.js","webpack:///./assets/src/blocks/Happypoint/Happypoint.js","webpack:///./assets/src/blocks/Happypoint/HappypointBlock.js","webpack:///./assets/src/blocks/Media/Media.js","webpack:///./assets/src/blocks/Media/MediaBlock.js","webpack:///./assets/src/blocks/Socialmedia/Socialmedia.js","webpack:///./assets/src/blocks/Socialmedia/SocialmediaBlock.js","webpack:///./assets/src/blocks/Splittwocolumns/Splittwocolumns.js","webpack:///./assets/src/blocks/Splittwocolumns/SplittwocolumnsBlock.js","webpack:///./assets/src/blocks/Submenu/MenuLevel.js","webpack:///./assets/src/blocks/Submenu/Submenu.js","webpack:///./assets/src/blocks/Submenu/SubmenuBlock.js","webpack:///./assets/src/blocks/Timeline/Timeline.js","webpack:///./assets/src/blocks/Timeline/TimelineBlock.js","webpack:///./assets/src/components/ImageOrButton/ImageOrButton.js","webpack:///./assets/src/components/LayoutSelector/LayoutSelector.js","webpack:///./assets/src/components/Preview.js","webpack:///./assets/src/editorIndex.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"editor\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":\"React\"}"],"names":["wp","apiFetch","addQueryArgs","url","Articles","props","tagTokens","tagsList","filter","tag","tags","includes","id","map","name","postTypeTokens","postTypesList","post_type","post_types","state","selectedPosts","populatePostsToken","posts","length","path","per_page","page","include","then","postsTokens","post","title","rendered","postsSuggestions","setState","postsList","tokens","search","orderby","post_status","tagIds","token","onSelectedTagsChange","postTypeIds","postType","onSelectedPostTypesChange","currentSelectedPosts","forEach","f","push","postIds","onSelectedPostsChange","__","i18n","tagSuggestions","postTypeSuggestions","article_heading","onTitleChange","articles_description","onDescriptionChange","read_more_text","onReadmoretextChange","read_more_link","onReadmorelinkChange","button_link_new_tab","e","onButtonLinkTabChange","article_count","onCountChange","ignore_categories","onIgnoreCategoriesChange","onPostsSearch","isSelected","renderEdit","Component","ArticlesBlock","registerBlockType","blocks","withSelect","data","icon","category","transforms","from","type","attributes","shortcode","named","split","default","edit","select","tagsTaxonomy","postTypesTaxonomy","args","hide_empty","getEntityRecords","setAttributes","value","Number","save","Columns","columns_title","columns_description","columns_block_style","columns","onSelectedLayoutChange","label","image","window","p4ge_vars","home","help","item","index","replace","onColumnHeaderChange","bind","description","onColumnDescriptionChange","onSelectImage","onSelectURL","onUploadError","cta_link","onCTALinkChange","link_new_tab","onLinkNewTabChange","cta_text","onCTAButtonTextChange","addColumn","removeColumn","ColumnsBlock","title_1","column","description_1","link_1","cta_text_1","link_new_tab_1","attachment","attachment_1","Object","assign","title_2","description_2","link_2","cta_text_2","link_new_tab_2","attachment_2","title_3","description_3","link_3","cta_text_3","link_new_tab_3","attachment_3","title_4","description_4","link_4","cta_text_4","link_new_tab_4","attachment_4","new_columns","message","console","log","i","slice","JSON","parse","stringify","Cookies","necessary_cookies_name","onNecessaryCookiesNameChange","necessary_cookies_description","onNecessaryCookiesDescriptionChange","all_cookies_name","onAllCookiesNameChange","all_cookies_description","onAllCookiesDescriptionChange","post_id","document","querySelector","CookiesBlock","supports","multiple","Counter","style","completed","onCompletedChange","completed_api","onCompletedAPIChange","target","onTargetChange","text","onTextChange","CounterBlock","Covers","searchTimeout","cover_type","queryArgs","post_parent","planet4_options","act_page","clearTimeout","setTimeout","searchPosts","covers_view","onRowsChange","CoversBlock","CoversIcon","Gallery","getImageOrButton","openEvent","image_data","padding","gallery_block_style","gallery_block_title","gallery_block_description","multiple_image","dimensions","width","height","multiple_image_array","open","onRemoveImages","focalPoint","onFocalPointChange","gallery_block_focus_points","GalleryBlock","image_urls_array","image_id_array","$","each","img_id","img_url","getMedia","media_details","sizes","medium","source_url","new_image_data","focal_points_json","x","y","isEmptyObject","parseInt","image_ids","key","join","image_id","updated_image_data","object","parseFloat","toFixed","Happypoint","focus_image","opacity","mailing_list_iframe","iframe_url","focal_point_params","focus_image_str","onOpacityChange","onMailingListIframeChange","onIframeUrlChange","load_iframe","HappypointBlock","onBackgroundChange","background","Media","video_title","youtube_id","onMediaUrlChange","instructions","video_poster_img","MediaBlock","Socialmedia","checkTwitterScript","checkInstagramScript","social_media_url","twitterScript","scriptLoaded","loadScriptAsync","initializeTwitterEmbeds","instaScript","initializeInstagramEmbeds","twttr","widgets","load","instgrm","Embeds","process","uri","Promise","resolve","reject","createElement","src","async","onload","body","getElementsByTagName","appendChild","embed_type_help","embed_type","onEmbedTypeChange","facebook_page_tab","onFacebookPageTabChange","onSocialMediaUrlChange","alignment_class","onAlignmentChange","SocialmediaBlock","Splittwocolumns","tag_list","unshift","issuepage_list","issuepageList","issue","raw","select_issue","issue_description","issue_link_text","issue_link_path","issue_image","focus_issue_image","select_tag","tag_description","button_text","button_link","tag_image","focus_tag_image","issue_image_url","tag_image_url","focus_issue_image_obj","focus_tag_image_obj","onSelectIssue","onIssueTitleChange","onIssueDescriptionChange","onIssueLinkTextChange","onIssueLinkPathChange","onSelectIssueImage","onIssueImageFocalPointChange","onSelectTag","onTagDescriptionChange","onButtonTextChange","onButtonLinkChange","onSelectCampaignImage","onCampaignImageFocalPointChange","SplittwocolumnsBlock","issuePage","taxonomy_args","issue_page_args","sort_order","sort_column","parent","explore_page","MenuLevel","heading","onHeadingChange","link","onLinkChange","onStyleChange","Submenu","submenu_style","levels","addLevel","removeLevel","SubmenuBlock","heading1","level","link1","style1","heading2","link2","style2","heading3","link3","style3","concat","onLayoutChange","Timeline","loadTimeline","prevProps","timelinejs_version","js","TL","google_sheets_url","timenav_position","start_at_end","language","position","languages","url_desc","timeline_title","onTimelineTitleChange","onGoogleSheetsUrlChange","onLanguageChange","onTimenavPositionChange","onStartAtEndChange","TimelineBlock","ImageOrButton","imageId","imageUrl","imgClass","buttonLabel","LayoutSelector","selectedOption","setSelected","option","options","layoutOption","display","__html","Preview","showBar","children","articlesBlock","columnsBlock","cookiesBlock","counterBlock","coversBlock","galleryBlock","happypointBlock","mediaBlock","socialmediaBlock","splittwocolumnsBlock","submenuBlock","timelineBlock"],"mappings":"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","file":"editorIndex.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/src/editorIndex.js\");\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  FormTokenField,\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Articles extends Component {\n  constructor(props) {\n    super(props);\n\n    // Populate tag tokens for saved tags.\n    let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n    // Populate post types tokens for saved post types.\n    let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n    this.state = {\n      tagTokens: tagTokens,\n      postTypeTokens: postTypeTokens,\n      selectedPosts: [],\n    };\n\n    this.populatePostsToken();\n  }\n\n  /**\n   * Set component's state for existing blocks.\n   */\n  populatePostsToken() {\n\n    if (this.props.posts.length > 0) {\n\n      apiFetch(\n        {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            include: this.props.posts\n          })\n        }\n      ).then(posts => {\n        const postsTokens = posts.map(post => post.title.rendered);\n        const postsSuggestions = posts.map(post => post.title.rendered);\n        this.setState({\n            postsTokens: postsTokens,\n            postsList: posts,\n            postsSuggestions: postsSuggestions,\n            selectedPosts: posts,\n          }\n        );\n      });\n    } else {\n      this.setState(\n        {\n          postsTokens: [],\n          postsList: [],\n          postsSuggestions: [],\n          selectedPosts: [],\n        }\n      );\n    }\n  }\n\n  /**\n   * Search posts using wp api.\n   *\n   * @param tokens\n   */\n  onPostsSearch(tokens) {\n\n    apiFetch(\n      {\n        path: addQueryArgs('/wp/v2/posts', {\n          per_page: 50,\n          page: 1,\n          search: tokens,\n          orderby: 'title',\n          post_status: 'publish',\n\n        })\n      }\n    ).then(posts => {\n      let postsSuggestions = posts.map(post => post.title.rendered);\n      this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n    });\n  }\n\n  onSelectedTagsChange(tokens) {\n    const tagIds = tokens.map(token => {\n      return this.props.tagsList.filter(tag => tag.name === token)[0].id;\n    });\n    this.props.onSelectedTagsChange(tagIds);\n    this.setState({tagTokens: tokens})\n  }\n\n  onSelectedPostTypesChange(tokens) {\n    const postTypeIds = tokens.map(token => {\n      return this.props.postTypesList.filter(postType => postType.name === token)[0].id;\n    });\n    this.props.onSelectedPostTypesChange(postTypeIds);\n    this.setState({postTypeTokens: tokens})\n  }\n\n  onSelectedPostsChange(tokens) {\n    // Array to hold references to selected posts objects.\n    let currentSelectedPosts = [];\n    tokens.forEach(token => {\n      let f = this.state.postsList.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n      f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n      if (f.length > 0) {\n        currentSelectedPosts.push(f[0]);\n      }\n    });\n\n    const postIds = currentSelectedPosts.map(post => post.id);\n    this.props.onSelectedPostsChange(postIds);\n    this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const tagSuggestions = this.props.tagsList.map(tag => tag.name);\n    const postTypeSuggestions = this.props.postTypesList.map(postType => postType.name);\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'p4ge')}\n            placeholder={__('Enter title', 'p4ge')}\n            help={__('Your default is set to [ Latest Articles ]', 'p4ge')}\n            value={this.props.article_heading}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'p4ge')}\n            placeholder={__('Enter description', 'p4ge')}\n            value={this.props.articles_description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label={__('Button Text', 'p4ge')}\n            placeholder={__('Override button text', 'p4ge')}\n            help={__('Your default is set to [ Load More ]', 'p4ge')}\n            value={this.props.read_more_text}\n            onChange={this.props.onReadmoretextChange}\n          />\n        </div>\n\n\n        <div>\n          <TextControl\n            label={__('Button Link', 'p4ge')}\n            placeholder={__('Add read more button link', 'p4ge')}\n            value={this.props.read_more_link}\n            onChange={this.props.onReadmorelinkChange}\n          />\n        </div>\n\n        <div>\n          <CheckboxControl\n            label={__('Open in a new Tab', 'p4ge')}\n            help={__('Open button link in new tab', 'p4ge')}\n            value={this.props.button_link_new_tab}\n            checked={this.props.button_link_new_tab}\n            onChange={(e) => this.props.onButtonLinkTabChange(e)}\n          />\n        </div>\n\n        {\n          this.props.posts !== 'undefined' && this.props.posts.length === 0\n            ?\n            <Fragment>\n              <div>\n                <TextControl\n                  label={__('Articles count', 'p4ge')}\n                  help={__('Number of articles', 'p4ge')}\n                  type=\"number\"\n                  value={this.props.article_count}\n                  onChange={this.props.onCountChange}\n                />\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label={__('Select Tags', 'p4ge')}\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                />\n                <p className='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              <div>\n                <FormTokenField\n                  value={this.state.postTypeTokens}\n                  suggestions={postTypeSuggestions}\n                  label={__('Post Types', 'p4ge')}\n                  onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                />\n              </div>\n              <div className=\"ignore-categories-wrapper\">\n                <CheckboxControl\n                  label={__('Ignore categories', 'p4ge')}\n                  help={__('Ignore categories when filtering posts to populate the content of this block', 'p4ge')}\n                  value={this.props.ignore_categories}\n                  checked={this.props.ignore_categories}\n                  onChange={(e) => this.props.onIgnoreCategoriesChange(e)}\n                />\n              </div>\n            </Fragment>\n            : null\n        }\n\n        {\n          (this.props.tags.length === 0 && this.props.post_types.length === 0)\n            ? <div>\n              <hr/>\n              <label>{__('Manual override', 'p4ge')}</label>\n              <FormTokenField\n                value={this.state.postsTokens}\n                suggestions={this.state.postsSuggestions}\n                label={__('CAUTION: Adding articles individually will override the automatic functionality of this block. For good user experience, please include at least three articles so that spacing and alignment of the design remains in tact.', 'p4ge')}\n                onChange={tokens => this.onSelectedPostsChange(tokens)}\n                onInputChange={tokens => this.onPostsSearch(tokens)}\n                placeholder=\"Select Posts\"\n                maxLength=\"10\"\n                maxSuggestions=\"20\"\n              />\n            </div>\n            : null\n        }\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/articles'}\n            attributes={{\n              read_more_text: this.props.read_more_text,\n              read_more_link: this.props.read_more_link,\n              tags: this.props.tags,\n              post_types: this.props.post_types,\n              posts: this.props.posts,\n              article_heading: this.props.article_heading,\n              articles_description: this.props.articles_description,\n              article_count: this.props.article_count,\n              ignore_categories: this.props.ignore_categories,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Articles} from './Articles.js';\n\nexport class ArticlesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/articles', {\n      title: 'Articles',\n      icon: 'excerpt-view',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_articles',\n            attributes: {\n              article_heading: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_heading;\n                }\n              },\n              articles_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.articles_description;\n                }\n              },\n              article_count: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.article_count;\n                }\n              },\n              read_more_text: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_text;\n                }\n              },\n              read_more_link: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.read_more_link;\n                }\n              },\n              button_link_new_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.button_link_new_tab;\n                }\n              },\n              ignore_categories: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.ignore_categories;\n                }\n              },\n              tags: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.tags.split(',') : [];\n                }\n              },\n              post_types: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.post_types.split(',') : [];\n                }\n              },\n              posts: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.tags ? attributes.named.posts.split(',') : [];\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        article_heading: {\n          type: 'string',\n        },\n        articles_description: {\n          type: 'string',\n        },\n        article_count: {\n          type: 'integer',\n          default: 3\n        },\n        tags: {\n          type: 'array',\n          default: []\n        },\n        posts: {\n          type: 'array',\n          default: []\n        },\n        post_types: {\n          type: 'array',\n          default: []\n        },\n        read_more_text: {\n          type: 'string'\n        },\n        read_more_link: {\n          type: 'string',\n          default: ''\n        },\n        button_link_new_tab: {\n          type: 'boolean',\n          default: false\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: withSelect((select) => {\n        const tagsTaxonomy = 'post_tag';\n        const postTypesTaxonomy = 'p4-page-type';\n        const args = {\n          hide_empty: false,\n          per_page: 50,\n        };\n        const {getEntityRecords} = select('core');\n\n        // We should probably wrap all these in a single call,\n        // or maybe use our own way of retrieving data from the\n        // API, I don't know how this scales.\n        const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, args);\n        const postTypesList = getEntityRecords('taxonomy', postTypesTaxonomy, args);\n\n        return {\n          postTypesList,\n          tagsList,\n        };\n      })(({\n            postTypesList,\n            tagsList,\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        if (!tagsList || !postTypesList) {\n          return \"Populating block's fields...\";\n        }\n\n        // TO-DO: Check for posts types and posts too...\n        if ((tagsList && tagsList.length === 0) || (postTypesList && postTypesList.length === 0)) {\n          return \"Populating block's fields...\";\n        }\n\n        // These methods are passed down to the\n        // Articles component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({article_heading: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({articles_description: value});\n        }\n\n        function onReadmoretextChange(value) {\n          setAttributes({read_more_text: value});\n        }\n\n        function onCountChange(value) {\n          setAttributes({article_count: Number(value)});\n        }\n\n        function onReadmorelinkChange(value) {\n          setAttributes({read_more_link: value});\n        }\n\n        function onButtonLinkTabChange(value) {\n          setAttributes({button_link_new_tab: value});\n        }\n\n        function onSelectedTagsChange(tagIds) {\n          setAttributes({tags: tagIds});\n        }\n\n        function onSelectedPostsChange(value) {\n          setAttributes({posts: value});\n        }\n\n        function onSelectedPostTypesChange(postTypeIds) {\n          setAttributes({post_types: postTypeIds});\n        }\n\n        function onIgnoreCategoriesChange(value) {\n          setAttributes({ignore_categories: value});\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Articles\n          {...attributes}\n          isSelected={isSelected}\n          tagsList={tagsList}\n          postTypesList={postTypesList}\n          onSelectedTagsChange={onSelectedTagsChange}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onCountChange={onCountChange}\n          onSelectedPostsChange={onSelectedPostsChange}\n          onSelectedPostTypesChange={onSelectedPostTypesChange}\n          onReadmoretextChange={onReadmoretextChange}\n          onReadmorelinkChange={onReadmorelinkChange}\n          onButtonLinkTabChange={onButtonLinkTabChange}\n          onIgnoreCategoriesChange={onIgnoreCategoriesChange}/>\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import { React } from 'react';\nimport {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender,\n  Dashicon,\n  Tooltip,\n  ToggleControl\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Columns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {columns_title,columns_description,columns_block_style,columns} = this.props;\n\n      return (\n        <Fragment>\n          <h3>{__('What style of column do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={columns_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('No Image', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-no_images.jpg',\n                  value: 'no_image',\n                  help: __('Optional headers, description text and buttons in a column display.', 'p4ge')\n                },\n                {\n                  label: __('Tasks', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-tasks.jpg',\n                  value: 'tasks',\n                  help: __('Used on Take Action pages, this display has ordered tasks, and call to action buttons.', 'p4ge')\n                },\n                {\n                  label: __('Icons', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-icons.jpg',\n                  value: 'icons',\n                  help: __('For more static content, this display has an icon, header, description and text link.', 'p4ge')\n                },\n                {\n                  label: __('Images', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/columns-images.jpg',\n                  value: 'image',\n                  help: __('For more static content, this display has an image, header, description and text link.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter block title', 'p4ge')}\n              value={columns_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter block description', 'p4ge')}\n              value={columns_description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n          <div>\n\n            {columns.map((item, index) => {\n              return (\n                <div key={index}>\n                  <div><hr /><i>{__('In order for the column to appear at least <strong>Header or Body</strong> has to be filled.', 'p4ge')}</i></div>\n\n                  <TextControl\n                    label={__('Column %s: Header', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter header of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.title}\n                    onChange={this.props.onColumnHeaderChange.bind(this,index)}\n                  />\n                  <TextareaControl\n                    label={__('Column %s: Body', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter body of %s column', 'p4ge').replace('%s', index+1)}\n                    value={item.description}\n                    onChange={this.props.onColumnDescriptionChange.bind(this,index)}\n                  />\n\n                  { 'no_image' != columns_block_style &&\n                    <MediaPlaceholder\n                      labels={{ title: __('Column %s: Image', 'p4ge').replace('%s', index+1)}}\n                      icon=\"format-image\"\n                      onSelect={this.props.onSelectImage.bind(this,index)}\n                      onSelectURL={this.props.onSelectURL.bind(this,index)}\n                      onError={this.props.onUploadError}\n                      accept=\"image/*\"\n                      allowedTypes={[\"image\"]}\n                    />\n                  }\n\n                  <TextControl\n                    label={__('Column %s: Button/CtA Link', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_link}\n                    onChange={this.props.onCTALinkChange.bind(this,index)}\n                  />\n                  <ToggleControl\n                    label={__('Open link in new tab', 'p4ge')}\n                    help={__('Open Column %s: Button/CtA Link in a new tab', 'p4ge').replace('%s', index+1)}\n                    value={item.link_new_tab}\n                    checked={item.link_new_tab}\n                    onChange={this.props.onLinkNewTabChange.bind(this,index)}\n                  />\n                  <TextControl\n                    label={__('Column %s: Button/CtA Text', 'p4ge').replace('%s', index+1)}\n                    placeholder={__('Enter text of button/link for column %s', 'p4ge').replace('%s', index+1)}\n                    value={item.cta_text}\n                    onChange={this.props.onCTAButtonTextChange.bind(this,index)}\n                  />\n                </div>\n              );\n            })}\n\n            { columns.length < 4 && (\n              <Tooltip text={__('Add Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__addIcon\"\n                  }\n                  onClick={this.props.addColumn}\n                >\n                  {__('Add Column', 'p4ge')} <Dashicon icon={\"plus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n\n            { columns.length > 0 && (\n              <Tooltip text={__('Remove Column', 'p4ge')}>\n                <button\n                  className={\n                    \"wp-block-p4ge-blocks-columns__removeIcon\"\n                  }\n                  onClick={this.props.removeColumn}\n                >\n                  {__('Remove Column', 'p4ge')} <Dashicon icon={\"minus\"} size={12} />\n                </button>\n              </Tooltip>\n            )}\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/columns'}\n                  attributes={{\n                    columns_block_style: this.props.columns_block_style,\n                    columns_title: this.props.columns_title,\n                    columns_description: this.props.columns_description,\n                    columns: this.props.columns,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Columns} from './Columns.js';\n\nconst {__} = wp.i18n;\n\nexport class ColumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/columns', {\n        title: __('Columns', 'p4ge'),\n        icon: \"grid-view\",\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_columns columns_block_style=\"image\" columns_title=\"Lorem Ipsum\" columns_description=\"Lorem Ipsum\"\n         *                    title_1=\"col1\" description_1=\"col1 body\" attachment_1=\"5096\" link_1=\"cta link1\" link_new_tab_1=\"true\" cta_text_1=\"cta text\"\n         *                    title_2=\"col2\" description_2=\"col2 body\" attachment_2=\"5186\" link_2=\"cta link2\" link_new_tab_2=\"true\" cta_text_2=\"cta text 2\" link_new_tab_3=\"false\" link_new_tab_4=\"false\" /]\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/columns {\"columns_block_style\":\"image\",\"columns_title\":\"Lorem Ipsum\",\"columns_description\":\"Lorem Ipsum\",\n         *      \"columns\":[{\"title\":\"col1\",\"description\":\"col1 body\",\"attachment\":5096,\"cta_link\":\"cta link1\",\"cta_text\":\"cta text 1\",\"link_new_tab\":true},{\"title\":\"col2\",\"description\":\"col2 body\",\"attachment\":5186,\"cta_link\":\"cta link2\",\"cta_text\":\"cta text 2\",\"link_new_tab\":true}]} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_columns',\n              attributes: {\n                columns_block_style: {\n                  type: 'string',\n                  shortcode: ({named: {columns_block_style = ''}}) => columns_block_style,\n                },\n                columns_title: {\n                  type: 'string',\n                  shortcode: ({named: {columns_title = ''}}) => columns_title,\n                },\n                columns_description: {\n                  type: 'string',\n                  shortcode: ({named: {columns_description = ''}}) => columns_description,\n                },\n                columns: {\n                  type: 'array',\n                  shortcode: function (attributes) {\n                    let columns = [];\n                    if (attributes.named.title_1) {\n                      let column = {\n                        title: attributes.named.title_1,\n                        description: attributes.named.description_1 || '',\n                        cta_link: attributes.named.link_1 || '',\n                        cta_text: attributes.named.cta_text_1 || '',\n                        link_new_tab: attributes.named.link_new_tab_1 || false\n                      };\n                      if (attributes.named.columns_block_style != 'no_image')\n                        column.attachment = attributes.named.attachment_1 || false;\n                      columns.push(Object.assign({}, column));\n\n                      if (attributes.named.title_2) {\n                        let column = {\n                          title: attributes.named.title_2,\n                          description: attributes.named.description_2 || '',\n                          cta_link: attributes.named.link_2 || '',\n                          cta_text: attributes.named.cta_text_2 || '',\n                          link_new_tab: attributes.named.link_new_tab_2 || false\n                        };\n                        if (attributes.named.columns_block_style != 'no_image')\n                          column.attachment = attributes.named.attachment_2 || false;\n                        columns.push(Object.assign({}, column));\n\n                        if (attributes.named.title_3) {\n                          let column = {\n                            title: attributes.named.title_3,\n                            description: attributes.named.description_3 || '',\n                            cta_link: attributes.named.link_3 || '',\n                            cta_text: attributes.named.cta_text_3 || '',\n                            link_new_tab: attributes.named.link_new_tab_3 || false\n                          };\n                          if (attributes.named.columns_block_style != 'no_image')\n                            column.attachment = attributes.named.attachment_3 || false;\n                          columns.push(Object.assign({}, column));\n\n                          if (attributes.named.title_4) {\n                            let column = {\n                              title: attributes.named.title_4,\n                              description: attributes.named.description_4 || '',\n                              cta_link: attributes.named.link_4 || '',\n                              cta_text: attributes.named.cta_text_4 || '',\n                              link_new_tab: attributes.named.link_new_tab_4 || false\n                            };\n                            if (attributes.named.columns_block_style != 'no_image')\n                              column.attachment = attributes.named.attachment_4 || false;\n                            columns.push(Object.assign({}, column));\n                          }\n                        }\n                      }\n                    }\n                    return columns;\n                  },\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          columns_block_style: {\n            type: 'string',\n          },\n          columns_title: {\n            type: 'string'\n          },\n          columns_description: {\n            type: 'string'\n          },\n          columns: {\n            type: \"array\",\n            default: [],\n            title:{\n              type: 'string'\n            },\n            description:{\n              type: 'string'\n            },\n            attachment:{\n              type: 'string'\n            },\n            cta_link:{\n              type: 'string'\n            },\n            link_new_tab:{\n              type: 'string'\n            },\n            cta_text:{\n              type: 'string'\n            },\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n\n          function onTitleChange(value) {\n            setAttributes({columns_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({columns_description: value});\n          }\n\n          function onSelectImage(index, value) {\n            const {columns} = attributes;\n            let {id}          = value;\n            let new_columns   = [...columns];\n            new_columns[index]['attachment'] = id;\n            setAttributes({columns: new_columns});\n          }\n\n          function onSelectURL(index, value) {\n            const {columns} = attributes;\n            let {id} = null;\n            let new_columns = [...columns];\n            new_columns[index]['attachment'] = id;\n            setAttributes({columns: new_columns});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({columns_block_style: value});\n\n            if ( 'no_image' == value ) {\n              const {columns} = attributes;\n              if ( 0 < columns.length ) {\n                let new_columns = [...columns];\n                let i;\n                for ( i = 0; i < columns.length; i++ ) {\n                  new_columns[i]['attachment'] = '';\n                }\n                setAttributes({columns: new_columns});\n              }\n            }\n          }\n\n          function addColumn() {\n            const {columns} = attributes;\n\n            if ( columns.length < 4 ) {\n              setAttributes({\n                columns: [...columns, {\n                  title:'',\n                  description:'',\n                  attachment:'',\n                  cta_link:'',\n                  cta_text:'',\n                  link_new_tab:'',\n                }]\n              });\n            }\n          }\n\n          function removeColumn() {\n            setAttributes({columns: attributes.columns.slice(0, -1) });\n          }\n\n          function onColumnHeaderChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].title = value;\n            setAttributes({columns});\n          }\n\n          function onColumnDescriptionChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].description = value;\n            setAttributes({columns});\n          }\n\n          function onCTALinkChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_link = value;\n            setAttributes({columns});\n          }\n\n          function onLinkNewTabChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].link_new_tab = value;\n            setAttributes({columns});\n          }\n\n          function onCTAButtonTextChange(index, value) {\n            let columns = JSON.parse(JSON.stringify(attributes.columns));\n            columns[index].cta_text = value;\n            setAttributes({columns});\n          }\n\n          return <Columns\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            addColumn={addColumn}\n            removeColumn={removeColumn}\n            onUploadError={onUploadError}\n            onColumnHeaderChange={onColumnHeaderChange}\n            onColumnDescriptionChange={onColumnDescriptionChange}\n            onCTALinkChange={onCTALinkChange}\n            onLinkNewTabChange={onLinkNewTabChange}\n            onCTAButtonTextChange={onCTAButtonTextChange}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {Preview} from '../../components/Preview';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\n\nexport class Cookies extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Cookies options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display opt-in options for cookies',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={this.props.title}\n              onChange={this.props.onTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"Necessary Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.necessary_cookies_name}\n              onChange={this.props.onNecessaryCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Necessary Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.necessary_cookies_description}\n              onChange={this.props.onNecessaryCookiesDescriptionChange}\n            />\n          </div>\n\n          <hr/>\n\n          <div>\n            <TextControl\n              label=\"All Cookies Name\"\n              placeholder=\"Enter cookies name\"\n              value={this.props.all_cookies_name}\n              onChange={this.props.onAllCookiesNameChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"All Cookies Description\"\n              placeholder=\"Enter cookies description\"\n              value={this.props.all_cookies_description}\n              onChange={this.props.onAllCookiesDescriptionChange}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/cookies'}\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              necessary_cookies_name: this.props.necessary_cookies_name,\n              necessary_cookies_description: this.props.necessary_cookies_description,\n              all_cookies_name: this.props.all_cookies_name,\n              all_cookies_description: this.props.all_cookies_description,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Cookies} from './Cookies.js';\n\nexport class CookiesBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/cookies', {\n      title: 'Cookies',\n      icon: 'welcome-view-site',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_cookies',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              necessary_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_name;\n                }\n              },\n              necessary_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.necessary_cookies_description;\n                }\n              },\n              all_cookies_name: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_name;\n                }\n              },\n              all_cookies_description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.all_cookies_description;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        necessary_cookies_name: {\n          type: 'string',\n        },\n        necessary_cookies_description: {\n          type: 'string',\n        },\n        all_cookies_name: {\n          type: 'string',\n        },\n        all_cookies_description: {\n          type: 'string',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onNecessaryCookiesNameChange(value) {\n          setAttributes({necessary_cookies_name: value});\n        }\n\n        function onNecessaryCookiesDescriptionChange(value) {\n          setAttributes({necessary_cookies_description: value});\n        }\n\n        function onAllCookiesNameChange(value) {\n          setAttributes({all_cookies_name: value});\n        }\n\n        function onAllCookiesDescriptionChange(value) {\n          setAttributes({all_cookies_description: value});\n        }\n\n        return <Cookies\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onNecessaryCookiesNameChange={onNecessaryCookiesNameChange}\n          onNecessaryCookiesDescriptionChange={onNecessaryCookiesDescriptionChange}\n          onAllCookiesNameChange={onAllCookiesNameChange}\n          onAllCookiesDescriptionChange={onAllCookiesDescriptionChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import { React, Component } from 'react';\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nexport class Counter extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const { __ } = wp.i18n;\n\n    return (\n      <div>\n        <h3>{ __('What style of counter do you need?', 'p4ge') }</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={ this.props.style }\n            onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n            options={[\n              {\n                label: __('Text Only', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_text.png',\n                value: 'plain',\n                help: __('Text to describe your progress', 'p4ge')\n              },\n              {\n                label: __('Progress Bar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'bar',\n                help: __('A bar to visualise the progress.', 'p4ge'),\n              },\n              {\n                label: __('Progress Dial', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_arc.png',\n                value: 'arc',\n                help: __('A dial to visualise the progress.', 'p4ge')\n              },\n              {\n                label: __('Progress bar inside EN Form', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/counter_th_bar.png',\n                value: 'en-forms-bar',\n                help: __('A bar inside an En Form. Select this only if you are adding an EN Form to the same page.', 'p4ge')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Title', 'p4ge') }\n            placeholder= { __('Enter title', 'p4ge') }\n            value={ this.props.title }\n            onChange={ this.props.onTitleChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Description', 'p4ge') }\n            placeholder= { __('Enter description', 'p4ge') }\n            value={ this.props.description }\n            onChange={ this.props.onDescriptionChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed', 'p4ge') }\n            placeholder= { __('e.g. number of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.completed }\n            onChange={ this.props.onCompletedChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Completed API URL', 'p4ge') }\n            placeholder= { __('API URL of completed number. If filled in will overide the \\'Completed\\' field', 'p4ge') }\n            value={ this.props.completed_api }\n            onChange={ this.props.onCompletedAPIChange }\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label= { __('Target', 'p4ge') }\n            placeholder= { __('e.g. target no. of signatures', 'p4ge') }\n            type=\"number\"\n            value={ this.props.target }\n            onChange={ this.props.onTargetChange }\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label= { __('Text', 'p4ge') }\n            placeholder= { __('e.g. \"signatures collected of %target%\"', 'p4ge') }\n            value={ this.props.text }\n            onChange={ this.props.onTextChange }\n          />\n          <p className='FieldHelp'>These placeholders can be used: <code>%completed%</code>, <code>%target%</code>, <code>%remaining%</code> </p>\n        </div>\n\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={ this.props.isSelected }>\n          <ServerSideRender\n            block={ 'planet4-blocks/counter' }\n            attributes={{\n              title: this.props.title,\n              description: this.props.description,\n              style: this.props.style,\n              completed: this.props.completed,\n              completed_api: this.props.completed_api,\n              target: this.props.target,\n              text: this.props.text,\n            }}>\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n};","import { Counter } from './Counter.js';\n\nexport class CounterBlock {\n  constructor() {\n    const { registerBlockType } = wp.blocks;\n    const { withSelect } = wp.data;\n\n    registerBlockType( 'planet4-blocks/counter', {\n      title: 'Counter',\n      icon: 'dashboard',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_counter',\n            attributes: {\n              style: {\n                type: 'string',\n                shortcode: ( { named: { style = 'plain' } } ) => style,\n              },\n              title: {\n                type: 'string',\n                shortcode: ( { named: { title = '' } } ) => title,\n              },\n              description: {\n                type: 'string',\n                shortcode: ( { named: { description = '' } } ) => description,\n              },\n              completed: {\n                type: 'integer',\n                shortcode: ( { named: { completed = 0 } } ) => completed,\n              },\n              completed_api: {\n                type: 'string',\n                shortcode: ( { named: { completed_api = '' } } ) => completed_api,\n              },\n              target: {\n                type: 'integer',\n                shortcode: ( { named: { target = 0 } } ) => target,\n              },\n              text: {\n                type: 'string',\n                shortcode: ( { named: { text = '' } } ) => text,\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        style: {\n          type: 'string',\n          default: 'plain'\n        },\n        completed: {\n          type: 'integer',\n        },\n        completed_api: {\n          type: 'string',\n        },\n        target: {\n          type: 'integer',\n        },\n        text: {\n          type: 'string',\n        }\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTitleChange( value ) {\n          setAttributes( { title: value } );\n        }\n\n        function onDescriptionChange( value ) {\n          setAttributes( { description: value } );\n        }\n\n        function onSelectedLayoutChange( value ) {\n          setAttributes( { style: value } );\n        }\n\n        function onCompletedChange( value ) {\n          setAttributes( { completed: Number(value) } );\n        }\n\n        function onCompletedAPIChange( value ) {\n          setAttributes( { completed_api: value } );\n        }\n\n        function onTargetChange( value ) {\n          setAttributes( { target: Number(value) } );\n        }\n\n        function onTextChange( value ) {\n          setAttributes( { text: value } );\n        }\n\n        // We pass down all the attributes to Covers as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Counter\n          { ...attributes }\n          isSelected={ isSelected }\n          onTitleChange={ onTitleChange }\n          onDescriptionChange={ onDescriptionChange }\n          onSelectedLayoutChange={ onSelectedLayoutChange }\n          onCompletedChange={ onCompletedChange }\n          onCompletedAPIChange={ onCompletedAPIChange }\n          onTargetChange={ onTargetChange }\n          onTextChange={ onTextChange }   />\n      },\n      save() {\n        return null;\n      }\n    } );\n  };\n}\n\n","import React, { Component } from 'react';\n\nimport {\n  FormTokenField,\n  SelectControl,\n  TextControl,\n  TextareaControl,\n  ServerSideRender } from '@wordpress/components';\n\nimport { LayoutSelector } from '../../components/LayoutSelector/LayoutSelector';\nimport { Preview } from '../../components/Preview';\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Covers extends Component {\n    constructor(props) {\n      super(props);\n\n      // Populate tag tokens for saved tags.\n      let tagTokens = props.tagsList.filter(tag => props.tags.includes(tag.id)).map(tag => tag.name);\n      // Populate post types tokens for saved post types.\n      let postTypeTokens = props.postTypesList.filter(post_type => props.post_types.includes(post_type.id)).map(post_type => post_type.name);\n\n      // Populate component state with block's saved tags tokens and post type tokens\n      this.state = {\n        tagTokens: tagTokens,\n        postTypeTokens: postTypeTokens,\n        selectedPosts: [],\n      };\n\n      this.populatePostsToken();\n      this.searchTimeout = null;\n    }\n\n    static getDerivedStateFromProps(props, state) {\n\n      // Post types should be available for cover_type 3\n      // If cover_type is not 3, reset post types tokens.\n      if ('1' === props.cover_type || '2' === props.cover_type) {\n        state.postTypeTokens= [];\n      }\n\n      // If posts attribute was reset, reset also the posts tokens.\n      if (0 === props.posts.length) {\n        state.postsTokens= [];\n      }\n      return state;\n    }\n\n\n    /**\n     * Set component's state for existing blocks.\n     */\n    populatePostsToken() {\n\n      if (this.props.posts.length > 0) {\n\n        let post_type = this.props.cover_type === '1' ? 'pages' : 'posts';\n        apiFetch(\n          {\n            path: addQueryArgs('/wp/v2/'+ post_type, {\n              per_page: 50,\n              page: 1,\n              include: this.props.posts\n            })\n          }\n        ).then(posts => {\n          const postsTokens = posts.map(post => post.title.rendered);\n          const postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({\n              postsTokens: postsTokens,\n              postsList: posts,\n              postsSuggestions: postsSuggestions,\n              selectedPosts: posts,\n            }\n          );\n        });\n      } else {\n        this.setState(\n          {\n            postsTokens: [],\n            postsList: [],\n            postsSuggestions: [],\n            selectedPosts: [],\n          }\n        );\n      }\n    }\n\n    /**\n     * Search posts using wp api.\n     *\n     * @param tokens\n     */\n    searchPosts(tokens) {\n\n      let queryArgs;\n      if ('1' === this.props.cover_type) {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/pages', {\n            per_page: -1,\n            post_type: 'page',\n            post_parent: window.p4ge_vars.planet4_options.act_page,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      } else {\n\n        queryArgs = {\n          path: addQueryArgs('/wp/v2/posts', {\n            per_page: 50,\n            page: 1,\n            search: tokens,\n            orderby: 'title',\n            post_status: 'publish',\n\n          })\n        };\n      }\n\n\n      apiFetch(queryArgs)\n        .then(posts => {\n          let postsSuggestions = posts.map(post => post.title.rendered);\n          this.setState({postsSuggestions: postsSuggestions, postsList: posts})\n        });\n    }\n\n    onPostsSearch(token) {\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(function () {\n        this.searchPosts(token);\n      }.bind(this), 500);\n    }\n\n    onSelectedTagsChange(tokens) {\n      const tagIds = tokens.map( token => {\n        return this.props.tagsList.filter( tag => tag.name === token )[0].id;\n      });\n      this.props.onSelectedTagsChange(tagIds);\n      this.setState({ tagTokens: tokens })\n    }\n\n    onSelectedPostTypesChange(tokens) {\n      const postTypeIds = tokens.map( token => {\n        return this.props.postTypesList.filter( postType => postType.name === token )[0].id;\n      });\n      this.props.onSelectedPostTypesChange(postTypeIds);\n      this.setState({ postTypeTokens: tokens })\n    }\n\n    onSelectedPostsChange(tokens) {\n      // Array to hold references to selected posts objects.\n      let currentSelectedPosts = [];\n      tokens.forEach(token => {\n        let f = this.state.postsList.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n        f = this.state.selectedPosts.filter(post => post.title.rendered === token);\n        if (f.length > 0) {\n          currentSelectedPosts.push(f[0]);\n        }\n      });\n\n      const postIds = currentSelectedPosts.map(post => post.id);\n      this.props.onSelectedPostsChange(postIds);\n      this.setState({postsTokens: tokens, selectedPosts: currentSelectedPosts});\n    }\n\n    renderEdit() {\n      const { __ } = wp.i18n;\n\n      const tagSuggestions = this.props.tagsList.map( tag => tag.name );\n      const postTypeSuggestions = this.props.postTypesList.map( postType => postType.name );\n\n      return (\n        <div>\n          <h3>{ __('What style of cover do you need?', 'p4ge') }</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={ this.props.cover_type }\n              onSelectedLayoutChange={ this.props.onSelectedLayoutChange }\n              options={[\n                {\n                  label: __('Take Action Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/take_action_covers.png',\n                  value: '1',\n                  help: __('Take action covers pull the featured image, tags, have a 25 character excerpt and have a call to action button')\n                },\n                {\n                  label: __('Campaign Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/campaign_covers.png',\n                  value: '2',\n                  help: __('Campaign covers pull the associated image and hashtag from the system tag definitions.'),\n                },\n                {\n                  label: __('Content Covers', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/content_covers.png',\n                  value: '3',\n                  help: __('Content covers pull the image from the post.')\n                },\n              ]}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label=\"Rows to display\"\n              value={ this.props.covers_view }\n              options={ [\n                { label: '1 Row', value: '1' },\n                { label: '2 Rows', value: '2' },\n                { label: 'All rows', value: '3' },\n              ] }\n              onChange={ this.props.onRowsChange }\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label=\"Title\"\n              placeholder=\"Enter title\"\n              value={ this.props.title }\n              onChange={ this.props.onTitleChange }\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label=\"Description\"\n              placeholder=\"Enter description\"\n              value={ this.props.description }\n              onChange={ this.props.onDescriptionChange }\n            />\n          </div>\n\n          {\n            this.props.posts !== 'undefined' && this.props.posts.length === 0\n              ?\n              <div>\n\n                <FormTokenField\n                  value={this.state.tagTokens}\n                  suggestions={tagSuggestions}\n                  label='Select Tags'\n                  onChange={tokens => this.onSelectedTagsChange(tokens)}\n                  placeholder=\"Select Tags\"\n                />\n                <p class='FieldHelp'>Associate this block with Actions that have specific Tags</p>\n              </div>\n              : null\n          }\n\n          {\n            this.props.cover_type === '3' && this.props.posts.length === 0\n              ? <FormTokenField\n                value={this.state.postTypeTokens}\n                suggestions={postTypeSuggestions}\n                label='Post Types'\n                onChange={tokens => this.onSelectedPostTypesChange(tokens)}\n                placeholder=\"Select Tags\"\n              />\n              : null\n          }\n\n          {\n            (this.props.cover_type === '1' || this.props.cover_type === '3') &&\n            (this.props.tags.length === 0 && this.props.post_types.length === 0)\n              ? <div>\n                <label>Manual override</label>\n                <FormTokenField\n                  value={this.state.postsTokens}\n                  suggestions={this.state.postsSuggestions}\n                  label='CAUTION: Adding covers manually will override the automatic functionality.'\n                  onChange={tokens => this.onSelectedPostsChange(tokens)}\n                  onInputChange={token => this.onPostsSearch(token)}\n                  placeholder=\"Select Tags\"\n                />\n              </div>\n              : null\n          }\n\n        </div>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={ this.props.isSelected }>\n                <ServerSideRender\n                  block={ 'planet4-blocks/covers' }\n                  attributes={{\n                    cover_type: this.props.cover_type,\n                    covers_view: this.props.covers_view,\n                    tags: this.props.tags,\n                    post_types: this.props.post_types,\n                    posts: this.props.posts,\n                    title: this.props.title,\n                    description: this.props.description,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n};\n","import { CoversIcon } from './CoversIcon.js';\nimport { Covers } from './Covers.js';\n\nexport class CoversBlock {\n    constructor() {\n      const { registerBlockType } = wp.blocks;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/covers', {\n        title: 'Covers',\n        icon: 'slides',\n        category: 'planet4-blocks',\n\n        // Transform the shortcode into a Gutenberg block\n        // this is used when a user clicks \"Convert to blocks\"\n        // on the \"Classic Editor\" block\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_newcovers',\n              attributes: {\n                cover_type: {\n                  type: 'integer',\n                  // This `shortcode` definition will be used as a callback,\n                  // it is a function which expects an object with at least\n                  // a `named` key with `cover_type` property whose default value is 1.\n                  // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n                  shortcode: ({named: {cover_type = '1'}}) => cover_type,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                covers_view: {\n                  type: 'string',\n                  shortcode: ({named: {covers_view = ''}}) => covers_view,\n                },\n                tags: {\n                  type: 'string',\n                  shortcode: ({named: {tags = ''}}) => tags.split(','),\n                },\n                post_types: {\n                  type: 'string',\n                  shortcode: ({named: {post_types = ''}}) => post_types.split(','),\n                },\n                posts: {\n                  type: 'string',\n                  shortcode: ({named: {posts = ''}}) => posts.split(','),\n                },\n              },\n            },\n          ]\n        },\n        // This attributes definition mimics the one in the PHP side.\n        attributes: {\n          title: {\n            type: 'string',\n          },\n          description: {\n            type: 'string',\n          },\n          tags: {\n            type: 'array',\n            default: []\n          },\n          posts: {\n            type: 'array',\n            default: []\n          },\n          post_types: {\n            type: 'array',\n            default: []\n          },\n          covers_view: {\n            type: 'string',\n            default: '1'\n          },\n          cover_type: {\n            type: 'string',\n          }\n        },\n        // withSelect is a \"Higher Order Component\", it works as\n        // a Decorator, it will provide some basic API functionality\n        // through `select`.\n        edit: withSelect( ( select ) => {\n          const tagsTaxonomy = 'post_tag';\n          const postTypesTaxonomy = 'p4-page-type';\n          const args = {\n            hide_empty: false,\n            per_page: -1,\n          };\n\n          const { getEntityRecords } = select( 'core' );\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords( 'taxonomy', tagsTaxonomy, args );\n          const postTypesList = getEntityRecords( 'taxonomy', postTypesTaxonomy );\n\n          return {\n            postTypesList,\n            tagsList,\n          };\n        } )( ( {\n          postTypesList,\n          tagsList,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n            if ( !tagsList || !postTypesList ) {\n                return \"Populating block's fields...\";\n            }\n\n            // TO-DO: Check for posts types and posts too...\n            if ( !tagsList && !tagsList.length === 0 ) {\n                return \"No tags...\";\n            }\n\n            // These methods are passed down to the\n            // Covers component, they update the corresponding attribute.\n\n            function onRowsChange( value ) {\n              setAttributes( { covers_view: value } );\n            }\n\n            function onTitleChange( value ) {\n              setAttributes( { title: value } );\n            }\n\n            function onDescriptionChange( value ) {\n              setAttributes( { description: value } );\n            }\n\n            function onSelectedTagsChange( tagIds ) {\n              setAttributes( { tags: tagIds } );\n            }\n\n            function onSelectedPostsChange(value) {\n              setAttributes({posts: value});\n            }\n\n            function onSelectedPostTypesChange( postTypeIds ) {\n              setAttributes( { post_types: postTypeIds } );\n            }\n\n            function onSelectedLayoutChange( value ) {\n\n              // Post types are available only on cover_type 3, so we reset the post_types attribute in the other 2 cases.\n              if ( '1' === value) {\n                setAttributes( { post_types: [] } );\n              }\n              if ( '2' === value) {\n                setAttributes( { post_types: []} );\n              }\n              // Reset posts attribute when changing layout also.\n              setAttributes({cover_type: value, posts: []});\n            }\n\n            // We pass down all the attributes to Covers as props using\n            // the spread operator. Then we selectively add more\n            // props.\n            return <Covers\n              { ...attributes }\n              isSelected={ isSelected }\n              tagsList={ tagsList }\n              postTypesList={ postTypesList }\n              onSelectedTagsChange={ onSelectedTagsChange }\n              onSelectedLayoutChange={ onSelectedLayoutChange }\n              onTitleChange={ onTitleChange }\n              onDescriptionChange={ onDescriptionChange }\n              onSelectedPostsChange={ onSelectedPostsChange }\n              onSelectedPostTypesChange={ onSelectedPostTypesChange }\n              onRowsChange={ onRowsChange } />\n        } ),\n        save() {\n          return null;\n        }\n      } );\n    };\n}\n\n","import { React, Component } from 'react';\n\nexport class CoversIcon extends Component {\n\trender() {\n\t\treturn <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 66 82.5\" enable-background=\"new 0 0 66 66\"><g><g><path d=\"M8.193,37.334l23.804-10.512v-8.007L6.099,30.093c-0.24,0.11-0.44,0.31-0.53,0.56c-0.1,0.24-0.09,0.52,0.01,0.76    L8.193,37.334z\"/><path d=\"M8.999,39.163l4.9,11.08c4.55-1.49,7.1,2.61,8.76,3.78c1.51-1.01,4.47-5.71,9.34-3.55v-21.47L8.999,39.163z     M21.059,42.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49    C21.779,42.033,21.559,42.623,21.059,42.853z M27.059,39.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33    l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49C27.779,39.033,27.559,39.623,27.059,39.853z\"/><path d=\"M33.998,26.816l24.005,10.392l2.416-5.816c0.21-0.5-0.02-1.08-0.52-1.3L33.998,18.813V26.816z\"/><path d=\"M33.999,28.993v22.77c0.95,0.8,2.02,2.26,2.44,2.26c1.97-1.66,3.56-4.08,6.88-4.08c4.21,0,6.03,4.07,6.9,4.07    c0.1-0.087,0.722-0.298,1.25-1.09l5.77-13.87L33.999,28.993z M41.269,39.823c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46    c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.83-0.72,1.33-0.49l1,0.46C41.279,38.733,41.499,39.323,41.269,39.823z M47.269,42.823    c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.82-0.72,1.33-0.49l1,0.46    C47.279,41.733,47.499,42.323,47.269,42.823z\"/></g><g><path d=\"M37.999,2.983v5.63h-10v-5.63c0-1.1,0.9-2,2-2h6C37.099,0.983,37.999,1.883,37.999,2.983z\"/></g><path d=\"M48.319,13.823c-0.38-1.86-2.03-3.21-3.93-3.21h-22.78c-1.9,0-3.55,1.35-3.92,3.21l-1.98,9.91   c5.27-2.31,11.32-4.94,17.29-7.54c1.02,0.45,9.84,4.29,17.29,7.54L48.319,13.823z M24.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1   h2c0.55,0,1,0.45,1,1S25.549,17.233,24.999,17.233z M42.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1h2c0.55,0,1,0.45,1,1   S43.549,17.233,42.999,17.233z\"/><path d=\"M64,62.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1C65,63.43,64.552,62.982,64,62.982z\"/><path d=\"M64,55.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1S64.552,55.982,64,55.982z\"/></g></svg>\n\t}\n}\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  Toolbar,\n  IconButton,\n  Button\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\n\nexport class Gallery extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const getImageOrButton = (openEvent) => {\n        if ( 0 < this.props.image_data.length ) {\n\n          return (\n\n            this.props.image_data.map((item, index) => {\n              return (\n                <span>\n                  <img\n                    src={ item.url }\n                    onClick={ openEvent }\n                    className=\"gallery__imgs\"\n                    key={index}\n                    width='150 px'\n                    style={{padding: '10px 10px'}}\n                  />\n                </span>\n              );\n            })\n\n          );\n        }\n        else {\n          return (\n            <div className=\"button-container\">\n              <Button\n                onClick={ openEvent }\n                className=\"button\">\n                + {__('Select Gallery Images', 'p4ge')}\n              </Button>\n\n              <div>{__('Select images in the order you want them to appear.', 'p4ge')}</div>\n            </div>\n          );\n        }\n      };\n\n      const {__} = wp.i18n;\n\n      const {gallery_block_style , gallery_block_title , gallery_block_description , multiple_image , image_data} = this.props;\n\n      const dimensions = {width: 400, height: 100};\n\n      let multiple_image_array = multiple_image ? multiple_image.split(',') : [];\n\n      return (\n        <Fragment>\n          <BlockControls>\n            { 0 < image_data.length && (\n              <Toolbar>\n                { 0 < multiple_image_array.length && (\n                  <MediaUploadCheck>\n                    <MediaUpload\n                      onSelect={this.props.onSelectImage}\n                      allowedTypes={[\"image\"]}\n                      value={multiple_image_array}\n                      type=\"image\"\n                      multiple=\"true\"\n                      render={({ open }) => {\n                        return (\n                          <IconButton\n                            className=\"components-icon-button components-toolbar__control\"\n                            label={__(\n                              \"Edit Images\",\n                              \"mytheme-blocks\"\n                            )}\n                            onClick={open}\n                            icon=\"edit\"\n                          />\n                        );\n                      }}\n                    />\n                  </MediaUploadCheck>\n                )}\n                <IconButton\n                  className=\"components-icon-button components-toolbar__control\"\n                  label={__(\"Remove Images\", \"mytheme-blocks\")}\n                  onClick={this.props.onRemoveImages}\n                  icon=\"trash\"\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          <h3>{__('What style of gallery do you need?', 'p4ge')}</h3>\n\n          <div>\n            <LayoutSelector\n              selectedOption={gallery_block_style}\n              onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n              options={[\n                {\n                  label: __('Slider', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-slider.jpg',\n                  value: 1,\n                  help: __('The slider is a carousel of images. For more than 5 images, consider using a grid.', 'p4ge')\n                },\n                {\n                  label: __('3 Column', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-3-column.jpg',\n                  value: 2,\n                  help: __('The 3 column image display is great for accentuating text, and telling a visual story.', 'p4ge')\n                },\n                {\n                  label: __('Grid', 'p4ge'),\n                  image: window.p4ge_vars.home + 'images/gallery-grid.jpg',\n                  value: 3,\n                  help: __('The grid shows thumbnails of lots of images. Good to use when showing lots of activity.', 'p4ge')\n                },\n              ]}\n            />\n          </div>\n          <div>\n            <TextControl\n              label={__('Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={gallery_block_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('Please Enter Description', 'p4ge')}\n              value={gallery_block_description}\n              onChange={this.props.onDescriptionChange}\n            />\n\n            {__('Select Gallery Images', 'p4ge')}\n            <div>\n              <MediaUploadCheck>\n                <MediaUpload\n                  title={__('Select Gallery Images', 'p4ge')}\n                  type=\"image\"\n                  onSelect={this.props.onSelectImage}\n                  value={multiple_image_array}\n                  allowedTypes={[\"image\"]}\n                  multiple=\"true\"\n                  render={ ({ open }) => getImageOrButton(open) }\n                />\n              </MediaUploadCheck>\n            </div>\n\n            {image_data &&\n            <div\n              className={\n                \"wp-block-master-theme-gallery__FocalPointPicker\"\n              }\n            >\n              <ul>\n                {image_data.map((item, index) => {\n                  return (\n                    <li\n                      key={index}\n                    >\n                      {__('Select gallery image focal point', 'p4ge')}\n                      <FocalPointPicker\n                        url={item.url}\n                        dimensions={dimensions}\n                        value={item.focalPoint}\n                        onChange={this.props.onFocalPointChange.bind(this,item.id)}\n                        key={item.id}\n                      />\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n            }\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/gallery'}\n                  attributes={{\n                    gallery_block_style: this.props.gallery_block_style,\n                    gallery_block_title: this.props.gallery_block_title,\n                    gallery_block_description: this.props.gallery_block_description,\n                    multiple_image: this.props.multiple_image,\n                    gallery_block_focus_points: this.props.gallery_block_focus_points,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Gallery} from './Gallery';\n\nconst {__} = wp.i18n;\n\nexport class GalleryBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/gallery', {\n        title: __('Gallery', 'p4ge'),\n        icon: 'format-gallery',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_gallery gallery_block_style=\"2\" gallery_block_title=\"test title\"\n         *                    gallery_block_description=\"test desc\" multiple_image=\"23603,23602,23600,23596\"\n         *                    gallery_block_focus_points=\"{'23596':'left top','23597':'left top','23599':'left top'}\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/gallery {\"gallery_block_style\":3,\"gallery_block_title\":\"test title\",\"gallery_block_description\":\"test desc\",\n         *      \"multiple_image\":\"23603,23602,23600,23596\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_gallery',\n              attributes: {\n                gallery_block_style: {\n                  type: 'integer',\n                  shortcode: ({named: {gallery_block_style = ''}}) => gallery_block_style,\n                },\n                gallery_block_title: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_title = ''}}) => gallery_block_title,\n                },\n                gallery_block_description: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_description = ''}}) => gallery_block_description,\n                },\n                multiple_image: {\n                  type: 'string',\n                  shortcode: ({named: {multiple_image = ''}}) => multiple_image,\n                },\n                gallery_block_focus_points: {\n                  type: 'string',\n                  shortcode: ({named: {gallery_block_focus_points = ''}}) => gallery_block_focus_points,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          gallery_block_style: {\n            type: 'number',\n            default: 1\n          },\n          gallery_block_title: {\n            type: 'string',\n          },\n          gallery_block_description: {\n            type: 'string',\n          },\n          multiple_image: {\n            type: 'string',\n          },\n          gallery_block_focus_points: {\n            type: 'string',\n          },\n          image_data: {\n            type: 'object',\n            default: []\n          },\n        },\n        edit: withSelect( ( select, props ) => {\n\n          const { attributes } = props;\n          const { multiple_image } = attributes;\n\n          let image_urls_array = [];\n\n          if ( multiple_image ) {\n            let image_id_array = multiple_image.split(',');\n\n            $.each(image_id_array, function( index, img_id ) {\n              let img_url = select('core').getMedia(img_id);\n              if ( img_url ) {\n                image_urls_array[img_id] = img_url.media_details.sizes.medium.source_url;\n              }\n            });\n          }\n\n          return {\n            image_urls_array\n          };\n        } )( ( {\n          image_urls_array,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          let {image_data,gallery_block_focus_points} = attributes;\n\n          // Prepare image_data array on edit gallery block.\n          if (0 == image_data.length && 0 < image_urls_array.length) {\n            let new_image_data = [];\n            let focal_points_json = gallery_block_focus_points ? JSON.parse(gallery_block_focus_points):{};\n\n            for (const img_id in image_urls_array) {\n\n              let x,y;\n              if ($.isEmptyObject(focal_points_json)) {\n                [x,y] = [50,50];\n              } else {\n                [x,y] = focal_points_json[img_id].replace(/\\%/g, '').split(' ');\n              }\n\n              new_image_data.push({\n                url: image_urls_array[img_id],\n                focalPoint: {\n                  x:parseInt(x)/100,\n                  y:parseInt(y)/100\n                },\n                id: img_id\n              });\n            }\n\n            setAttributes({image_data: new_image_data});\n          }\n\n          function onTitleChange( value ) {\n            setAttributes({gallery_block_title: value});\n          }\n\n          function onDescriptionChange( value ) {\n            setAttributes({gallery_block_description: value });\n          }\n\n          function onSelectImage(value) {\n            let image_ids = [];\n            let image_data = [];\n            for (const key in value) {\n              image_ids.push(value[key].id);\n              let img_id = value[key].id;\n              image_data.push({url: value[key].url, focalPoint: {x:0.5, y:0.5}, id: img_id});\n            }\n            setAttributes({multiple_image: image_ids.join(',')});\n            setAttributes({image_data: image_data});\n          }\n\n          function onSelectedLayoutChange( value ) {\n            setAttributes({gallery_block_style: Number(value)});\n          }\n\n          function onFocalPointChange( image_id, value ) {\n\n            let updated_image_data = [];\n            let gallery_block_focus_points = {};\n\n            image_data.map(function(object){\n              if (object.id === image_id) {\n                let x = parseFloat(value.x).toFixed(2);\n                let y = parseFloat(value.y).toFixed(2);\n\n                updated_image_data.push({url: object.url, focalPoint: {x,y}, id: image_id});\n                gallery_block_focus_points[image_id] = (x*100)+'% '+(y*100)+'%';\n\n              } else {\n                updated_image_data.push(object);\n                let img_id = object.id;\n                gallery_block_focus_points[img_id] = parseInt(object.focalPoint.x*100)+'% '+parseInt(object.focalPoint.y*100)+'%';\n              }\n            });\n\n            setAttributes({gallery_block_focus_points: JSON.stringify(gallery_block_focus_points)});\n            setAttributes({image_data: updated_image_data});\n          }\n\n          function onRemoveImages() {\n            setAttributes({multiple_image: ''});\n            setAttributes({gallery_block_focus_points: ''});\n            setAttributes({image_data: []});\n          }\n\n          return <Gallery\n            {...attributes}\n            isSelected={isSelected}\n            onSelectedLayoutChange={onSelectedLayoutChange}\n            onSelectImage={onSelectImage}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {Component,Fragment} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\n\nimport {\n  MediaPlaceholder,\n  InspectorControls,\n  BlockControls,\n  MediaUpload,\n  MediaUploadCheck\n} from '@wordpress/editor';\n\nimport {\n  TextControl,\n  ServerSideRender,\n  FocalPointPicker,\n  ToggleControl,\n  RangeControl,\n  PanelBody,\n  Button,\n  Toolbar,\n  IconButton\n} from '@wordpress/components';\n\nexport class Happypoint extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const dimensions = {width: 400, height: 100};\n\n      const {focus_image, opacity, mailing_list_iframe, iframe_url, url, id} = this.props;\n\n      let focal_point_params = {x:'',y:''};\n\n      if (focus_image) {\n        let focus_image_str = focus_image.replace(/%/g, '');\n        let [x, y] = focus_image_str.split(' ');\n        focal_point_params = {x: x/100,y: y/100};\n      } else {\n        focal_point_params = {x:0.5, y:0.5};\n      }\n\n      const getImageOrButton = (openEvent) => {\n        if ( this.props.id && ( 0 < this.props.id ) ) {\n\n          return (\n\n            <div align='center'>\n              <img\n                src={ this.props.url }\n                onClick={ openEvent }\n                className='happypoint__imgs'\n                width={'400px'}\n                style={{padding: '10px 10px'}}\n              />\n            </div>\n\n          );\n        }\n        else {\n          return (\n            <div className='button-container'>\n              <Button\n                onClick={ openEvent }\n                className='button'>\n                + {__('Select Background Image', 'p4ge')}\n              </Button>\n            </div>\n          );\n        }\n      };\n\n      return (\n        <Fragment>\n          <InspectorControls>\n            <PanelBody title={__('Setting', 'p4ge')}>\n              <RangeControl\n                label={__('Opacity', 'p4ge')}\n                value={opacity}\n                onChange={this.props.onOpacityChange}\n                min={1}\n                max={100}\n                initialPosition={opacity}\n                help={__('We use an overlay to fade the image back. Use a number between 1 and 100, the higher the number, the more faded the image will look. If you leave this empty, the default of 30 will be used.', 'p4ge')}\n              />\n              <ToggleControl\n                label={__('Use mailing list iframe', 'p4ge')}\n                help={__('Use mailing list iframe', 'p4ge')}\n                value={mailing_list_iframe}\n                checked={this.props.mailing_list_iframe}\n                onChange={this.props.onMailingListIframeChange}\n              />\n              <TextControl\n                label={__('Iframe url', 'p4ge')}\n                placeholder={__('Enter Iframe url', 'p4ge')}\n                help={__('If a url is set in this field and the \\'mailing list iframe\\' option is enabled, it will override the planet4 engaging network setting.', 'p4ge')}\n                value={iframe_url}\n                onChange={this.props.onIframeUrlChange}\n              />\n            </PanelBody>\n          </InspectorControls>\n          <BlockControls>\n            { this.props.id && ( 0 < this.props.id ) && (\n              <Toolbar>\n                <MediaUploadCheck>\n                  <MediaUpload\n                    onSelect={this.props.onSelectImage}\n                    allowedTypes={['image']}\n                    value={id}\n                    type='image'\n                    render={({ open }) => {\n                      return (\n                        <IconButton\n                          className='components-icon-button components-toolbar__control'\n                          label={__('Edit Image', 'p4ge')}\n                          onClick={open}\n                          icon='edit'\n                        />\n                      );\n                    }}\n                  />\n                </MediaUploadCheck>\n                <IconButton\n                  className='components-icon-button components-toolbar__control'\n                  label={__('Remove Image', 'p4ge')}\n                  onClick={this.props.onRemoveImages}\n                  icon='trash'\n                />\n              </Toolbar>\n            )}\n          </BlockControls>\n          {__('Select Background Image', 'p4ge')}\n          <div>\n            <MediaUploadCheck>\n              <MediaUpload\n                title={__('Select Background Image', 'p4ge')}\n                type='image'\n                onSelect={this.props.onSelectImage}\n                value={id}\n                allowedTypes={['image']}\n                render={ ({ open }) => getImageOrButton(open) }\n              />\n            </MediaUploadCheck>\n          </div>\n          {id && 0 < id &&\n            <div>\n              {__('Select focus point for background image', 'p4ge')}\n              <FocalPointPicker\n                url={url}\n                dimensions={dimensions}\n                value={focal_point_params}\n                onChange={this.props.onFocalPointChange}\n              />\n            </div>\n          }\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/happypoint'}\n                  attributes={{\n                    id: this.props.id,\n                    focus_image: this.props.focus_image,\n                    opacity: this.props.opacity,\n                    mailing_list_iframe: this.props.mailing_list_iframe,\n                    iframe_url: this.props.iframe_url,\n                    load_iframe: true,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Happypoint} from './Happypoint';\n\nexport class HappypointBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/happypoint', {\n        title: __('Happypoint', 'p4ge'),\n        icon: 'format-image',\n        category: 'planet4-blocks',\n\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_happy_point background=\"4968\" focus_image=\"center center\" opacity=\"60\" mailing_list_iframe=\"true\" iframe_url=\"https%3A%2F%2Fact.greenpeace.org%2Fpage%2F34215%2Fsubscribe%2F1\" /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/happypoint {\"focus_image\":\"50% 50%\",\"opacity\":60,\"mailing_list_iframe\":true,\"iframe_url\":\"https://act.greenpeace.org/page/34215/subscribe/1\",\"id\":4968} /-->\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_happy_point',\n              attributes: {\n                opacity: {\n                  type: 'integer',\n                  shortcode: ({named: {opacity = ''}}) => opacity,\n                },\n                id: {\n                  type: 'integer',\n                  shortcode: ({named: {id = ''}}) => id,\n                },\n                focus_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_image = ''}}) => focus_image,\n                },\n                mailing_list_iframe: {\n                  type: 'string',\n                  shortcode: ({named: {mailing_list_iframe = ''}}) => mailing_list_iframe,\n                },\n                iframe_url: {\n                  type: 'string',\n                  shortcode: ({named: {iframe_url = ''}}) => iframe_url,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          focus_image: {\n            type: 'string',\n          },\n          opacity: {\n            type: 'number',\n            default: 60\n          },\n          mailing_list_iframe: {\n            type: 'boolean',\n          },\n          iframe_url: {\n            type: 'string',\n          },\n          id: {\n            type: 'number',\n          },\n          load_iframe: {\n            type: 'boolean',\n            default: false\n          }\n        },\n        edit: withSelect( ( select, props ) => {\n          const { attributes } = props;\n          const { id } = attributes;\n          let img_url = '';\n\n          if (id && (0 < id)) {\n            img_url = select('core').getMedia(id);\n            if(img_url){\n              img_url = img_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          return {\n            img_url\n          };\n        } )( ( {\n          img_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n          function onBackgroundChange( value ) {\n            setAttributes({background: value});\n          }\n\n          function onOpacityChange( value ) {\n            setAttributes({opacity: value});\n          }\n\n          function onMailingListIframeChange( value ) {\n            setAttributes({mailing_list_iframe: value});\n          }\n\n          function onIframeUrlChange( value ) {\n            setAttributes({iframe_url: value});\n          }\n\n          function onFocalPointChange( {x,y} ) {\n            x = parseFloat(x).toFixed(2);\n            y = parseFloat(y).toFixed(2);\n            setAttributes({focus_image: (x*100)+'% '+(y*100)+'%'});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({id});\n          }\n\n          function onRemoveImages() {\n            setAttributes({id: -1});\n            setAttributes({focus_image: ''});\n          }\n\n          return <Happypoint\n            {...attributes}\n            isSelected={isSelected}\n            url={img_url}\n            onSelectImage={onSelectImage}\n            onOpacityChange={onOpacityChange}\n            onMailingListIframeChange={onMailingListIframeChange}\n            onIframeUrlChange={onIframeUrlChange}\n            onFocalPointChange={onFocalPointChange}\n            onRemoveImages={onRemoveImages}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {MediaPlaceholder} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\n\nexport class Media extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      const {__} = wp.i18n;\n\n      const {video_title,description,youtube_id} = this.props;\n\n      return (\n        <Fragment>\n          <div>\n            <TextControl\n              label={__('Media Title', 'p4ge')}\n              placeholder={__('Enter video title', 'p4ge')}\n              value={video_title}\n              onChange={this.props.onTitleChange}\n            />\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={description}\n              onChange={this.props.onDescriptionChange}\n            />\n            <TextControl\n              label={__('Media URL/ID', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              value={youtube_id}\n              onChange={this.props.onMediaUrlChange}\n              help={__('Can be a YouTube, Vimeo or Soundcloud URL or an mp4, mp3 or wav file URL.', 'p4ge')}\n            />\n            <MediaPlaceholder\n              labels={{ title: __('Video poster image [Optional]', 'p4ge'), instructions: __('Applicable for .mp4 video URLs only.', 'p4ge')}}\n              icon=\"format-image\"\n              onSelect={this.props.onSelectImage}\n              onSelectURL={this.props.onSelectURL}\n              onError={this.props.onUploadError}\n              accept=\"image/*\"\n              allowedTypes={[\"image\"]}\n            />\n          </div>\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                { this.props.youtube_id &&\n                  <ServerSideRender\n                    block={'planet4-blocks/media-video'}\n                    attributes={{\n                      video_title: this.props.video_title,\n                      description: this.props.description,\n                      youtube_id: this.props.youtube_id,\n                      video_poster_img: this.props.video_poster_img,\n                    }}>\n                  </ServerSideRender>\n                }\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Media} from './Media';\n\nconst {__} = wp.i18n;\n\nexport class MediaBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n\n      registerBlockType('planet4-blocks/media-video', {\n        title: __('Media block', 'p4ge'),\n        icon: 'format-video',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_media_video video_title=\"Lorem Ipsum\"\n         *                        description=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\"\n         *                        youtube_id=\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\"\n         *                        video_poster_img=\"23241\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/media-video {\"video_title\":\"Lorem Ipsum\",\"description\":\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\",\"youtube_id\":\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\"video_poster_img\":23241} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_media_video',\n              attributes: {\n                video_title: {\n                  type: 'string',\n                  shortcode: ({named: {video_title = ''}}) => video_title,\n                },\n                description: {\n                  type: 'string',\n                  shortcode: ({named: {description = ''}}) => description,\n                },\n                youtube_id: {\n                  type: 'string',\n                  shortcode: ({named: {youtube_id = ''}}) => youtube_id,\n                },\n                video_poster_img: {\n                  type: 'integer',\n                  shortcode: ({named: {video_poster_img = ''}}) => video_poster_img,\n                }\n              },\n            },\n          ]\n        },\n        attributes: {\n          video_title: {\n            type: 'string'\n          },\n          description: {\n            type: 'string'\n          },\n          youtube_id: {\n            type: 'string'\n          },\n          video_poster_img: {\n            type: 'integer'\n          }\n        },\n        edit: ({isSelected, attributes, setAttributes}) => {\n          function onTitleChange(value) {\n            setAttributes({video_title: value});\n          }\n\n          function onDescriptionChange(value) {\n            setAttributes({description: value});\n          }\n\n          function onMediaUrlChange(value) {\n            setAttributes({youtube_id: value});\n          }\n\n          function onSelectImage({id}) {\n            setAttributes({video_poster_img: id});\n          }\n\n          function onSelectURL({url}) {\n            setAttributes({id: null});\n          }\n\n          function onUploadError({message}) {\n            console.log(message);\n          }\n\n          return <Media\n            {...attributes}\n            isSelected={isSelected}\n            onTitleChange={onTitleChange}\n            onDescriptionChange={onDescriptionChange}\n            onMediaUrlChange={onMediaUrlChange}\n            onSelectImage={onSelectImage}\n            onSelectURL={onSelectURL}\n            onUploadError={onUploadError}\n          />\n        },\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from '@wordpress/element';\nimport {Preview} from '../../components/Preview';\nimport {\n  RadioControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\n\n\nconst {apiFetch} = wp;\nconst {addQueryArgs} = wp.url;\n\nexport class Socialmedia extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  componentDidUpdate() {\n    this.checkTwitterScript();\n    this.checkInstagramScript();\n  }\n\n  /**\n   * Check if twitter embeds script is loaded and initiliaze it.\n   */\n  checkTwitterScript() {\n    if (this.props.social_media_url.includes('twitter')) {\n      let twitterScript = document.querySelector('script[src=\"https://platform.twitter.com/widgets.js\"]');\n\n      if (null === twitterScript) {\n        let scriptLoaded = this.loadScriptAsync('https://platform.twitter.com/widgets.js');\n        scriptLoaded.then(function () {\n          this.initializeTwitterEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeTwitterEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Check if instgram embeds script is loaded and initiliaze it.\n   */\n  checkInstagramScript() {\n    if (this.props.social_media_url.includes('instagram')) {\n      let instaScript = document.querySelector('script[src=\"https://www.instagram.com/embed.js\"]');\n\n      if (null === instaScript) {\n        let scriptLoaded = this.loadScriptAsync('https://www.instagram.com/embed.js');\n        scriptLoaded.then(function () {\n          this.initializeInstagramEmbeds();\n        }.bind(this));\n      } else {\n        this.initializeInstagramEmbeds();\n      }\n    }\n  }\n\n  /**\n   * Initialize twitter embeds.\n   */\n  initializeTwitterEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.twttr) {\n        window.twttr.widgets.load();\n      }\n    }, 2000);\n  }\n\n  /**\n   * Initialize instagram embeds.\n   */\n  initializeInstagramEmbeds() {\n    setTimeout(function () {\n      if ('undefined' !== window.instgrm) {\n        window.instgrm.Embeds.process();\n      }\n    }, 3000);\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const embed_type_help = __('Select oEmbed for the following types of social media<br>- Twitter: tweet, profile, list, collection, likes, moment<br>- Facebook: post, activity, photo, video, media, question, note<br>- Instagram: image', 'planet4-blocks-backend');\n\n    return (\n      <Fragment>\n        <div>\n          <TextControl\n            label={__('Title', 'planet4-blocks-backend')}\n            placeholder={__('Enter title', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <div>\n          <TextareaControl\n            label={__('Description', 'planet4-blocks-backend')}\n            placeholder={__('Enter description', 'planet4-blocks-backend')}\n            help={__('Optional', 'planet4-blocks-backend')}\n            value={this.props.description}\n            onChange={this.props.onDescriptionChange}\n          />\n        </div>\n\n        <div>\n          <RadioControl\n            label={__('Embed type', 'planet4-blocks-backend')}\n            help={\n              <RawHTML>{embed_type_help}</RawHTML>\n            }\n            options={[\n              {label: 'oEmbed', value: 'oembed'},\n              {label: 'Facebook page', value: 'facebook_page'},\n            ]}\n            selected={this.props.embed_type}\n            onChange={this.props.onEmbedTypeChange}\n          />\n        </div>\n\n        {\n          this.props.embed_type === 'facebook_page'\n            ?\n            <div>\n              <SelectControl\n                label={__('What Facebook page content would you like to display?', 'planet4-blocks-backend')}\n                value={this.props.facebook_page_tab}\n                options={[\n                  {label: 'Timeline', value: 'timeline'},\n                  {label: 'Events', value: 'events'},\n                  {label: 'Mesages', value: 'messages'},\n                ]}\n                onChange={this.props.onFacebookPageTabChange}\n              />\n            </div>\n            : null\n        }\n\n        <div>\n          <TextControl\n            label={__('URL', 'planet4-blocks-backend')}\n            placeholder={__('Enter URL', 'planet4-blocks-backend')}\n            value={this.props.social_media_url}\n            onChange={this.props.onSocialMediaUrlChange}\n          />\n        </div>\n\n        <div>\n          <SelectControl\n            label={__('Alignment', 'planet4-blocks-backend')}\n            value={this.props.alignment_class}\n            options={[\n              {label: 'None', value: ''},\n              {label: 'Left', value: 'alignleft'},\n              {label: 'Center', value: 'aligncenter'},\n              {label: 'Right', value: 'alignright'},\n            ]}\n            onChange={this.props.onAlignmentChange}\n          />\n        </div>\n\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n            <ServerSideRender\n              block={'planet4-blocks/social-media'}\n              attributes={{\n                title: this.props.title,\n                description: this.props.description,\n                embed_type: this.props.embed_type,\n                facebook_page_tab: this.props.facebook_page_tab,\n                social_media_url: this.props.social_media_url,\n                alignment_class: this.props.alignment_class,\n              }}>\n            </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  }\n}\n","import {Socialmedia} from './Socialmedia.js';\n\nexport class SocialmediaBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {__} = wp.i18n;\n\n    registerBlockType('planet4-blocks/social-media', {\n      title: __('Social Media', 'p4ge'),\n      icon: 'share',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_social_media',\n            attributes: {\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              embed_type: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.embed_type;\n                }\n              },\n              facebook_page_tab: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.facebook_page_tab;\n                }\n              },\n              social_media_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.social_media_url;\n                }\n              },\n              alignment_class: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.alignment_class;\n                }\n              },\n            },\n          },\n        ]\n      },\n      // This attributes definition mimics the one in the PHP side.\n      attributes: {\n        title: {\n          type: 'string',\n          default: '',\n        },\n        description: {\n          type: 'string',\n          default: '',\n        },\n        embed_type: {\n          type: 'string',\n          default: 'oembed'\n        },\n        facebook_page_tab: {\n          type: 'string',\n          default: 'timeline'\n        },\n        social_media_url: {\n          type: 'string',\n          default: ''\n        },\n        alignment_class: {\n          type: 'string',\n          default: ''\n        },\n      },\n      // withSelect is a \"Higher Order Component\", it works as\n      // a Decorator, it will provide some basic API functionality\n      // through `select`.\n      edit: ({isSelected, attributes, setAttributes}) => {\n\n        // These methods are passed down to the\n        // Socialmedia component, they update the corresponding attribute.\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onEmbedTypeChange(value) {\n          setAttributes({embed_type: value});\n        }\n\n        function onFacebookPageTabChange(value) {\n          setAttributes({facebook_page_tab: value});\n        }\n\n        function onSocialMediaUrlChange(value) {\n          setAttributes({social_media_url: value});\n        }\n\n        function onAlignmentChange(value) {\n          setAttributes({alignment_class: value});\n        }\n\n\n        // We pass down all the attributes to Socialmedia as props using\n        // the spread operator. Then we selectively add more\n        // props.\n        return <Socialmedia\n          {...attributes}\n          isSelected={isSelected}\n          onTitleChange={onTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onEmbedTypeChange={onEmbedTypeChange}\n          onFacebookPageTabChange={onFacebookPageTabChange}\n          onSocialMediaUrlChange={onSocialMediaUrlChange}\n          onAlignmentChange={onAlignmentChange} />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {Component,Fragment} from \"@wordpress/element\";\nimport {\n  TextControl,\n  TextareaControl,\n  FocalPointPicker,\n  ServerSideRender,\n  SelectControl\n} from '@wordpress/components';\nimport {BlockControls,MediaUpload,MediaUploadCheck} from \"@wordpress/editor\";\n\nimport {Preview} from '../../components/Preview';\nimport {ImageOrButton} from '../../components/ImageOrButton/ImageOrButton';\n\nexport class Splittwocolumns extends Component {\n    constructor(props) {\n      super(props);\n    }\n\n    renderEdit() {\n      let tag_list   = this.props.tagsList.map((tag) => ({label: tag.name, value: tag.id}));\n      tag_list.unshift({label: '--Select Tag--', value: 0});\n\n      let issuepage_list = this.props.issuepageList.map((issue) => ({label: issue.title.raw, value: issue.id}));\n      issuepage_list.unshift({label: '--Select Issue--', value: 0});\n\n      const {__} = wp.i18n;\n\n      const {\n        select_issue,\n        title,\n        issue_description,\n        issue_link_text,\n        issue_link_path,\n        issue_image,\n        focus_issue_image,\n        select_tag,\n        tag_description,\n        button_text,\n        button_link,\n        tag_image,\n        focus_tag_image,\n        issue_image_url,\n        tag_image_url\n      } = this.props;\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_issue_image_obj = {x: 0.5,y: 0.5};\n      if (focus_issue_image) {\n        let [x,y] = focus_issue_image.replace(/\\%/g, '').split(' ');\n        focus_issue_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      // Convert focal point values from : 10% 80% => {x:0.1, y:0.8}\n      let focus_tag_image_obj = {x: 0.5,y: 0.5};\n      if (focus_tag_image) {\n        let [x,y] = focus_tag_image.replace(/\\%/g, '').split(' ');\n        focus_tag_image_obj = {x: (x/100), y: (y/100)}\n      }\n\n      const dimensions = {width: 400, height: 100};\n\n      return (\n        <Fragment>\n          <h3>{__('Issue fields (Column 1 - Left side)', 'p4ge')}</h3>\n          <div>\n            {issuepage_list &&\n              <SelectControl\n                label={__('Select an issue', 'p4ge')}\n                value={select_issue}\n                options={issuepage_list}\n                onChange={this.props.onSelectIssue}\n              />\n            }\n            <TextControl\n              label={__('Issue Title', 'p4ge')}\n              placeholder={__('Enter Title', 'p4ge')}\n              value={title}\n              onChange={this.props.onIssueTitleChange}\n              help={__('(Optional) Fill this only if you need to override issue title.', 'p4ge')}\n            />\n            <TextareaControl\n              label={__('Issue Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional) Fill this only if you need to override issue description.', 'p4ge')}\n              value={issue_description}\n              onChange={this.props.onIssueDescriptionChange}\n            />\n            <TextControl\n              label={__('Issue link text', 'p4ge')}\n              placeholder={__('Enter link text', 'p4ge')}\n              value={issue_link_text}\n              onChange={this.props.onIssueLinkTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Issue link path', 'p4ge')}\n              placeholder={__('Enter link path', 'p4ge')}\n              value={issue_link_path}\n              onChange={this.props.onIssueLinkPathChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Issue Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Issue', 'p4ge')}\n              onSelectImage={this.props.onSelectIssueImage}\n              imageId={issue_image}\n              imageUrl={issue_image_url}\n              buttonLabel={__('+ Select Image for Issue', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-issue-imgs'\n            />\n\n            {issue_image &&\n            <div>\n              {__('Select focal point for issue image', 'p4ge')}\n              <FocalPointPicker\n                url={issue_image_url}\n                dimensions={dimensions}\n                value={focus_issue_image_obj}\n                onChange={this.props.onIssueImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n          <h3>{__('Campaign fields (Column 2 - Right side)', 'p4ge')}</h3>\n          <div>\n            {tag_list &&\n              <SelectControl\n                label={__('Select a tag', 'p4ge')}\n                value={select_tag}\n                options={tag_list}\n                onChange={this.props.onSelectTag}\n              />\n            }\n            <TextareaControl\n              label={__('Campaign Description', 'p4ge')}\n              placeholder={__('Enter Description', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              value={tag_description}\n              onChange={this.props.onTagDescriptionChange}\n            />\n            <TextControl\n              label={__('Campaign button text', 'p4ge')}\n              placeholder={__('Enter button text', 'p4ge')}\n              value={button_text}\n              onChange={this.props.onButtonTextChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            <TextControl\n              label={__('Campaign button link', 'p4ge')}\n              placeholder={__('Enter button link', 'p4ge')}\n              value={button_link}\n              onChange={this.props.onButtonLinkChange}\n              help={__('(Optional)', 'p4ge')}\n            />\n            {__('Campaign Image', 'p4ge')}\n            <ImageOrButton\n              title={__('Select Image for Campaign', 'p4ge')}\n              onSelectImage={this.props.onSelectCampaignImage}\n              imageId={tag_image}\n              imageUrl={tag_image_url}\n              buttonLabel={__('+ Select Image for Campaign', 'p4ge')}\n              help={__('(Optional)', 'p4ge')}\n              imgClass='splittwocolumns-block-tag_imgs'\n            />\n\n            {tag_image &&\n            <div>\n              {__('Select focal point for campaign image', 'p4ge')}\n              <FocalPointPicker\n                url={tag_image_url}\n                dimensions={dimensions}\n                value={focus_tag_image_obj}\n                onChange={this.props.onCampaignImageFocalPointChange}\n              />\n              {__('(Optional)', 'p4ge')}\n            </div>\n            }\n          </div>\n          <hr />\n        </Fragment>\n      );\n    }\n\n    render() {\n      return (\n          <div>\n              {\n                this.props.isSelected\n                ? this.renderEdit()\n                : null\n              }\n              <Preview showBar={this.props.isSelected}>\n                <ServerSideRender\n                  block={'planet4-blocks/split-two-columns'}\n                  attributes={{\n                    select_issue: this.props.select_issue,\n                    title: this.props.title,\n                    issue_description: this.props.issue_description,\n                    issue_link_text: this.props.issue_link_text,\n                    issue_link_path: this.props.issue_link_path,\n                    issue_image: this.props.issue_image,\n                    focus_issue_image: this.props.focus_issue_image,\n                    select_tag: this.props.select_tag,\n                    tag_description: this.props.tag_description,\n                    button_text: this.props.button_text,\n                    button_link: this.props.button_link,\n                    tag_image: this.props.tag_image,\n                    focus_tag_image: this.props.focus_tag_image,\n                  }}>\n                </ServerSideRender>\n              </Preview>\n          </div>\n      );\n    }\n}\n","import {Splittwocolumns} from './Splittwocolumns';\n\nconst {__} = wp.i18n;\n\nexport class SplittwocolumnsBlock {\n    constructor() {\n      const {registerBlockType} = wp.blocks;\n      const {__} = wp.i18n;\n      const { withSelect } = wp.data;\n\n      registerBlockType( 'planet4-blocks/split-two-columns', {\n        title: __('Split Two Columns', 'p4ge'),\n        icon: 'editor-table',\n        category: 'planet4-blocks',\n        /**\n         * Transforms old 'shortcake' shortcode to new gutenberg block.\n         *\n         * old block-shortcode:\n         * [shortcake_split_two_columns select_issue=\"13813\" title=\"lorem ipsum\" issue_description=\"lorem ipsum\" issue_link_text=\"test link\"\n         *        issue_link_path=\"http://www.googlw.com\" issue_image=\"23634\" focus_issue_image=\"right top\" select_tag=\"19\"\n         *        tag_description=\"lorem ipsum\" button_text=\"btn text\" button_link=\"http://www.google.com\" tag_image=\"23634\" focus_tag_image=\"right top\"\n         * /]\n         *\n         * new block-gutenberg:\n         * <!-- wp:planet4-blocks/split-two-columns {\"select_issue\":2079,\"title\":\"Lorem Ipsum\",\"issue_description\":\"Lorem Ipsum\",\"issue_link_text\":\"tets link\",\"issue_link_path\":\"http://www.google.com\",\"issue_image\":23634,\"focus_issue_image\":\"33% 60%\",\"select_tag\":65,\"tag_description\":\"Lorem Ipsum\",\"button_text\":\"btn text\",\"button_link\":\"http://www.google.com\",\"tag_image\":23634,\"focus_tag_image\":\"30% 79%\"} /-->\n         *\n         */\n        transforms: {\n          from: [\n            {\n              type: 'shortcode',\n              // Shortcode tag can also be an array of shortcode aliases\n              tag: 'shortcake_split_two_columns',\n              attributes: {\n                select_issue: {\n                  type: 'integer',\n                  shortcode: ({named: {select_issue = ''}}) => select_issue,\n                },\n                title: {\n                  type: 'string',\n                  shortcode: ({named: {title = ''}}) => title,\n                },\n                issue_description: {\n                  type: 'string',\n                  shortcode: ({named: {issue_description = ''}}) => issue_description,\n                },\n                issue_link_text: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_text = ''}}) => issue_link_text,\n                },\n                issue_link_path: {\n                  type: 'string',\n                  shortcode: ({named: {issue_link_path = ''}}) => issue_link_path,\n                },\n                issue_image: {\n                  type: 'integer',\n                  shortcode: ({named: {issue_image = ''}}) => issue_image,\n                },\n                focus_issue_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_issue_image = ''}}) => focus_issue_image,\n                },\n                select_tag: {\n                  type: 'integer',\n                  shortcode: ({named: {select_tag = ''}}) => select_tag,\n                },\n                tag_description: {\n                  type: 'string',\n                  shortcode: ({named: {tag_description = ''}}) => tag_description,\n                },\n                button_text: {\n                  type: 'string',\n                  shortcode: ({named: {button_text = ''}}) => button_text,\n                },\n                button_link: {\n                  type: 'string',\n                  shortcode: ({named: {button_link = ''}}) => button_link,\n                },\n                tag_image: {\n                  type: 'integer',\n                  shortcode: ({named: {tag_image = ''}}) => tag_image,\n                },\n                focus_tag_image: {\n                  type: 'string',\n                  shortcode: ({named: {focus_tag_image = ''}}) => focus_tag_image,\n                },\n              },\n            },\n          ]\n        },\n        attributes: {\n          select_issue: {\n            type: 'number',\n            default: 0,\n          },\n          title: {\n            type: 'string',\n          },\n          issue_description: {\n            type: 'string',\n          },\n          issue_link_text: {\n            type: 'string',\n          },\n          issue_link_path: {\n            type: 'string',\n          },\n          issue_image: {\n            type: 'number',\n          },\n          focus_issue_image: {\n            type: 'string',\n          },\n          select_tag: {\n            type: 'number',\n            default: 0,\n          },\n          tag_description: {\n            type: 'string',\n          },\n          button_text: {\n            type: 'string',\n          },\n          button_link: {\n            type: 'string',\n          },\n          tag_image: {\n            type: 'number',\n          },\n          focus_tag_image: {\n            type: 'string',\n          },\n        },\n        edit: withSelect((select,props) => {\n          const tagsTaxonomy = 'post_tag';\n          const issuePage    = 'page';\n\n          const taxonomy_args = {\n            hide_empty: false,\n            per_page: 50,\n          };\n          const {getEntityRecords} = select('core');\n\n          // We should probably wrap all these in a single call,\n          // or maybe use our own way of retrieving data from the\n          // API, I don't know how this scales.\n          const tagsList = getEntityRecords('taxonomy', tagsTaxonomy, taxonomy_args);\n\n          const issue_page_args = {\n            per_page: -1,\n            sort_order: 'asc',\n            sort_column: 'post_title',\n            parent: window.p4ge_vars.planet4_options.explore_page,\n            post_status: 'publish',\n          };\n          const issuepageList = getEntityRecords('postType', issuePage, issue_page_args);\n\n          const { attributes } = props;\n          const { issue_image,tag_image } = attributes;\n\n          let issue_image_url = '';\n          if (issue_image) {\n            issue_image_url = select('core').getMedia(issue_image);\n            if ( issue_image_url ) {\n              issue_image_url = issue_image_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          let tag_image_url = '';\n          if (tag_image) {\n            tag_image_url = select('core').getMedia(tag_image);\n            if ( tag_image_url ) {\n              tag_image_url = tag_image_url.media_details.sizes.medium.source_url;\n            }\n          }\n\n          return {\n            tagsList,\n            issuepageList,\n            issue_image_url,\n            tag_image_url,\n          };\n\n        } )( ( {\n          tagsList,\n          issuepageList,\n          issue_image_url,\n          tag_image_url,\n          isSelected,\n          attributes,\n          setAttributes\n        } ) => {\n\n          if (!tagsList || !issuepageList) {\n            return \"Populating block's fields...\";\n          }\n\n          if ((tagsList && tagsList.length === 0) || (issuepageList && issuepageList.length === 0)) {\n            return \"Populating block's fields...\";\n          }\n\n          function onSelectIssue( value ) {\n            setAttributes({select_issue: parseInt(value)});\n          }\n\n          function onIssueTitleChange( value ) {\n            setAttributes({title: value });\n          }\n\n          function onIssueDescriptionChange( value ) {\n            setAttributes({issue_description: value});\n          }\n\n          function onIssueLinkTextChange( value ) {\n            setAttributes({issue_link_text: value });\n          }\n\n          function onIssueLinkPathChange( value ) {\n            setAttributes({issue_link_path: value});\n          }\n\n          function onSelectIssueImage( {id} ) {\n            setAttributes({issue_image: id});\n          }\n\n          function onIssueImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_issue_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          function onSelectTag( value ) {\n            setAttributes({select_tag: parseInt(value)});\n          }\n\n          function onTagDescriptionChange( value ) {\n            setAttributes({tag_description: value});\n          }\n\n          function onButtonTextChange( value ) {\n            setAttributes({button_text: value });\n          }\n\n          function onButtonLinkChange( value ) {\n            setAttributes({button_link: value});\n          }\n\n          function onSelectCampaignImage( {id} ) {\n            setAttributes({tag_image: id});\n          }\n\n          function onCampaignImageFocalPointChange( {x,y} ) {\n            setAttributes({focus_tag_image: parseInt(x*100)+'% '+parseInt(y*100)+'%' });\n          }\n\n          return <Splittwocolumns\n            {...attributes}\n            isSelected={isSelected}\n            tagsList={tagsList}\n            issuepageList={issuepageList}\n            issue_image_url={issue_image_url}\n            tag_image_url={tag_image_url}\n            onSelectIssue={onSelectIssue}\n            onIssueTitleChange={onIssueTitleChange}\n            onIssueDescriptionChange={onIssueDescriptionChange}\n            onIssueLinkTextChange={onIssueLinkTextChange}\n            onIssueLinkPathChange={onIssueLinkPathChange}\n            onSelectIssueImage={onSelectIssueImage}\n            onIssueImageFocalPointChange={onIssueImageFocalPointChange}\n            onSelectTag={onSelectTag}\n            onTagDescriptionChange={onTagDescriptionChange}\n            onButtonTextChange={onButtonTextChange}\n            onButtonLinkChange={onButtonLinkChange}\n            onSelectCampaignImage={onSelectCampaignImage}\n            onCampaignImageFocalPointChange={onCampaignImageFocalPointChange}\n          />\n        }),\n        save() {\n          return null;\n        }\n      });\n    };\n}\n","import {React, Component} from 'react';\nimport {\n  CheckboxControl,\n  SelectControl,\n} from '@wordpress/components';\n\nexport class MenuLevel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>Level {this.props.index + 1}</div>\n        <SelectControl\n          label=\"Submenu item\"\n          help=\"Submenu item\"\n          value={this.props.heading}\n          options={[\n            {label: 'None', value: '0'},\n            {label: 'Heading 1', value: '1'},\n            {label: 'Heading 2', value: '2'},\n            {label: 'Heading 3', value: '3'},\n            {label: 'Heading 4', value: '4'},\n            {label: 'Heading 5', value: '5'},\n            {label: 'Heading 6', value: '6'},\n          ]}\n          onChange={(e) => this.props.onHeadingChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n\n        <CheckboxControl\n          heading=\"Link\"\n          help=\"Link item\"\n          value={this.props.link}\n          checked={this.props.link}\n          onChange={(e) => this.props.onLinkChange(this.props.index, e)}\n          className=\"submenu-level-link\"\n        />\n\n        <SelectControl\n          label=\"List style\"\n          help=\"List style\"\n          value={this.props.style}\n          options={[\n            {label: 'None', value: 'none'},\n            {label: 'Bullet', value: 'bullet'},\n            {label: 'Number', value: 'number'},\n          ]}\n          onChange={(e) => this.props.onStyleChange(this.props.index, e)}\n          className='submenu-block-attribute-wrapper'\n        />\n      </div>\n    );\n  };\n}\n","import {React, Component, Fragment} from 'react';\nimport {\n  Button,\n  TextControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {LayoutSelector} from '../../components/LayoutSelector/LayoutSelector';\nimport {Preview} from '../../components/Preview';\nimport {MenuLevel} from \"./MenuLevel\";\n\nexport class Submenu extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    return (\n\n      <div>\n        <h2>{__('Anchor Link Submenu', 'p4ge')}</h2>\n        <p><i>{__(\n          'An in-page table of contents to help users have a sense of what\\'s on the page and let them jump to a topic they are interested in.',\n          'p4ge'\n        )}</i></p>\n        <h3>{__('What style of menu do you need?', 'p4ge')}</h3>\n\n        <div>\n          <LayoutSelector\n            selectedOption={this.props.submenu_style}\n            onSelectedLayoutChange={this.props.onSelectedLayoutChange}\n            options={[\n              {\n                label: __('Long full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-long.jpg',\n                value: 1,\n                help: __('Use: on long pages (more than 5 screens) when list items are long (+ 10 words)<br>No max items<br>recommended.')\n              }, {\n                label: __('Short full-width', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-short.jpg',\n                value: 2,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 5 words)<br>No max items<br>recommended.'),\n              },\n              {\n                label: __('Short sidebar', 'p4ge'),\n                image: window.p4ge_vars.home + 'images/submenu-sidebar.jpg',\n                value: 3,\n                help: __('Use: on long pages (more than 5 screens) when list items are short (up to 10 words)<br>Max items<br>recommended: 9')\n              },\n            ]}\n          />\n        </div>\n\n        <div>\n          <TextControl\n            label=\"Submenu Title\"\n            placeholder=\"Enter title\"\n            value={this.props.title}\n            onChange={this.props.onTitleChange}\n          />\n        </div>\n\n        <hr/>\n        {this.props.levels.map((heading, i) => {\n          return (\n            <MenuLevel\n              {...heading}\n              onHeadingChange={this.props.onHeadingChange}\n              onLinkChange={this.props.onLinkChange}\n              onStyleChange={this.props.onStyleChange}\n              index={i}\n              key={i}\n            />\n          );\n        })}\n\n        <div>\n          <Button isPrimary\n                  onClick={this.props.addLevel}\n                  disabled={this.props.levels.length >= 3 || this.props.levels.slice(-1)[0].heading === 0}\n          >\n            Add level\n          </Button>\n          <Button isDefault\n                  onClick={this.props.removeLevel} disabled={this.props.levels.length <= 1}\n          >\n            Remove level\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/submenu'}\n            attributes={{\n              submenu_style: this.props.submenu_style,\n              title: this.props.title,\n              levels: this.props.levels,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </Fragment>\n    );\n  };\n}\n","import {Submenu} from './Submenu.js';\n\nexport class SubmenuBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n    const {withSelect} = wp.data;\n\n    registerBlockType('planet4-blocks/submenu', {\n      title: 'Submenu',\n      icon: 'welcome-widgets-menus',\n      category: 'planet4-blocks',\n      supports: {\n        multiple: false, // Use the block just once per post.\n      },\n      /**\n       * Transforms old 'shortcake' shortcode to new gutenberg block.\n       *\n       * old block-shortcode:\n       * [shortcake_submenu submenu_style=\"3\" title=\"title22\" heading1=\"2\"\n       *                    link1=\"true\" style1=\"bullet\" heading2=\"3\" link2=\"true\" style2=\"number\"\n       *                    heading3=\"4\" link3=\"false\"\n       * /]\n       *\n       * new block-gutenberg:\n       * <!-- wp:planet4-blocks/submenu {\"submenu_style\":3,\"title\":\"title22\",\"levels\":[{\"heading\":\"2\",\"link\":\"true\",\"style\":\"bullet\"},\n       *    {\"heading\":\"3\",\"link\":\"true\",\"style\":\"number\"},{\"heading\":\"4\",\"link\":\"false\",\"style\":\"none\"}]} /-->\n       *\n       */\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            // This `shortcode` definition will be used as a callback,\n            // it is a function which expects an object with at least\n            // a `named` key with `cover_type` property whose default value is 1.\n            // See: https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\n            tag: 'shortcake_submenu',\n            attributes: {\n              submenu_style: {\n                type: 'integer',\n                shortcode: function (attributes) {\n                  return Number(attributes.named.submenu_style);\n                }\n              },\n              title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.title;\n                }\n              },\n              levels: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  let levels = [];\n                  if (attributes.named.heading1 > 0) {\n                    let level = {\n                      heading: Number(attributes.named.heading1),\n                      link: attributes.named.link1 || false,\n                      style: attributes.named.style1 || 'none'\n                    };\n                    levels.push(Object.assign({}, level));\n\n                    if (attributes.named.heading2 > 0) {\n                      let level = {\n                        heading: Number(attributes.named.heading2),\n                        link: attributes.named.link2 || false,\n                        style: attributes.named.style2 || 'none'\n                      };\n                      levels.push(Object.assign({}, level));\n\n                      if (attributes.named.heading3 > 0) {\n                        let level = {\n                          heading: Number(attributes.named.heading3),\n                          link: attributes.named.link3 || false,\n                          style: attributes.named.style3 || 'none'\n                        };\n                        levels.push(Object.assign({}, level));\n                      }\n                    }\n                  }\n                  return levels;\n                },\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        submenu_style: {\n          type: 'integer',\n          default: 1\n        },\n        title: {\n          type: 'string',\n        },\n        levels: {\n          type: 'array',\n          default: [ {heading: 0, link: false, style: 'none'}]\n        },\n      },\n      edit: withSelect((select) => {\n\n      })(({\n            isSelected,\n            attributes,\n            setAttributes\n          }) => {\n\n        function addLevel() {\n          setAttributes({levels: attributes.levels.concat({heading: 0, link: false, style: 'none'})});\n        }\n\n        function onTitleChange(value) {\n          setAttributes({title: value});\n        }\n\n        function onHeadingChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].heading = Number(value);\n          setAttributes({levels: levels});\n        }\n\n        function onLayoutChange(value) {\n          setAttributes({submenu_style: Number(value)});\n        }\n\n        function onLinkChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].link = value;\n          setAttributes({levels: levels});\n        }\n\n        function onStyleChange(index, value) {\n          let levels = JSON.parse(JSON.stringify(attributes.levels));\n          levels[index].style = value;\n          setAttributes({levels: levels});\n        }\n\n        function removeLevel() {\n          setAttributes({levels: attributes.levels.slice(0, -1)});\n        }\n\n        return <Submenu\n          {...attributes}\n          isSelected={isSelected}\n          onSelectedLayoutChange={onLayoutChange}\n          onTitleChange={onTitleChange}\n          onHeadingChange={onHeadingChange}\n          onLinkChange={onLinkChange}\n          onStyleChange={onStyleChange}\n          addLevel={addLevel}\n          removeLevel={removeLevel}\n        />\n      }),\n      save() {\n        return null;\n      }\n    });\n  };\n}\n\n","import {React, Component, Fragment} from 'react';\nimport {RawHTML} from \"@wordpress/element\";\nimport {\n  CheckboxControl,\n  TextControl,\n  TextareaControl,\n  SelectControl,\n  ServerSideRender\n} from '@wordpress/components';\nimport {Preview} from '../../components/Preview';\n\nexport class Timeline extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.loadTimeline(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    this.loadTimeline(prevProps);\n  }\n\n  loadTimeline(data) {\n    const timelinejs_version = '3.6.3';\n\n    let js = 'https://cdn.knightlab.com/libs/timeline3/' + timelinejs_version + '/js/timeline-min.js';\n    let scriptLoaded = this.loadScriptAsync(js);\n    scriptLoaded.then(function () {\n      new TL.Timeline('timeline-1', data.google_sheets_url, {\n        \"timenav_position\": data.timenav_position,\n        \"start_at_end\": data.start_at_end,\n        \"language\": data.language\n      });\n    }.bind(this));\n  }\n\n  loadScriptAsync(uri) {\n    return new Promise((resolve, reject) => {\n      let tag = document.createElement('script');\n      tag.src = uri;\n      tag.async = true;\n      tag.onload = () => {\n        resolve();\n      };\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    });\n  };\n\n  renderEdit() {\n    const {__} = wp.i18n;\n\n    const position = [\n      {label: 'Bottom', value: 'bottom'},\n      {label: 'Top', value: 'top'},\n    ]\n\n    const languages = [\n      {label: 'Afrikaans', value: 'af'},\n      {label: 'Arabic', value: 'ar'},\n      {label: 'Armenian', value: 'hy'},\n      {label: 'Basque', value: 'eu'},\n      {label: 'Belarusian', value: 'be'},\n      {label: 'Bulgarian', value: 'bg'},\n      {label: 'Catalan', value: 'ca'},\n      {label: 'Chinese', value: 'zh-cn'},\n      {label: 'Croatian / Hrvatski', value: 'hr'},\n      {label: 'Czech', value: 'cz'},\n      {label: 'Danish', value: 'da'},\n      {label: 'Dutch', value: 'nl'},\n      {label: 'English', value: 'en'},\n      {label: 'English (24-hour time)', value: 'en-24hr'},\n      {label: 'Esperanto', value: 'eo'},\n      {label: 'Estonian', value: 'et'},\n      {label: 'Faroese', value: 'fo'},\n      {label: 'Farsi', value: 'fa'},\n      {label: 'Finnish', value: 'fi'},\n      {label: 'French', value: 'fr'},\n      {label: 'Frisian', value: 'fy'},\n      {label: 'Galician', value: 'gl'},\n      {label: 'Georgian', value: 'ka'},\n      {label: 'German / Deutsch', value: 'de'},\n      {label: 'Greek', value: 'el'},\n      {label: 'Hebrew', value: 'he'},\n      {label: 'Hindi', value: 'hi'},\n      {label: 'Hungarian', value: 'hu'},\n      {label: 'Icelandic', value: 'is'},\n      {label: 'Indonesian', value: 'id'},\n      {label: 'Irish', value: 'ga'},\n      {label: 'Italian', value: 'it'},\n      {label: 'Japanese', value: 'ja'},\n      {label: 'Korean', value: 'ko'},\n      {label: 'Latvian', value: 'lv'},\n      {label: 'Lithuanian', value: 'lt'},\n      {label: 'Luxembourgish', value: 'lb'},\n      {label: 'Malay', value: 'ms'},\n      {label: 'Myanmar', value: 'my'},\n      {label: 'Nepali', value: 'ne'},\n      {label: 'Norwegian', value: 'no'},\n      {label: 'Polish', value: 'pl'},\n      {label: 'Portuguese', value: 'pt'},\n      {label: 'pt-br', value: 'Portuguese (Brazilian)'},\n      {label: 'Romanian', value: 'ro'},\n      {label: 'Romansh', value: 'rm'},\n      {label: 'Russian', value: 'ru'},\n      {label: 'Serbian - Cyrillic', value: 'sr-cy'},\n      {label: 'Serbian - Latin', value: 'sr'},\n      {label: 'Sinhalese', value: 'si'},\n      {label: 'Slovak', value: 'sk'},\n      {label: 'Slovenian', value: 'sl'},\n      {label: 'Spanish', value: 'es'},\n      {label: 'Swedish', value: 'sv'},\n      {label: 'Tagalog', value: 'tl'},\n      {label: 'Tamil', value: 'ta'},\n      {label: 'Taiwanese', value: 'zh-tw'},\n      {label: 'Telugu', value: 'te'},\n      {label: 'Thai', value: 'th'},\n      {label: 'Turkish', value: 'tr'},\n      {label: 'Ukrainian', value: 'uk'},\n      {label: 'Urdu', value: 'ur'},\n    ]\n\n    let url_desc  = __(\n      'Enter the URL of the Google Sheets spreadsheet containing your timeline data.',\n      'p4ge'\n    );\n    url_desc += '<br><a href=\"https://timeline.knightlab.com/#make\" target=\"_blank\" rel=\"noopener noreferrer\">';\n    url_desc += __(\n      'See the TimelineJS website for a template GSheet.',\n      'p4ge'\n    );\n    url_desc += '</a><br>';\n    url_desc += __(\n      'Copy this, add your own timeline data, and publish to the web.',\n      'p4ge'\n    );\n    url_desc += '<br>';\n    url_desc += __(\n      \"Once you have done so, use the URL from your address bar (not the one provided in Google's 'publish to web' dialog).\",\n      'p4ge'\n    );\n\n    return (\n      <Fragment>\n        <div>\n          <h2>{__('Timeline options', 'p4ge')}</h2>\n          <p><i>{__(\n            'Display a timeline from a Google Sheet',\n            'p4ge'\n          )}</i></p>\n\n          <div>\n            <TextControl\n              label={__('Timeline Title', 'p4ge')}\n              placeholder={__('Enter title', 'p4ge')}\n              value={this.props.timeline_title}\n              onChange={this.props.onTimelineTitleChange}\n            />\n          </div>\n\n          <div>\n            <TextareaControl\n              label={__('Description', 'p4ge')}\n              placeholder={__('Enter description', 'p4ge')}\n              value={this.props.description}\n              onChange={this.props.onDescriptionChange}\n            />\n          </div>\n\n          <div>\n            <TextControl\n              label={__('Google Sheets URL', 'p4ge')}\n              placeholder={__('Enter URL', 'p4ge')}\n              help=<RawHTML>{url_desc}</RawHTML>\n              value={this.props.google_sheets_url}\n              onChange={this.props.onGoogleSheetsUrlChange}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Language', 'p4ge')}\n              value={this.props.language}\n              options={languages}\n              onChange={(e) => this.props.onLanguageChange(e)}\n            />\n          </div>\n\n          <div>\n            <SelectControl\n              label={__('Timeline navigation position', 'p4ge')}\n              value={this.props.timenav_position}\n              options={position}\n              onChange={(e) => this.props.onTimenavPositionChange(e)}\n            />\n          </div>\n\n          <div>\n            <CheckboxControl\n              label={__('Start at end', 'p4ge')}\n              help={__('Begin at the end of the timeline', 'p4ge')}\n              value={this.props.start_at_end}\n              checked={this.props.start_at_end}\n              onChange={(e) => this.props.onStartAtEndChange(e)}\n            />\n          </div>\n\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {\n          this.props.isSelected\n            ? this.renderEdit()\n            : null\n        }\n        <Preview showBar={this.props.isSelected}>\n          <ServerSideRender\n            block={'planet4-blocks/timeline'}\n            attributes={{\n              timeline_title: this.props.timeline_title,\n              description: this.props.description,\n              google_sheets_url: this.props.google_sheets_url,\n              language: this.props.language,\n              timenav_position: this.props.timenav_position,\n              start_at_end: this.props.start_at_end,\n            }}\n            urlQueryArgs={{post_id: document.querySelector('#post_ID').value}}\n          >\n          </ServerSideRender>\n        </Preview>\n      </div>\n    );\n  };\n}\n","import {Timeline} from './Timeline.js';\n\nconst {__} = wp.i18n;\n\nexport class TimelineBlock {\n  constructor() {\n    const {registerBlockType} = wp.blocks;\n\n    registerBlockType('planet4-blocks/timeline', {\n      title: __('Timeline', 'p4ge'),\n      icon: 'clock',\n      category: 'planet4-blocks',\n\n      // Transform the shortcode into a Gutenberg block\n      // this is used when a user clicks \"Convert to blocks\"\n      // on the \"Classic Editor\" block\n      transforms: {\n        from: [\n          {\n            type: 'shortcode',\n            // Shortcode tag can also be an array of shortcode aliases\n            tag: 'shortcake_timeline',\n            attributes: {\n              timeline_title: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.timeline_title;\n                }\n              },\n              description: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.description;\n                }\n              },\n              google_sheets_url: {\n                type: 'string',\n                shortcode: function (attributes) {\n                  return attributes.named.google_sheets_url;\n                }\n              },\n              language: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.language;\n                }\n              },\n              timenav_position: {\n                type: 'array',\n                shortcode: function (attributes) {\n                  return attributes.named.timenav_position;\n                }\n              },\n              start_at_end: {\n                type: 'boolean',\n                shortcode: function (attributes) {\n                  return attributes.named.start_at_end;\n                }\n              }\n            },\n          },\n        ]\n      },\n      attributes: {\n        timeline_title: {\n          type: 'string',\n        },\n        description: {\n          type: 'string',\n        },\n        google_sheets_url: {\n          type: 'string',\n        },\n        language: {\n          type: 'string',\n          default: 'en',\n        },\n        timenav_position: {\n          type: 'string',\n        },\n        start_at_end: {\n          type: 'boolean',\n        },\n      },\n      edit: ({ isSelected, attributes, setAttributes }) => {\n        function onTimelineTitleChange(value) {\n          setAttributes({timeline_title: value});\n        }\n\n        function onDescriptionChange(value) {\n          setAttributes({description: value});\n        }\n\n        function onGoogleSheetsUrlChange(value) {\n          setAttributes({google_sheets_url: value});\n        }\n\n        function onLanguageChange(value) {\n          setAttributes({language: value});\n        }\n\n        function onTimenavPositionChange(value) {\n          setAttributes({timenav_position: value});\n        }\n\n        function onStartAtEndChange(value) {\n          setAttributes({start_at_end: value});\n        }\n\n        return <Timeline\n          {...attributes}\n          isSelected={isSelected}\n          onTimelineTitleChange={onTimelineTitleChange}\n          onDescriptionChange={onDescriptionChange}\n          onGoogleSheetsUrlChange={onGoogleSheetsUrlChange}\n          onLanguageChange={onLanguageChange}\n          onTimenavPositionChange={onTimenavPositionChange}\n          onStartAtEndChange={onStartAtEndChange}\n        />\n      },\n      save() {\n        return null;\n      }\n    });\n  };\n}\n","import {React, Component} from 'react';\nimport {Button} from '@wordpress/components';\nimport {MediaUpload,MediaUploadCheck} from '@wordpress/editor';\n\nexport class ImageOrButton extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {__} = wp.i18n;\n\n    const getImageOrButton = (openEvent) => {\n      if ( this.props.imageId ) {\n\n        return (\n\n          <img\n            src={ this.props.imageUrl }\n            onClick={ openEvent }\n            className={ this.props.imgClass }\n          />\n\n        );\n      }\n      else {\n        return (\n          <div className='button-container'>\n            <Button\n              onClick={ openEvent }\n              className='button'>\n              { this.props.buttonLabel }\n            </Button>\n\n            <div>{ this.props.help }</div>\n          </div>\n        );\n      }\n    };\n\n    return <div className='ImageOrButton'>\n      <MediaUploadCheck>\n        <MediaUpload\n          title={this.props.title}\n          type='image'\n          onSelect={this.props.onSelectImage}\n          value={this.props.imageId}\n          allowedTypes={['image']}\n          render={ ({ open }) => getImageOrButton(open) }\n        />\n      </MediaUploadCheck>\n    </div>;\n  }\n}\n","import {React, Component} from 'react';\nimport {RadioControl} from '@wordpress/components';\n\nexport class LayoutSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: props.selectedOption\n    };\n    this.setSelected = this.setSelected.bind(this);\n  }\n\n  setSelected(option) {\n    this.setState({selectedOption: option});\n    this.props.onSelectedLayoutChange(option);\n  }\n\n  render() {\n    return <div className='LayoutSelector'>\n      {\n        this.props.options.map((layoutOption, i) => {\n          return (\n            <label className='LayoutOption' key={i}>\n              <div style={{display: 'flex'}}>\n                <RadioControl\n                  name={'layoutOption'}\n                  selected={this.state.selectedOption}\n                  options={[\n                    {value: layoutOption.value}\n                  ]}\n                  onChange={this.setSelected}\n                />\n                {layoutOption.label}\n              </div>\n              {\n                layoutOption.image\n                  ? <img src={layoutOption.image}/>\n                  : null\n              }\n              {\n                layoutOption.help\n                  ? <p className='help' dangerouslySetInnerHTML={{__html: layoutOption.help}}/>\n                  : null\n              }\n            </label>\n          )\n        })\n      }\n    </div>;\n  }\n}\n","import { React, Component } from 'react';\n\nexport class Preview extends Component {\n\trender() {\n\t\treturn <div className='Preview'>\n\t\t\t{\n\t\t\t\tthis.props.showBar\n\t\t\t\t? <div className='PreviewBar'>Preview</div>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{ this.props.children }\n\t\t</div>\n\t}\n}","import { ArticlesBlock } from './blocks/Articles/ArticlesBlock';\nimport { ColumnsBlock } from './blocks/Columns/ColumnsBlock';\nimport { CookiesBlock } from './blocks/Cookies/CookiesBlock';\nimport { CounterBlock } from './blocks/Counter/CounterBlock';\nimport { CoversBlock } from './blocks/Covers/CoversBlock';\nimport { GalleryBlock } from './blocks/Gallery/GalleryBlock';\nimport { HappypointBlock } from './blocks/Happypoint/HappypointBlock';\nimport { MediaBlock } from './blocks/Media/MediaBlock';\nimport { SocialmediaBlock } from './blocks/Socialmedia/SocialmediaBlock';\nimport { SplittwocolumnsBlock } from './blocks/Splittwocolumns/SplittwocolumnsBlock';\nimport { SubmenuBlock } from './blocks/Submenu/SubmenuBlock';\nimport { TimelineBlock } from './blocks/Timeline/TimelineBlock';\n\nconst articlesBlock = new ArticlesBlock();\nconst columnsBlock = new ColumnsBlock();\nconst cookiesBlock = new CookiesBlock();\nconst counterBlock = new CounterBlock();\nconst coversBlock = new CoversBlock();\nconst galleryBlock = new GalleryBlock();\nconst happypointBlock = new HappypointBlock();\nconst mediaBlock = new MediaBlock();\nconst socialmediaBlock = new SocialmediaBlock();\nconst splittwocolumnsBlock = new SplittwocolumnsBlock();\nconst submenuBlock = new SubmenuBlock();\nconst timelineBlock = new TimelineBlock();\n\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"editor\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"React\"]; }());"],"sourceRoot":""}
>>>>>>> Enforce typography and table styles in the editor
